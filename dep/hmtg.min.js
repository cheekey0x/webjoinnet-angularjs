"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,m,e){var p=null;"undefined"===typeof e&&(e=["web","flash"]);var h=!1,a=null,c;for(c in e){var d=e[c];try{if("flash"===d||"both"===d){if(null===m[0])throw{message:"Flash local storage not available."};p=b.apply(this,m);h="flash"===d}if("web"===d||"both"===d)m[0]=window.localStorage,p=b.apply(this,m),h=!0}catch(g){a=g}if(h)break}if(!h)throw a;return p}function F(b,m){E(b,m,null)}function d(b,m,e){var p=q(b,m);if(null!==p&&e in p){delete p[e];e=!0;for(var h in p){e=!1;break}e&&
(p=null);E(b,m,p)}}function y(b,m,e){b=q(b,m);null!==b&&(b=e in b?b[e]:null);return b}function h(b,m,e,h){var p=q(b,m);null===p&&(p={});p[e]=h;E(b,m,p)}function q(b,m){if(!b)throw{message:"WebStorage not available."};m=b.getItem(m);if(b.hh)if(null===m.lg){if(m.error)throw m.error;m=null}else m=m.lg;null!==m&&(m=JSON.parse(e.Gb(m)));return m}function E(b,m,h){if(!b)throw{message:"WebStorage not available."};null===h?b=b.removeItem(m):(h=e.oc(JSON.stringify(h)),b=b.setItem(m,h));if("undefined"!==typeof b&&
!0!==b.lg)throw b.error;}var e=b.a=b.a||{};"undefined"!==typeof window.V&&window.V.Ze?(e.Ze=window.V.Ze,"function"===typeof setImmediate?e.setImmediate=setImmediate:e.setImmediate=e.Ze):"function"===typeof setImmediate?(e.setImmediate=setImmediate,e.Ze=function(b){return setImmediate(b)}):(e.setImmediate=function(b){setTimeout(b,0)},e.Ze=e.setImmediate);e.isArray=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)};e.Hr=function(b){return"undefined"!==typeof ArrayBuffer&&
b instanceof ArrayBuffer};var D=[];"undefined"!==typeof Int8Array&&D.push(Int8Array);"undefined"!==typeof Uint8Array&&D.push(Uint8Array);"undefined"!==typeof Uint8ClampedArray&&D.push(Uint8ClampedArray);"undefined"!==typeof Int16Array&&D.push(Int16Array);"undefined"!==typeof Uint16Array&&D.push(Uint16Array);"undefined"!==typeof Int32Array&&D.push(Int32Array);"undefined"!==typeof Uint32Array&&D.push(Uint32Array);"undefined"!==typeof Float32Array&&D.push(Float32Array);"undefined"!==typeof Float64Array&&
D.push(Float64Array);e.Ir=function(b){for(var p=0;p<D.length;++p)if(b instanceof D[p])return!0;return!1};e.g=function(b){this.data="";this.read=0;if("string"===typeof b)this.data=b;else if(e.Hr(b)||e.Ir(b)){b=new Uint8Array(b);try{this.data=String.fromCharCode.apply(null,b)}catch(I){for(var p=0;p<b.length;++p)this.m(b[p])}}else b instanceof e.g&&(this.data=b.data,this.read=b.read)};e.g.prototype.length=function(){return this.data.length-this.read};e.g.prototype.Jr=function(){return 0>=this.length()};
e.g.prototype.m=function(b){this.data+=String.fromCharCode(b)};e.g.prototype.$g=function(b,m){b=String.fromCharCode(b);for(var p=this.data;0<m;)m&1&&(p+=b),m>>>=1,0<m&&(b+=b);this.data=p};e.g.prototype.M=function(b){this.data+=b};e.g.prototype.xm=function(b){this.data+=b.split("").reverse().join("")};e.g.prototype.H=function(b){this.f(b.length);this.data+=b};e.g.prototype.gg=function(b){b=e.pb(b);this.f(b.length);this.data+=b};e.g.prototype.dt=function(){this.data+=String.fromCharCode(0)+String.fromCharCode(0)};
e.g.prototype.f=function(b){this.data+=String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};e.g.prototype.Dd=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)};e.g.prototype.Yc=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>24&255)};e.g.prototype.D=function(b){this.data+=b.ya()};e.g.prototype.Jj=function(){return this.data.charCodeAt(this.read++)};
e.g.prototype.getInt32=function(){var b=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return b};e.g.prototype.c=function(b){return this.data.charCodeAt(this.read+b)<<24^this.data.charCodeAt(this.read+b+1)<<16^this.data.charCodeAt(this.read+b+2)<<8^this.data.charCodeAt(this.read+b+3)};e.g.prototype.lc=function(b){return this.data.charCodeAt(this.read+b+3)<<24^this.data.charCodeAt(this.read+
b+2)<<16^this.data.charCodeAt(this.read+b+1)<<8^this.data.charCodeAt(this.read+b)};e.g.prototype.Nd=function(b){return this.data.charCodeAt(this.read+b)<<8^this.data.charCodeAt(this.read+b+1)};e.g.prototype.Cr=function(){var b=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return b};e.g.prototype.ya=function(b){if(b){b=Math.min(this.length(),b);var p=this.data.slice(this.read,this.read+b);
this.read+=b}else 0===b?p="":(p=0===this.read?this.data:this.data.slice(this.read),this.clear());return p};e.g.prototype.u=function(b){return"undefined"===typeof b?this.data.slice(this.read):this.data.slice(this.read,this.read+b)};e.g.prototype.h=function(b,m){return"undefined"===typeof m?this.data.slice(this.read+b):this.data.slice(this.read+b,this.read+b+m)};e.g.prototype.K=function(b){return this.data.charCodeAt(this.read+b)};e.g.prototype.compact=function(){0<this.read&&(this.data=this.data.slice(this.read),
this.read=0);return this};e.g.prototype.shift=function(b){this.read+=b;1024<this.data.length&&(4096<this.read||this.read>this.data.length>>1)&&(this.data=this.data.slice(this.read),this.read=0)};e.g.prototype.clear=function(){this.data="";this.read=0;return this};e.g.prototype.truncate=function(b){b=Math.max(0,this.length()-b);this.data=this.data.substr(this.read,b);this.read=0;return this};e.g.prototype.i=function(){for(var b=new ArrayBuffer(this.data.length-this.read),m=new Uint8Array(b),e=0,h=
this.read;h<this.data.length;++h,++e)m[e]=this.data.charCodeAt(h);return b};e.g.prototype.Nb=function(){for(var b="",m=this.read;m<this.data.length;++m){var e=this.data.charCodeAt(m);16>e&&(b+="0");b+=e.toString(16)}return b};e.g.prototype.toString=function(){return e.Ab(this.u())};e.createBuffer=function(b,m){void 0!==b&&"utf8"===(m||"raw")&&(b=e.pb(b));return new e.g(b)};e.Ej=function(){for(var b=String.fromCharCode(0),m=64,e="";0<m;)m&1&&(e+=b),m>>>=1,0<m&&(b+=b);return e};e.aG=function(b,m,e){for(var p=
"",h,a="",c=0,d=0;0<e;--e,++c)h=b.charCodeAt(c)^m.charCodeAt(c),10<=d&&(p+=a,a="",d=0),a+=String.fromCharCode(h),++d;return p+a};e.Hc=function(b){var p="",e=0;b.length&1&&(e=1,p+=String.fromCharCode(parseInt(b[0],16)));for(;e<b.length;e+=2)p+=String.fromCharCode(parseInt(b.substr(e,2),16));return p};e.Ug=function(b){return e.createBuffer(b).Nb()};e.ZB=function(b){return String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};var v=[62,
-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];e.oc=function(b,m){if(window.btoa)return btoa(b);for(var p="",e="",h,a,c,d=0;d<b.length;)h=b.charCodeAt(d++),a=b.charCodeAt(d++),c=b.charCodeAt(d++),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h>>2),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((h&
3)<<4|a>>4),isNaN(a)?p+="==":(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((a&15)<<2|c>>6),p+=isNaN(c)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c&63)),m&&p.length>m&&(e+=p.substr(0,m)+"\r\n",p=p.substr(m));return e+p};e.Aj=function(b,m){for(var p="",e="",h,a,c,d=0;d<b.length;)h=b.charCodeAt(d++),a=b.charCodeAt(d++),c=b.charCodeAt(d++),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(h>>2),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((h&
3)<<4|a>>4),isNaN(a)?p+="==":(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((a&15)<<2|c>>6),p+=isNaN(c)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(c&63)),m&&p.length>m&&(e+=p.substr(0,m)+"\r\n",p=p.substr(m));return e+p};e.Gb=function(b){if(window.atob)try{return atob(b)}catch(T){try{if(b.length)return atob(b.slice(0,-1))}catch(g){}}b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var p="",e,h,d,a,c=0;c<b.length;)e=v[b.charCodeAt(c++)-43],
h=v[b.charCodeAt(c++)-43],d=v[b.charCodeAt(c++)-43],a=v[b.charCodeAt(c++)-43],p+=String.fromCharCode(e<<2|h>>4),64!==d&&(p+=String.fromCharCode((h&15)<<4|d>>2),64!==a&&(p+=String.fromCharCode((d&3)<<6|a)));return p};e.zj=function(b){return e.Gb(b.replace(/[-|_]/g,function(b){return"-"==b?"+":"/"}))};e.pb=function(b){try{return unescape(encodeURIComponent(b))}catch(m){return b}};e.Ab=function(b){try{return decodeURIComponent(escape(b))}catch(m){return b}};e.pr=function(b){var p;return p=e.Gb(b.pr(e.oc(p)).lg)};
e.Gr=function(b){b=b.Gr(e.oc(void 0)).lg;return null===b?null:e.Gb(b)};e.setItem=function(b,m,e,d,t){H(h,arguments,t)};e.getItem=function(b,m,e,h){return H(y,arguments,h)};e.removeItem=function(b,m,e,h){H(d,arguments,h)};e.OB=function(b,m,e){H(F,arguments,e)};e.Ys=function(b){var m=/\/\/\[.+\]:/.test(b)?/^(https?):\/\/\[(.+)\]:?(\d*)(.*)$/g:/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;m.lastIndex=0;m=m.exec(b);if(b=null===m?null:{xr:b,scheme:m[1],host:m[2],port:m[3],path:m[4]})b.Je=b.host,b.port?80!=
b.port&&"http"===b.scheme?b.Je+=":"+b.port:443!=b.port&&"https"===b.scheme&&(b.Je+=":"+b.port):"http"===b.scheme?b.port=80:"https"===b.scheme&&(b.port=443),b.xr=b.scheme+"://"+b.Je;return b};var B=null;e.Er=function(b){function m(b){var m={};b=b.split("&");for(var e=0;e<b.length;e++){var a=b[e].indexOf("=");if(0<a){var c=b[e].substring(0,a);a=b[e].substring(a+1)}else c=b[e],a=null;c in m||(m[c]=[]);c in Object.prototype||null===a||m[c].push(unescape(a))}return m}"undefined"===typeof b?(null===B&&
("undefined"===typeof window?B={}:B=m(window.location.search.substring(1))),b=B):b=m(b);return b};e.Xs=function(b){var m=b,h="",p=b.indexOf("?");0<p&&(m=b.substring(0,p),h=b.substring(p+1));b=m.split("/");0<b.length&&""===b[0]&&b.shift();p=""===h?{}:e.Er(h);return{$s:m,et:h,path:b,query:p}};e.HF=function(b){var m=e.Xs(b),h={path:m.$s,query:m.et,Dr:function(b){return"undefined"===typeof b?m.path:m.path[b]},Qd:function(b,e){"undefined"===typeof b?b=m.query:(b=m.query[b])&&"undefined"!==typeof e&&(b=
b[e]);return b},XB:function(b,e){return(b=h.Qd(b))?b[b.length-1]:e}};return h};e.GF=function(){};e.XF=function(b,e,h){if("object"===typeof b&&null!==b)for(var m=0,p=e.length;m<p;){var a=e[m++];if(m==p)b[a]=h;else{var c=a in b;if(!c||c&&"object"!==typeof b[a]||c&&null===b[a])b[a]={};b=b[a]}}};e.Dr=function(b,e,h){for(var m=0,d=e.length,a=!0;a&&m<d&&"object"===typeof b&&null!==b;){var c=e[m++];(a=c in b)&&(b=b[c])}return a?b:h};e.RB=function(b,e){if("object"===typeof b&&null!==b)for(var m=0,h=e.length;m<
h;){var d=e[m++];if(m==h)delete b[d];else{if(!(d in b)||"object"!==typeof b[d]||null===b[d])break;b=b[d]}}};e.Jr=function(b){for(var e in b)if(b.hasOwnProperty(e))return!1;return!0};e.format=function(b){var e=/%./g,h,d,p=0,a=[];for(d=0;h=e.exec(b);)switch(d=b.substring(d,e.lastIndex-2),0<d.length&&a.push(d),d=e.lastIndex,h=h[0][1],h){case "s":case "o":p<arguments.length?a.push(arguments[p++ +1]):a.push("<?>");break;case "%":a.push("%");break;default:a.push("<%"+h+"?>")}a.push(b.substring(d));return a.join("")};
e.rf=function(b,e,h,d){var m=isNaN(e=Math.abs(e))?2:e;e=void 0===h?",":h;d=void 0===d?".":d;h=0>b?"-":"";var a=parseInt(b=Math.abs(+b||0).toFixed(m),10)+"",c=3<a.length?a.length%3:0;return h+(c?a.substr(0,c)+d:"")+a.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+d)+(m?e+Math.abs(b-a).toFixed(m).slice(2):"")};e.UB=function(b){return b=1073741824<=b?e.rf(b/1073741824,2,".","")+" GiB":1048576<=b?e.rf(b/1048576,2,".","")+" MiB":1024<=b?e.rf(b/1024,0)+" KiB":e.rf(b,0)+" bytes"};e.cr=function(b){return-1!==b.indexOf(".")?
e.dr(b):-1!==b.indexOf(":")?e.er(b):null};e.dr=function(b){b=b.split(".");if(4!==b.length)return null;for(var h=e.createBuffer(),d=0;d<b.length;++d){var p=parseInt(b[d],10);if(isNaN(p))return null;h.m(p)}return h.ya()};e.er=function(b){var h=0;b=b.split(":").filter(function(a){0===a.length&&++h;return!0});for(var d=2*(8-b.length+h),p=e.createBuffer(),t=0;8>t;++t)if(b[t]&&0!==b[t].length){var a=e.Hc(b[t]);2>a.length&&p.m(0);p.M(a)}else p.$g(0,d),d=0;return p.ya()};e.LB=function(b){return 4===b.length?
e.fr(b):16===b.length?e.gr(b):null};e.fr=function(b){if(4!==b.length)return null;for(var e=[],h=0;h<b.length;++h)e.push(b.charCodeAt(h));return e.join(".")};e.gr=function(b){if(16!==b.length)return null;for(var h=[],d=[],p=0,t=0;t<b.length;t+=2){for(var a=e.Ug(b[t]+b[t+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var c=d[d.length-1],B=h.length;c&&B===c.end+1?(c.end=B,c.end-c.start>d[p].end-d[p].start&&(p=d.length-1)):d.push({start:B,end:B})}h.push(a)}0<d.length&&(b=d[p],0<b.end-b.start&&(h.splice(b.start,
b.end-b.start+1,""),0===b.start&&h.unshift(""),7===b.end&&h.push("")));return h.join(":")};e.TB=function(b,h){function d(b,t,g){if(0===t){var c=Math.floor(b.reduce(function(a,b){return a+b},0)/b.length);e.yj=Math.max(1,c);URL.revokeObjectURL(a);h(null,e.yj)}else m(g,function(a,c){b.push(p(g,c));d(b,t-1,g)})}function m(b,e){for(var c=[],r=[],h=0;h<b;++h){var d=new Worker(a);d.addEventListener("message",function(a){r.push(a.data);if(r.length===b){for(a=0;a<b;++a)c[a].terminate();e(null,r)}});c.push(d)}for(h=
0;h<b;++h)c[h].postMessage(h)}function p(a,b){for(var c=[],r=0;r<a;++r)for(var e=b[r],h=c[r]=[],d=0;d<a;++d)if(r!==d){var m=b[d];(e.te>m.te&&e.te<m.Bj||m.te>e.te&&m.te<e.Bj)&&h.push(d)}return c.reduce(function(a,b){return Math.max(a,b.length)},0)}"function"===typeof b&&(h=b,b={});b=b||{};if("cores"in e&&!b.update)return h(null,e.yj);var a=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(){for(var a=Date.now(),b=a+4;Date.now()<b;);self.postMessage({te:a,Bj:b})})}.toString(),
")()"],{type:"application/javascript"}));d([],5,16)}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(e,p,m,q,A){function t(){if(q)for(var a=0;4>a;++a)O[a]=E.getInt32();else for(a=0;4>a;++a)O[a]=N[a]^E.getInt32();F(v,O,C,q);if(q){for(a=0;4>a;++a)X.f(N[a]^C[a]);N=O.slice(0)}else{for(a=0;4>a;++a)X.f(C[a]);N=C}}function a(){F(v,O,C,!1);for(var a=0;2>a;++a)O[a]=O[2+a],O[2+a]=E.getInt32();for(a=0;2>a;++a){var b=O[2+a]^C[a];q||(O[2+a]=b);X.f(b)}}function c(){F(v,O,C,!1);for(var a=0;4>a;++a)O[a]=E.getInt32();for(a=0;4>a;++a)X.f(O[a]^C[a]),O[a]=C[a]}function D(){F(v,O,C,!1);for(var a=
3;0<=a;--a)if(4294967295===O[a])O[a]=0;else{++O[a];break}for(a=0;4>a;++a)X.f(E.getInt32()^C[a])}var g=null;h||y();A=(A||"CBC").toUpperCase();if("string"===typeof e&&(16===e.length||24===e.length||32===e.length))e=b.a.createBuffer(e);else if(b.a.isArray(e)&&(16===e.length||24===e.length||32===e.length)){var r=e;e=b.a.createBuffer();for(var z=0;z<r.length;++z)e.m(r[z])}if(!b.a.isArray(e)){r=e;e=[];var B=r.length();if(16===B||24===B||32===B)for(B>>>=2,z=0;z<B;++z)e.push(r.getInt32())}if(!b.a.isArray(e)||
4!==e.length&&6!==e.length&&8!==e.length)return g;r=-1!==["CFB","OFB","CTR"].indexOf(A);var G="CBC"===A,v=d(e,q&&!r),I=16,E,X,O,C,N,x;g={fg:null};if("CBC"===A)var n=t;else if("CFB"===A)n=a,I=8;else if("OFB"===A)n=c;else if("CTR"===A)n=D;else throw{message:'Unsupported block cipher mode of operation: "'+A+'"'};g.update=function(a){for(x||E.D(a);E.length()>=I||0<E.length()&&x;)n()};g.finish=function(a){var b=!0,f=E.length()%I;if(!q)if(a)b=a(I,E,q);else if(G){var c=E.length()===I?I:I-E.length();E.$g(c,
c)}b&&(x=!0,g.update());q&&(G&&(b=0===f),b&&(a?b=a(I,X,q):G&&(c=X.length(),c=X.K(c-1),16<c?b=!1:X.truncate(c))));!G&&!a&&0<f&&X.truncate(I-f);return b};g.start=function(a,c){null===a&&(a=N.slice(0));if("string"===typeof a&&16===a.length)a=b.a.createBuffer(a);else if(b.a.isArray(a)&&16===a.length){var f=a;a=b.a.createBuffer();for(var w=0;16>w;++w)a.m(f[w])}b.a.isArray(a)||(f=a,a=Array(4),a[0]=f.getInt32(),a[1]=f.getInt32(),a[2]=f.getInt32(),a[3]=f.getInt32());E=b.a.createBuffer();X=c||b.a.createBuffer();
N=a.slice(0);O=Array(4);C=Array(4);x=!1;g.fg=X;if(-1!==["CFB","OFB","CTR"].indexOf(A)){for(w=0;4>w;++w)O[w]=N[w];N=null}};null!==p&&g.start(p,m);return g}function F(b,e,h,d){var m=b.length/4-1;if(d){var p=v[0];var a=v[1];var c=v[2];var I=v[3];var g=E}else p=D[0],a=D[1],c=D[2],I=D[3],g=q;var r=e[0]^b[0];var z=e[d?3:1]^b[1];var B=e[2]^b[2];e=e[d?1:3]^b[3];for(var G=3,aa=1;aa<m;++aa){var y=p[r>>>24]^a[z>>>16&255]^c[B>>>8&255]^I[e&255]^b[++G];var F=p[z>>>24]^a[B>>>16&255]^c[e>>>8&255]^I[r&255]^b[++G];
var X=p[B>>>24]^a[e>>>16&255]^c[r>>>8&255]^I[z&255]^b[++G];e=p[e>>>24]^a[r>>>16&255]^c[z>>>8&255]^I[B&255]^b[++G];r=y;z=F;B=X}h[0]=g[r>>>24]<<24^g[z>>>16&255]<<16^g[B>>>8&255]<<8^g[e&255]^b[++G];h[d?3:1]=g[z>>>24]<<24^g[B>>>16&255]<<16^g[e>>>8&255]<<8^g[r&255]^b[++G];h[2]=g[B>>>24]<<24^g[e>>>16&255]<<16^g[r>>>8&255]<<8^g[z&255]^b[++G];h[d?1:3]=g[e>>>24]<<24^g[r>>>16&255]<<16^g[z>>>8&255]<<8^g[B&255]^b[++G]}function d(b,h){b=b.slice(0);for(var d,p=1,A=b.length,t=4*(A+6+1),a=A;a<t;++a)d=b[a-1],0===
a%A?(d=q[d>>>16&255]<<24^q[d>>>8&255]<<16^q[d&255]<<8^q[d>>>24]^e[p]<<24,p++):6<A&&4===a%A&&(d=q[d>>>24]<<24^q[d>>>16&255]<<16^q[d>>>8&255]<<8^q[d&255]),b[a]=b[a-A]^d;if(h){d=v[0];p=v[1];A=v[2];var c=v[3],D=b.slice(0);t=b.length;a=0;for(var g=t-4;a<t;a+=4,g-=4)if(0===a||a===t-4)D[a]=b[g],D[a+1]=b[g+3],D[a+2]=b[g+2],D[a+3]=b[g+1];else for(var r=0;4>r;++r)h=b[g+r],D[a+(3&-r)]=d[q[h>>>24]]^p[q[h>>>16&255]]^A[q[h>>>8&255]]^c[q[h&255]];b=D}return b}function y(){h=!0;e=[0,1,2,4,8,16,32,64,128,27,54];for(var b=
Array(256),d=0;128>d;++d)b[d]=d<<1,b[d+128]=d+128<<1^283;q=Array(256);E=Array(256);D=Array(4);v=Array(4);for(d=0;4>d;++d)D[d]=Array(256),v[d]=Array(256);var m=0,I=0;for(d=0;256>d;++d){var A=I^I<<1^I<<2^I<<3^I<<4;A=A>>8^A&255^99;q[m]=A;E[A]=m;var t=b[A];var a=b[m];var c=b[a];var y=b[c];t=t<<24^A<<16^A<<8^A^t;c=(a^c^y)<<24^(m^y)<<16^(m^c^y)<<8^m^a^y;for(var g=0;4>g;++g)D[g][m]=t,v[g][A]=c,t=t<<24|t>>>8,c=c<<24|c>>>8;0===m?m=I=1:(m=a^b[b[b[a^y]]],I^=b[b[I]])}}var h=!1,q,E,e,D,v;b.Za=b.Za||{};b.Za.ve=
function(b,e,d,h){return H(b,e,d,!1,h)};b.Za.mr=function(b,e){return H(b,null,null,!1,e)};b.Za.ue=function(b,e,d,h){return H(b,e,d,!0,h)};b.Za.lr=function(b,e){return H(b,null,null,!0,e)};b.Za.Qq=function(b){h||y();return d(b,!1)};b.Za.Xq=F})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(B,p){"string"!==typeof B||8!==B.length&&24!==B.length||(B=b.a.createBuffer(B));var m=F(B),I=1,A=0,t=0,a=!1,c=null,T=null,g=32===m.length?3:9;var r=3===g?[0,32,2]:[0,32,2,62,30,-2,64,96,2];var z=null;return z={start:function(g,e){g?("string"===typeof g&&8===g.length&&(g=b.a.createBuffer(g)),I=1,A=g.getInt32(),t=g.getInt32()):I=0;a=!1;c=b.a.createBuffer();T=e||b.a.createBuffer();z.fg=T},update:function(b){for(a||c.D(b);8<=c.length()||0<c.length()&&a;){var z=A,B=t;b=(z>>>4^B)&
252645135;B^=b;z^=b<<4;b=(z>>>16^B)&65535;B^=b;z^=b<<16;b=(B>>>2^z)&858993459;z^=b;B^=b<<2;b=(B>>>8^z)&16711935;z^=b;B^=b<<8;b=(z>>>1^B)&1431655765;B^=b;z^=b<<1;z=z<<1|z>>>31;B=B<<1|B>>>31;for(var Z=0;Z<g;Z+=3){for(var F=r[Z+1],X=r[Z+2],O=r[Z];O!=F;O+=X){var C=B^m[O],N=(B>>>4|B<<28)^m[O+1];b=z;z=B;B=b^(y[C>>>24&63]|q[C>>>16&63]|e[C>>>8&63]|v[C&63]|d[N>>>24&63]|h[N>>>16&63]|E[N>>>8&63]|D[N&63])}b=z;z=B;B=b}z=z>>>1|z<<31;B=B>>>1|B<<31;b=(z>>>1^B)&1431655765;B^=b;z^=b<<1;b=(B>>>8^z)&16711935;z^=b;B^=
b<<8;b=(B>>>2^z)&858993459;z^=b;B^=b<<2;b=(z>>>16^B)&65535;B^=b;z^=b<<16;b=(z>>>4^B)&252645135;B^=b;z^=b<<4;1===I&&(A=c.getInt32(),t=c.getInt32(),z^=A,B^=t,p&&(A=z,t=B));T.f(z);T.f(B)}},finish:function(){var b=c.length()%8;b||(b=8);a=!0;z.update();T.truncate(8-b);return!0}}}function F(b){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],d=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,
67109121,68157696,68157697],h=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],A=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],t=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,
524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],q=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],g=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],r=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],z=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,
1056800,1056768,1056800],D=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],G=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],B=8<b.length()?3:1,y=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],O=0,C,N=0;N<B;N++){var x=b.getInt32(),n=b.getInt32();C=(x>>>4^n)&252645135;n^=C;x^=C<<4;C=(n>>>-16^x)&65535;
x^=C;n^=C<<-16;C=(x>>>2^n)&858993459;n^=C;x^=C<<2;C=(n>>>-16^x)&65535;x^=C;n^=C<<-16;C=(x>>>1^n)&1431655765;n^=C;x^=C<<1;C=(n>>>8^x)&16711935;x^=C;n^=C<<8;C=(x>>>1^n)&1431655765;n^=C;x^=C<<1;C=x<<8|n>>>20&240;x=n<<24|n<<8&16711680|n>>>8&65280|n>>>24&240;n=C;for(var f=0;f<E.length;f++){E[f]?(x=x<<2|x>>>26,n=n<<2|n>>>26):(x=x<<1|x>>>27,n=n<<1|n>>>27);x&=-15;n&=-15;var w=e[x>>>28]|d[x>>>24&15]|h[x>>>20&15]|A[x>>>16&15]|t[x>>>12&15]|a[x>>>8&15]|c[x>>>4&15],Q=q[n>>>28]|g[n>>>24&15]|r[n>>>20&15]|z[n>>>
16&15]|D[n>>>12&15]|G[n>>>8&15]|v[n>>>4&15];C=(Q>>>16^w)&65535;y[O++]=w^C;y[O++]=Q^C<<16}}return y}var d=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,
16778240,16778240,0,65540,66560,0,16842756],y=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,
-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],h=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,
134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],q=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],E=[256,
34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,
524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],e=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,
541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],D=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,
0,2099202,69206016,2048,67108866,67110912,2048,2097154],v=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,
266240,4160,4160,262208,268435456,268701696];b.mc=b.mc||{};b.mc.ve=function(b,e,d){b=H(b,!0);b.start(e,d);return b};b.mc.mr=function(b){return H(b,!0)};b.mc.ue=function(b,e,d){b=H(b,!1);b.start(e,d);return b};b.mc.lr=function(b){return H(b,!1)}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,d,y){for(var e,h,v,q,p,m,I,A,t=y.length();64<=t;){h=b.qb;v=b.rb;q=b.sb;p=b.tb;m=b.Rd;for(A=0;16>A;++A)e=y.getInt32(),d[A]=e,I=p^v&(q^p),e=(h<<5|h>>>27)+I+m+1518500249+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;for(;20>A;++A)e=d[A-3]^d[A-8]^d[A-14]^d[A-16],e=e<<1|e>>>31,d[A]=e,I=p^v&(q^p),e=(h<<5|h>>>27)+I+m+1518500249+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;for(;32>A;++A)e=d[A-3]^d[A-8]^d[A-14]^d[A-16],e=e<<1|e>>>31,d[A]=e,I=v^q^p,e=(h<<5|h>>>27)+I+m+1859775393+e,m=p,p=q,q=v<<30|v>>>2,v=h,
h=e;for(;40>A;++A)e=d[A-6]^d[A-16]^d[A-28]^d[A-32],e=e<<2|e>>>30,d[A]=e,I=v^q^p,e=(h<<5|h>>>27)+I+m+1859775393+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;for(;60>A;++A)e=d[A-6]^d[A-16]^d[A-28]^d[A-32],e=e<<2|e>>>30,d[A]=e,I=v&q|p&(v^q),e=(h<<5|h>>>27)+I+m+2400959708+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;for(;80>A;++A)e=d[A-6]^d[A-16]^d[A-28]^d[A-32],e=e<<2|e>>>30,d[A]=e,I=v^q^p,e=(h<<5|h>>>27)+I+m+3395469782+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;b.qb+=h;b.rb+=v;b.sb+=q;b.tb+=p;b.Rd+=m;t-=64}}var F=b.Gd=b.Gd||{};b.eb=b.eb||
{};b.eb.Ge=b.eb.Ge||{};b.eb.Gd=b.eb.Ge.sha1=F;var d=null,y=!1;F.create=function(){y||(d=String.fromCharCode(128),d+=b.a.Ej(),y=!0);var h=null,q=b.a.createBuffer(),E=Array(80),e={algorithm:"sha1",br:64,qr:20,yb:0,start:function(){e.yb=0;q=b.a.createBuffer();h={qb:1732584193,rb:4023233417,sb:2562383102,tb:271733878,Rd:3285377520};return e}};e.start();e.update=function(d,v){"utf8"===v&&(d=b.a.pb(d));e.yb+=d.length;q.M(d);H(h,E,q);(2048<q.read||0===q.length())&&q.compact();return e};e.digest=function(){var D=
e.yb,v=b.a.createBuffer();v.M(q.u());v.M(d.substr(0,64-(D+8)%64));v.f(D>>>29&255);v.f(D<<3&4294967295);D={qb:h.qb,rb:h.rb,sb:h.sb,tb:h.tb,Rd:h.Rd};H(D,E,v);v=b.a.createBuffer();v.f(D.qb);v.f(D.rb);v.f(D.sb);v.f(D.tb);v.f(D.Rd);return v};return e}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,e,d){for(var p,m,v,A,t,a,c,D=d.length();64<=D;){m=b.qb;v=b.rb;A=b.sb;t=b.tb;for(c=0;16>c;++c)e[c]=d.Cr(),p=t^v&(A^t),p=m+p+E[c]+e[c],a=q[c],m=t,t=A,A=v,v+=p<<a|p>>>32-a;for(;32>c;++c)p=A^t&(v^A),p=m+p+E[c]+e[h[c]],a=q[c],m=t,t=A,A=v,v+=p<<a|p>>>32-a;for(;48>c;++c)p=v^A^t,p=m+p+E[c]+e[h[c]],a=q[c],m=t,t=A,A=v,v+=p<<a|p>>>32-a;for(;64>c;++c)p=A^(v|~t),p=m+p+E[c]+e[h[c]],a=q[c],m=t,t=A,A=v,v+=p<<a|p>>>32-a;b.qb=b.qb+m&4294967295;b.rb=b.rb+v&4294967295;b.sb=b.sb+A&4294967295;
b.tb=b.tb+t&4294967295;D-=64}}function F(){y=String.fromCharCode(128);y+=b.a.Ej();h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];q=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];E=Array(64);for(var d=0;64>d;++d)E[d]=Math.floor(4294967296*Math.abs(Math.sin(d+1)));e=
!0}var d=b.Oh=b.Oh||{};b.eb=b.eb||{};b.eb.Ge=b.eb.Ge||{};b.eb.Oh=b.eb.Ge.md5=d;var y=null,h=null,q=null,E=null,e=!1;d.create=function(){e||F();var d=null,h=b.a.createBuffer(),q=Array(16),p={algorithm:"md5",br:64,qr:16,yb:0,start:function(){p.yb=0;h=b.a.createBuffer();d={qb:1732584193,rb:4023233417,sb:2562383102,tb:271733878};return p}};p.start();p.update=function(e,v){"utf8"===v&&(e=b.a.pb(e));p.yb+=e.length;h.M(e);H(d,q,h);(2048<h.read||0===h.length())&&h.compact();return p};p.digest=function(){var e=
p.yb,v=b.a.createBuffer();v.M(h.u());v.M(y.substr(0,64-(e+8)%64));v.Yc(e<<3&4294967295);v.Yc(e>>>29&255);e={qb:d.qb,rb:d.rb,sb:d.sb,tb:d.tb};H(e,q,v);v=b.a.createBuffer();v.Yc(e.qb);v.Yc(e.rb);v.Yc(e.sb);v.Yc(e.tb);return v};return p}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){(b.vc=b.vc||{}).create=function(H){function F(b){if(32<=h.uc[0].yb)return d(),b();h.Wh(32-h.uc[0].yb<<5,function(e,q){if(e)return b(e);h.nf(q);d();b()})}function d(){var e=b.eb.Gd.create();e.update(h.uc[0].digest().ya());h.uc[0].start();for(var d=1,q=1;32>q;++q)d=31===d?2147483648:d<<2,0===d%h.Am&&(e.update(h.uc[q].digest().ya()),h.uc[q].start());d=e.digest().ya();e.start();e.update(d);e=e.digest().ya();h.key=h.fc.ah(d);h.xc=h.fc.bh(e);++h.Am;h.rd=0;h.time=+new Date}function y(e){var d=
null;if("undefined"!==typeof window){var h=window.crypto||window.msCrypto;h&&h.getRandomValues&&(d=function(b){return h.getRandomValues(b)})}var q=b.a.createBuffer();if(d)for(;q.length()<e;){var p=Math.max(1,Math.min(e-q.length(),65536)/4),m=new Uint32Array(Math.floor(p));try{for(d(m),p=0;p<m.length;++p)q.f(m[p])}catch(I){}}if(q.length()<e)for(d=Math.floor(65536*Math.random());q.length()<e;)for(p=16807*(d&65535),d=16807*(d>>16),p+=(d&32767)<<16,p+=d>>15,p=(p&2147483647)+(p>>31),d=p&4294967295,p=0;3>
p;++p)m=d>>>(p<<3),m^=Math.floor(256*Math.random()),q.m(String.fromCharCode(m&255));return q.ya(e)}var h={fc:H,key:null,xc:null,time:null,Am:0,rd:0};H=H.eb;for(var q=Array(32),E=0;32>E;++E)q[E]=H.create();h.uc=q;h.ig=0;h.Ij=function(d,q){function e(t){if(t)return q(t);if(A.length()>=d)return q(null,A.ya(d));1048576<=h.rd&&(t=+new Date,null===h.time||100<t-h.time)&&(h.key=null);if(null===h.key)return F(e);t=B(h.key,h.xc);h.rd+=t.length;A.M(t);h.key=m(B(h.key,p(h.xc)));h.xc=I(B(h.key,h.xc));b.a.setImmediate(e)}
if(!q)return h.Br(d);var B=h.fc.B,p=h.fc.Oj,m=h.fc.ah,I=h.fc.bh,A=b.a.createBuffer();e()};h.Br=function(e){for(var q=h.fc.B,v=h.fc.Oj,B=h.fc.ah,p=h.fc.bh,m=b.a.createBuffer();m.length()<e;){if(1048576<=h.rd){var I=+new Date;if(null===h.time||100<I-h.time)h.key=null}null===h.key&&(32<=h.uc[0].yb||h.nf(h.it(32-h.uc[0].yb<<5)),d());I=q(h.key,h.xc);h.rd+=I.length;m.M(I);h.key=B(q(h.key,v(h.xc)));h.xc=p(q(h.key,h.xc))}return m.ya(e)};h.Wh=function(b,d){try{d(null,y(b))}catch(v){d(v)}};h.it=y;h.nf=function(b){for(var d=
b.length,e=0;e<d;++e)h.uc[h.ig].update(b.substr(e,1)),h.ig=31===h.ig?0:h.ig+1};h.pf=function(b,d){for(var e="",q=0;q<d;q+=8)e+=String.fromCharCode(b>>q&255);h.nf(e)};h.RF=function(b){b===self?h.Wh=function(b,d){function e(b){b=b.data;b.W&&b.W.vc&&(self.removeEventListener("message",e),d(b.W.vc.ur,b.W.vc.u))}self.addEventListener("message",e);self.postMessage({W:{vc:{Ws:b}}})}:b.addEventListener("message",function(d){d=d.data;d.W&&d.W.vc&&h.Wh(d.W.vc.Ws,function(d,e){b.postMessage({W:{vc:{ur:d,u:e}}})})})};
return h}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){b.random&&b.random.ya||function(H){var F={},d=Array(4),y=b.a.createBuffer();F.ah=function(d){var e=b.a.createBuffer(d);d=Array(4);d[0]=e.getInt32();d[1]=e.getInt32();d[2]=e.getInt32();d[3]=e.getInt32();return b.Za.Qq(d)};F.bh=function(d){var e=b.a.createBuffer(d);d=Array(4);d[0]=e.getInt32();d[1]=e.getInt32();d[2]=e.getInt32();d[3]=e.getInt32();return d};F.B=function(e,h){b.Za.Xq(e,h,d,!1);y.f(d[0]);y.f(d[1]);y.f(d[2]);y.f(d[3]);return y.ya()};F.Oj=function(b){++b[3];return b};F.eb=b.eb.Gd;
var h=b.vc.create(F);F=null;if("undefined"!==typeof window){var q=window.crypto||window.msCrypto;q&&q.getRandomValues&&(F=function(b){return q.getRandomValues(b)})}if(b.SB||!F){h.pf(+new Date,32);if("undefined"!==typeof navigator){F="";for(var E in navigator)try{"string"==typeof navigator[E]&&(F+=navigator[E])}catch(e){}h.nf(F);F=null}H&&(H().mousemove(function(b){h.pf(b.clientX,16);h.pf(b.clientY,16)}),H().keypress(function(b){h.pf(b.charCode,8)}))}if(b.random)for(E in h)b.random[E]=h[E];else b.random=
h;b.random.ya=function(d,h){return b.random.Ij(d,h)};b.random.VB=function(d){return b.random.Ij(d)}}(null)})(window.W);"undefined"===typeof window.hmtg&&(window.hmtg={});var oa=window.hmtg,k=oa.b=oa.b||{};oa.config=oa.b;k.APP_VERSION=k.ei="";k.NORMAL=k.R=0;k.PLAYBACK=k.Fa=1;k.PLAYER=k.uz=2;k.DOWNLOAD=k.Wo=3;k.UPLOAD=k.Cq=4;k.MTU_SIZE=k.Dc=500;k.TS_SIZE=k.gc=21;k.UTF8_CODEPAGE=k.lA=65001;k.RECORDING_STATUS_NORECORDING=k.Qz=0;k.RECORDING_STATUS_RESUMED=k.Sz=1;k.RECORDING_STATUS_PAUSED=k.Rz=2;k.PARTICIPANT_VIDEO_ERROR_OK=k.nq=0;k.PARTICIPANT_VIDEO_ERROR_FULL=k.fz=1;k.PARTICIPANT_VIDEO_ERROR_NOTSUPPORTED=k.iz=2;
k.PARTICIPANT_VIDEO_ERROR_NOTONLINE=k.hz=3;k.PARTICIPANT_VIDEO_ERROR_NOCAP=k.gz=4;k.PARTICIPANT_AUDIO_ERROR_FULL=k.$y=5;k.PARTICIPANT_AUDIO_ERROR_NOTSUPPORTED=k.az=6;k.MAX_USER=k.Ha=5E3;k.MAX_USERID=k.ly=128;k.MAX_PASSWORD=k.dj=28;k.MAX_USERNAME=k.Ya=128;k.MAX_EMAIL=k.Dp=128;k.MAX_USERAUTH=k.Ip=1E4;k.MAX_SESSIONID=k.iy=20;k.MAX_SESSIONID_PL=k.jy=500;k.MAX_MEMBERID=k.dy=20;k.MAX_REGION=k.hy=128;k.MAX_URL=k.gj=4096;k.MAX_SLIDENAME=k.fj=600;k.MAX_XML_DATA=k.my=9E3;
k.MAX_THIRDPARTY_MEETINGTITLE=k.Ng=512;k.MAX_THIRDPARTY_MEETINGID=k.Hp=128;k.DEFAULT_MAX_BANDWIDTH=k.tw=24E3;k.BANDWIDTH_FOR_AUDIO=k.yt=1E4;k.MAX_BANDWIDTH=k.cj=5E6;k.MIN_BANDWIDTH_FOR_VIDEO=k.Jp=1E4;k.JN_ERROR_BASE=k.lf=2E4;k.JN_GC_ERROR_BASE=k.Cx=25E3;k.JN_PROXY_ERROR_BASE=k.Lx=3E4;k.JN_SLIDE_ERROR_BASE=k.Vx=35E3;var U=k.JN_CODE_BASE=k.rx=5E4;k.JN_PRINTER_DRIVER_BASE=k.Kx=7E4;k.JN_MCU_RELAY_BASE=k.$i=71E3;k.JN_OK=k.Jx=0;k.JN_UNKNOWN_ERROR=k.Jg=U+0;k.JN_RESOLVE_PROXY=k.Tx=U+1;
k.JN_CONNECTING_GC=k.sx=U+2;k.JN_BLANK=k.qx=U+3;k.JN_CONNECT_GC_UNKNOWN_ERROR=k.ux=U+4;k.JN_FAIL_CONNECT_GC=k.yx=U+5;k.JN_CONNECT_GC_BROKEN=k.tx=U+6;k.JN_CONNECTING_MCU=k.lp=U+7;k.JN_FAIL_CONNECT_MCU=k.Jd=U+8;k.JN_NO_SCHEDULE=k.Ix=U+9;k.JN_WRONG_IP_PASSWD=k.ay=U+10;k.JN_WRONG_AUTH_PASSWD=k.$x=U+11;k.JN_MEETING_NOT_EXIST2=k.tp=U+12;k.JN_TOOMANY_USER_2=k.Xx=U+13;k.JN_CONNECTION_ESTABLISHED=k.mp=U+14;k.JN_QUESTION_CANCEL_DUE_TRANSFER=k.Ox=U+15;k.JN_YOU_HAVENOT_TOKEN=k.by=U+16;k.JN_NEW_USER=k.Gx=U+17;
k.JN_USER_LEAVE=k.Yx=U+18;k.JN_QUESTION_FINISH=k.Px=U+19;k.JN_USER_QUESTION_START=k.Zx=U+20;k.JN_QUESTION_ACCEPTED=k.Mx=U+21;k.JN_QUESTION_IN_QUEUE=k.Qx=U+22;k.JN_QUESTION_SKIPPED=k.Rx=U+23;k.JN_DISCONNECT_BY_OWNER=k.pp=U+24;k.JN_MEETING_OVER=k.up=U+25;k.JN_QUESTION_CANCELED=k.Nx=U+26;k.JN_USER_OVERWRITE=k.yp=U+27;k.JN_YOU_HAVE_TOKEN=k.cy=U+28;k.JN_FILE_READ_ERROR=k.Bx=U+29;k.JN_FILE_PAGE_ERROR=k.Ax=U+30;k.JN_NO_MCU=k.Hx=U+31;k.JN_CONNECT_PROXY_NO_CONNECT_MCU=k.vx=U+32;
k.JN_MCU_TALK_MISMATCH=k.Fx=U+33;k.JN_TESTING_AV=k.Wx=U+34;k.JN_FAIL_UDP=k.zx=U+35;k.JN_CORRUPT_SERVER_PARAMETER=k.wx=U+36;k.JN_DELETE_FILE_OK=k.op=U+37;k.JN_DELETE_FILE_FAIL=k.np=U+38;k.JN_JNJ_FILE_READ_ERROR=k.Dx=U+39;k.JN_JNJ_UNKNOWN_CODE_TYPE=k.Ex=U+40;k.JN_JNR_FILE_ERROR=k.sp=U+41;k.JN_MEETING_TERMINATED=k.vp=U+42;k.JN_PREPARATION_MODE=k.wp=U+43;k.JN_PREPARATION_SWITCH_TO_NORMAL=k.xp=U+44;k.JN_SHARE_DESKTOP_FAIL=k.Ux=U+45;k.JN_REQUEST_DESKTOP_FAIL=k.Sx=U+46;
k.JN_DESKTOP_CONFLICT_MCURELAY=k.xx=U+47;k.JN_EARLY_DISCONNECTION_1=k.qp=U+48;k.JN_EARLY_DISCONNECTION_2=k.rp=U+49;k.ERROR_WRONG_USERID=k.hp=255;k.ERROR_WRONG_PASSWD=k.Ti=254;k.ERROR_ALREADY_LOGGED=k.Iw=253;k.ERROR_VERSION=k.kx=252;k.ERROR_PARAMETER=k.Xw=251;k.ERROR_SESSIONID=k.fx=250;k.ERROR_MEETING_NOT_EXIST=k.Xo=249;k.ERROR_INTERNAL=k.Qw=248;k.ERROR_FILE_ERROR=k.Nw=247;k.ERROR_TOOMANY_PLAYBACK=k.hx=246;k.ERROR_ILLEGAL_FILE=k.Ow=245;k.ERROR_FILE_WRONG_VERSION=k.Si=244;
k.ERROR_WRONG_PASSWD2=k.lx=243;k.ERROR_TOOMANY_DOWNLOAD=k.gx=242;k.ERROR_TOOMANY_USER=k.ix=241;k.ERROR_CALL_REJECTED=k.Kw=240;k.ERROR_CALL_NOT_ACCEPTED=k.Jw=239;k.ERROR_JOINNETMODE=k.Sw=238;k.ERROR_USER_NOT_CONTINUE=k.gp=237;k.ERROR_SESSION_CLOSED=k.fp=236;k.ERROR_TOO_MANY_SESSION=k.jx=235;k.ERROR_CAN_NOT_RECORD=k.Lw=234;k.ERROR_MESSAGE_NOT_EXIST=k.Uw=233;k.ERROR_LINE_BUSY=k.Tw=232;k.ERROR_FILE_NEED_HIGHER_VERSION=k.Ri=231;k.ERROR_EXCEED_DISK_QUOTA=k.Mw=230;k.ERROR_WRONG_USERINFO2=k.mx=229;
k.ERROR_OWNER_IN_PREPARATION_MODE=k.Ww=228;k.ERROR_PREPARATION_MODE_TOO_LATE=k.ex=227;k.ERROR_ILLEGAL_REQUEST=k.Pw=226;k.ERROR_OUT_OF_MEMORY=k.Vw=225;k.ERROR_INVALID_LICENSE=k.Rw=224;k.ERROR_REQUEST_REJECTED=k.ep=223;k.MRP_ERROR_CONTINUE=k.Cc=1;k["MRP_ERROR_QUITPROGRAM\t"]=k.Ly=2;k.MRP_ERROR_NOTALLOWED=k.Iy=3;k.MRP_ERROR_BUSY=k.Fy=4;k.MRP_ERROR_NOTSUPPORTED=k.Jy=5;k.MRP_ERROR_CONNECTFAIL=k.Gy=6;k.MRP_ERROR_NOSESSIONGROUP=k.Hy=7;k.MRP_ERROR_SLIDENOTREADY=k.Kp=8;k.MRP_ERROR_ONLY_PRIMARY_PORT=k.Ky=9;
k.CONNECTION_STATUS_INIT=k.Li=1;k.CONNECTION_STATUS_RESOLVING=k.pw=2;k.CONNECTION_STATUS_CONNECTTING=k.Ii=3;k.CONNECTION_STATUS_SIGN_IN=k.Mi=4;k.CONNECTION_STATUS_CONNECTED=k.pa=5;k.CONNECTION_STATUS_PARSE_HOMEPAGE=k.ow=6;k.CONNECTION_STATUS_DOWNLOAD_JNJ=k.wo=7;k.CONNECTION_STATUS_E_UNKNOWN_ERROR=k.Lo=1E4;k.CONNECTION_STATUS_E_RESOLVING=k.nw=10001;k.CONNECTION_STATUS_E_FAIL_CONNECT=k.Bo=10002;k.CONNECTION_STATUS_E_BROKEN_CONNECT=k.Ji=10003;k.CONNECTION_STATUS_E_INVALID_S_STRING=k.bw=10004;
k.CONNECTION_STATUS_E_NOT_SUPPORTED=k.dw=10005;k.CONNECTION_STATUS_E_WRONG_USERID_LEN=k.Bc=10006;k.CONNECTION_STATUS_E_WRONG_USERNAME_LEN=k.fb=10007;k.CONNECTION_STATUS_E_WRONG_JNJ_LEN=k.bd=10008;k.CONNECTION_STATUS_E_ERROR_PARAMETER=k.kf=10009;k.CONNECTION_STATUS_E_BUSY=k.zo=10010;k.CONNECTION_STATUS_E_INVALID_USERID=k.Do=10011;k.CONNECTION_STATUS_E_INVALID_PASSWORD=k.Co=10012;k.CONNECTION_STATUS_E_MEMORY_ALLOCATION=k.Eo=10013;k.CONNECTION_STATUS_E_ALREADY_LOGGED=k.xo=10014;
k.CONNECTION_STATUS_E_OVERWRITTEN=k.Ko=10015;k.CONNECTION_STATUS_E_USERID_REMOVED=k.Mo=10016;k.CONNECTION_STATUS_E_UNKNOWN_COMMAND=k.Ki=10017;k.CONNECTION_STATUS_E_WRONG_EMAIL_LEN=k.Oo=10018;k.CONNECTION_STATUS_E_PARSE_HOMEPAGE=k.ew=10019;k.CONNECTION_STATUS_E_DOWNLOAD_JNJ=k.Ao=10020;k.CONNECTION_STATUS_E_PARSE_IP_PORT=k.fw=10021;k.CONNECTION_STATUS_E_BREAK_MAIN_LOOP=k.yo=10022;k.CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=k.Dg=10023;k.CONNECTION_STATUS_E_MULTIPLE_SIGNIN=k.cw=10024;
k.CONNECTION_STATUS_PREPARE_RECONNECT=k.Qo=10025;k.CONNECTION_STATUS_E_PROXY_CONNECT_FAIL=k.hw=10026;k.CONNECTION_STATUS_E_PROXY_CONNECT_BROKEN=k.gw=10027;k.CONNECTION_STATUS_E_PROXY_NO_AUTH=k.kw=10028;k.CONNECTION_STATUS_E_PROXY_NO_CONNECT=k.lw=10029;k.CONNECTION_STATUS_E_PROXY_NOT_SOCKS5=k.jw=10030;k.CONNECTION_STATUS_E_PROXY_HTTPS_FAIL=k.iw=10031;k.CONNECTION_STATUS_E_PROXY_RESOLVE=k.mw=10032;k.CONNECTION_STATUS_E_MMC_FAILURE=k.Fo=10033;k.CONNECTION_STATUS_E_NOT_SUPPORTED2=k.Go=10034;
k.CONNECTION_STATUS_E_NO_MESSENGER=k.Jo=10035;k.CONNECTION_STATUS_E_NO_LICENSE=k.Ho=10036;k.CONNECTION_STATUS_E_NO_MCU=k.Io=10037;k.CONNECTION_STATUS_E_WRONG_URL_LEN=k.Po=10038;k.CONNECTION_STATUS_E_WRONG_SHORT_MESSAGE_LEN=k.Ae=10039;k.CONNECTION_STATUS_E_SIGNOUT=k.ze=10040;k.CONNECTION_STATUS_E_WRONG_CLIENT_INFO_LEN=k.No=10041;k.ONLINE_STATUS_ONLINE=k.Kd=1;k.ONLINE_STATUS_BUSY=k.gq=2;k.ONLINE_STATUS_RIGHTBACK=k.hq=3;k.ONLINE_STATUS_AWAY=k.kj=4;k.ONLINE_STATUS_APPEAROFF=k.Pb=5;
k.ONLINE_STATUS_MOBILE=k.Yy=6;k.ONLINE_STATUS_WEB=k.Zy=7;k.ONLINE_STATUS_UNKNOWN=k.iq=999;k.MSGR_ERROR_UNKNOWN_ERROR=k.iq=1;k.MSGR_ERROR_CAN_NOT_PARSE=k.Qy=2;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE1=k.Ny=3;k.MSGR_ERROR_CAN_NOT_DOWNLOAD_JNJ=k.Qp=4;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE2=k.Oy=5;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE3=k.Op=6;k.MSGR_ERROR_NO_MCU_SERVER=k.bq=7;k.MSGR_ERROR_CAN_NOT_MULTIPLE_CONNECT=k.Py=8;k.MSGR_ERROR_CAN_NOT_CONNECT_MCU=k.Pp=9;k.MSGR_ERROR_CONNECTION_BROKEN=k.hj=10;
k.MSGR_ERROR_BAD_SERVER_VERSION_STRING=k.My=11;k.MSGR_ERROR_SERVER_NOT_SUPPORT_MSGR=k.Ry=12;k.MSGR_ERROR_INVALID_USERID_LEN=k.Ce=13;k.MSGR_ERROR_INVALID_USERNAME_LEN=k.Ea=14;k.MSGR_ERROR_INVALID_JNJ_LEN=k.ed=15;k.MSGR_ERROR_INVALID_HOMEPAGE_LEN=k.ij=16;k.MSGR_ERROR_INVALID_PARAMETER=k.Vp=17;k.MSGR_ERROR_ALL_LINE_BUSY=k.Mp=18;k.MSGR_ERROR_INVALID_USERID=k.Yp=19;k.MSGR_ERROR_INVALID_PASSWORD=k.Wp=21;k.MSGR_ERROR_MEMORY_ALLOCATION=k.Zp=22;k.MSGR_ERROR_ALREADY_SIGNIN=k.Np=23;
k.MSGR_ERROR_MSGR_VERSION_NOT_SUPPORTED=k.aq=24;k.MSGR_ERROR_MSGR_BAD_CONFIGURATION=k.$p=25;k.MSGR_ERROR_NO_MSGR_LICENSE=k.cq=26;k.MSGR_ERROR_OVERWRITTEN=k.eq=27;k.MSGR_ERROR_REMOVED=k.fq=28;k.MSGR_ERROR_INVALID_EMAIL_LEN=k.Sp=29;k.MSGR_ERROR_INVALID_MMCERROR_LEN=k.Up=30;k.MSGR_ERROR_INVALID_INTERNALID_LEN=k.Tp=31;k.MSGR_INVITE_FAILED=k.Ty=32;k.MSGR_ERROR_INVALID_URL_LEN=k.Xp=33;k.MSGR_ERROR_INVALID_SHORT_MESSAGE_LEN=k.Be=34;k.MSGR_CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=k.Lp=35;
k.MSGR_ERROR_INVALID_CLIENT_INFO_LEN=k.Rp=36;k.MSGR_ERROR_UNKNOWN_COMMAND=k.jj=37;k.MSGR_ERROR_UNKNOWN_COMMAND=k.jj=37;k.WEBOFFICE_EX_ERROR_SUCCESS=k.CA=0;k.WEBOFFICE_EX_ERROR_INVALID_LICENSE=k.sA=1;k.WEBOFFICE_EX_ERROR_GENERAL_FAILURE=k.pA=2;k.WEBOFFICE_EX_ERROR_OPEN_FILE=k.AA=3;k.WEBOFFICE_EX_ERROR_INVALID_JNR=k.rA=4;k.WEBOFFICE_EX_ERROR_NOT_ALLOW_EDIT=k.zA=5;k.WEBOFFICE_EX_ERROR_FILE_ACCESS=k.Oq=6;k.WEBOFFICE_EX_ERROR_INVALID_PASSWORD=k.tA=7;k.WEBOFFICE_EX_ERROR_SERVER_SHUTDOWN=k.BA=8;
k.WEBOFFICE_EX_ERROR_WRITE_ERROR=k.FA=9;k.WEBOFFICE_EX_ERROR_TOO_LARGE_DATA=k.DA=10;k.WEBOFFICE_EX_ERROR_MEMORY=k.wA=11;k.WEBOFFICE_EX_ERROR_NETWORK_ERROR=k.yA=12;k.WEBOFFICE_EX_ERROR_EXCEED_QUOTA=k.oA=13;k.WEBOFFICE_EX_ERROR_DATE_TOO_NEW=k.mA=14;k.WEBOFFICE_EX_ERROR_MMC_ERROR=k.xA=15;k.WEBOFFICE_EX_ERROR_UNKNOWN_CMD=k.EA=16;k.WEBOFFICE_EX_ERROR_INVALID_CMD=k.qA=17;k.WEBOFFICE_EX_ERROR_JNR_TOONEW=k.vA=18;k.WEBOFFICE_EX_ERROR_JNR_TOOBIG=k.uA=19;k.WEBOFFICE_EX_ERROR_EDIT=k.nA=20;
k.US_ERROR_PARAMETER=k.Lq=255;k.US_ERROR_BUSY=k.Eq=254;k.US_ERROR_WRONG_USERID=k.Nq=253;k.US_ERROR_WRONG_PASSWD=k.Mq=252;k.US_ERROR_ALREADY_LOGGED=k.Dq=251;k.US_ERROR_MEMORY_ALLOCATION=k.Fq=250;k.US_ERROR_NOT_ONLINE=k.iA=249;k.US_ERROR_NOT_JOIN_SELF=k.hA=248;k.US_ERROR_NOT_READY=k.Jq=247;k.US_ERROR_OWNER_NO_RESPONSE=k.kA=246;k.US_ERROR_MMC_FAIL=k.Gq=245;k.US_ERROR_NOT_SUPPORTED=k.Kq=244;k.US_ERROR_MMC_NO_MESSENGER=k.Iq=243;k.US_ERROR_MMC_NO_LICENSE=k.Hq=242;k.US_ERROR_OFFICE_NOT_OPEN=k.jA=241;
k.US_ERROR_MMC_GENERAL=k.Ee=54321;k.US_ERROR_MMC_GENERAL=k.Ee=1;k.US_ERROR_MMC_GENERAL=k.Ee=2;k.US_ERROR_MMC_GENERAL=k.Ee=3;k.US_ERROR_MMC_GENERAL=k.Ee=4;k.US_ERROR_MMC_GENERAL=k.Ee=5;k.DEFAULT_PLAY_SOUND=k.uw=!0;k.DEFAULT_LOG_LEVEL=k.Vo=2;k.DEFAULT_ALERT_ONLINE=k.sw=!0;k.DEFAULT_ALERT_NEWMESSAGE=k.rw=!0;k.DEFAULT_SHOW_OTHER_USER=k.ww=!0;k.DEFAULT_SHOW_OFFLINE_USER=k.vw=!0;k.CONTROLLER_ACCEPT_GUEST=k.Ro=1;k.CONTROLLER_END_MEETING=k.So=2;k.CONTROLLER_QUESTION_CONTROL=k.Ni=4;
k.CONTROLLER_POLL=k.To=8;k.CONTROLLER_SYNC=k.Eg=16;k.CONTROLLER_RETRIEVE_TOKEN=k.Oi=32;k.CONTROLLER_SYNC_TAB=k.Qi=64;k.CONTROLLER_SYNC_FULLSCREEN=k.Pi=128;k.PLUG_IN_TYPE_BASE=k.xq=128;k.AUDIO_DFLT=k.pg=129;k.AUDIO_G711=k.qg=120;k.AUDIO_ILBC=k.tg=152;k.AUDIO_G726=k.sg=168;k.AUDIO_G726_11=k.hf=184;k.AUDIO_G711_11=k.rg=255;k.AUDIO_OPUS=k.ug=232;k.VIDEO_DFLT=k.Pg=130;k.VIDEO_SPIC=k.nj=4;k.VIDEO_H264=k.Rg=200;k.VIDEO_F264=k.Qg=216;k.VIDEO_MJPG=k.Sg=248;k.VIDEO_VPX=k.Tg=64;k.MEDIA_NONE=k.Ay=0;
k.MEDIA_AUDIO_PCM=k.zy=1;k.MEDIA_AUDIO_HMAUDIO=k.vy=2;k.MEDIA_VIDEO_HMVIDEO=k.Ey=3;k.MEDIA_AUDIO_ILBC0=k.wy=4;k.MEDIA_AUDIO_ILBC1=k.xy=5;k.MEDIA_AUDIO_G711_50MS=k.py=6;k.MEDIA_AUDIO_G711_20MS=k.oy=7;k.MEDIA_AUDIO_G726_16K=k.ry=8;k.MEDIA_AUDIO_G726_24K=k.sy=9;k.MEDIA_AUDIO_G726_32K=k.ty=10;k.MEDIA_AUDIO_G726_40K=k.uy=11;k.MEDIA_AUDIO_G711_11K_89K_40MS=k.ny=14;k.MEDIA_AUDIO_G726_11K_45K_80MS=k.qy=15;k.MEDIA_VIDEO_H264_BASELINE=k.Dy=16;k.MEDIA_VIDEO_F264_BASELINE=k.By=18;
k.MEDIA_VIDEO_F264_HIGH=k.Cy=19;k.MEDIA_AUDIO_OPUS=k.yy=20;k.SLIDE_DOWNLOAD_STATUS_UNKNOWN=k.Vz=0;k.SLIDE_DOWNLOAD_STATUS_NOTRECEIVED=k.Bq=1;k.SLIDE_DOWNLOAD_STATUS_NOTDOWNLOADED=k.Aq=2;k.SLIDE_DOWNLOAD_STATUS_PARTIALDATA=k.Uz=3;k.SLIDE_DOWNLOAD_STATUS_DOWNLOADING=k.zq=4;k.SLIDE_DOWNLOAD_STATUS_DOWNLOADED=k.mj=5;k.MARK_STROKE=k.zp=83;k.MARK_STROKE2=k.Kg=115;k.MARK_TEXT=k.Ap=84;k.MARK_TEXT2=k.Lg=116;k.MARK_MOVE=k.bj=109;k.MARK_CUSTOMIZED=k.aj=99;k.UNDO=k.gA="UNDO";k.MAX_TEXT_LEN=k.ky=512;
k.MAX_LONG_TEXT_LEN=k.Gp=2048;k.MAX_PARTICIPANT_AUDIO_OLD=k.fy=2;k.MAX_PARTICIPANT_VIDEO_OLD=k.gy=6;k.MAX_PARTICIPANT_AUDIO=k.cd=16;k.MAX_PARTICIPANT_VIDEO=k.Ob=16;k.TAB_VIEW_BOARD=k.Wz=0;k.TAB_VIEW_BROWSER=k.Xz=1;k.TAB_VIEW_DESKTOP_SHARING=k.Yz=2;k.TAB_VIEW_REMOTE_CONTROL=k.Zz=3;k.SHOW_MYPICTURE_DELAY=k.Tz=5E3;k.MAX_MYPICTURE_SIZE=k.ey=2E5;k.MYPICTURE_TYPE_BMP=k.Uy=1;k.MYPICTURE_TYPE_GIF=k.Vy=2;k.MYPICTURE_TYPE_JPG=k.Wy=3;k.MYPICTURE_TYPE_PNG=k.Xy=4;k.MAX_PLUG_IN_CHANNEL=k.Fb=8;
k.PLUGIN_CHANNEL_TYPE_UDP_1=k.wz=1;k.PLUGIN_CHANNEL_TYPE_TCP_2=k.vz=2;k.DT_CAPTURE_INFO=k.yw=0;k.DT_CAPTURE_END=k.xw=1;k.DT_SCREEN_DATA=k.Fw=2;k.DT_REQUEST_RECT=k.Ew=3;k.DT_MOUSE_POS=k.Aw=4;k.DT_NULL_DATA=k.Bw=5;k.DT_FRAME_END=k.zw=6;k.DT_RDC_SIGNAL=k.Dw=7;k.DT_RDC_INPUT=k.Cw=8;k.DT_SCREEN_DATA1=k.Gw=9;k.DT_SCREEN_DATA2=k.Hw=10;k.RDC_CMD_END_CONTROL=k.Hz=0;k.RDC_CMD_REQUEST_CONTROL=k.Kz=1;k.RDC_CMD_ACK_REQUEST_CONTROL=k.zz=2;k.RDC_CMD_START_CONTROL=k.Oz=3;k.RDC_CMD_DESIRED_BIT_DEPTH=k.Ez=5;
k.RDC_CMD_MAX_BIT_DEPTH=k.Jz=6;k.RDC_CMD_ASSIGN_CONTROL=k.Bz=7;k.RDC_CMD_ACK_ASSIGN_CONTROL=k.xz=8;k.RDC_CMD_SHOW_CONTENT_WHILE_DRAGGING=k.Nz=9;k.RDC_CMD_CONTROL_NOT_SUPPORTED=k.Dz=10;k.RDC_CMD_KEYBOARD_LANG_ID=k.Iz=11;k.RDC_CMD_REQUEST_CONTROL_DENY=k.Lz=12;k.RDC_CMD_DUMMY_MODE_PASSWORD_ERR=k.Gz=13;k.RDC_CMD_DESIRED_GRAYSCALE_DEPTH=k.Fz=14;k.RDC_CMD_REQUEST_MONITOR=k.Mz=15;k.RDC_CMD_ACK_REQUEST_MONITOR=k.Az=16;k.RDC_CMD_ASSIGN_MONITOR=k.Cz=17;k.RDC_CMD_ACK_ASSIGN_MONITOR=k.yz=18;
k.RDC_STATUS_WINDOW_SIZEMOVE=k.Pz=128;k.ERROR_PLUGIN_REQUESTCHANNEL_UNKNOWN_TYPE=k.cp=1;k.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_NOTALLOWED=k.bp=2;k.ERROR_PLUGIN_REQUESTCHANNEL_NO_RECORDING=k.ap=3;k.ERROR_PLUGIN_REQUESTCHANNEL_CHANNEL_FULL=k.$o=4;k.ERROR_PLUGIN_SETDATA_CHANNEL_NOT_EXISTED=k.cx=5;k.ERROR_PLUGIN_SETDATA_NOT_OWNER=k.dx=6;k.ERROR_PLUGIN_CLOSECHANNEL_CHANNEL_NOT_EXISTED=k.Yw=7;k.ERROR_PLUGIN_CLOSECHANNEL_NOT_OWNER=k.Zw=8;k.ERROR_PLUGIN_RECVPRIO_CHANNEL_NOT_EXISTED=k.ax=9;
k.ERROR_PLUGIN_NOT_ENABLED=k.Zo=10;k.ERROR_PLUGIN_NOT_ALLOWED=k.Yo=11;k.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_FAILED=k.bx=12;k.ERROR_PLUGIN_OLD_RELAY=k.$w=13;k.TYPE_US_SHORT_MESSAGE2=k.cA=40;k.TYPE_US_SHORT_MESSAGE3=k.dA=41;k.TYPE_US_SHORT_MESSAGE_FAILURE=k.eA=43;k.TYPE_US_ASYMMETRICAL_SHORT_MESSAGE=k.$z=50;k.TYPE_US_SHORT_MESSAGE_OFFLINE=k.fA=60;k.TYPE_US_OFFLINE_MESSAGE2=k.aA=61;k.TYPE_US_OFFLINE_MESSAGE3=k.bA=62;k.IM_TARGET_TYPE_PEER=k.px=1;k.IM_TARGET_TYPE_GUEST=k.ox=2;
k.IM_TARGET_TYPE_GROUP=k.kp=3;k.IM_TEXT_TYPE_SEND_TEXT=k.Zi=1;k.IM_TEXT_TYPE_RECV_TEXT=k.Xi=2;k.IM_TEXT_TYPE_SEND_FILE=k.Yi=3;k.IM_TEXT_TYPE_RECV_FILE=k.Wi=4;k.IM_TEXT_TYPE_JOIN_GROUP=k.Gg=5;k.IM_TEXT_TYPE_LEAVE_GROUP=k.Hg=6;k.IM_TEXT_TYPE_ERROR=k.Fg=7;k.IM_TEXT_TYPE_OFFLINE_JOIN=k.Ig=8;k.IM_TEXT_TYPE_OFFLINE_LEAVE=k.Ui=9;k.IM_TEXT_TYPE_PGC_RENAME=k.Vi=10;"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(b,f,d){var l=d.length;l=h(0,(b.length>l?b.length:l)*z,0);B(l,b);b=T(f,2);d=T(d,2);O.length!=d.length&&(O=v(d));if(0==(d[0]&1))for(B(O,l),p(l,1);!E(b);){b[0]&1&&c(l,O,d);A(b,2);var w,e;var r=O;var P=d;for(f=r.length;0<f&&!r[f-1];f--);var m=f>P.length?2*f:2*P.length;G.length!=m&&(G=Array(m));p(G,0);for(e=0;e<f;e++){m=G[2*e]+r[e]*r[e];G[2*e]=m&C;m>>=z;for(w=e+1;w<f;w++)m=G[e+w]+2*r[e]*r[w]+m,G[e+w]=m&C,m>>=z;G[e+f]=m}a(G,P);B(r,G)}else{p(O,0);for(f=d.length;0<f&&!d[f-1];f--);
P=0;for(r=d.length-1;0<=r;r--)P=(P*N+d[r])%N;r=N-F(P,N);O[f]=1;c(l,O,d);aa.length!=l.length?aa=v(l):B(aa,l);for(f=b.length-1;0<f&!b[f];f--);if(0==b[f])p(l,1);else{for(P=1<<z-1;P&&!(b[f]&P);P>>=1);for(;;){if(!(P>>=1)){f--;if(0>f){g(l,n,d,r);break}P=1<<z-1}g(l,l,d,r);P&b[f]&&g(l,aa,d,r)}}}return T(l,1)}function F(b,a){for(var f=1,l=0;;){if(1==b)return f;if(0==b)return 0;l-=f*Math.floor(a/b);a%=b;if(1==a)return l;if(0==a)return 0;f-=l*Math.floor(b/a);b%=a}}function d(b,a,f){var l,c=b.length,g=a.length;
for(l=g-1-f;l<c&&0<=l;l++)if(0<b[l])return 1;for(l=c-1+f;l<g;l++)if(0<a[l])return 0;for(l=(c+f<g?c+f:g)-1;l>=f;l--){if(b[l-f]>a[l])return 1;if(b[l-f]<a[l])break}return 0}function y(b,a){var f,l=b.length<a.length?b.length:a.length;for(f=b.length;f<a.length;f++)if(a[f])return 0;for(f=a.length;f<b.length;f++)if(b[f])return 1;for(f=l-1;0<=f;f--){if(b[f]>a[f])return 1;if(b[f]<a[f])break}return 0}function h(b,a,f){a=Math.ceil(a/z)+1;f=Array(f>a?f:a);p(f,b);return f}function q(b,a,f){var l,c,g=b.length;
if(-1==a){for(c=[];;){a=Array(c.length+1);for(l=0;l<c.length;l++)a[l+1]=c[l];a[0]=parseInt(b,10);c=a;var d=b.indexOf(",",0);if(1>d)break;b=b.slice(d+1);if(0==b.length)break}return c.length<f?(a=Array(f),B(a,c),a):c}c=h(0,a*g,0);for(l=0;l<g;l++){d=x.indexOf(b.slice(l,l+1),0);36>=a&&36<=d&&(d-=26);if(d>=a||0>d)break;var w,e,n=c,r=a;if(r){var P=n.length;for(e=w=0;e<P;e++){w+=n[e]*r;var m=0;0>w&&(m=-(w>>z),w+=m*N);n[e]=w&C;w=(w>>z)-m}}m=c;m[0]+=d;P=m.length;for(e=w=0;e<P&&(w+=m[e],d=0,0>w&&(d=-(w>>z),
w+=d*N),m[e]=w&C,w=(w>>z)-d,w);e++);}for(g=c.length;0<g&&!c[g-1];g--);g=f>g+1?f:g+1;a=Array(g);b=g<c.length?g:c.length;for(l=0;l<b;l++)a[l]=c[l];for(;l<g;l++)a[l]=0;return a}function E(b){var a;if(0!=b[0])return 0;for(a=1;a<b.length;a++)if(b[a])return 0;return 1}function e(b){var a;for(a=0;a<b.length;a++)if(b[a])return 0;return 1}function D(b,a){var f="";X.length!=b.length?X=v(b):B(X,b);if(-1==a){for(a=b.length-1;0<a;a--)f+=b[a]+",";f+=b[0]}else for(;!e(X);)b=A(X,a),f=x.slice(b,b+1)+f;0==f.length&&
(f="0");return f}function v(b){var a=Array(b.length);B(a,b);return a}function B(b,a){var f,l=b.length<a.length?b.length:a.length;for(f=0;f<l;f++)b[f]=a[f];for(f=l;f<b.length;f++)b[f]=0}function p(b,a){var f=a;for(a=0;a<b.length;a++)b[a]=f&C,f>>=z}function m(b,a){var f,l=Math.floor(a/z);if(l){for(f=0;f<b.length-l;f++)b[f]=b[f+l];for(;f<b.length;f++)b[f]=0;a%=z}for(f=0;f<b.length-1;f++)b[f]=C&(b[f+1]<<z-a|b[f]>>a);b[f]>>=a}function I(b,a){var f,l=Math.floor(a/z);if(l){for(f=b.length;f>=l;f--)b[f]=b[f-
l];for(;0<=f;f--)b[f]=0;a%=z}if(a){for(f=b.length-1;0<f;f--)b[f]=C&(b[f]<<a|b[f-1]>>z-a);b[f]=C&b[f]<<a}}function A(b,a){var f,l=0;for(f=b.length-1;0<=f;f--)l=l*N+b[f],b[f]=Math.floor(l/a),l%=a;return l}function t(b,a,f,c){var l;var g=b.length<c+a.length?b.length:c+a.length;var d=b.length;var w=0;for(l=c;l<g;l++)w+=b[l]+f*a[l-c],b[l]=w&C,w>>=z;for(l=g;w&&l<d;l++)w+=b[l],b[l]=w&C,w>>=z}function a(b,a){ba.length!=b.length?ba=v(b):B(ba,b);Y.length!=b.length&&(Y=v(b));var f=Y,c,l;B(b,ba);for(c=a.length;0==
a[c-1];c--);var g=a[c-1];for(l=0;g;l++)g>>=1;l=z-l;I(a,l);I(b,l);for(g=b.length;0==b[g-1]&&g>c;g--);for(p(f,0);!d(a,b,g-c);){var w,e=b,n=a,r=g-c;var h=e.length<r+n.length?e.length:r+n.length;var Q=e.length;var P=0;for(w=r;w<h;w++)P+=e[w]-n[w-r],e[w]=P&C,P>>=z;for(w=h;P&&w<Q;w++)P+=e[w],e[w]=P&C,P>>=z;f[g-c]++}for(--g;g>=c;g--){for(f[g-c]=b[g]==a[c-1]?C:Math.floor((b[g]*N+b[g-1])/a[c-1]);;)if(h=(1<c?a[c-2]:0)*f[g-c],P=h>>z,h&=C,Q=P+f[g-c]*a[c-1],P=Q>>z,Q&=C,P==b[g]?Q==b[g-1]?h>(1<g?b[g-2]:0):Q>b[g-
1]:P>b[g])f[g-c]--;else break;t(b,a,-f[g-c],g-c);if(b[b.length-1]>>z-1&1){e=b;n=a;r=g-c;h=e.length<r+n.length?e.length:r+n.length;Q=e.length;P=0;for(w=r;w<h;w++)P+=e[w]+n[w-r],e[w]=P&C,P>>=z;for(w=h;P&&w<Q;w++)P+=e[w],e[w]=P&C,P>>=z;f[g-c]--}}m(a,l);m(b,l)}function c(b,f,c){var l;G.length!=2*b.length&&(G=Array(2*b.length));p(G,0);for(l=0;l<f.length;l++)f[l]&&t(G,b,f[l],l);a(G,c);B(b,G)}function T(b,a){var f;for(f=b.length;0<f&&!b[f-1];f--);a=Array(f+a);B(a,b);return a}function g(b,a,c,g){var l,d,
w=c.length,e=a.length;f.length!=w&&(f=Array(w));for(p(f,0);0<w&&0==c[w-1];w--);for(;0<e&&0==a[e-1];e--);var n=f.length-1;for(l=0;l<w;l++){var r=f[0]+b[l]*a[0];var h=(r&C)*g&C;var m=r+h*c[0]>>z;r=b[l];for(d=1;d<e-4;)m+=f[d]+h*c[d]+r*a[d],f[d-1]=m&C,m>>=z,d++,m+=f[d]+h*c[d]+r*a[d],f[d-1]=m&C,m>>=z,d++,m+=f[d]+h*c[d]+r*a[d],f[d-1]=m&C,m>>=z,d++,m+=f[d]+h*c[d]+r*a[d],f[d-1]=m&C,m>>=z,d++,m+=f[d]+h*c[d]+r*a[d],f[d-1]=m&C,m>>=z,d++;for(;d<e;)m+=f[d]+h*c[d]+r*a[d],f[d-1]=m&C,m>>=z,d++;for(;d<w-4;)m+=f[d]+
h*c[d],f[d-1]=m&C,m>>=z,d++,m+=f[d]+h*c[d],f[d-1]=m&C,m>>=z,d++,m+=f[d]+h*c[d],f[d-1]=m&C,m>>=z,d++,m+=f[d]+h*c[d],f[d-1]=m&C,m>>=z,d++,m+=f[d]+h*c[d],f[d-1]=m&C,m>>=z,d++;for(;d<w;)m+=f[d]+h*c[d],f[d-1]=m&C,m>>=z,d++;for(;d<n;)m+=f[d],f[d-1]=m&C,m>>=z,d++;f[d-1]=m&C}if(!y(c,f)){a=f;d=a.length<c.length?a.length:c.length;for(g=l=0;g<d;g++)l+=a[g]-c[g],a[g]=l&C,l>>=z;for(g=d;l&&g<a.length;g++)l+=a[g],a[g]=l&C,l>>=z}B(b,f)}var r=window.W,z,Z,G,aa,ba,Y,X,O;var C=z=0;var N=C+1;var x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-";
for(z=0;1<<z+1>1<<z;z++);z>>=1;C=(1<<z)-1;N=C+1;var n=h(1,1,1);var f=O=X=Y=ba=aa=G=Z=[];b=b.dh=b.nc=b.nc||{};var w=q("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE65381FFFFFFFFFFFFFFFF",16,0),Q=q("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AACAA68FFFFFFFFFFFFFFFF",
16,0),J=q("2",10,0);b.str2bigInt=b.pt=function(b,a,f){return q(b,a,f)};b.powMod=b.NF=function(b,a,f){return H(b,a,f)};b.bigInt2str=b.uj=function(b,a){return D(b,a)};b.createKeyPair=b.nr=function(){var b=q((new r.a.g(r.random.ya(10))).Nb(),16,0),a=H(J,b,w);return{Vh:b,jg:a}};b.createKeyPair_2048=b.or=function(){var b=q((new r.a.g(r.random.ya(20))).Nb(),16,0),a=H(J,b,Q);return{Vh:b,jg:a}};b.agreeKey=b.Yq=function(b,a){return H(a,b,w)};b.agreeKey_2048=b.Zq=function(b,a){return H(a,b,Q)};b.generateSharedKey=
b.Ar=function(b,a,f,c,g,d){d=d||128;var l=r.Gd.create(),w=new r.a.g;b=D(b,16);b=r.a.Hc(b);var e;if(b.length<d)for(e=0;e<d-b.length;e++)w.M("\x00");w.M(b);b=D(a,16);b=r.a.Hc(b);if(b.length<d)for(e=0;e<d-b.length;e++)w.M("\x00");w.M(b);b=D(f,16);b=r.a.Hc(b);if(b.length<d)for(e=0;e<d-b.length;e++)w.M("\x00");w.M(b);w.M(c);w.M(g);l.update(w.u());l.update("A");a=l.digest();l.start();l.update(w.u());l.update("B");f=l.digest();l.start();l.update(w.u());l.update(f.u());l=l.digest();f.D(l);return{ja:a.u(),
key:f.u()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){d.localStorage=d.localStorage={};d.localStorage.clear=H}var F=window.W,d=b.util=b.a=b.a||{},y=d.app_id=d.$q=(new F.a.g(F.random.ya(2))).Nb(),h=d.MAX_LOG_ITEM=d.Ep=5E3,q=d.MAX_LOG_SIZE=d.Fp=5E5,E=0,e=Date.now();d.GetTickCount=d.A=function(){if("undefined"===typeof performance||"undefined"===typeof performance.now){var b=Date.now();b<e&&(E+=e-b);e=b;return b+E>>>0}return performance.now()>>>0};d.time=d.time=function(){return Date.now()/1E3>>>0};d.checkBrowser=d.NB=function(){window.File&&
window.FileReader&&window.FileList&&window.Blob&&window.URL||console.log("File API not supported in this browser");window.localStorage||console.log("Local Storage not supported in this browser");window.Worker||console.log("Worker not supported in this browser");window.WebSocket||console.log("WebSocket not supported in this browser");return""};d.log=d.log=function(e,p){var m=b.a.qe(d.localStorage.hmtg_log_level);"undefined"===m&&(m=b.b.Vo);0>m&&(m=0);"undefined"===typeof p&&(p=e,e=0);if(!(e>m)){m=
(new Date).toString().replace(/(GMT.*)/,"");if(0>e&&(console.log(m+p),-1!=e))return;d.qj("hmtg_log","hmtg_log_first_idx","hmtg_log_count","hmtg_log_size","hmtg_log_item_",h,q,y+":"+m+p)}};d.add_hmtg_log_item=d.qj=function(b,e,h,p,a,c,q,g){var r=d.localStorage[e]>>0,m=d.localStorage[h]>>0,t=d.localStorage[p]>>0;0==m&&d.localStorage[b]&&d.localStorage[b].length&&(d.localStorage[a+"0"]=d.localStorage[b],m=1,t=d.localStorage[b].length,r=0);d.localStorage[b]="";if(m>c||r>=c)t=m=r=0;m==c&&((b=d.localStorage[a+
r])&&b.length?(t-=b.length,m--,r++,r==c&&(r=0)):t=m=r=0);var A=r+m;for(A>=c&&(A-=c);0!=m&&t+g.length>q;){b=d.localStorage[a+r];if(!b||!b.length){t=m=r=0;break}t-=b.length;m--;r++;r==c&&(r=0)}d.localStorage[a+A]=g;t+=g.length;m++;d.localStorage[e]=r;d.localStorage[h]=m;d.localStorage[p]=t};d.read_hmtg_log=d.OF=function(){var b=d.localStorage.hmtg_log_first_idx>>0,e=d.localStorage.hmtg_log_count>>0;if(e>h||b>=h)return d.Bm(),"";var p=[],t;for(t=0;t<e;t++){var a=b+t;a>=h&&(a-=h);a=d.localStorage["hmtg_log_item_"+
a];if(!a||!a.length)return d.Bm(),"";p.push(a)}return 0==p.length?d.localStorage.hmtg_log:p.join("\n")};d.reset_hmtg_log=d.Bm=function(){d.localStorage.hmtg_log="";d.localStorage.hmtg_log_first_idx=0;d.localStorage.hmtg_log_count=0;d.localStorage.hmtg_log_size=0};d.read_hmtg_log_stat=d.PF=function(){var b=d.localStorage.hmtg_log_stat_first_idx>>0,e=d.localStorage.hmtg_log_stat_count>>0;if(e>h||b>=h)return d.Cm(),"";var p=[],t;for(t=0;t<e;t++){var a=b+t;a>=h&&(a-=h);a=d.localStorage["hmtg_log_stat_item_"+
a];if(!a||!a.length)return d.Cm(),"";p.push(a)}return 0==p.length?d.localStorage.hmtg_log_stat:p.join("\n")};d.reset_hmtg_log_stat=d.Cm=function(){d.localStorage.hmtg_log_stat="";d.localStorage.hmtg_log_stat_first_idx=0;d.localStorage.hmtg_log_stat_count=0;d.localStorage.hmtg_log_stat_size=0};d.logUtf8=d.ne=function(b,e){"undefined"===typeof e?d.log(d.Ab(b)):d.log(b,d.Ab(e))};d.getQuery=d.Qd=function(b){for(var d=window.location.search.slice(1).split("&"),e=0;e<d.length;e++){var h=d[e].split("=");
if(h[0]==b)return h[1]}};d.encodeUtf8Ex=d.Yg=function(b,d){try{for(var e=unescape(encodeURIComponent(b));e.length&&e.length>=d;)b=b.slice(0,b.length-1),e=unescape(encodeURIComponent(b));return e}catch(t){return""}};d.truncateStr=d.$F=function(b,e){b=d.Yg(b,e);try{return decodeURIComponent(escape(b))}catch(A){return""}};d.truncateStrUtf8=d.ef=function(b,d){try{for(;b.length&&b.length>=d;){var e=decodeURIComponent(escape(b));e=e.slice(0,e.length-1);b=unescape(encodeURIComponent(e))}return b}catch(t){return""}};
d.startsWith=d.startsWith=function(b,d){return b.slice(0,d.length)==d};d.endsWith=d.endsWith=function(b,d){return b.slice(-d.length)==d};d.scroll_to_top=d.UF=function(b){if(b=document.getElementById(b))b.scrollTop=0};d.scroll_to_bottom=d.TF=function(b){if(b=document.getElementById(b))b.scrollTop=b.scrollHeight};d.getExt=d.WB=function(b){var d=b.lastIndexOf(".");if(-1==d)return"";b=b.slice(d);return 1==b.length||-1!=b.indexOf(" ")?"":b};d.decode64=d.Gb=F.a.Gb;d.encode64=d.oc=F.a.oc;d.decode64_url=
d.zj=F.a.zj;d.encode64_url=d.Aj=F.a.Aj;d.encodeUtf8=d.pb=F.a.pb;d.decodeUtf8=d.Ab=F.a.Ab;d.isArray=d.isArray=F.a.isArray;d.array2str=d.sj=function(b){try{var d=String.fromCharCode.apply(null,b)}catch(t){d="";var e;for(e=0;e<b.length;e++)d+=String.fromCharCode(b[e])}return d};d.str2array=d.Zh=function(b){for(var d=new Uint8Array(b.length),e=0;e<b.length;e++)d[e]=b.charCodeAt(e);return d};d.calc_guid_descr=d.ir=function(b){b=F.a.Ug(b).toUpperCase();return b.slice(0,8)+"-"+b.slice(8,12)+"-"+b.slice(12,
16)+"-"+b.slice(16,20)+"-"+b.slice(20)};d.parseJSON=d.qe=function(b){try{return JSON.parse(b)}catch(I){return"undefined"}};d.selectText=d.VF=function(b){if(document.body.createTextRange){var d=document.body.createTextRange();d.moveToElementText(b);d.select()}else if(window.getSelection){var e=window.getSelection();d=document.createRange();d.selectNodeContents(b);e.removeAllRanges();e.addRange(d)}};var D=window.onerror,v={},B=d.Qd("alert");d.test_error=d.ZF=d.Qd("error")||0;if(d.Qd("show_log")){var p=
document.getElementById("log_report");p&&(p.style.display="")}d.error_array=d.ld=[];window.onerror=function(e,h,p,t,a){var c;!window.ob&&h&&a&&a.stack||(c=!0);var m=""+e+h+p+t;v[m]?v[m]++:v[m]=1;var g=v[m];t="Javascript Error("+g+" times), "+e+", location="+h+":"+p+("undefined"!=typeof t?":":"")+t;t=a&&a.stack?t+(",\nstack trace=\n"+a.stack):t+",\nstack trace not supported";var r;if(!c){for(r=0;r<d.ld.length;r++)if(m===d.ld[r].tag){d.ld.splice(r,1);break}d.ld.push({tag:m,text:t,time:new Date});100<
d.ld.length&&d.ld.shift()}if(1==g||10==g||100==g||1E3==g){try{b.a.log((c?"(Log Only)":"")+t)}catch(z){}!c&&B&&(t+="\n------------------------------\nTotal Error: "+d.ld.length+"\n",t+=(new Date).toString().replace(/(GMT.*)/,"")+"\n",t+="appid="+y+"\n",t+="Browser Information: "+navigator.userAgent+"\n",b.Z&&b.Z.version&&(t+="hmtg jnkernel version "+b.Z.version()+"\n"),b.Wb&&b.Wb.version&&(t+="hmtg jmkernel version "+b.Wb.version()+"\n"),b.b&&b.b.ei&&(t+="Web JoinNet version "+b.b.ei+"\n"),alert(t))}if(!c){if(c=
document.getElementById("error_report"))c.style.display="";b.Z&&b.Z.hl&&b.Z.hl()}return D?D(e,h,p):h&&a&&a.stack?!0:!1};window.onerrorWorker=function(b){window.onerror(b.message,b.filename,b.lineno,b.colno,b.error)};d.isPrivateStorage=d.sd=!1;if(!window.localStorage||"object"!==typeof window.localStorage||"undefined"!==typeof window.localStorage.hmtg_log&&"string"!==typeof window.localStorage.hmtg_log)d.localStorage=d.localStorage={},d.sd=!0;else if(d.localStorage=d.localStorage=window.localStorage,
"undefined"===typeof window.localStorage.hmtg_log)try{d.localStorage.hmtg_log=""}catch(m){d.localStorage=d.localStorage={},d.sd=!0,d.localStorage.hmtg_log=""}d.Qd("reset")&&confirm("Are you sure to reset the localStorage?")&&window.localStorage.clear();d.log("Web JoinNet starts");d.sd&&(d.localStorage.clear=H,d.log("This browser is using private Storage. The changes of settings cannot be saved if the Web App is closed."));d.log("Browser Information: "+navigator.userAgent);d.calcOffset=d.MB=function(b,
d){var e=0,h=0;if("undefined"!==typeof b.offsetParent){do e+=b.offsetLeft+b.clientLeft,h+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}d.x=e;d.y=h};d.schemeURL=d.SF=function(b){return(b=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*):/.exec(b))&&b[1]?b[1].toLowerCase():""};d.xml_escape=d.xt=function(b){return b.replace(/\&/g,"&amp;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")};d.convert32_64=d.kr=function(b,d){return 0>b>>0?-(4294967296*((b^4294967295)>>>0)+((d^
4294967295)>>>0)+1):4294967296*(b>>>0)+(d>>>0)};d.convert64_32=d.QB=function(b){if(0>b){b=-b;b--;var d=(b/4294967296>>>0^4294967295)>>0;b=(b%4294967296>>>0^4294967295)>>0}else d=b/4294967296>>>0,b=b%4294967296>>>0;return[d,b]}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.o=b.o||{};F.vendor="";F.YF=function(b){for(var d=(new Date).getTime();!((new Date).getTime()-d>b););};F.hg=function(b){if("string"!==typeof b)return{lb:1,Eb:0,df:0};b=b.split(".");return 2>b.length?{lb:1,Eb:0,df:0}:3>b.length?{lb:parseInt(b[0].trim()),Eb:parseInt(b[1].trim()),df:0}:{lb:parseInt(b[0].trim()),Eb:parseInt(b[1].trim()),df:parseInt(b[2].trim())}};F.Y=function(){};F.I=function(b){b.onopen=b.onclose=b.onerror=b.onmessage=F.Y;b.close()};F.Uh=function(b,y,h,
q){var d=[],e=0;0!=q&&q!=h&&(e=q);q={};q.aa=b;q.oa=h;q.Bd=0;d.push(q);e&&(q={},q.aa=b,q.oa=e,q.Bd=0,d.push(q));b=y.split(",");for(y=0;y<b.length;y++){var D=b[y].trim();if(!(0==D.length||100<=D.length)){for(q=0;q<d.length&&d[q].aa!=D;q++);q==d.length&&20>d.length&&(q={},q.aa=D,q.oa=h,q.Bd=1,d.push(q),e&&20>d.length&&(q={},q.aa=D,q.oa=e,q.Bd=1,d.push(q)))}}return{$h:0,Nh:d}};F.Gj=function(b){for(var d,h,q,E="",e=b.length(),D=(e+15)/16>>>0,v=0,B=0;B<D-1&&5E3>=74*(B+1)+1;B++){h=q="";for(var p=0;16>p;p++,
v++)d=b.K(v),q+=16>d?"0":"",q+=d.toString(16),q+=" ",h+=32>=d?".":b.h(v,1);E+=("0000000"+(16*B).toString(16)).slice(-4)+"h: ";E+=q+"; "+h+"\n"}if(5E3>=74*D+1&&(e-=16*(D-1),0<e)){h=q="";for(p=0;16>p;p++,v++)p<e?(d=b.K(v),q+=16>d?"0":"",q+=d.toString(16),q+=" ",h+=32>=d?".":b.h(v,1)):q+="   ";E+=("0000000"+(16*(D-1)).toString(16)).slice(-4)+"h: ";E+=q+"; "+h+"\n"}return E};F.mm=function(d,y){if(y.length()){var h="\nDisconnect Dump:";d.length()&&(h+="\npre-disconnect log:\n"+F.Gj(d));h+="\nat-disconnect log:\n"+
F.Gj(y)+"\n";b.a.log(h)}};F.Vg=function(d){switch(d){case b.b.pg:case b.b.Pg:d="dflt";break;case b.b.tg:d="ilbc";break;case b.b.qg:d="g711";break;case b.b.sg:d="g726";break;case b.b.hf:d="g726 11K";break;case b.b.rg:d="g711 11K";break;case b.b.ug:d="opus";break;case b.b.Rg:d="hm264";break;case b.b.Qg:d="f264";break;case b.b.Sg:d="mjpg";break;case b.b.Tg:d="vpx";break;default:d="unknown"}return d};F.xj=function(d){var y="",h=1;d&b.b.Ro&&(y+=(h?"":",")+"ACCEPT_GUEST",h=0);d&b.b.So&&(y+=(h?"":",")+"END_MEETING",
h=0);d&b.b.Ni&&(y+=(h?"":",")+"QUESTION_CONTROL",h=0);d&b.b.To&&(y+=(h?"":",")+"POLL",h=0);d&b.b.Eg&&(y+=(h?"":",")+"SYNC",h=0);d&b.b.Oi&&(y+=(h?"":",")+"RETRIEVE_TOKEN",h=0);d&b.b.Qi&&(y+=(h?"":",")+"SYNC_TAB",h=0);d&b.b.Pi&&(y+=(h?"":",")+"SYNC_FULLSCREEN");return y};F.Zs=function(d){if(40==d.charCodeAt(0)){var y=d.indexOf(")");if(-1!=y&&1!=y)return b.a.Yg(b.a.Ab(d.slice(1,y)),b.b.Ya)}return""};F.As=function(b){return b.Nd(15)};F.Bs=function(b){return b.Nd(11)};F.Ds=function(b){return b.c(5)};F.Es=
function(b){return b.Nd(9)<<16^b.Nd(13)};F.yh=function(b){return b.Nd(3)};F.Cs=function(b){return b.Nd(1)};F.fd=new Uint8Array(256);F.fd[b.b.pg]=1;F.fd[b.b.tg]=1;F.fd[b.b.qg]=1;F.fd[b.b.sg]=1;F.fd[b.b.hf]=1;F.fd[b.b.ug]=1;F.$B=function(b){return!!F.fd[b]};F.xe=new Uint8Array(256);F.xe[b.b.Pg]=1;F.xe[b.b.Rg]=1;F.xe[b.b.Qg]=1;F.xe[b.b.Sg]=1;F.xe[b.b.Tg]=1;F.dC=function(b){return!!F.xe[b]};F.at=function(b){return 8+b<<4};F.Pj=function(d){return(d&143)==b.b.xq};F.bt=function(b){return(b&112)>>4};F.ut=
function(d,y,h){var q=y.length;512<q&&(q=512);var E=H.Gd.create();E.update(b.crypto.L(y.subarray(0,q),h).u());return E.digest().u()==d}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W;b=b.crypto=b.crypto||{};b.$c=function(){for(var b=H.Gd.create(),d=arguments.length,y=0;y<d;++y)b.update(arguments[y]);return b.digest()};b.Wg=function(b,d){var y={};switch(b){case "3des":y.ja=d.ja.slice(0,8);y.kd=H.mc.ve(d.key.slice(0,24),y.ja,null);y.Md=H.mc.ue(d.key.slice(0,24),y.ja,null);break;case "des":y.ja=d.ja.slice(0,8);y.kd=H.mc.ve(d.key.slice(0,8),y.ja,null);y.Md=H.mc.ue(d.key.slice(0,8),y.ja,null);break;case "aes128":y.ja=d.ja.slice(0,16);y.kd=H.Za.ve(d.key.slice(0,
16),y.ja,null,"cfb");y.Md=H.Za.ue(d.key.slice(0,16),y.ja,null,"cfb");break;case "aes192":y.ja=d.ja.slice(0,16);y.kd=H.Za.ve(d.key.slice(0,24),y.ja,null,"cfb");y.Md=H.Za.ue(d.key.slice(0,24),y.ja,null,"cfb");break;case "aes256":y.ja=d.ja.slice(0,16),y.kd=H.Za.ve(d.key.slice(0,32),y.ja,null,"cfb"),y.Md=H.Za.ue(d.key.slice(0,32),y.ja,null,"cfb")}return y};b.ff=b.Wg("aes256",{ja:H.a.Hc("9a46099c65b2988422cb177c159625a4586c353d"),key:H.a.Hc("40142bcd47a450d82a1e4109df9cb37852ca2a4ab6f87e739503d7919d89dd834e077fe123f420d4")});
b.L=function(b,d){if(d&&d.kd){var y=d.kd;y.start(d.ja);y.update(new H.a.g(b));y.finish();return y.fg}console.log(Error("******debug, crypto.crypto_cfb_EncryptData stack trace").stack);return b};b.w=function(b,d){if(d&&d.Md){var y=d.Md;y.start(d.ja);y.update(new H.a.g(b));y.finish();return y.fg}console.log(Error("******debug, crypto.crypto_cfb_DecryptData stack trace").stack);return b}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F="succeeded;continue...;MCU relay proxy is shut down;the request is not allowed;MCU relay proxy is busy;the request is not supported;can not connect to MCU;MCU relay proxy doesn't has group connection to the MCU;MCU relay proxy is downloading this slide;MCU relay proxy only support primary port;unknown".split(";"),d=b.protocol=b.protocol||{};d.Qm=10001;d.Rm=10002;d.fi=10003;d.ii=10004;d.hi=10005;d.gi=10006;d.Om=10007;d.Mm=10008;d.Nm=10009;d.zt=10010;d.Pm=10011;d.fm=function(d,
h,q,E,e,D){function v(){c.disconnect=function(){}}function B(a){p();Z=setTimeout(function(){Z=null;a&&b.a.log(a);b.a.log(6,"websocket("+Y+") timeout");b.o.I(z);m(b.b.Jd)},6E4)}function p(){null!=Z&&(clearTimeout(Z),Z=null)}function m(a){p();ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, finish"):(E[e].Mb=a,ba=!0,z.onclose=z.onerror=z.onmessage=null,v(),D())}function y(){var a=r.Jj();if(a!=b.b.Cc){if(0>=a||a>=F.length)a=F.length-1;b.a.log("mcu relay proxy failed, error = "+
F[a]);b.o.I(z);m(b.b.$i+a)}else aa=new b.protocol.Qe(d,h,E[e],q.ca.Tb,q.ca.port,A)}function A(a){aa=null;a?(b.a.log("mcu relay proxy: dh key exchange fails"),m(b.b.Jd)):(E[e].dd=E[e].ea,E[e].vd=E[e].bb,E[e].Bh=E[e].Vc,a=new H.a.g,a.Dd(0),a.Dd(E[e].oa),a.gg(E[e].aa),G=t,B("mcu relay proxy: recv nothing after dh key exchange"),z.send(a.i()),0!=r.length()&&G())}function t(){var c=r.Jj();if(0!=c){if(0>c||c>=F.length)c=F.length-1;E[e].Ss=1;b.a.log("mcu relay proxy failed, error = "+F[c]);b.o.I(z);m(b.b.$i+
c)}else G=a,B(),0!=r.length()&&G()}function a(){var a=q.ca.Hb.length?0:4,c=r.length();if(!(c<4+a)){if(a){a+=r.c(4)==b.protocol.hi?16:4;if(c<4+a)return;q.ca.Hb=r.h(8,a-4)}E[e].Rc=r.getInt32();a&&r.shift(a);b.a.log("mcu relay proxy: established");m(0)}}var c=this;var T=E[e].aa;var g=E[e].oa,r=E[e].Ed=new H.a.g,z,Z=null,G=b.o.Y,aa=null,ba=!1;this.disconnect=function(){};if(q&&q.sa){b.a.log(["connect through mcu relay ",q.ca.Tb,",",q.ca.port].join(""));T=q.ca.Tb;-1!=T.indexOf(":")&&-1==T.indexOf("[")&&
(T="["+T+"]");var Y=T+":"+q.ca.port+"/websocket/"}else-1!=T.indexOf(":")&&-1==T.indexOf("[")&&(T="["+T+"]"),Y=T+":"+g+"/websocket/";G=function(){b.o.I(z);m(b.b.Jd)};try{var X="https:"==window.location.protocol?"wss://":"ws://";this.j=E[e].j=z=new WebSocket(X+Y,"hmtg")}catch(O){this.j=E[e].j=z={};b.a.log("cannot create WebSocket for "+X+Y+". "+O);m(b.b.Jd);return}z.binaryType="arraybuffer";z.onopen=function(){p();if(q&&q.sa){var b=new H.a.g("~");b.f(q.ca.Hb.length?7:8);G=y;B();z.send(b.i());0!=r.length()&&
G()}else m(0)};z.onclose=function(){b.a.log(6,"websocket("+Y+") onclose");b.o.I(z);m(b.b.Jd)};z.onerror=function(){b.a.log(6,"websocket("+Y+") onerror");b.o.I(z);m(b.b.Jd)};z.onmessage=function(a){p();a=new H.a.g(a.data);r.D(a);ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, onmessage"):(B(),G())};B();0!=r.length()&&G();this.disconnect=function(){b.a.log(6,"websocket("+Y+") disconnect");ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, disconnect"):
(b.o.I(z),ba=!0,p(),null!=aa&&(aa.stop(),aa=null),v())}};d.Qe=function(d,h,q,E,e,D){function v(a){B();r=setTimeout(function(){b.a.log("disconnect,timeout error in dh key exchange");p(a)},6E4)}function B(){null!=r&&(clearTimeout(r),r=null)}function p(a){a&&b.o.I(t);B();ba?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, finish"):(ba=!0,D(a))}function m(){var c=a.length();if(!(4>c)){var g=a.c(0);if(0>g||4096<g)b.a.log("disconnect, incorrect server public key"),
p(3);else if(!(c<4+g)){c=H.a.Ug(a.h(4,g));c=b.nc.pt(c,16,0);var e=2048==G?b.nc.Zq(aa.Vh,c):b.nc.Yq(aa.Vh,c);c=b.nc.Ar(aa.jg,c,e,d+"."+h,q.Vc,2048==G?256:128);q.yc=c;a.shift(4+g);Z=y;0!=a.length()&&Z()}}}function y(){var c=a.length();if(!(4>c)){var g=a.c(0);if(0>g||4096<g)b.a.log("disconnect, incorrect hostkey key"),p(3);else if(!(c<4+g+4)){var d=a.c(4+g);if(0>d||4096<d)b.a.log("disconnect, incorrect hostkey signature"),p(3);else if(!(c<4+g+4+d)){c=a.h(4,g);var h=H.a.oc(c);b.a.log(["hostkey of ",E,
",",e," is ",h].join(""));h=H.Oh.create();h.update(c);c=h.digest();c=H.a.oc(c.u());b.a.log(["hostkey fingerprint of ",E,",",e," is ",c].join(""));a.shift(4+g+4+d);q.ag="";q.$f="";q.Yf="";z=1;Z=A;0!=a.length()&&Z()}}}}function A(){for(;;){var d=a.length();if(4>d)break;var e=a.c(0);if(0==e){a.shift(4);q.ba=q.ea;t.onerror=c;t.onmessage=F;t.onclose=g;p(0);break}if(4>e||1024<=e){b.a.log("disconnect, incorrect server parameter(0), len="+e);p(1);break}if(d<4+e)break;a.shift(4);d=e;var h=a.c(0);switch(h){case 10001:h=
a.c(4);if(d!=h+8||0>=h||100<=h){b.a.log(["disconnect, incorrect server parameter(1), len=",d," cipher_len=",h].join(""));p(2);return}d=a.h(8,h);q.hd=d;q.ea=b.crypto.Wg(d,q.yc);if(!q.ea.kd){b.a.log("unknown cipher "+d);p(2);return}b.a.log("got mcu parameter - cipher = "+d);break;case 10002:if(8!=d){b.a.log("disconnect, incorrect server parameter(2), len="+d);p(1);return}q.Xf=b.crypto.w(a.h(4,4),q.ea).c(0);b.a.log("got mcu parameter - multicast port: "+q.Xf);break;case 10003:if(8!=d){b.a.log("disconnect, incorrect server parameter(3), len="+
d);p(1);return}q.wd=b.crypto.w(a.h(4,4),q.ea).c(0)>>>0;q.bb=b.a.A()-q.wd;b.a.log(["got mcu parameter - server tick = ",q.wd,", diff = ",q.bb].join(""));break;case 10004:var r=a.c(4);if(d!=r+8||0>=r||500<=r){b.a.log(["disconnect, incorrect server parameter(4), len=",d," serial_len=",r].join(""));p(1);return}q.ag=b.crypto.w(a.h(8,r),q.ea).u();break;case 10008:h=a.c(4);if(d!=h+8||0>=h||100<=h){b.a.log(["disconnect, incorrect server parameter(5), len=",d," licensesource_len=",r].join(""));p(1);return}q.$f=
b.crypto.w(a.h(8,h),q.ea).u();break;case 10005:if(8!=d){b.a.log("disconnect, incorrect server parameter(6), len="+d);p(1);return}q.fe=b.crypto.w(a.h(4,4),q.ea).c(0);b.a.log("got mcu parameter - utf8 support, codepage = "+q.fe);break;case 10006:if(4!=d){b.a.log("disconnect, incorrect server parameter(7), len="+d);p(1);return}q.Ne=!0;b.a.log("got mcu parameter - mcu accept client parameter");break;case 10007:b.a.log("got mcu parameter - mcu support real time conversion");q.Yf="";4!=d&&(q.Yf=a.h(4,d-
4));break;default:b.a.log("warning, unknown server parameter type="+h)}a.shift(e)}}var t=q.j,a=q.Ed,c=t.onerror,F=t.onmessage,g=t.onclose,r=null,z=3,Z=b.o.Y,G=0,aa;q.fe=-2;t.onclose=t.onerror=function(){p(3)};t.onmessage=function(c){B();c=new H.a.g(c.data);a.D(c);ba?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, onmessage"):(v(z),Z())};var ba=!1,Y=new H.a.g("!");Y.f(d);Y.f(h);Z=function(){var c=a.length();if(!(4>c)){var g=a.c(0);if(0>g||100<=g)b.a.log("disconnect, recv return error in dh key exchange"),
p(3);else if(!(c<4+g)){q.Vc=a.h(4,g);var d=b.o.hg(q.Vc);b.a.log(["server version of ",E,",",e," is ",q.Vc].join(""));c=new H.a.g;if(3<d.lb||3==d.lb&&23<d.Eb||3==d.lb&&23==d.Eb&&1<=d.df){G=2048;c.f(4099);c.f(256);aa=b.nc.or();d=b.nc.uj(aa.jg,16);var h=H.a.Hc(d);d=256-h.length}else G=1024,c.f(128),aa=b.nc.nr(),d=b.nc.uj(aa.jg,16),h=H.a.Hc(d),d=128-h.length;0!=d&&c.$g(0,d);c.M(h);t.send(c.i());a.shift(4+g);Z=m;0!=a.length()&&Z()}}};v(3);t.send(Y.i());0!=a.length()&&Z();this.stop=function(){ba=!0;B()}};
d.he=function(d,h,q,E){function e(){v.disconnect=function(){}}function y(){null!=B&&(clearTimeout(B),B=null)}var v=this,B=null,p=!1;this.disconnect=function(){};-1!=d.indexOf(":")&&-1==d.indexOf("[")&&(d="["+d+"]");h=d+":"+h+"/websocket/";try{var m="https:"==window.location.protocol?"wss://":"ws://";var I=new WebSocket(m+h,"hmtg")}catch(A){I={};b.a.log("cannot create WebSocket for "+m+h+". "+A);p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, new WebSocket"):(p=!0,e(),
E());return}I.binaryType="arraybuffer";I.onopen=function(){y();p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onopen"):(p=!0,e(),q(I))};I.onclose=I.onerror=function(){y();p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onclose"):(p=!0,b.o.I(I),e(),E())};(function(){y();B=setTimeout(function(){B=null;b.o.I(I);p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, turn_on_timer"):(p=!0,e(),E())},6E4)})();this.disconnect=
function(){p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, disconnect"):(y(),p=!0,b.o.I(I),e())}};d.Lb=function(d,h,q,E,e,D){function v(){m.disconnect=function(){}}function B(){null!=y&&(clearTimeout(y),y=null)}function p(){if(!(32>E.length())){var m=b.a.A()-d;var a=new H.a.g;a.M(E.h(0,32));a.f(m);m=new H.a.g;m.D(b.crypto.L(a.u(),h));q.send(m.i());E.shift(32);B();A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, handler"):(A=!0,v(),
e(q,E))}}var m=this,y=null,A=!1;q.onclose=q.onerror=function(){B();A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onclose"):(A=!0,p=b.o.Y,b.o.I(q),v(),D())};q.onmessage=function(d){d=new H.a.g(d.data);E.D(d);A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onmessage"):p()};(function(){B();y=setTimeout(function(){y=null;b.o.I(q);A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, setTimeout"):
(A=!0,v(),D())},6E4)})();0!=E.length()&&p();this.disconnect=function(){A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, disconnect"):(B(),A=!0,b.o.I(q),v())}};d.xs=function(d,h,q,E,e){function y(){p.disconnect=function(){}}function v(){B();m=setTimeout(function(){m=null;b.o.I(h);A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, setTimeout"):(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}var p=this,m=null,I=b.o.Y,
A=!1;h.onclose=h.onerror=function(){B();A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onclose"):(A=!0,I=b.o.Y,b.o.I(h),y(),e(1))};h.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onmessage"):(v(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, disconnect"):(B(),A=!0,b.o.I(h),y())};var t=new H.a.g("~");t.f(1);t.f(d.Rc);
t.f(d.ta);I=function(){var a=q.K(0);q.shift(1);B();A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, handler"):(A=!0,y(),a!=b.b.Cc?e(-1):E())};v();h.send(t.i());0!=q.length()&&I()};d.Yr=function(d,h,q,E,e){function y(){p.disconnect=function(){}}function v(){B();m=setTimeout(function(){m=null;b.o.I(h);A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, setTimeout"):(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}
var p=this,m=null,I=b.o.Y,A=!1;h.onclose=h.onerror=function(){B();A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onclose"):(A=!0,I=b.o.Y,b.o.I(h),y(),e(1))};h.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onmessage"):(v(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, disconnect"):(B(),A=
!0,b.o.I(h),y())};var t=new H.a.g("~");t.f(5);t.f(d.Rc);t.f(d.ta);t.f(1);I=function(){var a=q.K(0);q.shift(1);B();A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, handler_relay_response"):(A=!0,y(),a!=b.b.Cc?e(-1):E())};v();h.send(t.i());0!=q.length()&&I()};d.Zr=function(d,h,q,E,e){function y(){p.disconnect=function(){}}function v(){B();m=setTimeout(function(){m=null;b.o.I(h);A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, setTimeout"):
(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}var p=this,m=null,I=b.o.Y,A=!1;h.onclose=h.onerror=function(){B();A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onclose"):(A=!0,I=b.o.Y,b.o.I(h),y(),e(1))};h.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onmessage"):(v(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, disconnect"):
(B(),A=!0,b.o.I(h),y())};var t=new H.a.g("~");t.f(4);t.f(d.Rc);t.f(d.ta);t.f(d.G);I=function(){var a=q.K(0);q.shift(1);B();if(A)b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, handler_relay_response");else if(A=!0,y(),a!=b.b.Cc){if(0>=a||a>=F.length)a=F.length-1;b.a.log("mcu relay proxy failed, error = "+F[a]);e(-1)}else E()};v();h.send(t.i());0!=q.length()&&I()};d.Hs=function(y,h,q,E,e,D,v,B){function p(){a.disconnect=function(){}}function m(){I();c=
setTimeout(function(){c=null;b.o.I(E);g?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, setTimeout"):(g=!0,p(),B())},6E4)}function I(){null!=c&&(clearTimeout(c),c=null)}function A(){g?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, normal_disconnect"):(I(),g=!0,b.o.I(E),p())}function t(){var a=e.length(),c=e.K(0);c==b.b.Kp?9>a||((a=q.ra=e.c(1),-1==a)?(g=!0,I(),F=b.o.Y,b.o.I(E),p(),B()):(c=e.c(5),q.tj?500<b.a.A()-q.Ba&&(v((c-(a-q.oe))/
q.ng),q.Ba=b.a.A()):(q.tj=!0,q.oe=q.ra-c,q.ng=q.ra+q.oe,b.a.log("in mrp slide download, mrp_filelen = "+q.oe+"(filelen = "+a+")"),v(0),q.Ba=b.a.A()),e.shift(9))):c==b.b.Cc?(I(),e.shift(1),g=!0,p(),D()):(I(),g=!0,F=b.o.Y,b.o.I(E),p(),B())}var a=this,c=null,F=b.o.Y,g=!1;E.onclose=E.onerror=function(){I();g?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onclose"):(g=!0,F=b.o.Y,b.o.I(E),p(),B())};E.onmessage=function(a){I();a=new H.a.g(a.data);e.D(a);g?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onmessage"):
(m(),F())};this.disconnect=A;var r=new H.a.g("~");r.f(2);r.f(y.Rc);r.f(y.ta);r.f(h);F=function(){var c=e.K(0);e.shift(1);I();if(g)b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, handler_relay_response");else if(c!=b.b.Cc)g=!0,F=b.o.Y,b.o.I(E),p(),B();else{var h=E.onerror,r=E.onmessage;c=new d.Lb(y.vd,y.dd,E,e,function(){E.onclose=E.onerror=h;E.onmessage=r;F=t;a.disconnect=A;m();0!=e.length()&&F()},function(){g=!0;p();B()});a.disconnect=c.disconnect}};m();E.send(r.i());
0!=e.length()&&F()};d.Ks=function(y,h,q,E,e){function D(){I.disconnect=function(){}}function v(){B();A=setTimeout(function(){A=null;b.o.I(h);a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, setTimeout"):(a=!0,D(),e())},6E4)}function B(){null!=A&&(clearTimeout(A),A=null)}function p(){a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, normal_disconnect"):(B(),a=!0,b.o.I(h),D())}function m(){q.length();q.K(0)==b.b.Cc?(B(),q.shift(1),a=!0,D(),
E()):(b.a.log("mcu relay proxy is not ready to upload slide"),B(),a=!0,t=b.o.Y,b.o.I(h),D(),e())}var I=this,A=null,t=b.o.Y,a=!1;h.onclose=h.onerror=function(){B();a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onclose"):(a=!0,t=b.o.Y,b.o.I(h),D(),e())};h.onmessage=function(c){B();c=new H.a.g(c.data);q.D(c);a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onmessage"):(v(),t())};this.disconnect=p;var c=new H.a.g("~");c.f(3);c.f(y.Rc);c.f(y.ta);
t=function(){var c=q.K(0);q.shift(1);B();if(a)b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, handler_relay_response");else if(c!=b.b.Cc)a=!0,t=b.o.Y,b.o.I(h),D(),e();else{var g=h.onerror,r=h.onmessage;c=new d.Lb(y.vd,y.dd,h,q,function(){h.onclose=h.onerror=g;h.onmessage=r;t=m;I.disconnect=p;v();0!=q.length()&&t()},function(){a=!0;D();e()});I.disconnect=c.disconnect}};v();h.send(c.i());0!=q.length()&&t()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(d,q,y,e,D,v,B,p){var h=b.b.Dc-21;if(!(p.length>h||0>q||q>=b.b.Ha)&&d.U[q]){var I=e&32768;e&=32767;var A=d.U[q],t=A.srv,a=b.a.A();t||(t=A.srv={},t.X=0,t.count=0,t.ma=0,t.Wc=!1,t.tc=t.Gh=0,t.ia=t.Na=a-1E5);t.type=B;if(t.Wc){if(y==t.tc&&e==t.Gh)return;if(A.Pd!=y||A.md!=e){var c=y-t.tc;0>c&&(c+=65536);0==c?t.ma+=e-t.Gh-1:0<c&&32768>c&&(t.ma+=c-1+e+1)}}t.X+=p.length+21;t.count++;1E4<a-t.Na>>>0?(t.ia=a,t.X=0,t.count=0,t.ma=0):3E3<a-t.ia&&(t.rate=0,0<t.count&&(t.tick=a,t.rate=8E3*
t.X/(a-t.ia)>>0,d.Ca("video_recv_rate(ssrc "+q+"),"+t.rate)),t.loss_rate=0,0<t.ma&&(t.tick=a,t.loss_rate=t.ma/(t.ma+t.count)*1E4>>0,d.Ca("video_loss_rate(ssrc "+q+"),"+t.loss_rate)),t.ia=a,t.X=0,t.count=0,t.ma=0);t.Na=a;t.tc=y;t.Gh=e;t.Wc=!0;if(A.Pd==y)if(A.md==e)if(0==e&&(A.data=""),A.data+=p,I)A.Pd=y+1&65535,A.md=0;else{if(p.length!=h)return;A.md++;return}else{A.Pd=y+1&65535;A.md=0;return}else if(0==e)if(A.data=p,I)A.Pd=y+1&65535,A.md=0;else{if(p.length!=h)return;A.Pd=y;A.md=1;return}else{A.Pd=
y+1&65535;A.md=0;return}if(q==d.ua)d=0;else if(q==d.za)d=1;else{y=-1;for(e=0;e<b.b.Ob;e++)if(d.jb[e]==q){y=e;break}if(-1!=y)d=2+y;else return}-1!=d&&(1>=A.data.length||b.Z.Rl&&b.Z.Rl(A.data,B,q,D,v))}}function F(h,q,y,e,D){function v(b){var e=new d.a.g;e.m(h.N);e.f(h.Bn);e.f(b);h.j.send(e.i())}if(!(0>q||q>=b.b.Ha||!h.U[q]||500<D.length)){var B=h.U[q];if(!B.Hh){var p=y>>16;y&=65535;if(!(0>=p||2E3<p||0>y||y>=p||B.Ih[y>>3]&1<<(y&7))){if(!B.Jh)B.Jh=p,B.cg=0,B.Lh=new Uint8Array(500*p),B.Mh=0;else if(B.Jh!=
p){B.Hh=1;v(q);b.a.log("download self picture for ssrc "+q+" fails. total num not match");return}B.Lh.set(b.a.Zh(D),500*y);B.Mh+=D.length;B.Ih[y>>3]|=1<<(y&7);B.cg++;B.cg==B.Jh&&(B.Hh=1,v(q),B.cg=0,D=B.Lh.subarray(0,B.Mh),B.Lh=null,h.Em(q,D,e))}}}}var d=window.W,y=b.protocol=b.protocol||{};y.ws=function(h,q,E){function e(b){var e=new d.a.g;if(h.sa){var m=new y.xs(h,b,e,function(){new D(b,e)},function(b){E(b)});v.disconnect=function(){m.disconnect()}}else new D(b,e)}function D(e,m){if(h.sa)var p=new y.Lb(h.vd,
h.dd,e,m,function(){q(e,m)},function(){E(1)});else if(h.F==b.b.R){var a=new d.a.g("M");a.f(h.ta);a.f(h.G);e.send(a.i());p=new y.Lb(h.bb,h.ea,e,m,function(){q(e,m)},function(){E(1)})}else h.F==b.b.Fa&&(a=new d.a.g("m"),a.f(h.ta),a.f(h.Tf),e.send(a.i()),p=new y.Lb(h.bb,h.ea,e,m,function(){q(e,m)},function(){E(1)}));v.disconnect=function(){p.disconnect()}}var v=this;if(h.sa){var B=h.ca.Tb;var p=h.ca.port}else B=h.aa,p=h.oa;var m=new y.he(B,p,function(b){new e(b)},function(){E(1)});this.disconnect=function(){m.disconnect()}};
y.Sa=function(h){function q(){p.disconnect=function(){}}function E(){b.a.log("mediatcp is stopped while connecting");I&&(clearTimeout(I),I=null);A&&A.disconnect();q()}function e(){b.Z.pj()?(t=!1,A=new y.ws(h,v,D),p.disconnect=E):q()}function D(a){A=null;0<a?(m++,60<m&&(m=60),b.a.log("mediatcp: connecting fails, try again..."),I=setTimeout(function(){I=null;e()},1E3*(m+1))):(q(),b.a.log("mediatcp: connecting fails, give up"))}function v(a,c){function g(){P&&(clearInterval(P),P=null)}function r(){z();
n=setTimeout(function(){n=null;b.o.I(a);f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, setTimeout"):(f=!0,G(),g(),p.v.terminate(),x(),b.a.log("mediatcp: break due to timeout"))},6E4)}function z(){null!=n&&(clearTimeout(n),n=null)}function G(){p.v.onmessage&&(p.v.onmessage=null,p.v.postMessage({command:"clear"}))}function A(){p.v.onmessage=null;c.length()&&(w=0,Q=b.a.A(),v())}function C(){if(c.length()){var a=b.a.A()-Q;20<a||9<=w?(500<a&&b.a.log("info, mediatcp handler depth="+
w+",use "+a+"ms"),p.v.onmessage||(p.v.onmessage=A,p.v.postMessage({command:"set"}))):(w++,v())}}function v(){var l=c.length();if(!(5>l)){var d=c.c(0);if(4293844428==d>>>0&&187==c.K(4))c.shift(5),C();else if(21>=d||25E3<=d)z(),f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, handler"):(b.a.log("mediatcp: break due to illegal recv length: "+d),f=!0,G(),g(),p.v.terminate(),v=b.o.Y,b.o.I(a),x());else if(!(l<d+4)){c.shift(4);if(h.ta==b.o.As(c)){if(b.o.Pj(c.K(0))){if(29>=
d){c.shift(d);C();return}l=c.h(0,29);var e=b.crypto.w(c.h(29,d-21-8),h.ba).u()}else l=c.h(0,21),e=b.crypto.w(c.h(21,d-21),h.ba).u();var w=l.charCodeAt(0);l=b.o.Bs(c);w==b.b.hf&&2==e.charCodeAt(0)&&(w=b.b.rg);if(w==b.b.qg||w==b.b.rg||w==b.b.ug||w==b.b.pg||w==b.b.tg||w==b.b.sg||w==b.b.hf)a:{var r=b.o.yh(c),n=w;if(!(0>l||l>=b.b.Ha)&&h.U[l]){var Q=h.U[l];w=Q.sra;var m=b.a.A();w||(w=Q.sra={},w.X=0,w.count=0,w.ma=0,w.Wc=!1,w.tc=0,w.ia=w.Na=m-1E5);w.type=n;if(w.Wc){Q=r-w.tc;if(0==Q)break a;0>Q&&(Q+=65536);
1!=Q&&0<Q&&32768>Q&&(w.ma+=Q-1)}w.X+=e.length+21;w.count++;1E4<m-w.Na>>>0?(w.ia=m,w.X=0,w.count=0,w.ma=0):3E3<m-w.ia&&(w.rate=0,0<w.count&&(w.tick=m,w.rate=8E3*w.X/(m-w.ia)>>0,h.Ca("audio_recv_rate(ssrc "+l+"),"+w.rate)),w.loss_rate=0,0<w.ma&&(w.tick=m,w.loss_rate=w.ma/(w.ma+w.count)*1E4>>0,h.Ca("audio_loss_rate(ssrc "+l+"),"+w.loss_rate)),w.ia=m,w.X=0,w.count=0,w.ma=0);w.Na=m;w.tc=r;w.Wc=!0;b.Z.al&&b.Z.al(e,n,l)}}else if(w==b.b.Rg||w==b.b.Qg||w==b.b.Sg||w==b.b.Tg||w==b.b.Pg)H(h,l,b.o.yh(c),b.o.Cs(c),
b.o.Ds(c),b.o.Es(c),w,e);else if(b.o.Pj(w))a:{if(r=b.o.yh(c),n=e,e=c.c(25)&65535,!(0>l||l>=b.b.Ha)&&h.U[l]){w=b.o.bt(w);var J=h.U[l];m=J["srp"+w];Q=b.a.A();m||(m=J["srp"+w]={},m.X=0,m.count=0,m.ma=0,m.Wc=!1,m.tc=0,m.ia=m.Na=Q-1E5);m.channel=w;if(m.Wc){J=r-m.tc;if(0==J)break a;0>J&&(J+=65536);1!=J&&0<J&&32768>J&&(m.ma+=J-1)}m.X+=n.length+21;m.count++;1E4<Q-m.Na>>>0?(m.ia=Q,m.X=0,m.count=0,m.ma=0):3E3<Q-m.ia&&(m.rate=0,0<m.count&&(m.tick=Q,m.rate=8E3*m.X/(Q-m.ia)>>0,h.Ca("appdata_recv_rate(channel "+
w+",ssrc "+l+"),"+m.rate)),m.loss_rate=0,0<m.ma&&(m.tick=Q,m.loss_rate=m.ma/(m.ma+m.count)*1E4>>0,h.Ca("appdata_loss_rate(channel "+w+",ssrc "+l+"),"+m.loss_rate)),m.ia=Q,m.X=0,m.count=0,m.ma=0);m.Na=Q;m.tc=r;m.Wc=!0;b.Z.Cl&&b.Z.Cl(n,w,l,e)}}else w==b.b.nj?F(h,l,c.c(1),c.c(5),e):b.Z.ps(w,l)}c.shift(d);C()}}}function x(){b.Z.pj()?(t=!1,J=setTimeout(function(){J=null;e();b.a.log("mediatcp: reconnecting...")},2E3),p.disconnect=function(){clearTimeout(J);G();p.v.terminate();q()}):q()}m=0;b.a.log("mediatcp: enter main loop");
h.F==b.b.R&&b.Z.Yb&&b.Z.Yb();t=!0;p.j=a;var n=null,f=!1;p.v=new Worker("worker/worker_timeout.js");p.v.onmessage=null;var w=0,Q=0,J=null,P=null,l=b.a.A();a.onclose=a.onerror=function(){z();f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onclose"):(f=!0,G(),g(),p.v.terminate(),v=b.o.Y,b.o.I(a),x(),b.a.log("mediatcp: break due to network error"))};a.onmessage=function(a){l=b.a.A();z();a=new d.a.g(a.data);c.D(a);f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onmessage"):
(r(),p.v.onmessage||(w=0,Q=b.a.A(),v()))};r();(function(){g();P=setInterval(function(){if(2E4<b.a.A()-l){var f=new d.a.g;f.f(4293844428);f.m(187);a.send(f.i());p.V()}},2E4)})();0!=c.length()&&(G(),w=0,Q=b.a.A(),v());p.disconnect=function(){f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, disconnect"):(t=!1,f=!0,b.a.log("mediatcp is stopped"),z(),G(),g(),p.v.terminate(),J&&(clearTimeout(J),J=null),b.o.I(a),q())};p.V=function(){l=b.a.A();z();r()}}function B(a,
c,d){r=Math.min(a,r);if(2E3<c-z||-2>=r)a=h.va,b.Z.Ib(r),a!=h.va&&h.Ca("tcp_media_rate_control,worst_command = "+r+",targetrate = "+h.va+",queue="+d+",avg="+(T>>0)),r=1,z=c}var p=this,m=0,I=null,A=null,t=!1;e();b.a.log("mediatcp: connecting...");var a=b.a.A(),c=0;this.lt=function(a){if(!t)return!0;var c=new d.a.g;c.f(a.length());c.M(a.h(0,17));c.M(b.Z.Pf(a));c.D(b.crypto.L(a.h(21),h.ba));this.j.send(c.i());this.V();return!0};this.jt=function(a){if(!t)return!0;var c=b.a.A(),e=this.j.bufferedAmount;
g=e;T+=.1*(e-T);e=h.Fm;e||(e=h.Fm={},e.X=0,e.ia=e.Na=c-1E5);var r=new d.a.g;r.f(a.length());r.M(a.h(0,17));r.M(b.Z.Pf(a));r.D(b.crypto.L(a.h(21),h.ba));this.j.send(r.i());e.X+=a.length();1E4<c-e.Na>>>0?(e.ia=c,e.X=0):3E3<c-e.ia&&(e.rate=0,0<e.X&&(e.tick=c,e.rate=8E3*e.X/(c-e.ia)>>0,h.Ca("audio_send_rate2,"+e.rate)),e.ia=c,e.X=0);e.Na=c;this.V();return!0};h.Ba=b.a.A();h.Ld=4*b.b.Dc;h.ha=h.Ld;this.mt=function(e){if(!t)return!0;var r=b.a.A(),m=this.j.bufferedAmount,z=m-g;g=m;T+=.1*(m-T);h.ha+=(r-h.Ba)*
h.va/8E3;h.Ba=r;if(0>h.ha)return!0;m>h.zm?(a=r,c=0):10<c&&1E4<r-a?(B(1,r,m),a=r,c=0):c++;if(m>h.ym)return B(-2,r,m),e=Math.max(h.Ld,20*h.va/8E3),h.ha>e&&(h.ha=e),!0;m>h.kg&&B(z>h.kg?-2:-1,r,m);m=h.Gm;m||(m=h.Gm={},m.X=0,m.ia=m.Na=r-1E5);z=e.length()-b.b.gc;var p=(z+(b.b.Dc-b.b.gc)-1)/(b.b.Dc-b.b.gc)>>0,q;for(q=0;q<p;q++){if(q==p-1){var v=z%(b.b.Dc-b.b.gc);0==v&&(v=b.b.Dc-b.b.gc)}else v=b.b.Dc-b.b.gc;var C=new d.a.g;C.M(e.h(0,b.b.gc));C.M(e.h(b.b.gc+q*(b.b.Dc-b.b.gc),v));h.ha-=C.length();m.X+=C.length();
v=new d.a.g;v.f(C.length());v.M(C.h(0,1));v.m(q>>8&255|(q==p-1?128:0));v.m(q&255);v.M(C.h(3,14));v.M(b.Z.Pf(C));v.D(b.crypto.L(C.h(21),h.ba));this.j.send(v.i())}e=Math.max(h.Ld,20*h.va/8E3);h.ha>e&&(h.ha=e);1E4<r-m.Na>>>0?(m.ia=r,m.X=0):3E3<r-m.ia&&(m.rate=0,0<m.X&&(m.tick=r,m.rate=8E3*m.X/(r-m.ia)>>0,h.Ca("video_send_rate2,"+m.rate)),m.ia=r,m.X=0);m.Na=r;this.V();return!0};this.kt=function(e,r,m,z,p,q){if(!t||0>r)return!0;var v=b.a.A(),C=h.P[r],A=this.j.bufferedAmount,x=A-g;g=A;T+=.1*(A-T);C.ha+=
(v-C.Ba)*C.zb/8E3;C.Ba=v;if(0>C.ha)return!0;A>h.zm?(a=v,c=0):10<c&&1E4<v-a?(B(1,v,A),a=v,c=0):c++;if(A>h.ym)return B(-2,v,A),e=Math.max(h.Ld,C.wj,20*C.zb/8E3),C.ha>e&&(C.ha=e),!0;A>h.kg&&B(x>h.kg?-2:-1,v,A);A=C.stat;A||(A=C.stat={},A.X=0,A.ia=A.Na=v-1E5);A.channel=r;C.ha-=e.length()+8;A.X+=e.length()+8;x=new d.a.g;x.f(e.length()+8);x.m(b.o.at(r));x.M(e.h(1,16));x.M(b.Z.Pf(e));x.f(m);p||(z|=2147483648);q||(z|=1073741824);x.f(z);x.D(b.crypto.L(e.h(21),h.ba));this.j.send(x.i());e=Math.max(h.Ld,C.wj,
20*C.zb/8E3);C.ha>e&&(C.ha=e);1E4<v-A.Na>>>0?(A.ia=v,A.X=0):3E3<v-A.ia&&(A.rate=0,0<A.X&&(A.tick=v,A.rate=8E3*A.X/(v-A.ia)>>0,h.Ca("appdata_send_rate2(channel "+r+"),"+A.rate)),A.ia=v,A.X=0);A.Na=v;this.V();return!0};var T=0,g=0,r=1,z=b.a.A()};y.Ic=function(h){function q(p){var m=new d.a.g,q=new y.Yr(h,p,m,function(){new E(p,m)},function(){b.a.log("MRP_TCPMedia_Notify: connection with mcu relay proxy fails");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}function E(d,m){var p=
null;var q=new y.Lb(h.vd,h.dd,d,m,function(){b.a.log("successfully notify mcu relay about using tcp for media");d.onclose=d.onerror=function(){e.disconnect()};d.onmessage=function(){};e.disconnect=function(){p&&(clearTimeout(p),p=null);b.o.I(d)};p=setTimeout(function(){p=null;b.o.I(d);e.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about using tcp for media");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}var e=this;var D=h.ca.Tb;var v=h.ca.port;
b.a.log("trying to notify mcu relay "+D+":"+v+" about using tcp for media");var B=new y.he(D,v,function(b){new q(b)},function(){b.a.log("MRP_TCPMedia_Notify: cannot connect to mcu relay");e.disconnect=function(){}});this.disconnect=function(){B.disconnect()}};y.Jc=function(h){function q(p){var m=new d.a.g,q=new y.Zr(h,p,m,function(){new E(p,m)},function(){b.a.log("NotifyMCURelaySessionIndex: connection with mcu relay proxy fails");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}
function E(d,m){var p=null;var q=new y.Lb(h.vd,h.dd,d,m,function(){b.a.log("successfully notify mcu relay about the session index");d.onclose=d.onerror=function(){e.disconnect()};d.onmessage=function(){};e.disconnect=function(){p&&(clearTimeout(p),p=null);b.o.I(d)};p=setTimeout(function(){p=null;b.o.I(d);e.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about the session index");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}var e=this;var D=h.ca.Tb;
var v=h.ca.port;b.a.log("trying to notify mcu relay "+D+":"+v+" about the session index");var B=new y.he(D,v,function(b){new q(b)},function(){b.a.log("NotifyMCURelaySessionIndex: cannot connect to mcu relay");e.disconnect=function(){}});this.disconnect=function(){B.disconnect()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.protocol=b.protocol||{};F.Ls=function(d,y,h){var q=this,E=(h.length+499)/500>>0,e=0,D=4E6/(48E3<d.xb?48E3:d.xb)>>0;1E3<D&&(D=1E3);q.fa=new Worker("worker/worker_interval.js");q.fa.onmessage=function(){d.Vk&&(q.fa&&(q.fa.terminate(),q.fa=null),q.disconnect=function(){});var v=b.Z.ss(b.b.nj,h.subarray(500*e,500*e+500),y,e|E<<16);b.Z.rs(v);e++;e==E&&(e=0)};q.fa.postMessage({command:"set",delay:D});q.disconnect=function(){q.fa&&(q.fa.terminate(),q.fa=null);q.disconnect=
function(){}}};F.Js=function(b,y,h){function d(){D.disconnect=function(){}}function E(m){var p=new H.a.g;if(b.sa){var q=new F.Ks(b,m,p,function(){e(m,p)},function(){d();h()});D.disconnect=function(){q.disconnect();d()}}else e(m,p)}function e(e,p){var m=new H.a.g("S");m.f(b.ta);m.f(b.G);e.send(m.i());var q=new F.Lb(b.bb,b.ea,e,p,function(){d();y(e,p)},function(){d();h()});D.disconnect=function(){q.disconnect();d()}}var D=this;if(b.sa){var v=b.ca.Tb;var B=b.ca.port}else v=b.aa,B=b.oa;var p=new F.he(v,
B,function(b){E(b)},function(){d();h()});this.disconnect=function(){p.disconnect();d()}};F.Is=function(d,y,h,q,E,e,D,v){function B(){p.disconnect=function(){}}var p=this,m=null;m=new F.Js(d,function(m){function A(){t();g=setTimeout(function(){g=null;b.o.I(m);c?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, setTimeout2"):(c=!0,B(),e())},F?1E4:6E4)}function t(){null!=g&&(clearTimeout(g),g=null)}function a(){p.fa&&(p.fa.terminate(),p.fa=null)}p.j=m;var c=!1,F=!1,g=null;
p.fa=null;m.onclose=m.onerror=function(){c?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, onclose"):(c=!0,a(),t(),b.o.I(m),F?(B(),e()):(B(),v&&v()))};var r=new H.a.g;h&&(r.f(-1),r.f(h.length),r.D(b.crypto.L(h,d.ba)));r.H(q);if(1==y)r.f(0),m.send(r.i()),F=!0,A();else{r.f(E.length);m.send(r.i());var z=0;p.fa=new Worker("worker/worker_interval.js");p.fa.onmessage=function(){if(!m.bufferedAmount){var a=b.a.A();500<b.a.A()-Z&&(D(z/E.length),Z=b.a.A());var c;for(c=0;100>
c;c++){var g=512;512>E.length-z&&(g=E.length-z);var e=E.subarray(z,z+g);r.clear();r.D(b.crypto.L(e,d.ba));m.send(r.i());z+=g;if(z>=E.length){F=!0;D(1);A();p.fa&&(p.fa.terminate(),p.fa=null);break}if(20<b.a.A()-a)break}}};p.fa.postMessage({command:"set",delay:10});var Z=b.a.A()-1E3;p.disconnect=function(){c?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, disconnect"):(c=!0,a(),t(),b.o.I(m),B(),v&&v())}}},function(){B();v&&v()});p.disconnect=function(){m&&m.disconnect();
B()}};F.Gs=function(d,y,h,q,E,e){function D(){p.disconnect=function(){}}function v(b){var a=new H.a.g;if(d.sa){var c=new F.Hs(d,y,h,b,a,function(){B(b,a)},function(b){E(b)},function(){D();e()});p.disconnect=function(){c.disconnect();D()}}else B(b,a)}function B(h,a){if(d.sa){if(d.F==b.b.R){var c=new H.a.g("R");c.f(d.ta);c.f(d.G)}else c=new H.a.g("r"),c.f(d.ta),c.f(d.Tf);h.send(c.i());D();q(h,a)}else if(d.F==b.b.R){c=new H.a.g("R");c.f(d.ta);c.f(d.G);h.send(c.i());var m=new F.Lb(d.bb,d.ea,h,a,function(){D();
q(h,a)},function(){D();e()});p.disconnect=function(){m.disconnect();D()}}else d.F==b.b.Fa&&(c=new H.a.g("r"),c.f(d.ta),c.f(d.Tf),h.send(c.i()),m=new F.Lb(d.bb,d.ea,h,a,function(){D();q(h,a)},function(){D();e()}),p.disconnect=function(){m.disconnect();D()})}var p=this;if(d.sa){var m=d.ca.Tb;var I=d.ca.port}else m=d.aa,I=d.oa;var A=new F.he(m,I,function(b){v(b)},function(){D();e()});this.disconnect=function(){A.disconnect();D()}};F.Fs=function(d,y,h,q,E,e){function D(){b.a.log(2,"info, error occurs downloading slide index "+
y);0==C.xa&&(C.xa=-1);B();e&&e()}function v(){b.a.log(5,"info, succeeds downloading slide index "+y);B();q()}function B(){z.disconnect=function(){};z.index=-1;z.V.terminate();b.a.log(5,"info, finish(could be success, failure, stop, etc.) downloading slide index "+y)}function p(){I();if(!d.sa||d.F!=b.b.R||C.We||C.ih||C.qm)t();else if(N++,3<N)D();else{b.a.log("the hash of slide "+y+" hasn't been received yet, request the hash and try download again later...");var a=new H.a.g;a.m(d.N);a.f(d.xg);a.f(1);
a.f(y);d.j.send(a.i());Z=setTimeout(p,2E3);z.disconnect=A}}function m(){z.V.onmessage&&(z.V.onmessage=null,z.V.postMessage({command:"clear"}))}function I(){Z&&(clearTimeout(Z),Z=null)}function A(){I();B()}function t(){I();!C.ra||C.ka<C.ra?(X=new F.Gs(d,y,O,g,E,function(){D()}),z.disconnect=a):(T(),z.disconnect=c)}function a(){X&&X.disconnect();B()}function c(){m();B()}function T(){ba=!0;O.ra=C.ra;O.Ba=b.a.A()-1E3;O.oe=0;O.ng=C.ra;G=function(){m();v()};aa=function(){m();D()};z.V.onmessage=r;z.V.postMessage({command:"set",
delay:20})}function g(a,c){function f(){g();p=setTimeout(function(){p=null;b.o.I(a);x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, setTimeout"):(x=!0,e(),m(),z.v.terminate(),D())},6E4)}function g(){null!=p&&(clearTimeout(p),p=null)}function e(){z.v.onmessage&&(z.v.onmessage=null,z.v.postMessage({command:"clear"}))}function n(){x=!0;g();e();m();z.v.terminate();b.o.I(a);v()}function P(){l()}function l(){x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, quit"):
(x=!0,g(),e(),m(),z.v.terminate(),Y=b.o.Y,b.o.I(a),D())}z.j=a;var p=null,x=!1;z.v=new Worker("worker/worker_timeout.js");z.v.onmessage=null;var q=!1;b.a.log(5,"info, connected with MCU downloading slide index "+y);a.onclose=a.onerror=function(){g();q?ba=!0:x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onclose"):(x=!0,e(),m(),z.v.terminate(),Y=b.o.Y,b.o.I(a),D())};a.onmessage=function(a){g();q?a.data.byteLength>C.ra-C.ka?l():(C.data.set(new Uint8Array(a.data),
C.ka),C.ka+=a.data.byteLength,x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage0"):C.ka<C.ra&&f()):(a=new H.a.g(a.data),c.D(a),x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage"):(f(),z.v.onmessage||(b.a.A(),Y())))};var t=new H.a.g;C.ka&&(C.ka&511&&(C.ka&=-512),t.f(-1),t.f(C.ka));t.f(y);a.send(t.i());Y=function(){if(!(4>c.length())){var a=O.ra=C.ra=c.c(0);O.Ba=b.a.A()-1E3;if(0==a)Y=b.o.Y,C.data=new Uint8Array(a),
C.xa=1,n();else if(0>a)C.xa=3,l();else{q=!0;Y=b.o.Y;if(!C.data){if(a>b.Z.Ph()){C.xa=4;l();return}if(d.wa+a>b.Z.Ph())if(h)b.Z.ft(y,a);else{l();return}try{C.data=new Uint8Array(a)}catch(ka){C.data=null;C.xa=4;l();return}d.wa+=a;C.ka=C.ka||0;C.gb=C.gb||0}G=n;aa=P;z.V.onmessage=r;z.V.postMessage({command:"set",delay:20});O.tj||(O.oe=0,O.ng=a);c.shift(4);a=c.length();a>C.ra-C.ka?l():a&&(C.data.set(new Uint8Array(c.i()),C.ka),C.ka+=a,c.shift(a))}}};f();0!=c.length()&&(e(),b.a.A(),Y());z.disconnect=function(){x?
b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, disconnect"):(x=!0,g(),e(),m(),z.v.terminate(),b.o.I(a),B())}}function r(){var a=G,c=aa,f=C.ka;C.ka!=C.ra&&(f&=-512);var g=b.a.A(),e;for(e=0;1E6>e;e++){var r=f-C.gb;if(0==r){ba&&c();break}512<r&&(r=512);var h=b.crypto.w(C.data.subarray(C.gb,C.gb+r),d.ba);C.data.set(new Uint8Array(h.i()),C.gb);C.gb+=r;if(C.gb==C.ra){if(d.sa&&!b.o.ut(C.hash,C.data,d.ba)){b.a.log("Alert! mrp slide download index="+y+" has mismatched hash!");
C.xa=2;c();break}C.xa=1;a();break}500<b.a.A()-O.Ba&&(E((C.gb+O.oe)/O.ng),O.Ba=b.a.A());if(20<b.a.A()-g)break}}var z=this,Z=null,G=null,aa=null;z.V=new Worker("worker/worker_interval.js");z.V.onmessage=null;var ba=!1,Y=b.o.Y,X=null,O={},C=d.$[y];-1==C.xa&&(C.xa=0);b.a.log(5,"info, request to download slide index "+y);this.index=y;var N=0;p()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.protocol=b.protocol||{},d=b.Wb=b.Wb||{};F.Pk=function(b,d,y,e){function h(){B.disconnect=function(){}}function q(m,p){var q=new H.a.g("@");q.f(d);q.H(b.da?b.Qa:b.O);m.send(q.i());var t=new F.Lb(0,b.B,m,p,function(){h();y(m,p)},function(){h();e()});B.disconnect=function(){t.disconnect();h()}}var B=this,p=new F.he(b.aa,b.port,function(b){var d=new H.a.g;q(b,d)},function(){h();e()});this.disconnect=function(){p.disconnect();h()}};F.Qr=function(h,q,y){function e(){D.disconnect=
function(){}}var D=this,v=null,B=b.o.Y;v=new F.Pk(h,3,function(p,m){function v(){D.v.onmessage&&(D.v.onmessage=null,D.v.postMessage({command:"clear"}))}function A(){var a=b.a.A()-g;20<a||9<=E?(500<a&&b.a.log("info, check_im handler depth="+E+",use "+a+"ms"),D.v.onmessage||(D.v.onmessage=function(){D.v.onmessage=null;if(m.length()){E=0;g=b.a.A();var a=m.length();B();if(c){var d=m.length();d&&d!=a||(m.clear(),p.onclose())}}},D.v.postMessage({command:"set"}))):(E++,B())}function t(){a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, quit"):
(a=!0,v(),D.v.terminate(),B=b.o.Y,b.o.I(p),e(),y&&y())}D.j=p;var a=!1;D.v=new Worker("worker/worker_timeout.js");D.v.onmessage=null;var c=!1,E=0,g=0;p.onclose=p.onerror=function(){if(m.length())if(c=!0,a)b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose,alt");else{if(D.v.onmessage)return;E=0;g=b.a.A();var d=m.length();B();var h=m.length();if(h&&h!=d)return}a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose"):(a=!0,v(),D.v.terminate(),
B=b.o.Y,b.o.I(p),e(),y&&y())};p.onmessage=function(c){c=new H.a.g(c.data);m.D(c);a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onmessage"):D.v.onmessage||(E=0,g=b.a.A(),B())};B=function(){function a(a){if(!(12>a.length||(n=new H.a.g(a),n.K(a.length-1)))){x=n.c(8);C=n.c(0);var f=12;switch(x){case b.b.Xi:f=16;case b.b.Zi:var c=a.slice(f).indexOf("\x00");if(-1==c)return;var g=a.slice(f+c+1).indexOf("\x00");if(-1==g)return;var d=a.slice(f+c+g+2).indexOf("\x00");if(f+c+
g+d+3!=a.length||c>=b.b.Ya<<1||500<=g||5E3<=d)return;F=(y==b.b.kp?a.substr(f,c)+": ":"")+a.substr(f+c+1,g);break;case b.b.Ig:case b.b.Ui:f=16,x=x==b.b.Ig?b.b.Gg:b.b.Hg;case b.b.Gg:case b.b.Hg:c=a.slice(f).indexOf("\x00");if(f+c+1!=a.length||c>=b.b.Ya<<1)return;F=a.substr(f,c);break;case b.b.Vi:f=16;c=a.slice(f).indexOf("\x00");if(-1==c)return;g=a.slice(f+c+1).indexOf("\x00");if(f+c+g+2!=a.length||c>=b.b.Ya<<1||g>=b.b.Ya<<1)return;F=a.substr(f,c)+": "+a.substr(f+c+1,g);break;case b.b.Yi:case b.b.Wi:f=
20;c=a.slice(f).indexOf("\x00");if(f+c+1!=a.length||5E3<=c)return;F=a.substr(f,c);break;default:return}return{rt:C,qt:x,text:F}}}var c=m.length();if(!(1>c))if(!m.K(0))D.disconnect(),e(),q&&q();else if(!(13>c)){var g=m.c(9);if(0>g||g>=b.b.Ya<<2)t();else if(!(c<13+g+4)){var p=m.c(13+g);if(0>p||p>=b.b.Ya<<1)t();else if(!(c<13+g+4+p+4)){var v=m.c(17+g+p);if(0>v||13334<=v)t();else if(!(c<13+g+4+p+4+v)){var y=m.c(1),B=m.c(5)>>>0,E=b.crypto.w(m.h(13,g),h.B).u(),O=b.crypto.w(m.h(13+g+4,p),h.B).u();c=b.crypto.w(m.h(13+
g+4+p+4,v),h.B).u();g=13+g+4+p+4+v;var C=0,F="",x=0;if(35==c.charCodeAt(0)){if(x=b.b.Fg,p=b.a.Gb(c.slice(1)),12<=p.length){var n=new H.a.g(p);C=n.c(0);n.K(p.length-1)||(c=p.slice(12).indexOf("\x00"),12+c+1==p.length&&(F=""+n.c(8)+"("+p.substr(12,c)+")"))}}else c=a(b.a.Gb(c)),C=c.rt,x=c.qt,F=c.text;d.Yj&&d.Yj(h,D,y,B,E,O,C,x,F);m.shift(g);A()}}}}};0!=m.length()&&(v(),E=0,g=b.a.A(),B());D.disconnect=function(){a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, disconnect"):
(a=!0,v(),D.v.terminate(),b.o.I(p),e())}},function(){e();y&&y()});D.disconnect=function(){v&&v.disconnect();e()}};F.Qk=function(h,q,y){function e(){v.connected=!1;D();y&&y()}function D(){v.disconnect=function(){}}var v=this;this.connected=!1;this.Fh=this.Eh=0;this.om=this.Df=this.Me=!1;this.nb=this.Da=0;var B=h.da,p=null,m=b.o.Y;p=new F.Pk(h,B?2:1,function(p,q){function t(){v.v.onmessage&&(v.v.onmessage=null,v.v.postMessage({command:"clear"}))}function a(){var a=b.a.A()-A;20<a||9<=z?(500<a&&b.a.log("info, check_msg handler depth="+
z+",use "+a+"ms"),v.v.onmessage||(v.v.onmessage=function(){v.v.onmessage=null;if(q.length()){z=0;A=b.a.A();var a=q.length();m();if(r){var c=q.length();c&&c!=a||(q.clear(),p.onclose())}}},v.v.postMessage({command:"set"}))):(z++,m())}function c(){function g(){if(h.J!=b.b.pa)y();else{var f=q.length();if(!(43>f)){var g=b.crypto.w(q.h(0,43),h.B);var e=g.c(35),r=g.c(39);if(0>e||e>=b.b.Ya||0>r||r>=b.b.Ya)y();else if(!(f<43+e+r+4)){var n=b.crypto.w(q.h(43,e+r+4),h.B);if(d.Td){var l=g.h(0,23);var p=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(l);
f=g.c(23);var z=4294967296*(n.c(e+r)>>>0)+(g.c(27)>>>0);g=g.c(31);p=p?new Date(p[1],p[2]-1,p[3],p[4],p[5],0)/1E3:0;var t=e?n.h(0,e):"";n=r?n.h(e,r):"";d.Td(h,v,!1,0,f,z,g,p,t,"",n,l)}q.shift(43+e+r+4);C++;C==A&&(m=c,d.Ub&&d.Ub(h,v),v.nb=0,v.Da=1);a()}}}}function e(){if(h.J!=b.b.pa)y();else{var f=v.dc?32:36;var g=q.length();if(!(g<f)){var e=b.crypto.w(q.h(0,f),h.B);var r=e.c(24),n=e.c(28),l=0;if(0>r||r>=b.b.Ya||0>n||n>=b.b.Ng)y();else{if(!v.dc&&(l=e.c(32),0>l||l>=b.b.Ya)){y();return}if(!(g<f+r+n+l+
4)){var p=b.crypto.w(q.h(f,r+n+l+4),h.B);if(d.Td){var z=l,t=e.h(8,23);var x=/(\d\d\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/.exec(t);g=e.c(0);var G=4294967296*(p.c(r+n+z)>>>0)+(e.c(4)>>>0);e=e.c(20);x=x?new Date(x[1],x[2]-1,x[3],x[4],x[5],0)/1E3:0;var B=r?p.h(0,r):"";var D=n?p.h(r,n):"";p=z?p.h(r+n,z):"";d.Td(h,v,!!v.dc,v.dc?A:C,g,G,e,x,B,D,p,t)}q.shift(f+r+n+l+4);C++;if(v.dc||C==A)m=c,d.Ub&&d.Ub(h,v),v.nb=0,v.Da=1;a()}}}}}function r(){if(h.J!=b.b.pa)y();else if(!(q.length()<23+b.b.Ya+16)){var f=b.crypto.w(q.h(0,
23+b.b.Ya+16),h.B);if(d.Td){var g=f.h(0,23),e=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(g);var r=e?new Date(e[1],e[2]-1,e[3],e[4],e[5],0)/1E3:0;e=b.b.Ya;var n=f.h(23,e);var l=n.indexOf("\x00");var p=f.c(23+e);var z=4294967296*(f.c(23+e+12)>>>0)+(f.c(23+e+4)>>>0);f=f.c(23+e+8);n=-1==l?n:n.slice(0,l);d.Td(h,v,!0,0,p,z,f,r,n,"","",g)}q.shift(23+b.b.Ya+16);m=c;d.Ub&&d.Ub(h,v);v.nb=0;v.Da=1;a()}}function p(){if(h.J!=b.b.pa)y();else{var f=q.length(),g=Math.min(512,v.ra-v.ka);f<g||(f=b.crypto.w(q.h(0,
g),h.B).i(),v.data.set(new Uint8Array(f),v.ka),v.ka+=g,q.shift(g),v.ka==v.ra?(m=c,d.xf&&d.xf(h,v,0),v.Da=1):d.Ud&&(g=b.a.A(),500<g-v.Ba&&(f=v.ka/v.ra*100>>>0,f!=v.V&&(v.V=f,v.nb=f,d.Ud(h,v)),v.Ba=g)),a())}}if(h.J!=b.b.pa)y();else{var z=q.length();if(!(1>z)){switch(q.K(0)){case 122:if(5>z)return;var t=q.c(1);switch(t){case 24:if(13>z)return;v.Eh=q.c(5);v.Fh=q.c(9);q.shift(13);break;case 64:if(9>z)return;t=q.c(5);if(200!=t){b.a.log(3,"checkmessage, unknown JNR password type "+t);y();return}if(17>z)return;
v.Me=!!q.c(9);v.Df=!!q.c(13);q.shift(17);break;case 9:var C=0;if(9>z)return;var A=q.c(5);q.shift(9);A?m=g:(d.Ub&&d.Ub(h,v),v.Da=1);break;case 27:C=0;if(9>z)return;A=q.c(5);q.shift(9);A?m=e:(d.Ub&&d.Ub(h,v),v.Da=1);break;case 75:v.om=!0;q.shift(5);break;default:b.a.log(3,"checkmessage, unknown extension command "+t);y();return}break;case 33:if(5>z)return;t=q.c(1);switch(t){case 12:if(9>z)return;t=q.c(5);if(0>t||1E4<=t){y();return}if(0==t)d.mk&&d.mk();else{if(z<9+t)return;d.Sd&&d.Sd(b.crypto.w(q.h(9,
t),h.B).u())}v.Da=1;q.shift(9+t);break;case 5:if(9>z)return;t=q.c(5);if(0>t||4096<=t){y();return}if(0==t)d.zf&&d.zf(h,v,""),q.shift(9+t);else{if(z<9+t+4)return;var x=q.c(9+t);if(0>x||1E4<=x){y();return}if(z<9+t+4+x)return;z="";t&&(z=b.crypto.w(q.h(9,t),h.B).u());var n="";x&&(n=b.crypto.w(q.h(9+t+4,x),h.B).u());q.shift(9+t+4+x);d.zf&&d.zf(h,v,z,n)}v.Da=1;break;case 10:if(9>z)return;d.pk&&d.pk(h,v,q.c(5));v.Da=1;q.shift(9);break;case 11:if(9>z)return;t=q.c(5);x=B?4096:256E4;if(0>t||t>=x){y();return}x=
"";if(t){if(z<9+t)return;x=b.crypto.w(q.h(9,t),h.B).u()}B&&!x?d.qk&&d.qk():d.Mk&&d.Mk(h,v,x);q.shift(9+t);v.Da=1;break;case 7:case 8:if(9>z)return;(z=7==t?d.Lr:d.Kr)&&z(h,v,q.c(5));q.shift(9);v.Da=1;break;case 9:if(9>z)return;v.nb=q.c(5);d.Ud&&d.Ud(h,v);q.shift(9);break;case 13:if(9>z)return;d.jk&&d.jk(h,v,q.c(5));q.shift(9);v.Da=1;break;default:b.a.log(3,"checkmessage, unknown playback command "+t);y();return}break;case 48:switch(v.dc){case 19:if(6>z)return;if(t=q.c(2)){d.Vd&&d.Vd(h,v,t);q.shift(6);
v.nb=0;v.Da=1;break}if(10>z)return;if(t=q.c(6)){d.Vd&&d.Vd(h,v,t);q.shift(10);v.nb=0;v.Da=1;break}if(14>z)return;h.da?(A=q.c(10),q.shift(14),m=e):(q.shift(10),m=r);break;case 18:if(2>z)return;t=q.K(1);if(48!=t){d.xf&&d.xf(h,v,t);q.shift(2);v.nb=0;v.Da=1;break}if(14>z)return;v.ra=4294967296*(q.c(10)>>>0)+(q.c(2)>>>0);v.data=new Uint8Array(v.ra);v.ka=0;v.V=0;v.Ba=b.a.A()-1E3;q.shift(14);m=p;break;case 17:if(14>z)return;h.da?(A=q.c(10),q.shift(14),m=e):(q.shift(10),m=r);break;default:b.a.log(3,"checkmessage, quit thread: process init command,unknown request type "+
v.dc);y();return}break;default:b.a.log(3,"checkmessage, quit thread: unknown command "+q.u(1));y();return}a()}}}function y(){g?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, quit"):(v.nb=0,g=!0,t(),v.v.terminate(),m=b.o.Y,b.o.I(p),e())}v.j=p;v.connected=!0;var g=!1;v.v=new Worker("worker/worker_timeout.js");v.v.onmessage=null;var r=!1,z=0,A=0;p.onclose=p.onerror=function(){if(q.length())if(r=!0,g)b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose,alt");
else{if(v.v.onmessage)return;z=0;A=b.a.A();var a=q.length();m();var c=q.length();if(c&&c!=a)return}g?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose"):(g=!0,t(),v.v.terminate(),m=b.o.Y,b.o.I(p),e())};p.onmessage=function(a){a=new H.a.g(a.data);q.D(a);g?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onmessage"):v.v.onmessage||(z=0,A=b.a.A(),m())};m=c;0!=q.length()&&(t(),z=0,A=b.a.A(),m());v.disconnect=function(){g?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, disconnect"):
(v.nb=0,g=!0,t(),v.v.terminate(),b.o.I(p),v.connected=!1,D())}},function(){e()});v.disconnect=function(){p&&p.disconnect();D()}};var y=F.Qk;y.prototype._thread_status=function(b){if("undefined"===typeof b)return this.Da;this.Da=b};y.prototype._cache_item=function(b){if("undefined"===typeof b)return this.hr;this.hr=b};y.prototype._progress=function(b){if("undefined"===typeof b)return this.nb;this.nb=b};y.prototype._buffer=function(b){if("undefined"===typeof b)return this.buffer;this.buffer=b};y.prototype._buffer_offset=
function(b){if("undefined"===typeof b)return this.kc;this.kc=b};y.prototype._buffer_pointer=function(b){if("undefined"===typeof b)return this.Ia;this.Ia=b};y.prototype._buffer_end=function(b){if("undefined"===typeof b)return this.Qb;this.Qb=b};y.prototype._buffer_busy=function(b){if("undefined"===typeof b)return this.mf;this.mf=b};y.prototype._data=function(b){if("undefined"===typeof b)return this.data;this.data=b};y.prototype._connected=function(){return this.connected};y.prototype._busy=function(){return!this.Da};
y.prototype._diskquota=function(){return this.Eh};y.prototype._diskusage=function(){return this.Fh};y.prototype._jn_bEnableWebOfficeEx=function(){return this.Df};y.prototype._jn_bEnableJNRPassword=y.prototype.Rq=function(){return this.Me};y.prototype._m_bToArchive=function(){return this.om}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){return""+a.hc+"."+a.ic+"."+a.Og+" built on 04/10/2020"}function F(){a.xd="";a.im="";a.ke="";a.F=b.b.R;a.ED=!1;a.Ve="";a.CF="";a.zD=!1;a.Pe=!1;a.oh={};a.va=a.Qc=a.xb=a.Sf=1E7;a.Re=0;a.Le=0;a.Tc=0;a.CD=!0;a.ee=-1;a.AD=!1;a.$d=!1;a.HD=!1;a.sh=!1;a.gs=!1;a.ID=!1;a.Oe=!1;a.je=null;a.Wf=0;a.Vf=0;a.ge="";a.Dh=[]}function d(){this.Xc=0}function y(){this.ec="";this.dg=[];this.xa=0}function h(){}function q(){}function E(g,d){function r(e){g[e].Ac=null;g[e].Bd?b.a.log(["joinnet connecting to backup mcu ",
g[e].aa,",",g[e].oa,"..."].join("")):d&&0==e?b.a.log(["joinnet connecting to (switched) primary mcu ",g[e].aa,",",g[e].oa,"..."].join("")):b.a.log(["joinnet connecting to primary mcu ",g[e].aa,",",g[e].oa,"..."].join(""));g[e].Cd=new b.protocol.fm(a.hc,a.ic,a,g,e,function(){g[e].pd=!0;if(g[e].Mb)a:{var r;for(r=0;r<g.length;r++){if(!g[r].pd||!g[r].Mb)break a;var z=g[r].Ss;var t=g[r].Mb}y&&(clearTimeout(y),y=null);b.a.log("joinnet connecting to mcu fails");!z&&a.Oe?(c.Nc&&c.Nc(!1),a.pc=!1):a.sa?(b.a.log("using relay fails, clear relay setting and retry connect......"),
a.sa=!1,E(g,d)):(c.Ka&&c.vb(t),c.Vl&&c.Vl(),a.pc=!1)}else 0==e?(y&&(clearTimeout(y),y=null),m(0),q=0,new b.protocol.Qe(a.hc,a.ic,g[0],g[0].aa,g[0].oa,p)):y||h()})}function h(){y=null;var c;for(c=0;c<g.length;c++)if(g[c].pd&&!g[c].Mb){m(c);q=c;new b.protocol.Qe(a.hc,a.ic,g[c],g[c].aa,g[c].oa,p);break}}function m(b){var a;for(a=0;a<g.length;a++)g[a].Ac?(clearTimeout(g[a].Ac),g[a].Ac=null):g[a].pd?a==b||g[a].Mb||g[a].j.close():g[a].Cd&&g[a].Cd.disconnect&&g[a].Cd.disconnect()}function p(r){if(r)1<g.length?
(d=0,b.a.log(["connection to mcu ",g[q].aa,g[q].oa," fails during key exchange, but we'd like to try other entries"].join("")),g.splice(q,1),E(g,d)):(a.pc=!1,3==r?a.Oe&&(c.Nc?c.Nc(!1):c.Ka&&c.vb(b.b.qp)):2!=r&&a.Oe&&(c.Nc?c.Nc(!1):c.Ka&&c.vb(b.b.rp)));else{r=q;a.fe=g[r].fe;a.Xf=g[r].Xf;a.wd=g[r].wd;a.bb=g[r].bb;a.Ne=g[r].Ne;a.vd=g[r].vd;a.Rc=g[r].Rc;a.Vc=g[r].Vc;a.Bh=g[r].Bh;var h=b.o.hg(a.Vc);a.AF=h.lb;a.BF=h.Eb;h=b.o.hg(a.Bh);a.yF=h.lb;a.zF=h.Eb;a.ag=g[r].ag;a.$f=g[r].$f;a.Yf=g[r].Yf;a.hd=g[r].hd;
a.ea=g[r].ea;a.ba=g[r].ba;a.dd=g[r].dd;a.yc=g[r].yc;a.j=g[r].j;a.Ed=g[r].Ed;a.aa=g[r].aa;a.oa=g[r].oa;a.Ns=g[r].Bd;b.a.log(["joinnet connected with mcu ",a.aa,",",a.oa].join(""));r=a.j;if(a.Ne){h=new t.a.g("4");r.send(h.i());a.F==b.b.R&&12==a.ge.length&&(b.a.log("send reconnect name."),h.clear(),h.f(16),h.f(b.protocol.Pm),h.D(b.crypto.L(a.ge,a.ea)),r.send(h.i()));a.Oe&&(a.je&&(b.a.log("send reconnect ticket."),h.clear(),h.f(4+a.yq),h.f(b.protocol.Qm),h.D(b.crypto.L(a.je.u(),a.ea)),r.send(h.i())),
a.F===b.b.R&&(a.Wf||a.Vf)&&(b.a.log("send meeting identity info: meeting_type="+a.Wf+",random_id="+a.Vf),h.clear(),h.f(12),h.f(b.protocol.Nm),h.f(a.Wf),h.f(a.Vf),r.send(h.i())));a.em&&(b.a.log("send make recording request."),h.clear(),h.f(4),h.f(b.protocol.Mm),r.send(h.i()));a.sa&&(h.clear(),4==a.ca.Hb.length?(h.f(12),h.f(b.protocol.Rm),h.xm(a.ca.Hb)):(h.f(24),h.f(b.protocol.hi),h.M(a.ca.Hb)),h.f(a.ca.port),r.send(h.i()));if(a.Im&&a.aa.length){var m=b.a.pb(a.aa);var p=m.length;h.clear();h.f(4+p);
h.f(b.protocol.gi);h.M(m);r.send(h.i())}h.clear();h.f(7);h.f(b.protocol.fi);h.M("WEB");r.send(h.i());b.o.vendor&&20>=b.o.vendor.length&&(h.clear(),h.f(4+b.o.vendor.length),h.f(b.protocol.ii),h.M(b.o.vendor),r.send(h.i()));a.ke&&(m=a.ke,p=m.length,h.clear(),h.f(4+p),h.f(b.protocol.Om),h.M(m),r.send(h.i()),b.a.ne("send player_name "+a.ke+" to mcu"));h.clear();h.f(0);r.send(h.i())}a.sh?(h=new t.a.g("3"),h.gg(a.Ve),p=0,a.ph=a.Lc,a.qh=a.ud,a.Lc&&(p|=1),a.ud&&(p|=2),a.Mc=!1,p|=8,a.rc&&(p|=16),p|=32,c.Zb&&
!c.Zb()?(a.Uf=1,p|=64):a.Uf=0,h.m(p)):(h=a.F!=b.b.R?15==a.ib?new t.a.g("4"):5==a.ib&&a.Zf?new t.a.g("5"):new t.a.g("1"):4==a.ib&&a.ie?new t.a.g("6"):new t.a.g("0"),15==a.ib?(h.gg(a.Ve),h.gg(a.im)):a.F!=b.b.R?(m=b.a.pb(a.Ma),p=m.length,h.f(p),p&&h.D(b.crypto.L(m,a.ea)),a.$d&&(p=b.crypto.$c(a.ac),h.f(20),h.D(b.crypto.L(p,a.ea)),5==a.ib&&a.Zf&&(m=b.a.pb(a.Zf),p=m.length,h.f(p),p&&h.D(b.crypto.L(m,a.ea))))):(h.m(0),m=b.a.pb(a.Ma),p=m.length,h.f(p),p&&h.D(b.crypto.L(m,a.ea)),a.$d&&(95==a.Ma.charCodeAt(0)?
-2!=a.fe?(p=a.Ue.length,h.f(p),p&&h.D(b.crypto.L(a.Ue,a.ea)),b.a.ne("**, Guest name is "+a.Ue+" (utf branch)")):(p=a.Te.length,h.f(p),p&&h.D(b.crypto.L(a.Te,a.ea)),b.a.ne("**, Guest name is "+a.Te+" (multibyte branch)")):(p=b.crypto.$c(a.ac),h.f(20),h.D(b.crypto.L(p,a.ea)))),p=0,a.ph=a.Lc,a.qh=a.ud,a.Lc&&(p|=1),a.ud&&(p|=2),a.Mc=!1,p|=8,a.rc&&(p|=16),p|=32,c.Zb&&!c.Zb()?(a.Uf=1,p|=64):a.Uf=0,h.m(p),a.$d&&4==a.ib&&a.ie&&(m=b.a.pb(a.ie),p=m.length,h.f(p),p&&h.D(b.crypto.L(m,a.ea)))));r.send(h.i());
e()}}var q,v;c.Ka&&c.Ka(b.b.lp);for(v=0;v<g.length;v++)g[v].Ac=setTimeout(r,500*v,v),g[v].Mb=b.b.Jg;var y=setTimeout(h,5E3);a.disconnect=function(){m(-1);a.pc=!1}}function e(){function g(){fa=null;var f=b.a.A()-a.de>>>0,d=f;f&2147483648&&(d=-f>>>0);var l=d/1E3/60>>>0;d-=6E4*l;var e=l/60>>>0;l=("0000"+(l-60*e)).slice(-2);f&2147483648?l=["-",e,":",l].join(""):(l=["",e,":",l].join(""),d=6E4-d);!(f&2147483648||a.ee&2147483648)&&0<a.ee&&864E3>a.ee&&(f=(a.ee+59)/60>>>0,e=f/60>>>0,l+=" / "+e+":"+("0000"+
(f-60*e)).slice(-2));a.tr=l;c.Zl&&c.Zl();fa=setTimeout(g,d+200)}function e(){z();la=setTimeout(function(){la=null;if(!a.C||a.pc)ja=0,e();else if(ja++,3<=ja)b.a.log("disconnect, local timeout"),J();else{var f=new t.a.g;f.m(a.vg);f.M("0");P.send(f.i());e()}},2E4)}function z(){null!=la&&(clearTimeout(la),la=null)}function B(){a.v.onmessage&&(a.v.onmessage=null,a.v.postMessage({command:"clear"}))}function G(f){if(l.length()){var c=b.a.A()-pa;20<c||9<=ka?(500<c&&b.a.log("info, jnkernel handler("+f+") depth="+
ka+",use "+c+"ms"),a.v.onmessage||(a.v.onmessage=function(){a.v.onmessage=null;F()},a.v.postMessage({command:"set"}))):(ka++,ha())}}function E(){if(a.Hd||a.gf)b.a.log(a.Hd?"disconnect, remote close":"disconnect, error"),J()}function F(){var a=l.length();if(a){ka=0;pa=b.a.A();ha();var f=l.length();f&&f!=a||E()}else E()}function I(){L=new t.a.g(l);var g=l.K(0);switch(g){case a.N:if(!(5>l.length()))if(g=l.c(1),0<=g&&g<=a.Cp)ua[g]();else b.a.log(["disconnect, unknown command extension[",g,"]"].join("")),
J();break;case a.Id:C();break;case a.Zm:5>l.length()||(x(-2,l.c(1)),l.shift(5),M=L,G("COMMAND_FLIP"));break;case a.wg:5>l.length()||(g=l.c(1),a.za=g,a.F==b.b.R&&a.Tc&&c.Ib(0),g!=a.G?a.Ja&&(a.Ja=!1):(a.ub=!1,a.Ja||(c.Yb&&c.Yb(),a.Ja=!0)),b.a.log(["data sender change to ",g,"; internal ",a.ua,",",a.za,"; ",a.qa,",",a.Ja].join("")),c.Jf&&c.Jf(g),l.shift(5),M=L,G("COMMAND_DATA_SENDER"));break;case a.vg:2>l.length()||(48==l.K(1)&&(g=new t.a.g,g.m(a.vg),g.M("1"),a.j.send(g.i())),l.shift(2),M=L,G("COMMAND_ALIVE_PACKET"));
break;case a.Bg:if(!(5>l.length())){g=l.c(1);var d=a.ua,e=a.za;!(0<=d)||a.U[d]&&a.U[d].He||(d=-1);!(0<=e)||a.U[e]&&a.U[e].He||(e=-1);var r=c.jc();a.ua=g;a.za=g;a.ub=!1;a.F==b.b.R&&a.Tc&&c.Ib(0);var h=c.jc();g==a.G&&-1!=a.G?a.qa||(c.Yb&&c.Yb(),a.qa=!0,a.Ja=!0,a.th(r,h)):g!=a.G&&(c.be&&c.be(-1),a.qa=!1,a.Ja=!1);b.a.log(["token holder change to ",g,"; internal ",a.ua,",",a.za,"; ",a.qa,",",a.Ja].join(""));c.rl&&c.rl(g,d,e);c.Jf&&c.Jf(g);l.shift(5);M=L;G("COMMAND_TOKEN_UPDATE")}break;case a.dn:w();break;
case a.ad:if(!(5>l.length()))if(g=l.c(1),0<=g&&g<=a.wq)ta[g]();else b.a.log(["disconnect, unknown playback command [",g,"]"].join("")),J();break;case a.ui:a:if(g=l.length(),!(5>g)){d=l.c(1);if(1==d)c.El&&c.El(),l.shift(5);else if(2==d){if(13>g)break a;c.Wk&&c.Wk(l.c(5),l.c(9));l.shift(13)}else{b.a.log(["disconnect, unknown tutor command ",d].join(""));J();break a}M=L;G("COMMAND_TUTOR")}break;case a.bn:O();break;case a.Vm:f(0);break;case a.li:5>l.length()||(g=l.c(1),0<=g&&g<a.$.length&&(a.$[g].We=
!0,a.$[g].data&&(a.wa-=a.$[g].data.length,a.$[g].data=null),c.Pl&&c.Pl(g)),l.shift(5),M=L,G("COMMAND_DELETE_SLIDE"));break;case a.ki:5>l.length()||(g=l.c(1),0<=g&&g<a.$.length&&(a.$[g].dg=[],c.ce&&c.ce(1,g)),l.shift(5),M=L,G("COMMAND_CLEAR_MARK"));break;case a.Xm:5>l.length()||(g=l.c(1),c.Kl&&c.Kl(g),l.shift(5),M=L,G("COMMAND_DEFAULT_VIDEO_COMMAND"));break;case a.Hn:a.Xb=!0;l.shift(1);M=L;G("COMMAND_TOKEN_OWNER_NOTIFY");break;case a.si:a.ub&&(a.ub=!1,c.hs());l.shift(1);M=L;G("COMMAND_SKIP_QUESTION");
break;case a.mi:b.a.log("quitsession: user is disconnected by owner");D();c.Ka&&c.vb(b.b.pp);l.shift(1);M=L;G("COMMAND_DISCONNECT");break;case a.wn:d=l.length();9>d||(g=l.c(5),0>g||600<=g?(b.a.log("disconnect, COMMAND_QUESTION_REQUEST invalid len"),J()):d<9+g||(d=l.c(1),d!=a.za&&a.G==c.Fe()&&c.Xk&&c.Xk(d),l.shift(9+g),M=L,G("COMMAND_QUESTION_REQUEST")));break;case a.An:n();break;case a.Jn:N();break;case a.ri:b.a.log("quitsession: meeting is over");D();a.Ah&&c.ae&&c.ae(a.Ah,"",-1);c.Ka&&c.vb(b.b.up);
l.shift(1);M=L;G("COMMAND_SESSION_END");break;default:b.a.log(["disconnect, unknown command[",g,"/0x",g.toString(16),"]"].join("")),J()}}function H(){var b=l.length();if(!(9>b)){var f=l.c(1);if(f==a.kn||f==a.jn){if(21>b)return;l.shift(21)}else l.shift(9);M=L;G("Command_MulticastStartAddrEx,"+f)}}function O(){var f;var d=l.length();if(!(2>d)){var e=f=l.K(1);if(48==f){if(a.F!=b.b.Wo&&a.F!=b.b.Cq){if(a.F==b.b.R){if(102>d)return;a.G=l.c(2);a.ta=l.c(6);b.a.log(["my ssrc is ",a.G,", session_index is ",
a.ta].join(""));a.xb=l.c(10);a.xb>b.b.cj&&(a.xb=b.b.cj);1E4>a.xb&&(a.xb=1E4);b.a.log(["max bandwidth is ",a.xb].join(""));a.va=a.xb;c.Mf&&c.Mf();c.Ib(0);d=l.c(98);f=b.crypto.w(l.h(38,20),a.ea);e=b.crypto.w(l.h(58,40),a.ea);a.Dm={ja:f.u(),key:e.u()};a.ba=b.crypto.Wg(a.hd,a.Dm);a.de=b.a.A()-(d>>>0)>>>0;d=(new t.a.g(t.random.ya(4))).Nb();b.a.log(["statistics log anchor ",d].join(""));a.Ca(["==================== ",d," ====================\n\n\n"].join(""));a.Ca(["connected with mcu ",a.aa,",",a.oa].join(""));
a.Ca(["info: meeting session,ssrc=",a.G,",session_index=",a.ta].join(""));d=new t.a.g;d.f(0);d.f(a.G);d.f(a.ta);d.M(a.yc.key);d.M(a.yc.ja);a.je=d;l.shift(102)}else{if(18>d)return;a.G=-1;a.Tf=l.c(2);a.ta=l.c(6);a.xb=0;d=new t.a.g;d.f(1);d.f(a.Tf);d.f(a.ta);d.M(a.yc.key);d.M(a.yc.ja);a.je=d;l.shift(18)}a.gF=a.ta;a.F==b.b.R&&a.sa&&(a.Jc&&(a.Jc.disconnect(),a.Jc=null),a.Jc=new b.protocol.Jc(a));a.BD=!0;a.C=!0;a.pc=!1;a.La=-1;a.ua=-1;a.za=-1;a.wb=-1;a.Se=0;a.Pe=!1;a.mh();a.F==b.b.R&&g();c.Yb&&c.Yb();c.Ka&&
c.Ka(b.b.mp);a.$d&&a.F==b.b.R&&a.Ma&&1<=a.Ma.length&&95!=a.Ma.charCodeAt(0)&&(a.gs=!0)}M=L;G("COMMAND_INITIAL_INFO")}else{f==b.b.fp&&a.F==b.b.R&&a.ge&&c.ae&&c.ae(a.ge,"",-1);if(f>b.b.hp||f<b.b.ep)b.a.log("disconnect, COMMAND_INITIAL_INFO return unknown error: "+f),f=b.b.Jg;else if(f==b.b.Xo)a.F!=b.b.R?f=b.b.tp:f=b.b.lf+f-256;else{if(f==b.b.Si){if(10>d)return;f=l.c(2);d=l.c(6);c.Ff&&c.Ff(b.b.Si,f,d);Q();c.hb&&c.hb();return}if(f==b.b.Ri){if(10>d)return;f=l.c(2);d=l.c(6);c.Ff&&c.Ff(b.b.Ri,f,d);Q();c.hb&&
c.hb();return}if(f==b.b.Ti){if(f=b.b.lf+f-256,4==a.ib||5==a.ib)a.ac=a.Uc=""}else f=b.b.lf+f-256}e!=b.b.gp&&c.Ka&&c.vb(f);Q();c.hb&&c.hb()}}}function C(){var f;var g=l.length();if(!(2>g)){var d=new h,e=l.K(1);if(e==b.b.zp||e==b.b.Kg){var w=(f=e==b.b.Kg)?8:0;if(26>g)return;var r=l.c(22);if(0>r){b.a.log("disconnect, COMMAND_MARK.stroke invalid size");J();return}if(g<26+8*r+w)return;d.nm=l.c(2);d.V=l.c(6);d.Ga=l.c(10);d.um=l.c(14);d.st=l.c(18);d.Xc=m(d.Ga);d.Fc=e;d.Nj=new Int32Array(r);d.Qj=new Int32Array(r);
for(g=0;g<r;g++)d.Nj[g]=l.c(26+8*g),d.Qj[g]=l.c(8*g+30);f?(d.ob=l.c(26+8*r),d.nd=l.c(8*r+30),d.qd=d.tf=0):d.ob=100;l.shift(26+8*r+w)}else if(e==b.b.Ap||e==b.b.Lg){w=(f=e==b.b.Lg)?8:0;if(38>g)return;r=l.c(34);if(0>r||2048<r){b.a.log("disconnect, COMMAND_MARK.text invalid length");J();return}if(g<38+r+w)return;d.nm=l.c(2);d.V=l.c(6);d.Ga=l.c(10);d.um=l.c(14);d.Km=l.c(18);d.Uo=l.c(22);d.Lm=l.c(26);d.Jm=l.c(30);d.Xc=m(d.Ga);d.Fc=e;d.jp=b.crypto.w(l.h(38,r),a.ba).u();f?(d.ob=l.c(38+r),d.nd=l.c(38+r+4),
d.qd=d.tf=0):d.ob=100;l.shift(38+r+w)}else if(e==b.b.bj){if(34>g)return;r=l.c(30);if(0>r){b.a.log("disconnect, COMMAND_MARK.move invalid size");J();return}if(g<34+4*r)return;d.V=l.c(2);d.Ga=l.c(6);d.qd=l.c(10);d.tf=l.c(14);d.tt=l.c(18);d.ob=l.c(22);d.nd=l.c(26);d.Xc=m(d.Ga);d.Fc=e;d.lm=new Int32Array(r);for(g=0;g<r;g++)d.lm[g]=l.c(34+4*g);l.shift(34+4*r)}else if(e==b.b.aj){if(30>g)return;r=l.c(26);if(0>r){b.a.log("disconnect, COMMAND_MARK.customized invalid size");J();return}if(g<30+r+4)return;d.V=
l.c(2);d.Ga=l.c(6);d.qd=l.c(10);d.tf=l.c(14);d.ob=l.c(18);d.ht=l.c(22);d.nx=r;d.Xc=m(d.Ga);d.Fc=e;d.vt=l.h(30,r);d.nd=l.c(30+r);l.shift(30+r+4)}else{b.a.log("disconnect, COMMAND_MARK invalid mark type");J();return}0<=d.V&&d.V<a.$.length&&(a.$[d.V].dg.push(d),c.ce&&c.ce(0,d.V,d));M=L;G("COMMAND_MARK")}}function N(){var f=l.length();if(!(2>f)){var g=l.K(1);if(65==g||97==g){if(11>f)return;var e=l.c(7);if(0>e||128<=e){b.a.log("disconnect, COMMAND_USER_UPDATE invalid userid length");J();return}if(f<11+
e+4)return;var r=l.c(11+e);if(0>r||128<=r){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username length");J();return}if(f<11+e+4+r+4)return;var w=l.c(11+e+4+r);if(0>w||128<=w){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username(2) length");J();return}var h=!1;97==g&&(h=!0);if(f<11+e+4+r+4+w+(h?8:0))return;f=l.c(3);0<=f&&f<b.b.Ha&&(g=new d,g.gd=l.K(2),g.nd=f,g.qd=l.h(11,e),g.ai=l.h(11+e+4,r),g.He=!0,g.V=0,g.ob=0,h&&(g.V=l.c(11+e+4+r+4+w),g.ob=l.c(11+e+4+r+4+w+4)),g.rm=0,g.sm=0,g.Xc=0,g.Hh=
0,g.cg=0,g.Ih=new Uint8Array(250),g.Ye=null,g.Fc=0,a.U[f]=g,c.Yb&&c.Yb(),c.$k&&c.$k(f));l.shift(11+e+4+r+4+w+(h?8:0))}else if(68==g||100==g){if(6>f)return;f=l.c(2);0<=f&&f<b.b.Ha&&(a.U[f]&&(a.U[f].He=!1,a.U[f].Ye=null),c.gl&&c.gl(f,100==g));l.shift(6)}else{b.a.log("disconnect, COMMAND_USER_UPDATE invalid type");J();return}M=L;G("COMMAND_USER_UPDATE")}}function x(b,f){-1!=a.Jb&&c.Cb&&c.Cb(1,a.Jb);a.Jb=f;a.G!=c.jc()&&(-1!=a.Jb&&c.Cb&&c.Cb(2,a.Jb),a.G!=b&&c.Cb&&c.Cb(0,a.Jb))}function n(){var f=l.length();
if(!(9>f)){var g=l.c(5),d=0;var e=0;if(-1==g){if(13>f)return;e=l.c(9);if(0>=e||4E3<e){b.a.log("disconnect, COMMAND_SLIDE_INFO invalid property len");J();return}if(f<13+e+4)return;g=l.c(13+e);d=4+e+4}if(0>g||g>b.b.fj)b.a.log("disconnect, COMMAND_SLIDE_INFO invalid name len"),J();else if(!(f<9+d+g+4)){f=new y;f.Ga=l.c(1);f.Db=l.h(9+d,g);f.We=l.c(9+d+g);if(d)for(f.bc=b.crypto.w(l.h(13,e),a.ba),f.Ad=f.bc.u(),e=0;e<f.bc.length();e++)if(!f.bc.K(e)){f.Ad=f.bc.h(0,e);f.ec=f.bc.h(e+1);var r;for(r=e+1;r<f.bc.length();r++)if(!f.bc.K(r)){f.ec=
f.bc.h(e+1,r-(e+1));break}break}f.ec||(f.ec=b.o.Zs(f.Db));b.a.endsWith(f.Db,"blank page")&&(f.ih=!0,f.xa=1);f.V&&(f.Db=b.a.Yg("[Deleted]"+b.a.Ab(f.Db),b.b.fj));a.bs(f,a.$.length);f.index=a.$.length;a.$.push(f);r=c.jc();a.F==b.b.R&&-1!=r&&r!=a.G&&f.index==a.Jb&&1==f.xa&&(e=new t.a.g,e.m(a.N),e.f(a.Ag),e.f(1),e.f(f.index),e.f(r),e.f(b.b.mj),a.j.send(e.i()));f.Kh=0;if(f.bc)for(e=a.$.length-2;0<=e;e--){var w=a.$[e];if(w.Ad==f.Ad&&w.bc&&w.ec==f.ec&&w.Ga==f.Ga){f.Kh=w.Kh+1;break}}c.Yk&&c.Yk(f);!a.sa||a.F!=
b.b.R||f.We||f.ih||f.qm||(e=new t.a.g,e.m(a.N),e.f(a.xg),e.f(1),e.f(f.index),a.j.send(e.i()));a.G!=r&&a.F==b.b.R||-1!=(c.Hf?c.Hf():-1)||(f=a.Fj(),a.Jb=f,c.Cb&&c.Cb(0,f),a.F==b.b.R&&c.uh(f));l.shift(9+d+g+4);M=L;G("COMMAND_SLIDE_INFO")}}}function f(f){var g=f?4:0,d=f?8:0;2==f&&(d+=12);var e=l.length();if(!(e<9+g)){var r=l.c(1+g);if(0>r||2048<=r)b.a.log("disconnect, Command_ChatText invalid len"),J();else if(!(e<9+r+d)){e=l.c(5+g);g=b.crypto.w(l.h(9+g,r),a.ba).u();if(c.Aa){var w;b.Z.Uq()==b.b.R&&(w=
b.a.A()-a.de>>0);if(f){var h=l.c(13+r);if(2==f){w=l.c(17+r);var n=b.a.kr(l.c(25+r),l.c(21+r))}c.Aa(h,-1,e,g,m(h),w,n)}else c.Aa(-1,-1,e,g,0,w)}l.shift(9+r+d);M=L;G("ChatText,"+f)}}}function w(){var a=l.K(0);b.a.log(["not support command[",a,"/0x",a.toString(16),"]"].join(""));J()}function Q(){z();null!=T&&(clearTimeout(T),T=null);B();a.v.terminate();fa&&(clearTimeout(fa),fa=null);a.Sa&&(a.Sa.disconnect(),a.Sa=null);a.Ic&&(a.Ic.disconnect(),a.Ic=null);a.Jc&&(a.Jc.disconnect(),a.Jc=null);a.Pa&&(a.Pa.disconnect(),
a.Pa=null);a.zc&&(a.zc.disconnect(),a.zc=null);a.Zc&&(a.Zc.disconnect(),a.Zc=null);ha=b.o.Y;b.o.I(P);a.C=!1;a.qa=!1;a.Xb=!1;a.Ja=!1;a.ub=!1;a.La=-1;a.ua=-1;a.za=-1;a.wb=-1;a.Se=0;a.pc=!1;a.Pe=!1;a.oh={};a.Pc=0}function J(){b.o.mm(M,l);Q();c.hb&&c.hb();c.Nc&&c.Nc(!0)}var P=a.j;a.Hd=a.gf=!1;var l=a.Ed,L=new t.a.g,M=new t.a.g,la=null;a.v=new Worker("worker/worker_timeout.js");a.v.onmessage=null;var ha=b.o.Y,ja=0,ka=0,pa=0,T=null,fa=null,ua=[function(){if(!(9>l.length())){a.Qf=l.c(5);if(a.F==b.b.R){v();
var f=new t.a.g;f.m(a.N);f.f(a.pi);f.f(a.Zd?1:0);a.j.send(f.i());a.sa&&(f=new t.a.g,f.m(a.N),f.f(a.xg),4==a.ca.Hb.length?(f.f(2),f.xm(a.ca.Hb)):(f.f(3),f.M(a.ca.Hb)),f.dt(),f.Dd(a.ca.port),f.f(a.Rc),a.j.send(f.i()))}else a.F==b.b.Fa&&(v(),f=new t.a.g,f.m(a.ad),f.f(10),f.f(a.Zd?1:0),a.j.send(f.i()));l.shift(9);M=L;G("COMMAND_EXTENSION_MAX_SUPPORT")}},function(){if(!(9>l.length())){var b=l.c(5);c.bl&&c.bl(b);l.shift(9);M=L;G("COMMAND_END_QUESTION_REQUEST_EX")}},function(){if(!(17>l.length())){var b=
l.c(5),f=l.c(9),g=l.c(13);if(0<=f&&f<a.$.length){var d=a.$[f].dg;d&&0<=g&&g<d.length&&d[g].Ga==b&&(b=d[g],d.splice(g,1),c.ce&&c.ce(2,f,b))}l.shift(17);M=L;G("COMMAND_UNDO_MARK_EX")}},w,w,function(){l.shift(5);M=L;G("COMMAND_PROLONG_MEETING_EX")},function(){if(!(6>l.length())){var b=l.K(5);0==b?c.Oc&&c.Oc(a.zh,1):1==b?c.Nf&&c.Nf(a.zh):2==b&&c.Oc&&c.Oc(a.zh,2);l.shift(6);M=L;G("COMMAND_WAIT_MESSAGE_EX")}},function(){var a=l.length();if(!(9>a)){var f=l.c(5);if(0>f||1E3<=f)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len1"),
J();else if(!(a<9+f+4)){var g=l.c(9+f);if(0>g||128<=g)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len2"),J();else if(!(a<9+f+4+g)){a=l.h(9,f);var d=l.h(9+f+4,g);c.kl&&c.kl(a,d);l.shift(9+f+4+g);M=L;G("COMMAND_SHADOW_JOIN_REQUEST_EX")}}}},w,w,H,function(){9>l.length()||(a.ee=l.c(5)>>>0,fa&&clearTimeout(fa),fa=setTimeout(g,0),l.shift(9),M=L,G("COMMAND_FULL_DURATION_EX"))},function(){var b=new t.a.g("Q");b.f(a.G);b.f(3);b.M("Yes");a.j.send(b.i());a.qa||a.ub||a.qc||a.Ja||(a.ub=!0);l.shift(5);
M=L;G("COMMAND_FORCE_ASK_QUESTION_EX")},function(){9>l.length()||(l.shift(9),M=L,G("COMMAND_RATE_CONTROL_EX"))},function(){b.a.log("quitsession: user is overwritten by another connection");D();c.Ka&&c.vb(b.b.yp);l.shift(1);M=L;G("COMMAND_USER_OVERWRITE_EX")},w,w,w,w,w,function(){if(!(13>l.length())){var a=l.c(9);if(0>a||a>b.b.gj)b.a.log("disconnect, COMMAND_JTBROWSING_EX invalid url len"),J();else{for(var f=l.c(5),g=l.h(13,a),d=0;d<g.length;d++)if(0===g.charCodeAt(d)){g=g.slice(0,d);break}c.ll&&c.ll(f,
g);l.shift(13+a);M=L;G("COMMAND_JTBROWSING_EX")}}},function(){9>l.length()||(l.shift(9),M=L,G("COMMAND_TCPMEDIA_EX"))},function(){if(!(9>l.length())){var b=l.c(5);c.ml&&c.ml(b);l.shift(9);M=L;G("COMMAND_JTBROWSING_MODE_EX")}},function(){if(!(33>l.length())){var b=l.c(5);var a=l.c(9);var f=l.c(13);var g=l.c(17);var d=l.c(21);var e=l.c(25);var r=l.c(29);c.Gf&&c.Gf(b,a,f,g,d,e,r);l.shift(33);M=L;G("COMMAND_FOCUS_POINTER_EX")}},w,function(){if(!(10>l.length())){var b=l.K(5),a=l.c(6);if(0>a||128<=a)J();
else{var f=l.h(10,a);0==b?c.Oc&&c.Oc(f,1):1==b?c.Nf&&c.Nf(f):2==b&&c.Oc&&c.Oc(f,2);l.shift(10+a);M=L;G("COMMAND_WAIT_MESSAGE_2_EX")}}},function(){if(!(6>l.length())){var f=l.K(5);1==f?(f=a.F,a.F=b.b.Fa,a.sa?(b.a.log("Warning: mcu relay doesn't support playback, quit this session now..."),J()):(f!=b.b.Fa&&c.dl&&c.dl(),l.shift(6),M=L,G("COMMAND_THIRDPARTY_MODE_EX"))):3==f?(c.Ka&&c.vb(b.b.op),Q(),c.hb&&c.hb()):4==f?(c.Ka&&c.vb(b.b.np),Q(),c.hb&&c.hb()):(b.a.log("disconnect, COMMAND_THIRDPARTY_MODE_EX invalid mode"),
J())}},w,function(){9>l.length()||(0==l.c(5)?(b.a.log("prompt the user for sharejnr or thirdparty password"),c.Lf&&c.Lf(15==a.ib?1:0),l.shift(9),M=L,G("COMMAND_USERINFO2_DIRECTAUTH_EX")):(b.a.log("disconnect, COMMAND_USERINFO2_DIRECTAUTH_EX invalid auth type"),J()))},function(){var f=l.length();if(!(9>f)){var d=l.c(5);if(0==d){if(13>f)return;a.ee=l.c(9)>>>0;fa&&clearTimeout(fa);fa=setTimeout(g,0)}c.Ka&&c.vb(d?b.b.wp:b.b.xp);l.shift(0==d?13:9);M=L;G("COMMAND_PREPARATIONMODE_EX")}},function(){9>l.length()||
(c.Ka&&c.vb(b.b.vp),l.shift(9),M=L,G("COMMAND_TERMINATION_WARNING_EX"))},w,function(){9>l.length()||(a.bm=l.c(5),c.Gl&&c.Gl(),l.shift(9),M=L,G("COMMAND_RECORDING_STATUS_EX"))},function(){if(!(13>l.length())){var f=l.c(5),g=l.c(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].rm=g,c.Sl&&c.Sl(f));l.shift(13);M=L;G("COMMAND_VIDEOSENDING_STATUS_EX")}},function(){c.Ka&&c.vb(b.b.sp);l.shift(5);M=L;G("COMMAND_UNKNOWN_RECORDING_EX")},function(){var f=l.length();if(!(17>f)){var g=l.c(5);if(1==g){if(21>f)return;g=l.c(9);
var d=l.c(13);f=l.c(17);0<=d&&d<b.b.Ha&&c.Fl&&c.Fl(d,g,f);l.shift(21)}else if(0==g){g=l.c(9);d=l.c(13);f=0>g||g>=a.$.length?b.b.Bq:1==a.$[g].xa?b.b.mj:0==a.$[g].xa&&a.Pa&&a.Pa.index==g?b.b.zq:b.b.Aq;var e=new t.a.g;e.m(a.N);e.f(a.Ag);e.f(1);e.f(g);e.f(d);e.f(f);a.j.send(e.i());l.shift(17)}else{b.a.log("disconnect, COMMAND_POLL_SLIDEDOWNLOAD_EX invalid command");J();return}M=L;G("COMMAND_POLL_SLIDEDOWNLOAD_EX")}},w,function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(g==a.pq){if(17>f)return;a.Rf=
l.c(9);a.Sc=l.c(13);b.a.log(["Participant Channnel, video ",a.Rf,", audio ",a.Sc].join(""));a.Sc=Math.min(a.Sc,b.b.cd);a.Rf=Math.min(a.Rf,b.b.Ob);l.shift(17)}else if(g==a.kq){if(13>f)return;a.Cf=l.c(9);b.a.log(["discussion mode is now ",a.Cf].join(""));l.shift(13)}else if(g==a.lj||g==a.uq)if(a.F==b.b.Fa){if(17>f)return;l.shift(17)}else a.rh=g==a.lj?!0:!1,l.shift(9);else if(g==a.tq){if(21>f)return;var d=l.c(9);f=l.c(13);g=l.c(17);-1!=f&&g==b.b.nq&&(0>f||f>=b.b.Ob||(a.jb[f]=d));l.shift(21)}else if(g==
a.qq||g==a.vq){if(17>f)return;f=l.c(13);0>f||f>=b.b.Ob||(a.jb[f]=-1);l.shift(17)}else if(g==a.De||g==a.mq){if(17>f)return;d=l.c(9);f=l.c(13);0>f||f>=b.b.cd||(g==a.De?b.a.log("user "+d+" becomes a speaker at channel "+f):b.a.log("speaker channel "+f+" is reset"),a.$b[f]=g==a.De?d:-1,a.F==b.b.R&&a.Tc&&c.Ib(0),d==a.G&&-1!=a.G&&(a.qc=g==a.De,a.qc&&(a.ub=!1)),c.sl&&c.sl(d,g==a.De,f));l.shift(17)}else if(g==a.rq){if(17>f)return;if(l.c(13)){if(21>f)return;d=l.c(17);if(0>d||d>b.b.Ha){b.a.log("disconnect, PARTICIPANT_VIDEO_QUERY_VIEWER invalid count");
J();return}if(f<21+d)return;l.shift(21+d)}else l.shift(17)}else{b.a.log("disconnect, COMMAND_PARTICIPANT_VIDEO_EX invalid command");J();return}M=L;G("COMMAND_PARTICIPANT_VIDEO_EX")}},function(){var a=l.length();if(!(9>a)){var f=l.c(5);if(1==f)c.Nl&&c.Nl(),l.shift(9);else if(2==f){if(17>a)return;c.Zk&&c.Zk(l.c(9),l.c(13));l.shift(17)}else{b.a.log(["disconnect, unknown poll command ",f].join(""));J();return}M=L;G("COMMAND_TOKEN_HOLDER_POLL_EX")}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);
1==g?(b.a.log("JoinNet is set to use mcu relay, however the MCU doesn't accept mcu relay"),l.shift(9),a.lh.port=0,setTimeout(function(){c.ms();c.qs()},0)):2==g?33>f||(f=l.c(9),0<=f&&f<a.$.length&&(a.$[f].hash=l.h(13,20),a.$[f].qm=!0),l.shift(33),M=L,G("COMMAND_MCU_RELAY_EX")):(b.a.log("disconnect, COMMAND_MCU_RELAY_EX invalid command"),J())}},function(){if(!(9>l.length())){a.wd=b.crypto.w(l.h(5,4),a.ea).c(0)>>>0;var f=a.bb;a.bb=b.a.A()-a.wd;(5E3<f-a.bb||-5E3>f-a.bb)&&b.a.log(["got mcu clock sync - server tick = ",
a.wd," diff = ",a.bb].join(""));l.shift(9);M=L;G("COMMAND_SYNC_CLOCK_EX")}},w,w,w,function(){var f=l.length();if(!(21>f)){if(1==l.c(13)){if(25>f)return;var g=l.c(17);if(0>g||2048<=g){b.a.log("disconnect, COMMAND_PRIVATE_CHAT_TEXT_EX invalid len");J();return}if(f<25+g)return;f=b.crypto.w(l.h(25,g),a.ba).u();var d=f.indexOf("__command: dummypassword ");-1!=d&&(f=f.slice(0,d+25)+"*");var e=l.c(5);d=l.c(9);var r=l.c(21),w=b.a.A()-a.de>>0;c.Aa&&c.Aa(e,d,r,f,m(e),w);l.shift(25+g)}else l.shift(21);M=L;G("COMMAND_PRIVATE_CHAT_TEXT_EX")}},
function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(g==a.rn){if(13>f)return;a.ts=l.c(9);l.shift(13)}else if(g==a.qn){if(57>f)return;g=l.c(29);if(0>g||g>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");J();return}a.P[g]=a.P[g]||new q;a.P[g].active=1;a.P[g].YB=0;a.P[g].type=l.c(9);a.P[g].QF=l.c(21);a.P[g].Fr=l.h(37,4)+l.h(43,2)+l.h(47,2)+l.h(49,8);a.P[g].Mj=b.a.ir(a.P[g].Fr);a.P[g].gt=l.c(33);a.P[g].vm=l.c(25);a.P[g].jd=l.c(13);a.P[g].wj=l.c(17)>>>0;a.P[g].WF=0;a.P[g].Hm=null;a.P[g].Ba=
b.a.A();a.P[g].ha=a.Ld;0>=a.P[g].jd&&(a.P[g].jd=1);a.P[g].zb=a.P[g].jd;c.Ef&&c.Ef(g);c.Ib(0);var d=a.P[g].Mj;"E5AF1A56-E29C-4BA6-839A-24C2F30EED02"==d?d="Shared Desktop{"+d+"}":"4FC0606A-DA4A-423F-A830-AC5D9853C201"==d&&(d="Remote Control{"+d+"}");a.Ca("appdata_new_channel,"+g+","+d+",max_rate="+a.P[g].jd+",ssrc="+a.P[g].vm);c.Kf&&c.Kf(0,a.P[g].gt,g);l.shift(57)}else if(g==a.pn){if(17>f)return;g=l.c(9);b.a.log(-2,"appdata channel errorcode="+g);(g==b.b.cp||g==b.b.bp||g==b.b.ap||g==b.b.$o||g==b.b.Zo||
g==b.b.Yo)&&c.Kf&&c.Kf(g,l.c(13),-1);l.shift(17)}else if(g==a.oi){if(17>f)return;g=l.c(9);if(0>g||g>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");J();return}if(!a.P[g].active){b.a.log("disconnect, COMMAND_PLUGIN_EX inactive channel got static data");J();return}d=l.c(13);if(0>d||d>a.Mg){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size");J();return}if(f<17+d)return;f=b.crypto.w(l.h(17,d),a.ba).u();a.P[g].Hm=f;c.Dl&&c.Dl(0,g,f);l.shift(17+d)}else if(g==a.ni){if(13>f)return;g=l.c(9);
if(0>g||g>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");J();return}if(!a.P[g]||!a.P[g].active){b.a.log("disconnect, COMMAND_PLUGIN_EX channel not active");J();return}a.P[g].active=0;b.a.log(-2,"appdata channel "+g+" close");c.Al&&c.Al(0,g);l.shift(13)}else if(g==a.on){if(21>f)return;d=l.c(17);if(0>d||d>a.Mg){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size2");J();return}if(f<21+d)return;l.shift(21+d)}else{b.a.log("disconnect, COMMAND_PLUGIN_EX invalid command");J();return}M=
L;G("COMMAND_PLUGIN_EX")}},w,w,w,function(){17>l.length()||(a.vF=l.c(5),a.wF=l.c(9),a.xF=l.c(13),l.shift(17),M=L,G("COMMAND_RECORDING_FILEVERSION_EX"))},function(){a.wb=-1;a.La=a.ua=a.za=-1;c.tl&&c.tl();l.shift(5);M=L;G("COMMAND_END_OF_RECORDINGFILE_EX")},function(){b.a.log("warning: server is going to be shut down!");c.Jl&&c.Jl();l.shift(5);M=L;G("COMMAND_SERVER_SHUTDOWN_EX")},function(){var f=l.length();if(!(17>f)){var g=l.c(13);if(0>g||g>a.ej)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid size"),
J();else if(!(f<17+g))if(f=l.c(5),0>f||f>=b.b.Fb)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid channel"),J();else{if(a.P[f]&&a.P[f].active){var d=l.c(9),e=b.crypto.w(l.h(17,g),a.ba).u();c.Bl&&c.Bl(e,f,d)}l.shift(17+g);M=L;G("COMMAND_PLUGIN_CONTROL_DATA_EX")}}},function(){9>l.length()||(l.shift(9),M=L,G("COMMAND_DISABLE_UTF8_EX"))},function(){if(!(9>l.length())){a.fs=l.c(5)&1?!0:!1;b.a.log("The network initialization has finished");for(var f=["audio codec preference [count: ",a.Yd.length,
"] is:"],g=0;g<a.Yd.length;g++){var d=a.Yd[g];f.push(" 0x",d.toString(16),"(",b.o.Vg(d),")")}b.a.log(f.join(""));f=["video codec preference [count: ",a.le.length,"] is:"];for(g=0;g<a.le.length;g++)d=a.le[g],f.push(" 0x",d.toString(16),"(",b.o.Vg(d),")");b.a.log(f.join(""));a.me||b.a.log("webrtc, this MCU doesn't support webrtc, or is not correctly configured, or lacks valid license");c.If&&c.If();c.Zb&&A()&&(d=c.Zb(),a.Uf||!d)&&(b.a.log("update audio status upon start of meeting"),p(d?1:0));l.shift(9);
M=L;G("COMMAND_SIP_CAP_EX")}},function(){if(!(13>l.length())){var f=l.c(5),g=l.c(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].Xc=g);l.shift(13);M=L;G("COMMAND_TEXT_CODEPAGE_EX")}},function(){f(1)},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(1==g){if(13>f)return;var d=l.c(9);if(0>d||1E3<=d){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len");J();return}if(f<13+d+4)return;g=l.c(13+d);f=b.crypto.w(l.h(13,d),a.ba).u();b.a.log("ssrc "+g+" request sip client "+f);0<=g&&g<b.b.Ha&&a.U[g]&&c.Hl&&
c.Hl(g,a.U[g].ai,f);l.shift(17+d)}else if(3==g){if(13>f)return;d=l.c(9);if(0>d||1E3<=d){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len2");J();return}if(f<13+d+4+4)return;g=l.c(13+d);var e=l.c(17+d);f=b.crypto.w(l.h(13,d),a.ba).u();b.a.log("sip client "+f+" of ssrc "+g+" change status to "+e);c.Xl&&c.Xl(g,f,e);l.shift(21+d)}else if(10==g){if(13>f)return;d=l.c(9);if(0>d||1E3<=d){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len3");J();return}if(f<13+d+4+4)return;g=l.c(13+d);e=l.c(17+
d);if(0>e||1E3<=e){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len4");J();return}if(f<13+d+4+4+e)return;f=b.crypto.w(l.h(13,d),a.ba).u();var r=b.crypto.w(l.h(21+d,e),a.ba).u();b.a.log("sip client "+f+" of ssrc "+g+" is updated to "+r);c.Yl&&c.Yl(g,f,r);l.shift(21+d+e)}else{b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid command");J();return}M=L;G("COMMAND_SIP_CLIENT_EX")}},function(){a.Uk=!0;b.a.log("this meeting adopts all questioners mode");l.shift(5);M=L;G("COMMAND_ALL_QUESTIONER_EX")},
function(){9>l.length()||(a.cm=l.c(5),b.a.log(["this meeting let ",a.cm?"token holder":"coordinator"," accept uninvited guest"].join("")),l.shift(9),M=L,G("COMMAND_HOLDER_ACCEPT_GUEST_EX"))},w,function(){if(!(53>l.length())){var b=l.c(5);var a=l.c(9);var f=l.c(13);var g=l.c(17);var d=l.c(21);var e=l.c(25);var r=l.c(29);c.Gf&&c.Gf(b,a,f,g,d,e,r);l.shift(53);M=L;G("COMMAND_NEW_FOCUS_POINTER_EX")}},w,function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);c.Ml&&c.Ml(b,a);l.shift(13);M=L;G("COMMAND_SYNC_FULL_SCREEN_EX")}},
function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(200==g){if(17>f)return;a.Me=l.c(9);a.Df=l.c(13);l.shift(17)}else{if(a.F==b.b.Fa)0==g||1==g?(b.a.log("prompt the user for jnr password"),c.Lf&&c.Lf(2)):(b.a.log("too many tries to provide the correct jnr password"),c.Ka&&c.vb(b.b.lf+b.b.Ti-256));else if(101==g||100==g)c.Of&&c.Of(g-100),a.fh=g-100;else if(1==g||0==g)c.Of&&c.Of(g),a.fh=g;l.shift(9)}M=L;G("COMMAND_JNR_PASSWORD_EX")}},H,H,H,w,function(){var a=l.length();if(!(9>a)){var f=l.c(5);0>f||
512<=f?(b.a.log("disconnect, COMMAND_JOINNET_AUTO_UPDATE_EX invalid len"),J()):a<9+f||(l.shift(9+f),M=L,G("COMMAND_JOINNET_AUTO_UPDATE_EX"))}},function(){if(!(9>l.length())){var f=l.c(5),g=f&1?1:0;f=f&2?1:0;(g||f)&&b.a.log(["joinnet has restriction ",g&&f?"disable_upload_file,disable_save_slide":g?"disable_upload_file":"disable_save_slide"].join(""));a.am=g;a.$l=f;l.shift(9);M=L;G("COMMAND_JOINNET_RESTRICTION_EX")}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||32<g)b.a.log("disconnect, COMMAND_AUDIO_PREFERENCE_EX invalid codec count"),
J();else if(!(f<9+4*g)){a.cs=g;a.Yd=[];for(f=0;f<g;f++)a.Yd.push(l.c(9+4*f));l.shift(9+4*g);M=L;G("COMMAND_AUDIO_PREFERENCE_EX")}}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||32<g)b.a.log("disconnect, COMMAND_VIDEO_PREFERENCE_EX invalid codec count"),J();else if(!(f<9+4*g)){a.Os=g;a.le=[];for(f=0;f<g;f++)a.le.push(l.c(9+4*f));l.shift(9+4*g);M=L;G("COMMAND_VIDEO_PREFERENCE_EX")}}},function(){a.km=!0;b.a.log("joinnet token holder video set to TRUE");l.shift(5);M=L;G("COMMAND_HOLDER_VIDEO_EX")},
function(){9>l.length()||(a.Tc=l.c(5),b.a.log(["total av bandwidth is set to ",a.Tc].join("")),l.shift(9),M=L,G("COMMAND_TOTAL_AV_BANDWIDTH_EX"))},function(){a.jm=!0;a.F==b.b.R?(b.a.log("The recording file of this meeting will be archived by the system administrator. (Recording is enforced and 'pause recordng' is disabled)"),c.Ul&&c.Ul()):b.a.log("The server turns on archiving");l.shift(5);M=L;G("COMMAND_ARCHIVE_RECORDING_EX")},function(){var f=l.length();if(!(17>f)){var g=l.c(13);if(0>=g||1E6<g)b.a.log("disconnect, COMMAND_SELF_PICTURE_EX invalid file size"),
J();else if(!(f<17+g)){f=l.c(5);var d=l.c(9);if(a.U[f])if(a.U[f].Ye)b.a.log("download self picture for ssrc "+f+" fails. file already exist");else{var c=b.crypto.w(l.h(17,g),a.ba).i();a.Em(f,new Uint8Array(c),d)}l.shift(17+g);M=L;G("COMMAND_SELF_PICTURE_EX")}}},function(){if(!(9>l.length())){var f=l.c(5);a.Vk=!0;f?b.a.log("upload self picture abort due to error at server"):b.a.log("upload self picture completely");l.shift(9);M=L;G("COMMAND_SPIC_NOTIFY_EX")}},function(){if(!(10>l.length())){var f=
l.c(5),g=l.K(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].gd=g&1?a.U[f].gd|1:a.U[f].gd&254,a.U[f].gd=g&2?a.U[f].gd|2:a.U[f].gd&253,c.cl&&c.cl(f,g&1,g&2),b.a.log("ssrc["+f+"]'s a/v cap to "+(g&1?1:0)+","+(g&2?1:0)));l.shift(10);M=L;G("COMMAND_CHANGE_CAP_EX")}},function(){b.a.log("the meeting does not request recording");l.shift(5);M=L;G("COMMAND_JOINNET_NO_RECORDING_EX")},function(){if(!(9>l.length())){var f=l.c(5),g=c.jc();a.La=f;b.a.log(["controller change to ",f].join(""));c.ql&&c.ql();a.th(g,c.jc());l.shift(9);
M=L;G("COMMAND_CONTROLLER_UPDATE_EX")}},function(){if(!(9>l.length())){var f=l.c(5),g=c.jc();a.Kb=f;b.a.log(["control flag change to 0x",f.toString(16),"(",b.o.xj(f),")"].join(""));a.th(g,c.jc());c.pl&&c.pl(f);l.shift(9);M=L;G("COMMAND_MEETING_CONTROL_EX")}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0==g){if(13>f)return;a.vh=l.c(9);a.vh&&b.a.log("The server support file conversion");l.shift(13)}else if(1==g){if(13>f)return;f=a.Pc;a.Pc=l.c(9);b.a.log(["The JoinNet has ",a.Pc," conversion ongoing at the server"].join(""));
f!=a.Pc&&c.el&&c.el();l.shift(13)}else if(2==g){if(21>f)return;f=l.c(17);if(0>f||1E3<=f){b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid len");J();return}a.Pc=l.c(9);g=l.c(13);var d=l.h(21,f);b.a.log(["The JoinNet has ",a.Pc," conversion ongoing at the server"].join(""));b.a.log(["The conversion of file ",d," has error ",g].join(""));c.fl&&c.fl(d,g);l.shift(21+f)}else{b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid command");J();return}M=L;G("COMMAND_FILE_CONVERSION_EX")}},function(){5>
l.length()||(c.jl&&c.jl(),l.shift(5),M=L,G("COMMAND_FORCE_SYNC_EX"))},function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);c.Ll&&c.Ll(b,a);l.shift(13);M=L;G("COMMAND_SWAP_SLIDE_EX")}},function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);c.nl&&c.nl(b,a);l.shift(13);M=L;G("COMMAND_MOVE_SLIDE_EX")}},function(){9>l.length()||(a.dm=l.c(5),b.a.log(["this meeting let ",a.dm?"token holder":"coordinator"," end meeting"].join("")),l.shift(9),M=L,G("COMMAND_HOLDER_END_MEETING_EX"))},function(){if(!(13>l.length())){var a=
l.c(5),f=l.c(9);-1==f?b.a.log("ssrc "+a+" stops ForceSingleAudio"):b.a.log("ssrc "+a+" starts ForceSingleAudio of ssrc "+f);l.shift(13);M=L;G("COMMAND_FORCE_SINGLE_AUDIO_EX")}},function(){13>l.length()||(a.Wf=l.c(5),a.Vf=l.c(9),l.shift(13),M=L,G("COMMAND_MEETING_INFO_EX"))},function(){9>l.length()||(a.wb=l.c(5),b.a.log(["assistant change to ",a.wb].join("")),c.ol&&c.ol(),l.shift(9),M=L,G("COMMAND_ASSIGN_ASSISTANT_EX"))},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||30<=g)b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len"),
J();else if(!(f<9+g+4)){var d=l.c(9+g);0>d||128<=d?(b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len2"),J()):f<9+g+4+d||(a.ge=a.Ah=l.h(9,g),a.Ms=l.h(9+g+4,d),c.ae&&c.ae(a.Ah,a.Ms,a.G),l.shift(9+g+4+d),M=L,G("COMMAND_RECONNECT_NAME_EX"))}}},function(){13>l.length()||(x(l.c(5),l.c(9)),l.shift(13),M=L,G("COMMAND_FLIP_SLIDE_EX"))},function(){9>l.length()||(a.Se=l.c(5),b.a.log(["opus preferred bitrate is ",a.Se].join("")),l.shift(9),M=L,G("COMMAND_OPUS_EX"))},function(){f(2)},w,function(){var f=
l.length();if(!(9>f)){var g=l.c(5);0>g||1E3<=g?(b.a.log("disconnect, COMMAND_WEBRTC_SIGNAL_SERVER_EX invalid length"),J()):f<9+g||(a.me=b.crypto.w(l.h(9,g),a.ba).u(),b.a.log(["webrtc, signal server url is ",a.me].join("")),l.shift(9+g),M=L,G("COMMAND_WEBRTC_SIGNAL_SERVER_EX"))}},function(){if(!(10>l.length())){var f=l.c(5),g=l.K(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].sm=g,c.Tl&&c.Tl(f));b.a.log(5,["webrtc, ssrc ",f," change status to ",g].join(""));l.shift(10);M=L;G("COMMAND_WEBRTC_NOTIFICATION_EX")}},
function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||1E4<=g)b.a.log("disconnect, COMMAND_WEBRTC_TURN_SERVER_EX invalid length"),J();else if(!(f<9+g)){f=b.crypto.w(l.h(9,g),a.ba).u();try{var d=JSON.parse(f);b.a.isArray(d)&&(10<d.length&&(d.length=10),a.Ch=d)}catch(xa){}a.Ch.length?b.a.log("joinnet received turn server information from MCU"):b.a.log("joinnet received turn server information from MCU, but no valid entry found");l.shift(9+g);M=L;G("COMMAND_WEBRTC_TURN_SERVER_EX")}}},w,w],ta=[function(){a.as();
a.nh();c.Zb&&!c.Zb()&&A()&&(b.a.log("update audio status upon restart of playback"),p(0));l.shift(5);M=L;G("PLAYBACK_NOTIFICATION_RESTART")},function(){function f(){if(!(412>l.length())){var b=l.h(20,128),f=b.indexOf("\x00");a.Dh.push(-1==f?b:b.slice(0,f));l.shift(412);h++;h==g&&(ha=I);M=L;G("PLAYBACK_NOTIFICATION_MEETING_INFO,2")}}if(!(83>l.length())){var g=l.lc(79);if(0>g||g>=b.b.Ha)b.a.log("disconnect, PLAYBACK_NOTIFICATION_MEETING_INFO invalid usernum"),J();else{a.rc=!0;a.Mc=!0;var d=l.lc(23),
e=l.lc(27),r=l.lc(19),w=[("0000"+l.lc(43)).slice(-2),":",("0000"+l.lc(47)).slice(-2)," ",l.lc(35),"/",l.lc(39),"/",l.lc(31)].join("");c.ul&&c.ul(d,e,r,w);c.If&&c.If();c.Zb&&!c.Zb()&&A()&&(b.a.log("update audio status upon start of playback"),p(0));l.shift(83);a.Dh=[];var h=0;0!=g?ha=f:M=L;G("PLAYBACK_NOTIFICATION_MEETING_INFO")}}},function(){if(!(9>l.length())){var b=l.c(5);c.zl&&c.zl(b);l.shift(9);M=L;G("PLAYBACK_NOTIFICATION_TICK")}},function(){if(!(9>l.length())){var a=l.c(5);0==a?b.a.log("the server start to decrypt the recording file"):
1==a?b.a.log("the server finish decrypting the recording file"):b.a.log("the server encounter error during decrypting the recording file");c.wl&&c.wl(a);l.shift(9);M=L;G("PLAYBACK_NOTIFICATION_DECRYPTION_STATUS")}},function(){if(!(9>l.length())){var b=l.c(5);c.vl&&c.vl(b);l.shift(9);M=L;G("PLAYBACK_NOTIFICATION_DECRYPTION_PROGRESS")}},w,function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||1E6<=g)b.a.log("disconnect, PLAYBACK_NOTIFICATION_PROPERTY invalid size"),J();else if(!(f<9+g)){f=b.crypto.w(l.h(9,
g),a.ba).u();if(window.DOMParser){var d=new DOMParser;try{var e=d.parseFromString(f,"text/xml");c.xl&&c.xl(e)}catch(K){}}l.shift(9+g);M=L;G("PLAYBACK_NOTIFICATION_PROPERTY")}}},w,w,w,w];P.onclose=function(){z();a.Hd=!0;a.v.onmessage||F()};P.onerror=function(){z();a.gf=!0;a.v.onmessage||F()};P.onmessage=function(f){ja=0;z();f=new t.a.g(f.data);l.D(f);T||e();a.v.onmessage||(ka=0,pa=b.a.A(),ha())};ja=0;(function(){T=setTimeout(function(){T=null;null==la&&e()},6E4)})();ha=I;l.length()&&(B(),ka=0,pa=b.a.A(),
ha());a.disconnect=Q}function D(){a.disconnect&&(a.disconnect(),c.hb&&c.hb(),a.disconnect=null)}function v(){a.Pe=!0;if(a.sa)a.Ic&&(a.Ic.disconnect(),a.Ic=null),a.Ic=new b.protocol.Ic(a);else{var g=new t.a.g;g.m(a.N);g.f(a.En);g.f(1);a.j.send(g.i())}a.Sa&&(a.Sa.disconnect(),a.Sa=null);a.Sa=new b.protocol.Sa(a)}function B(g,d,c,e,h){if(a.Pa){if(a.Pa.index==g)return;a.Pa.disconnect();a.Pa=null}a.C?a.Pa=new b.protocol.Fs(a,g,d,c,e,h):setTimeout(function(){h&&h()},0)}function p(g){if(!a.C||!A())return 1;
var d=new t.a.g;d.m(a.N);d.f(a.ji);d.f(g?1:0);a.j.send(d.i());b.a.log("request audio "+(g?"On":"Off"))}function m(g){return 0<=g&&g<b.b.Ha&&a.U[g]?a.U[g].Xc:0}function I(){return a.qa||a.Ja||a.qc}function A(){return a.Qf>=a.ji?!0:!1}var t=window.W,a={hc:1,ic:39,Og:2,wa:0};b.a.log("hmtg jnkernel version "+H());var c=b.jnkernel=b.Z=b.Z||{};c.version=c.version=H;a.$b=new Int32Array(b.b.cd);a.jb=new Int32Array(b.b.Ob);a.P=[];F();a.disconnect=null;a.Ma="";a.pc=!1;a.uF=2;a.zm=5E3;a.kg=2E4;a.ym=2E5;a.rc=
!0;a.Zd=!1;a.Mc=!1;a.G=-1;a.yq=72;a.bn=48;a.Zm=65;a.Vm=67;a.wg=68;a.li=69;a.ki=71;a.Hn=73;a.si=74;a.mi=75;a.Id=77;a.wn=81;a.An=83;a.Bg=84;a.Jn=85;a.ri=88;a.Xm=70;a.vg=66;a.ui=116;a.ad=33;a.uo=86;a.dn=118;a.N=122;a.Jt=0;a.Ym=1;a.In=2;a.un=3;a.bu=4;a.iu=5;a.Zv=6;a.ou=7;a.ln=8;a.pu=9;a.au=10;a.Ot=11;a.Mt=12;a.ju=13;a.Lu=14;a.mn=15;a.Mu=16;a.Fu=17;a.Tm=18;a.Dt=19;a.en=20;a.En=21;a.fn=22;a.$m=23;a.Ht=24;a.Yv=25;a.Gu=26;a.Ku=27;a.Ju=28;a.hu=29;a.Du=30;a.pi=31;a.xn=32;a.to=33;a.Iu=34;a.Ag=35;a.eu=36;a.jf=
37;a.ti=38;a.xg=39;a.Cu=40;a.Ft=42;a.Et=43;a.vn=44;a.zg=45;a.Xt=46;a.fu=47;a.yg=48;a.lu=49;a.It=50;a.nu=51;a.nn=52;a.Gt=53;a.qu=54;a.Gn=55;a.Eu=56;a.yn=57;a.At=58;a.Pt=59;a.Wt=60;a.cu=61;a.Vt=62;a.Dn=63;a.cn=64;a.kn=65;a.$t=66;a.jn=67;a.Zt=68;a.St=69;a.Ut=70;a.Ct=71;a.Xv=72;a.Rt=73;a.Hu=74;a.Bt=75;a.mu=76;a.Bn=77;a.Um=78;a.Tt=79;a.Wm=80;a.gn=81;a.Kt=82;a.an=83;a.Cn=84;a.hn=85;a.Qt=86;a.Nt=87;a.Yt=88;a.Sm=89;a.ku=90;a.Lt=91;a.du=92;a.Fn=93;a.ji=94;a.$v=95;a.vo=96;a.aw=97;a.Hi=98;a.Cp=98;a.pq=0;a.ez=
1;a.lj=2;a.uq=3;a.sq=4;a.tq=5;a.qq=6;a.oq=7;a.vq=8;a.dz=9;a.jq=10;a.lq=11;a.De=12;a.mq=13;a.cz=14;a.bz=15;a.kq=16;a.rq=17;a.tn=1;a.oi=2;a.ni=3;a.qn=4;a.pn=5;a.sn=6;a.on=7;a.rn=8;a.gu=9;a.qz=0;a.oz=1;a.sz=2;a.mz=3;a.lz=4;a.rz=5;a.pz=6;a.nz=7;a.kz=8;a.jz=9;a.wq=10;a.Mg=65536;a.ej=8192;a.yu=1;a.zn=2;a.zu=3;a.ru=4;a.tu=5;a.su=6;a.wu=7;a.xu=8;a.uu=9;a.Au=10;a.vu=11;a.Bu=12;a.$r=function(b){b=b.split(",");if(2!=b.length)return{};var a=parseInt(b[1].trim());if(!a)return{};b[0]=b[0].trim();if(0==b[0].length)return{};
var g=t.a.cr(b[0]);null==g&&(g="");return{Tb:b[0],Hb:g,port:a}};a.Ca=function(g){if(a.F==b.b.R){var d=(new Date).toString().replace(/(GMT.*)/,""),c=b.a.A()-a.de,e=c>>>0;c>>=0;var h=e;e&2147483648&&(h=-e>>>0);var m=h/1E3/60>>>0;h=m/60>>>0;m=("0000"+(m-60*h)).slice(-2);b.a.qj("hmtg_log_stat","hmtg_log_stat_first_idx","hmtg_log_stat_count","hmtg_log_stat_size","hmtg_log_stat_item_",b.a.Ep,b.a.Fp,b.a.$q+":"+d+(e&2147483648?["(-",h,":",m,",",c,") "].join(""):["(",h,":",m,",",c,") "].join(""))+g)}};a.DF=
function(g){a.Ca(b.a.Ab(g))};a.Fj=function(){var b;for(b=0;b<a.$.length;b++)if(!a.$[b].We)return b;return-1};a.th=function(b,d){d!=b&&c.be&&c.be(-1);d==a.G&&-1!=a.G&&b!=d&&(b=c.Hf?c.Hf():-1,-1!=a.Jb&&c.Cb&&c.Cb(1,a.Jb),-1==b?(b=a.Fj(),c.Cb&&c.Cb(0,b),c.uh(b)):c.uh(b))};a.mh=function(){var b;for(b=0;b<a.$.length;b++){var d=a.Kc[b];d&&d.data&&(a.wa-=d.data.length);a.Kc[b]=a.$[b]}a.$=[]};a.Tk=function(){var b;for(b=0;b<a.Kc.length;b++){var d=a.Kc[b];d.data&&(a.wa-=d.data.length)}a.Kc=[]};a.bs=function(b,
d){if(!(b.xa||a.Kc.length<=d)){var g=!1;d=a.Kc[d];d.data&&(d.Ga==b.Ga?d.Db==b.Db||d.Db&&0==d.Db.indexOf("[Deleted]")&&d.Db.slice(9)==b.Db?(b.data=d.data,b.ka=d.gb,b.gb=d.gb,b.ra=d.ra,b.xa=d.xa,b.hash=d.hash,b.Rs=d.Rs,d.data=null):g=!0:g=!0,g&&a.Tk())}};a.as=function(){c.ns();a.La=-1;a.ua=-1;a.za=-1;a.wb=-1;b.a.log("reset participant video channel status in jn_PlaybackRestart");var g;for(g=0;g<b.b.cd;g++)a.$b[g]=-1;for(g=0;g<b.b.Ob;g++)a.jb[g]=-1;a.wb=-1;a.La=-1;b.a.log("init controller to -1 (playback restart)");
a.rc=!0;a.Mc=!0;g=a.U;for(var d in g)g.hasOwnProperty(d)&&(g[d].He=!1,g[d].Ye=null);a.mh();c.yl&&c.yl()};a.nh=function(){a.hF=b.a.A()};a.Em=function(g,d,c){function e(a,d){function c(){b.a.log("download self picture for ssrc "+g+" fails. error in loading image")}try{if(5E7<a.length){c();return}var e=new Blob([a],{type:d});var h=window.URL.createObjectURL(e)}catch(x){c();return}var m=new Image;m.addEventListener("load",function(){window.URL.revokeObjectURL(h);m.width&&m.height?(r&&(r.Ye=m),b.Z.Il&&
b.Z.Il(g),b.a.log("download self picture for ssrc "+g+" completely")):b.a.log("download self picture for ssrc "+g+" fails. zero image size")},!1);m.addEventListener("error",function(){window.URL.revokeObjectURL(h);c()},!1);m.src=h}var r=a.U[g],h="";1==c?(h="image/bmp",(c=b.Z.js())?new c("unzip",d,function(b){e(b,h)},function(){b.a.log("download self picture for ssrc "+g+" fails. error in unzipping")}):b.a.log("download self picture for ssrc "+g+" fails. cannot unzip")):(2==c?h="image/gif":3==c?h=
"image/jpeg":4==c&&(h="image/png"),e(d,h))};a.U={};a.Xb=!1;a.qa=!1;a.Ja=!1;a.rh=!1;a.qc=!1;a.Cf=!1;a.ub=!1;a.G=-1;a.ua=-1;a.za=-1;a.La=-1;a.Kb=0;a.wb=-1;a.Sh=[];for(var T=0;T<b.b.Fb;T++)a.Sh.push({});a.$=[];a.Kc=[];a.wa=0;a.Pe=!1;for(T=0;T<b.b.cd;T++)a.$b[T]=-1;for(T=0;T<b.b.Ob;T++)a.jb[T]=-1;d.prototype._m_jn_major=function(){return this.V};d.prototype._m_jn_minor=function(){return this.ob};d.prototype._szRealName=function(){return this.ai};d.prototype._cap=function(){return this.gd};d.prototype._bLogged=
function(){return this.He};d.prototype._m_spic_img=function(){return this.Ye};d.prototype._m_iVideoSendingStatus=function(){return this.rm};d.prototype._m_iWebRTCStatus=function(){return this.sm};y.prototype._m_iSource=function(){return this.Ga};y.prototype._index=function(){return this.index};y.prototype._m_szName=function(){return this.Db};y.prototype._is_blank_page=function(){return this.ih};y.prototype._m_bDeleted=function(){return this.We};y.prototype._downloaded=function(){return this.xa};y.prototype._data=
function(){return this.data};y.prototype._mark_array=function(){return this.dg};y.prototype._m_szGroup=function(){return this.Ad};y.prototype._m_iGroupIndex=function(){return this.Kh};y.prototype._m_szOwnerName=function(){return this.ec};y.prototype._group_id=function(){return""+this.Ad+this.ec+this.Ga};y.prototype._is_active=function(){return a.G==c.jc()&&a.F==b.b.R?!1:this.index==a.Jb};h.prototype._m_iColor=function(){return this.nm};h.prototype._m_iIndex=function(){return this.V};h.prototype._m_iSource=
function(){return this.Ga};h.prototype._m_nPenWidth=function(){return this.um};h.prototype._m_iShape=function(){return this.st};h.prototype._m_codepage=function(){return this.Xc};h.prototype._m_byMarkType=function(){return this.Fc};h.prototype._ax=function(){return this.Nj};h.prototype._ay=function(){return this.Qj};h.prototype._m_zoom=function(){return this.ob};h.prototype._m_iID=function(){return this.nd};h.prototype._m_offset_x=function(){return this.qd};h.prototype._m_offset_y=function(){return this.tf};
h.prototype._m_rect_left=function(){return this.Km};h.prototype._m_rect_top=function(){return this.Uo};h.prototype._m_rect_right=function(){return this.Lm};h.prototype._m_rect_bottom=function(){return this.Jm};h.prototype._m_szContent=function(){return this.jp};h.prototype._m_move_type=function(){return this.tt};h.prototype._id_array=function(){return this.lm};h.prototype._m_iCustomizedMarkType=function(){return this.ht};h.prototype._m_pCustomizedMarkData=function(){return this.vt};q.prototype._guid_str=
function(){return this.Mj};q.prototype._active=function(){return this.active};q.prototype._static_data=function(){return this.Hm};q.prototype._stat=function(){return this.stat};q.prototype._data_rate_threshold=function(){return this.jd};q.prototype._jn_tokens=q.prototype.Vq=function(){if(0<this.ha)return this.ha;var a=b.a.A();this.ha+=(a-this.Ba)*this.zb/8E3;this.Ba=a;return this.ha};q.prototype._data_rate=function(b){if("undefined"===typeof b)return this.zb;a.C&&(this.zb=b,c.Ib(0))};c.ft=function(g,
d){function e(g,d){var e=a.$[g];!e.data||d&&!b.a.endsWith(e.Db,".jzf")||(a.wa-=e.data.length,e.data=null,e.ka=0,e.gb=0,e.xa=0,e.ra=0,c.Ql&&c.Ql(g))}var h=b.Z.Ph();if(!(a.wa+d<=h)){var r,m=a.$.length,p=Math.max(m-1-g,g);for(r=p;0<r;r--){var q=g-r;if(0<=q&&(e(q,!0),a.wa+d<=h))return;q=g+r;if(q<m&&(e(q,!0),a.wa+d<=h))return}for(r=p;0<r;r--){q=g-r;if(0<=q&&(e(q,!1),a.wa+d<=h))break;q=g+r;if(q<m&&(e(q,!1),a.wa+d<=h))break}}};c.Ph=function(){return c.Wl?1048576*c.Wl():536870912};c._memory_usage=c.GB=function(){return a.wa};
c._cipher_name=c.Pq=function(){return a.hd};c._duration_str=c.HA=function(){return a.tr};c._jn_bConnected=c.pj=function(){return a.C};c._jn_bConnecting=c.RA=function(){return a.pc};c._jn_UserArray=c.LA=function(){return a.U};c._jn_ssrc_index=c.wB=function(){return a.G};c._jn_iSessionIndex=c.pB=function(){return a.ta};c._jn_dwSessionStartTick=c.cB=function(){return a.de};c._jn_iWorkMode=c.Uq=function(){return a.F};c._jn_szUserID=c.xB=function(){return a.Ma};c._jn_codetype=c.YA=function(){return a.ib};
c._jn_opus_preferred_bitrate=c.uB=function(){return a.Se};c._jn_audio_codec_array=c.MA=function(){return a.Yd};c._jn_video_codec_array=c.CB=function(){return a.le};c._jn_SlideArray=c.KA=function(){return a.$};c._jn_iActiveSlideIndex=c.dB=function(){return a.Jb};c._jn_bTokenOwner=c.XA=function(){return a.Xb};c._jn_bTokenHolder=c.WA=function(){return a.qa};c._jn_bDataSender=c.SA=function(){return a.Ja};c._jn_iSize_w=c.rB=function(){return a.xh};c._jn_iSize_h=c.qB=function(){return a.wh};c._jn_bPreferenceQuestioner=
c.Sq=function(){return a.rc};c._jn_iAssistant=c.fB=function(){return a.wb};c._jn_iTokenHolder=c.sB=function(){return a.ua};c._jn_iController=c.gB=function(){return a.La};c._jn_iControlFlag=c.Tq=function(){return a.Kb};c._jn_iDataSender=c.hB=function(){return a.za};c.is_talker=c.cC=function(b){if(0>b)return!1;if(b==a.ua||b==a.za)return!0;for(var g=0;g<a.Sc;g++)if(b==a.$b[g])return!0;return!1};c.is_questioner=c.aC=function(b){if(0>b||b==a.ua)return!1;if(b==a.za)return!0;for(var g=0;g<a.Sc;g++)if(b==
a.$b[g])return!0;return!1};c.is_speaker=c.bC=function(b){if(0>b)return!1;for(var g=0;g<a.Sc;g++)if(b==a.$b[g])return!0;return!1};c._jn_iParticipantVideoSsrc=c.nB=function(){return a.jb};c._jn_iParticipantAudioSsrc=c.mB=function(){return a.$b};c._jn_iAdjustedMaxBandwidth=c.eB=function(){return a.Qc};c._jn_iMaxBandwidth=c.jB=function(){return a.xb};c._jn_tokens=c.Vq=function(){if(0<a.ha)return a.ha;var g=b.a.A();a.ha+=(g-a.Ba)*a.va/8E3;a.Ba=g;return a.ha};c._jn_auto_download_all=c.OA=function(){return a.ds};
c._jn_auto_download_next=c.PA=function(){return a.es};c._jnj_opus_preferred_bitrate=c.FB=function(){return a.Ps};c._stat_video=c.JB=function(){return a.Gm};c._stat_audio=c.IB=function(){return a.Fm};c._codec2str=c.GA=function(){return b.o.Vg};c._jn_bPreferenceQuestioner=c.Sq=function(){return a.rc};c._jn_bPreferenceBothVideo=c.TA=function(){return a.Zd};c._jn_bRecvVideo=c.VA=function(){return a.Mc};c._jn_iMaxParticipantAudio=c.kB=function(){return a.Sc};c._jn_bQuestionRequest=c.UA=function(){return a.ub};
c._jn_iControlFlag=c.Tq=function(){return a.Kb};c._jn_conversion_support=c.$A=function(){return a.vh};c._jn_conversion_count=c.ZA=function(){return a.Pc};c._jn_disable_upload_file=c.bB=function(){return a.am};c._jn_disable_save_slide=c.aB=function(){return a.$l};c._sync_ssrc=c.jc=function(){return a.Kb&b.b.Eg?a.La:a.ua};c._is_sync_ssrc=c.oj=function(){var g=a.Kb&b.b.Eg?a.La:a.ua;return-1!=a.G&&a.G==g};c._q_ssrc=c.Fe=function(){return a.Kb&b.b.Ni?a.La:a.ua};c._fullscreen_ssrc=c.IA=function(){return a.Kb&
b.b.Pi?a.La:a.ua};c._tab_ssrc=c.Wq=function(){return a.Kb&b.b.Qi?a.La:a.ua};c._poll_ssrc=c.HB=function(){return a.Kb&b.b.qw?a.La:a.ua};c._jn_iRecordingStatus=c.oB=function(){return a.bm};c._jn_to_archive=c.zB=function(){return a.jm};c._jn_plugin_data=c.vB=function(){return a.P};c._has_jnr_password=c.JA=function(){return a.fh};c._jn_bEnableJNRPassword=c.Rq=function(){return a.Me};c._jn_user_record=c.BB=function(){return a.Dh};c._jn_bAudioCap=c.QA=function(){return a.Lc};c._jn_webrtc_signal_server_url=
c.EB=function(){if(!a.me)return"";var g=b.crypto.$c(a.yc.ja.slice(0,16));g=g.Nb().slice(0,32);var d=b.crypto.$c(a.Dm.ja.slice(0,16));d=(""+a.ta+"a"+d.Nb()).slice(0,36);return a.me+"?peerName="+a.G+"&roomId="+d+"&hash="+g};c._jn_webrtc_check_auth=c.DB=function(g){var d=b.crypto.$c(a.yc.key.slice(0,16));d=d.Nb().slice(0,32);return d==g};c._jn_is_webrtc_supported=c.tB=function(){return!!a.me};c._jn_turn_server_array=c.AB=function(){return a.Ch};c._jn_audio_rate=c.NA=function(b){if("undefined"===typeof b)return a.Le;
a.C&&(a.Le=b,c.Ib(0))};c._jn_iMaxVideoBitrate=c.lB=function(b){if("undefined"===typeof b)return a.Sf;a.C&&(a.Sf=b,c.Ib(0))};c._jn_iMaxAppdataBitrate=c.iB=function(b){if("undefined"===typeof b)return a.Re;a.C&&(a.Re=b,c.Ib(0))};c._jn_targetrate=c.yB=function(g){if("undefined"===typeof g)return a.va;a.va!=g&&a.C&&(b.a.log("JoinNet set target rate "+a.va+" -> "+g),a.va=g,c.Ib(0))};c.jn_command_Reset=c.vE=function(){a.F=b.b.R;a.$=[];a.Kc=[];a.wa=0};c.jn_command_CallbackReady=c.ND=function(){var a=b.Z;
a.hl=a.jn_callback_ErrorReport;a.js=a.jn_callback_decompress;a.Wl=a.jn_callback_memory_threshold;a.Vl=a.jn_callback_fail_to_connect;a.Ka=a.jn_callback_UpdateStatus;a.vb=a.jn_callback_UpdateStatus_MessageBox;a.Ff=a.jn_callback_ErrorWrongVersion;a.Nc=a.jn_callback_DisconnectFromMCU;a.$k=a.jn_callback_AddUser;a.gl=a.jn_callback_DeleteUser;a.hb=a.jn_callback_EventQuitSession;a.il=a.jn_callback_EventStartSession;a.Yk=a.jn_callback_AddSlideTitle;a.Aa=a.jn_callback_ChatText;a.If=a.jn_callback_NetInitFinish;
a.ll=a.jn_callback_JointBrowsing;a.Zl=a.jn_callback_update_duration_str;a.ul=a.jn_callback_PlaybackInitStat;a.zl=a.jn_callback_PlaybackTickUpdate;a.yl=a.jn_callback_PlaybackRestart;a.dl=a.jn_callback_ChangeWorkMode;a.al=a.jn_callback_AudioPacketRecved;a.Rl=a.jn_callback_VideoPacketRecved;a.Ol=a.jn_callback_UnknownMediaAlert;a.Hf=a.jn_callback_GetSelectedSlideIndex;a.Cb=a.jn_callback_FlipSlide;a.ce=a.jn_callback_mark_event;a.Gf=a.jn_callback_FocusPointer;a.Pl=a.jn_callback_UpdateDeletedSlideTitle;
a.Ql=a.jn_callback_UpdateReleasedSlideTitle;a.rl=a.jn_callback_NewTokenHolder;a.Jf=a.jn_callback_NewDataSender;a.ol=a.jn_callback_NewAssistant;a.ql=a.jn_callback_NewController;a.pl=a.jn_callback_NewControlFlag;a.sl=a.jn_callback_ParticipantVideoSpeakerStatus;a.Mf=a.jn_callback_VideoBitrateChanged;a.Ef=a.jn_callback_AppdataBitrateChanged;a.Xk=a.jn_callback_AddQuestion;a.bl=a.jn_callback_CancelQuestion;a.kl=a.jn_callback_JoinRequest;a.Hl=a.jn_callback_SIPJoinRequest;a.Xl=a.jn_callback_sipclient_status_update;
a.Yl=a.jn_callback_sipclient_transfer_update;a.hs=a.jn_callbackQuestionSkipped;a.el=a.jn_callback_ConversionCount;a.fl=a.jn_callback_ConversionResult;a.cl=a.jn_callback_ChangeCapability;a.El=a.jn_callback_PollRequest;a.Wk=a.jn_callback_AddPollResult;a.Nl=a.jn_callback_TokenHolderPollRequest;a.Zk=a.jn_callback_AddTokenHolderPollResult;a.Oc=a.jn_callback_LeaveMessage;a.Nf=a.jn_callback_WaitForResponse;a.ml=a.jn_callback_JointBrowsingMode;a.Ml=a.jn_callback_SyncFullScreen;a.Jl=a.jn_callback_ServerShutdown;
a.Lf=a.jn_callback_PromptPassword;a.ae=a.jn_callback_ReconnectName;a.Il=a.jn_callback_SelfPictureReady;a.jl=a.jn_callback_ForceSync;a.Ll=a.jn_callback_SwapSlide;a.nl=a.jn_callback_MoveSlide;a.be=a.jn_callback_ResetSlidePolling;a.Fl=a.jn_callback_PollSlideDownloadResult;a.Gl=a.jn_callback_RecordingStatusNotification;a.Ul=a.jn_callback_archive_recording;a.Of=a.jn_callback_jnr_password_status;a.Kf=a.jn_callback_PlugInRequestChannelResponse;a.Al=a.jn_callback_PlugInCloseChannelResponse;a.Dl=a.jn_callback_PlugInSetStaticDataResponse;
a.Bl=a.jn_callback_PlugInControlChannelData;a.Cl=a.jn_callback_PlugInPacketRecved;a.Sl=a.jn_callback_VideoSendingStatusNotification;a.wl=a.jn_callback_PlaybackJNRDecryptionStatus;a.vl=a.jn_callback_PlaybackJNRDecryptionProgress;a.Kl=a.jn_callback_SetDefaultPlaybackVideo;a.Yb=a.jn_callback_ForceIFrame;a.xl=a.jn_callback_PlaybackJNRPropertyReady;a.Zb=a.jn_callback_IsRecvingAudio;a.Tl=a.jn_callback_WebRTCStatusNotification;a.tl=a.jn_callback_PlaybackEndOfFile};c.jn_command_read_jnj=c.$E=function(d){a.mh();
a.Tk();a.nh();var c=d.entries;F();a.ys=c.portm>>>0;a.zs=(c.portm2||0)>>>0;a.gm=c.ip;a.hm=c.backupip||"";a.xh=c.size_w||320;a.wh=c.size_h||240;8>a.xh&&(a.xh=8);8>a.wh&&(a.wh=8);a.ds=c.auto_download_all;a.es="undefined"===typeof c.auto_download_next?!0:c.auto_download_next>>0;a.Ps="undefined"===typeof c.opus_preferred_bitrate?0:c.opus_preferred_bitrate>>0;a.Ve=c.userinfo||"";a.gm=c.ip;a.hm=c.backupip||"";var g=a.ib=c.codetype||0;a.lh=a.$r(c.use_relay||"");a.em=c.make_recording||0;if(0==g)b.a.log("no code type found in .jnj file");
else{if(4==g||5==g){a.Ma=a.sc=(c.userid||"").slice(0,127);if(!a.sc)return b.a.log("no userid is specified in .jnj file"),!1;if((d=c.owner_passwd||"")&&b.a.localStorage[d]){var e=b.a.qe(b.a.localStorage[d]);"undefined"!==e&&e.time&&"string"===typeof e.value&&(e=b.crypto.w(e.value,b.crypto.ff).u(),a.xd=e.slice(0,99),b.a.sd||b.a.localStorage.removeItem(d))}a.zh=(c.username||"").slice(0,127);a.Zf=(c.playback_filename||"").slice(0,23);a.ie=(c.invite_ticket||"").slice(0,255);a.$d=!0;a.ac=a.Uc="";if(5!=
g||a.Zf)4==g?(a.ie?(a.Ma=("_"+a.sc).slice(0,127),a.Te=a.Ue="Invited Guest"):a.xd?(a.Ma=a.sc,a.Uc=b.a.ef(a.xd,b.b.dj),a.ac=a.Uc,a.xd=""):(a.Ma=("_"+a.sc).slice(0,127),a.Te=a.Ue="Guest"),a.F=b.b.R):(a.xd&&(a.Ma=a.sc,a.Uc=b.a.ef(a.xd,b.b.dj),a.ac=a.Uc,a.xd=""),a.F=b.b.Fa);else return b.a.log("no jnr is specified in playback jnj file"),!1;return!0}if(13==g||15==g){a.Ve=b.a.ef(c.userinfo||"",b.b.Ip);a.Ma=a.sc=(c.userid||"").slice(0,127);if(0==a.Ve.length)return b.a.log("no userinfo is specified in .jnj file"),
!1;a.ke=b.a.ef(c.player_name||"",128);a.ke.length&&b.a.ne(["found player_name ",a.ke," in jnj"].join(""));15==g?((d=c.owner_passwd||"")&&b.a.localStorage[d]&&(e=b.a.qe(b.a.localStorage[d]),"undefined"!==e&&e.time&&"string"===typeof e.value&&(e=b.crypto.w(e.value,b.crypto.ff).u(),a.im=e.slice(0,99),b.a.sd||b.a.localStorage.removeItem(d))),a.$d=!0,a.sh=!1,a.F=b.b.Fa):(a.sh=!0,a.F=c.action?b.b.Fa:b.b.R);a.ac=a.Uc="";return!0}}return!1};c.jn_command_initconnectmedia=c.qs=function(d){a.Ns=!1;a.C=!1;a.DD=
!1;a.Vk=!1;a.Xb=!1;a.qa=!1;a.Ja=!1;a.rh=!1;a.qc=!1;a.Cf=!1;a.ub=!1;a.de=b.a.A();a.va=a.Qc=a.xb=a.Sf=1E7;a.Re=0;a.Le=0;a.Tc=0;a.G=-1;a.ua=-1;a.za=-1;a.La=-1;a.Kb=0;a.wb=-1;a.Sh=[];for(var g=0;g<b.b.Fb;g++)a.Sh.push({});a.Pe=!1;for(g=0;g<b.b.cd;g++)a.$b[g]=-1;for(g=0;g<b.b.Ob;g++)a.jb[g]=-1;a.U={};a.Eh=-1;a.Fh=-1;a.Se=0;a.Rf=-1;a.Sc=-1;a.fe=-3;a.Ne=!1;a.ts=-1;a.fF=-2;a.fs=!1;a.Uk=!1;a.cm=0;a.dm=0;a.Me=!1;a.Df=!1;a.km=!1;a.am=a.$l=0;a.cs=0;a.Yd=[];a.Os=0;a.le=[];a.jm=!1;a.fh=!1;a.vh=0;a.Pc=0;a.bm=1;
a.Zc&&(a.Zc.disconnect(),a.Zc=null);a.me="";a.Ch=[];a.Lc=a.ud=!1;c.il&&c.il();a.Oe=d||!1;a.GD=!1;a.pc=!0;a.sa=!1;a.lh.port?a.F==b.b.Fa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):(a.ca=a.lh,a.sa=!0,b.a.log(["using one time mcu relay ",a.ca.Tb,",",a.ca.port].join(""))):a.FD&&a.ca.port&&(a.F==b.b.Fa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):b.a.log(["using mcu relay ",
a.ca.Tb,",",a.ca.port].join("")));a.Qf=0;a.Xf=0;g=b.o.Uh(a.gm,a.hm,a.ys,a.zs);d=g.Nh;g=g.$h;a.em&&a.sa&&(b.a.log("make recording cannot use relay, clear relay setting and try to directly connect......"),a.sa=!1);E(d,g)};c.jn_command_QuitConnection=c.ms=function(){a.disconnect&&(b.a.log("disconnect, user(or a reconnection) quit connection"),D())};c.jn_command_OwnerResponse=c.cE=function(b,d){var c=new t.a.g;c.m(a.N);c.f(a.ln);c.H(b);c.f(d);a.j.send(c.i());return 0};c.jn_command_SendChatText=c.wE=function(d,
e){if(!a.C)return 1;if(b.a.startsWith(e,"__command:")){if(b.a.startsWith(e,"__command: swap ")){d=e.slice(16);e=d.indexOf(" ");if(-1==e)return c.Aa&&c.Aa(-1,-1,1,"syntax:",0),c.Aa&&c.Aa(-1,-1,1,"__command: swap m n",0),0;c.os(parseInt(d),parseInt(d.slice(e+1)))}else if(b.a.startsWith(e,"__command: move ")){d=e.slice(16);e=d.indexOf(" ");if(-1==e)return c.Aa&&c.Aa(-1,-1,1,"syntax:",0),c.Aa&&c.Aa(-1,-1,1,"__command: move index target_pos",0),0;c.ks(parseInt(d),parseInt(d.slice(e+1)))}else c.Aa&&c.Aa(-1,
-1,1,"list of commands:",0),c.Aa&&c.Aa(-1,-1,1,"__command: swap m n",0),c.Aa&&c.Aa(-1,-1,1,"__command: move index target_pos",0);return 0}if(e.length>=b.b.Gp)return 1;if(-1==d)return a.C?(d=new t.a.g("C"),d.f(e.length),e.length&&d.D(b.crypto.L(e,a.ba)),a.j.send(d.i()),e=0):e=1,e;var g=new t.a.g;g.m(a.N);g.f(a.vn);g.f(d);g.f(e.length);e.length&&g.D(b.crypto.L(e,a.ba));a.j.send(g.i());return 0};c.jn_command_UpdateTextCodePage=c.PE=function(d){if(!a.C||a.F!=b.b.R)return 1;var c=new t.a.g;c.m(a.N);c.f(a.Gn);
c.f(d);a.j.send(c.i());return 0};c.jn_command_WebOfficeSetVisitorName=c.XE=function(b){a.Te=a.Ue=b};c.jn_command_WebOfficeSetOwnerPassword=c.WE=function(b){a.Ma=a.sc;a.Uc=b;a.ac=a.Uc};c.jn_command_PlaybackPlay=c.iE=function(){if(!a.C||a.F!=b.b.Fa)return 1;var d=new t.a.g;d.m(a.ad);d.f(9);a.j.send(d.i());return 0};c.jn_command_PlaybackPause=c.hE=function(){if(!a.C||a.F!=b.b.Fa)return 1;var d=new t.a.g;d.m(a.ad);d.f(7);a.j.send(d.i());return 0};c.jn_command_PlaybackRandomAccess=c.jE=function(d){if(!a.C||
a.F!=b.b.Fa)return 1;var c=new t.a.g;c.m(a.ad);c.f(8);c.f(d);a.j.send(c.i());a.nh();return 0};c.jn_command_PlaybackRequestRepeat=c.kE=function(d){if(!a.C||a.F!=b.b.Fa)return 1;var c=new t.a.g;c.m(a.ad);c.f(d?6:5);a.j.send(c.i());return 0};c.jn_command_TCPMedia=c.JE=v;c.jn_command_UnknownMedia=c.ps=function(d,e,h){h=h?h:"";if(!a.oh[d+h]){a.oh[d+h]=!0;b.a.log("unknown media type "+d+h+" from ssrc "+e+", alert user");var g;a.U[e]?g=a.U[e].ai:g="ssrc"+e;c.Ol&&c.Ol(d,g,h)}};c.jn_command_write_timestamp_given=
c.ss=function(b,d,c,e){var g=new t.a.g;g.m(b);g.f(e);g.f(c);g.f(a.G);g.f(a.ta);g.f(0);g.D(new t.a.g(d));return g};c.jn_command_generate_auth_data=c.Pf=function(d){var c=b.a.A()-a.bb,g=new t.a.g;g.f(c);c=""+String.fromCharCode(g.K(0)^d.K(4));c+=String.fromCharCode(g.K(1)^d.K(8));c+=String.fromCharCode(g.K(2)^d.K(12));c+=String.fromCharCode(g.K(3)^d.K(16));return c=b.crypto.L(c,a.ea).u()};c.jn_command_send_audio_pkt=c.aF=function(b){return a.Sa&&c.us()?a.Sa.jt(b):!0};c.jn_command_send_video_pkt=c.cF=
function(b){return a.Sa&&c.vs()?a.Sa.mt(b):!0};c.jn_command_send_plugin_pkt=c.bF=function(b,d,c,e,h,m){return a.Sa?a.Sa.kt(b,d,c,e,h,m):!0};c.jn_command_send_spic_pkt=c.rs=function(b){return a.Sa?a.Sa.lt(b):!0};c.jn_command_AskQuestion=c.KD=function(){if(a.C&&!(a.qa||a.ub||a.qc||a.Ja)){var b=new t.a.g("Q");b.f(a.G);b.f(3);b.M("Yes");a.j.send(b.i());a.ub=!0}};c.jn_command_simulate_disconnect=c.dF=function(){b.a.log("simulate network disconnection");var d=new t.a.g("H");a.j.send(d.i())};c.jn_command_RefreshSlide=
c.rE=function(b){a.C&&(a.Pa&&(a.Pa.disconnect(),a.Pa=null),b=a.$[b],b.data&&(a.wa-=b.data.length),b.data=null,b.ka=0,b.gb=0,b.xa=0,b.ra=0)};c.jn_command_DownloadSlide=c.SD=function(b,a,d,c){B(b,!1,a,d,c)};c.jn_command_DownloadSlideEx=c.TD=function(b,a,d,c){B(b,!0,a,d,c)};c.jn_command_StopSlideDownload=c.ns=function(){a.Pa&&(a.Pa.disconnect(),a.Pa=null)};c.jn_command_UploadSlide=c.SE=function(d,c,e,h,m,p,q){a.zc&&(a.zc.disconnect(),a.zc=null);a.C?a.zc=new b.protocol.Is(a,d,c,e,h,m,p,q):setTimeout(function(){q&&
q()},0)};c.jn_command_StopSlideUpload=c.HE=function(){a.zc&&(a.zc.disconnect(),a.zc=null)};c.jn_command_UploadSelfPicture=c.RE=function(d,c){a.Zc||1E6<c.length||(a.Zc=new b.protocol.Ls(a,d,c))};c.jn_command_FlipSlide=c.uh=function(b){if(a.C){var d=new t.a.g("A");d.f(b);a.j.send(d.i());-1!=b&&c.ls(b)}};c.jn_command_PollSlideDownload=c.ls=function(b){c.be&&setTimeout(function(){c.be(b)},0);a.Th&&clearTimeout(a.Th);a.Th=setTimeout(function(){a.Th=null;if(a.C){var d=new t.a.g;d.m(a.N);d.f(a.Ag);d.f(0);
d.f(b);a.j.send(d.i())}},1E3)};c.jn_command_FocusPointer=c.WD=function(b,d,c,e,h,m,p){var g=new t.a.g;g.m(a.N);g.f(a.$m);g.f(b);g.f(d);g.f(c);g.f(e);g.f(h);g.f(m);g.f(p);a.j.send(g.i())};c.jn_command_SendNewStroke=c.AE=function(d,c,e,h,m,p){if(a.C){var g=new t.a.g;g.m(a.Id);g.m(b.b.Kg);g.f(c);g.f(d);g.f(a.G);g.f(e);g.f(h);g.f(m.length);for(d=0;d<m.length;d++)g.f(m[d]),g.f(p[d]);g.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):a.j.send(g.i())}};c.jn_command_SendNewText=
c.BE=function(d,c,e,h,m,p,q,v){if(a.C&&!(2048<=v.length)){var g=new t.a.g;g.m(a.Id);g.m(b.b.Lg);g.f(c);g.f(d);g.f(a.G);g.f(e);g.f(h);g.f(m);g.f(h+p);g.f(m+q);g.f(v.length);v.length&&g.D(b.crypto.L(v,a.ba));g.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):a.j.send(g.i())}};c.jn_command_SendMarkMove=c.zE=function(d,c,e,h,m){if(a.C){var g=new t.a.g;g.m(a.Id);g.m(b.b.bj);g.f(d);g.f(c);g.f(e);g.f(h);g.f(100);g.f(m.length);for(d=0;d<m.length;d++)g.f(m[d]);b.a.debug_mark_delay?
setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):a.j.send(g.i())}};c.jn_command_SendImageMark=c.yE=function(d,c,e,h,m,p,q,v,y){if(a.C){var g=1==c?8:4;if(5E5<g+v.length)return 1;var r=new t.a.g;r.m(a.Id);r.m(b.b.aj);r.f(d);r.f(e);r.f(h);r.f(q);r.f(c);r.f(g+v.length);4!=c&&(r.Dd(e+m),r.Dd(h+p));5!=c&&r.Yc(y);r.D(new t.a.g(v));b.a.debug_mark_delay?setTimeout(function(){a.j.send(r.i())},1E3*b.a.debug_mark_delay):a.j.send(r.i())}};c.jn_command_ConvertCustomizedData=c.PD=function(b,a,d,
c,e,h,m){var g=new t.a.g;4!=b&&(g.Dd(a+c),g.Dd(d+e));5!=b&&g.Yc(m);g.D(new t.a.g(h));return g.h(0)};c.jn_command_ChangeCapability=c.OD=function(b,d){!a.C||!!a.ph==!!b&&!!a.qh==!!d||(a.Lc=b,a.ud=d,b=new t.a.g,b.m(a.N),b.f(a.Um),d=0,a.ph=a.Lc,a.qh=a.ud,a.Lc&&(d|=1),a.ud&&(d|=2),b.m(d),a.j.send(b.i()))};c.jn_command_AdjustVideoBitrate=c.Ib=function(d){var e,g=a.va,h=a.Qc,m=a.xb;if(a.Tc){var p=1;a.za!=a.ua&&p++;for(e=0;e<b.b.cd;e++)-1!=a.$b[e]&&p++;m=Math.min(a.Tc/p,m)}m=Math.min(a.Sf+a.Le,m)>>0;a.Qc=
m>>0;p=a.va;if(d){g=p;var q=a.va/20;q=Math.max(3E3,q);q+=500*Math.random();p+=q*d>>0;p=Math.max(g>>1,p);p=Math.min(g<<1,p)}p=Math.min(m-a.Le,p);p=Math.max(b.b.Jp,p);a.va=p;if(g!=a.va||h!=a.Qc)g!=a.va&&a.C&&(a.Ca("rate control, targetrate "+g+" -> "+a.va),a.F==b.b.R&&b.a.log("rate control, targetrate "+g+" -> "+a.va)),h!=a.Qc&&a.C&&(a.Ca("max bandwidth "+h+" -> "+a.Qc),a.F==b.b.R&&b.a.log("max bandwidth "+h+" -> "+a.Qc)),c.Mf&&c.Mf();for(e=0;e<b.b.Fb;e++)a.P[e]&&a.P[e].active&&(q=a.P[e].jd/20,q=Math.max(3E3,
q),q+=500*Math.random(),p=a.P[e].zb,p+=q*d>>0,g=a.P[e].jd,a.Re&&(g=Math.min(a.Re,g)>>0),p=Math.min(g,p),p=Math.max(1E3,p),p=Math.max(a.P[e].zb>>1,p),p=Math.min(a.P[e].zb<<1,p),a.P[e].zb!=p&&(a.C&&a.Ca("appdata channel "+e+", data rate "+a.P[e].zb+" -> "+p),a.P[e].zb=p,c.Ef&&c.Ef(e)))};c.jn_command_UpdatePreference=c.OE=function(b){if(a.C&&(!b||!a.rc)&&(b||a.rc)){a.rc=b;var d=new t.a.g;d.m(a.N);d.f(a.un);d.f(a.G);d.f(b?1:0);a.j.send(d.i())}};c.jn_command_UpdateBothVideoPreference=c.NE=function(d){if(a.C&&
(!d||!a.Zd)&&(d||a.Zd)){a.Zd=d;var c=new t.a.g;a.F==b.b.R?(c.m(a.N),c.f(a.pi)):(c.m(a.ad),c.f(10));c.f(d?1:0);a.j.send(c.i())}};c.jn_command_RequestVideo=c.uE=function(b){if(a.C&&(!b||!a.Mc)&&(b||a.Mc)){a.Mc=b;var d=new t.a.g;d.m(a.uo);d.f(b?1:0);a.j.send(d.i())}};c.jn_command_ParticipantVideoRequest=c.eE=function(d){for(var c,e=c=-1,g=0;g<b.b.Ob;g++){if(a.jb[g]==d){c=g;break}-1==a.jb[g]&&(e=g)}if(a.F==b.b.R){if(!a.C)return 1;if(-1!=c)return 0;c=new t.a.g;c.m(a.N);c.f(a.jf);c.f(a.sq);c.f(d);a.j.send(c.i())}else if(a.F==
b.b.Fa){if(!a.C)return 1;if(-1!=c)return 0;-1==e&&(c=new t.a.g,c.m(a.N),c.f(a.yg),c.f(a.jb[0]),c.f(0),a.j.send(c.i()),e=0);c=new t.a.g;c.m(a.N);c.f(a.yg);c.f(d);c.f(1);a.j.send(c.i());0<=d&&d<b.b.Ha&&(a.jb[e]=d)}return 0};c.jn_command_ParticipantVideoStop=c.fE=function(d){var c;if(!a.C)return 1;var e=-1;for(c=0;c<b.b.Ob;c++)if(a.jb[c]==d){e=c;break}if(-1==e)return 0;a.F==b.b.R?(c=new t.a.g,c.m(a.N),c.f(a.jf),c.f(a.oq),c.f(d),a.j.send(c.i()),a.jb[e]=-1):a.F==b.b.Fa&&(a.jb[e]=-1,c=new t.a.g,c.m(a.N),
c.f(a.yg),c.f(d),c.f(0),a.j.send(c.i()));return 0};c.jn_command_ParticipantVideoAssignSpeaker=c.dE=function(d){if(!a.C)return 1;if(a.G!=c.Fe())return 0;if(a.F==b.b.R){b.a.log("assign speaker to ssrc "+d);var e=new t.a.g;e.m(a.N);e.f(a.jf);e.f(a.jq);e.f(d);a.j.send(e.i())}return 0};c.jn_command_ParticipantVideoStopSpeaker=c.gE=function(d){if(!a.C)return 1;var e=c.Fe();if(d!=a.G&&a.G!=e)return 0;a.F==b.b.R&&(b.a.log("stop speaker ssrc "+d),e=new t.a.g,e.m(a.N),e.f(a.jf),e.f(a.lq),e.f(d),a.j.send(e.i()));
return 0};c.jn_command_GiveoutToken=c.YD=function(d){if(!a.C)return 1;if(d!=a.G&&!a.qa)return 0;b.a.log("change token to "+d+" - giveout token");var c=new t.a.g;c.m(a.Bg);c.f(d);a.j.send(c.i());return 0};c.jn_command_GiveoutToken2=c.ZD=function(d,c){var e;if(!a.C)return 1;if(d!=a.G&&a.qa||!a.qa&&0==a.G&&d==a.G||!a.qa&&a.G==a.wb&&d==a.G||a.Kb&b.b.Oi&&!a.qa&&a.G==a.La&&d==a.G){if("undefined"==typeof c){c=[];var g={};g[d]=1;a.za==a.ua||g[a.za]||(g[a.za]=1,c.push(a.za));var h=a.$b;for(e=0;e<h.length;e++)-1==
h[e]||g[h[e]]||(g[h[e]]=1,c.push(h[e]));a.qa&&!g[a.G]&&c.push(a.G)}g=new t.a.g;if(c.length)for(g.m(a.N),g.f(a.mn),g.f(d),g.f(c.length),e=0;e<c.length;e++)g.f(c[e]);else g.m(a.Bg),g.f(d);a.j.send(g.i());b.a.log("change token to "+d+" - "+(a.qa?"holder":0==a.G?"owner":a.G==a.wb?"assistant":"controller")+" GiveoutToken2"+(c.length?" with question ["+c.toString()+"]":""))}return 0};c.jn_command_AllowQuestion=c.JD=function(d){if(!a.C)return 1;if(a.G==c.Fe()){var e=new t.a.g;e.m(a.wg);e.f(d);a.j.send(e.i());
b.a.log("set datasender to "+d)}return 0};c.jn_command_SkipQuestion=c.GE=function(b){if(!a.C)return 1;if(a.G==c.Fe()){var d=new t.a.g;d.m(a.si);d.f(b);a.j.send(d.i())}return 0};c.jn_command_EndQuestion=c.UD=function(){if(!a.C)return 1;var b=new t.a.g;b.m(a.wg);b.f(-1);a.j.send(b.i());return 0};c.jn_command_EndQuestionRequest=c.VD=function(){if(!a.C)return 1;var b=new t.a.g;b.m(a.N);b.f(a.Ym);b.f(a.G);a.j.send(b.i());a.ub=!1;return 0};c.jn_command_Disconnect=c.RD=function(b){if(!a.C)return 1;var d=
new t.a.g;d.m(a.mi);d.f(b);a.j.send(d.i());return 0};c.jn_command_BanUserID=c.MD=function(b){if(!a.C||!a.Xb&&a.G!=a.wb)return 1;var d=new t.a.g;d.m(a.N);d.f(a.Tm);d.f(b);a.j.send(d.i());return 0};c.jn_command_SetController=c.DE=function(d){if(!a.C||!a.Xb&&!a.qa&&a.G!=a.La)return 1;var c=new t.a.g;c.m(a.N);c.f(a.Wm);c.f(d);a.j.send(c.i());b.a.log((a.Xb?"owner":a.qa?"holder":"controller")+" change controller to "+d);return 0};c.jn_command_AssignAssistant=c.LD=function(b){if(!a.C||!a.Xb&&a.G!=a.wb)return 1;
var d=new t.a.g;d.m(a.N);d.f(a.Sm);d.f(b);a.j.send(d.i());return 0};c.jn_command_TerminateSession=c.KE=function(){if(!a.C)return 1;var b=new t.a.g;b.m(a.ri);a.j.send(b.i());return 0};c.jn_command_SetControlFlag=c.CE=function(d){if(!a.C||!a.Xb&&!a.qa&&a.G!=a.La)return 1;var c=new t.a.g;c.m(a.N);c.f(a.gn);c.f(d);a.j.send(c.i());b.a.log([a.Xb?"owner":a.qa?"holder":"controller"," change control flag to 0x",d.toString(16),"(",b.o.xj(d),")"].join(""));return 0};c.jn_command_DeleteSlide=c.QD=function(b){if(!a.C)return 1;
var d=new t.a.g;d.m(a.li);d.f(b);a.j.send(d.i());return 0};c.jn_command_SendClearMarking=c.xE=function(d){if(!a.C)return 1;var c=new t.a.g;c.m(a.ki);c.f(d);b.a.debug_mark_delay?setTimeout(function(){a.j.send(c.i())},1E3*b.a.debug_mark_delay):a.j.send(c.i());return 0};c.jn_command_UndoMark=c.ME=function(d){if(!a.C)return 1;var c=new t.a.g;c.m(a.N);c.f(a.In);c.f(a.G);c.f(d);b.a.debug_mark_delay?setTimeout(function(){a.j.send(c.i())},1E3*b.a.debug_mark_delay):a.j.send(c.i());return 0};c.jn_command_GlobalUndoMark=
c.$D=function(d,c){if(!a.C)return 1;var e=new t.a.g;e.m(a.Id);e.M("u");e.f(d);e.f(c);b.a.debug_mark_delay?setTimeout(function(){a.j.send(e.i())},1E3*b.a.debug_mark_delay):a.j.send(e.i());return 0};c.jn_command_PollResult=c.pE=function(b,d){if(!a.C)return 1;var c=new t.a.g;1==b?c.m(a.ui):(c.m(a.N),c.f(a.ti));c.f(2);c.f(d);a.j.send(c.i());return 0};c.jn_command_TokenHolderPoll=c.LE=function(){if(!a.C)return 1;var b=new t.a.g;b.m(a.N);b.f(a.ti);b.f(1);a.j.send(b.i());return 0};c.jn_command_UserContinue=
c.VE=function(){var b=new t.a.g;b.f(1);a.j.send(b.i())};c.jn_command_UserCancel=c.UE=function(){var d=new t.a.g;d.f(0);a.j.send(d.i());b.a.log("user choose not to continue");setTimeout(function(){D()},1E3)};c.jn_command_JointBrowsingMode=c.bE=function(b){if(!a.C)return 1;var d=new t.a.g;d.m(a.N);d.f(a.fn);d.f(b);a.j.send(d.i());return 0};c.jn_command_SyncFullScreen=c.IE=function(b,d){if(!a.C)return 1;var c=new t.a.g;c.m(a.N);c.f(a.Dn);c.f(b);c.f(d);a.j.send(c.i());return 0};c.jn_command_ProvidePassword=
c.qE=function(d){d=b.crypto.$c(d);var c=new t.a.g;c.f(20);c.D(b.crypto.L(d,a.ea));a.j.send(c.i())};c.jn_command_JointBrowsing=c.aE=function(d,c){if(!(c.length>=b.b.gj)){var e=new t.a.g;e.m(a.N);e.f(a.en);e.f(d);e.H(c);a.j.send(e.i())}};c.jn_command_ForceSync=c.XD=function(){if(!a.C)return 1;var b=new t.a.g;b.m(a.N);b.f(a.an);a.j.send(b.i())};c.jn_command_SetRecordingStatus=c.FE=function(b){if(!a.C)return 1;var d=new t.a.g;d.m(a.N);d.f(a.xn);d.f(b);a.j.send(d.i())};c.jn_command_PlugInSetRecvingPrio=
c.nE=function(d,c){if(0>d||d>b.b.Fb||!a.C)return 1;var e=new t.a.g;e.m(a.N);e.f(a.zg);e.f(a.sn);e.f(d);e.f(c);a.j.send(e.i());a.Ca("appdata_set_recv_prio(channel "+d+") "+c)};c.jn_command_SwapSlide=c.os=function(b,d){if(!a.C)return 1;var c=new t.a.g;c.m(a.N);c.f(a.Cn);c.f(b);c.f(d);a.j.send(c.i())};c.jn_command_MoveSlide=c.ks=function(b,d){if(!a.C)return 1;var c=new t.a.g;c.m(a.N);c.f(a.hn);c.f(b);c.f(d);a.j.send(c.i())};c.jn_command_RequestPlugInChannel=c.tE=function(d,e,h,m){if(!a.C||a.F!=b.b.R||
c.Wq()!=a.G)return 1;var g=new t.a.g;g.m(a.N);g.f(a.zg);g.f(a.tn);g.f(h);g.f(d);g.f(0);g.f(0);g.f(m);g.M(e);a.j.send(g.i())};c.jn_command_PlugInSetStaticData=c.oE=function(d,c){if(0>d||d>b.b.Fb||!a.C||a.F!=b.b.R||c.length>a.Mg)return 1;var e=new t.a.g;e.m(a.N);e.f(a.zg);e.f(a.oi);e.f(d);e.f(c.length);c.length&&e.D(b.crypto.L(c,a.ba));a.j.send(e.i())};c.jn_command_PlugInCloseChannel=c.lE=function(d){if(0>d||d>b.b.Fb||!a.C||a.F!=b.b.R||a.P[d].vm!=a.G)return 1;var c=new t.a.g;c.m(a.N);c.f(a.ni);c.f(d);
a.j.send(c.i())};c.jn_command_PlugInControlChannelSend=c.mE=function(d,c,e,h,m){if(0>d||d>b.b.Fb||!a.C||m.length>a.ej)return 1;var g=new t.a.g;g.m(a.N);g.f(a.nn);g.f(d);g.f(c);g.f(h);g.f(m.length);m.length&&g.D(b.crypto.L(m,a.ba));g.f(e);a.j.send(g.i())};c.jn_command_SetJNRPassword=c.EE=function(d){if(!a.C||27<d.length)return 1;var c=new t.a.g;c.m(a.N);c.f(a.cn);c.f(d.length);d.length&&c.D(b.crypto.L(d,a.ba));a.j.send(c.i())};c.jn_command_UpdateVideoSendingStatus=c.QE=function(d){if(!a.C||a.F!=b.b.R)return 1;
var c=new t.a.g;c.m(a.N);c.f(a.to);c.f(d?1:2);a.j.send(c.i())};c.jn_command_UseReconnectName=c.TE=function(b){a.ge=b&&12==b.length?b:""};c.jn_command_sipclient_response=c.eF=function(d,c,e){if(!a.C||a.F!=b.b.R)return 1;var g=new t.a.g;g.m(a.N);g.f(a.yn);g.f(a.zn);g.f(c.length);c.length&&g.D(b.crypto.L(c,a.ba));g.f(d);g.f(e);a.j.send(g.i())};c.jn_command_RequestAudio=c.sE=p;c.jn_command_WebRTCStatusNotification=c.ZE=function(b){if(!a.C)return 1;var d=new t.a.g;d.m(a.N);d.f(a.vo);d.m(b);a.j.send(d.i())};
c.jn_command_WebRTCMediaStatusNotification=c.YE=function(b,d,c){if(!(a.C&&a.Qf>=a.Hi))return 1;var e=new t.a.g;e.m(a.N);e.f(a.Hi);e.m(b);e.f(d);e.m(c);a.j.send(e.i())};c.jn_info_GetUserTextCodePage=c.jF=m;c.jn_info_GetWebOfficeVisitorTargetID=c.lF=function(){return 4!=a.ib||a.ie||95!=a.Ma.charCodeAt(0)?"":a.sc};c.jn_info_GetWebOfficeOwnerTargetID=c.kF=function(){return 5!=a.ib||a.ac?"":a.sc};c.jn_info_IsWOOwnerWrongPassword=c.sF=function(){var b=!a.je&&5==a.ib&&!a.ac;return!a.je&&4==a.ib&&!a.ie&&
95!=a.Ma.charCodeAt(0)&&!a.ac||b?a.Ma:""};c.jn_info_IsSlideSameGroup=c.qF=function(b,d){b=a.$[b];d=a.$[d];return b.Ad==d.Ad&&b.ec==d.ec&&b.Ga==d.Ga?!0:!1};c.jn_info_IsSlideDownloading=c.pF=function(){return a.Pa&&-1!=a.Pa.index};c.jn_info_CanSendAudio=c.us=function(){return a.qa||a.Ja||a.qc||a.Cf};c.jn_info_CanSendVideo=c.vs=function(){return a.qa||a.Ja||a.qc&&a.rh};c.jn_info_IsTalker=c.rF=I;c.jn_info_CanAddMark=c.iF=function(){return a.Qf>=a.Fn?I()||b.Z.oj():a.Ja||a.qc||b.Z.oj()};c.jn_info_HasMyPicture=
c.mF=function(){return!!a.Zc};c.jn_info_joinnet_token_holder_video=c.tF=function(){return!!a.km};c.jn_info_IsAllQuestionerMeeting=c.nF=function(){return a.Uk};c.jn_info_IsNoAudioSupportedByMCU=c.oF=A})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){return""+x.hc+"."+x.ic+"."+x.Og+" built on 04/10/2020"}function F(){if(!b.a.sd){var a=Date.now(),d;for(d in b.a.localStorage)if(b.a.localStorage.hasOwnProperty(d)&&0==d.indexOf("hmtg_temp_autodelete_")){var c=b.a.qe(b.a.localStorage[d]);("undefined"===c||!c.time||!c.value||6E4<a-c.time)&&b.a.localStorage.removeItem(d)}}}function d(a){y(a);a.J=b.b.Qo;n.T&&n.T(a);a.we=setTimeout(function(){a.we=null;36E3>a.od&&(a.od+=a.od+1);G(a)},1E3*a.od);b.a.log(6,["schedule to retry connecting ",
a.od," seconds later for ",a.l].join(""))}function y(b){null!=b.we&&(clearTimeout(b.we),b.we=null)}function h(a,d,c,e){if(!a.cb[d]){var f=b.a.A(),g=new B;g.eh=d;g.V=c;g.se="";g.mb={};g.mb[c]=f-6E4;g.count=1;"undefined"===typeof g.mb[e]&&(g.count++,g.mb[e]=f-6E4);q(a,g);a.cb[d]=g;a.yd++;n.Ra&&n.Ra(a,d)}}function q(b,a){if(128<=a.se.length+(" - "+a.count+"()").length)a.$a=a.se;else{a.$a=a.se+" - "+a.count+"(";if(!(128<=a.$a.length+4)){var f=1,d;for(d in a.mb)if(a.mb.hasOwnProperty(d)){var c=n.Sk(b,
d);if(f)if(f=0,128<=a.$a.length+c.length+(1==a.count?1:5)){a.$a+="...";break}else a.$a+=c;else if(128<=a.$a.length+1+c.length+(1==a.count?1:5)){a.$a+=",...";break}else a.$a+=","+c}}a.$a+=")"}}function E(){}function e(){this.hh=function(){this.zd={};this.kb={};this.na=[];this.Xe=[];this.cc=[];this.cb={};this.yd=0;this.eg=[];this.Qh=[];this.gh=this.Ua="";this.bi=[]};this.od=0;this.we=null;this.hh();this.Fc=this.ob=this.Oa="";this.V={};this.nd={};this.qd={}}function D(){}function v(){}function B(){}
function p(){for(var a=[],d=0;d<x.la.length;d++){var c=x.la[d],e={};e.office_name=c.Oa;e.homepage=c.ga;e.visitor_folded=c.ye;e.share_file_folded=c.cf;e.event_folded=c.Od;e.publish_file_folded=c.af;e.pgc_folded=c.re;e.noncontact_folded=c.pe;e.guest=c.S;c.S||(e.last_status=c.bg,e.userid=c.O,(e.saved_password=c.Fd)&&(e.password=b.crypto.L(c.password,b.crypto.ff).u()));a.push(e)}b.a.localStorage.hmtg_wbl=JSON.stringify(a)}function m(b,a,d,c){var f;for(f=0;f<x.la.length;f++){var e=x.la[f];if(e.S==b&&e.ga==
d&&(b||a==e.O)){e.bg=c;break}}}function I(a){a.S&&(a.Rb=1);a.J=b.b.wo;var f=N.a.Ys(a.ga),d=a.Kj=""+b.a.A()+Date.now()+(new N.a.g(N.random.ya(8))).Nb();f&&f.path&&"/raw/"==f.path.toLowerCase()?A(d,a,f.host,"",f.port,0):(n.Uj&&n.Uj(d,a,a.ga,A),a.disconnect=function(){a.Kj=""+b.a.A()+Date.now()+(new N.a.g(N.random.ya(8))).Nb();a.J=b.b.ze;n.T&&n.T(a);b.a.log("sign out for "+a.l)})}function A(a,d,c,e,g,l){a==d.Kj&&(d.disconnect=function(){},"undefined"===typeof c?(d.Cj?n.s&&n.s(d,b.b.Qp):n.s&&n.s(d,b.b.Op),
d.J=b.b.Ao,n.T&&n.T(d),b.a.log(["download jnj fail for ",d.l].join(""))):c&&g?(b.a.log(2,["getmcuinfo for ",d.ga,": ip=",c,",backupip=",e,",port=",g,",port2=",l].join("")),d.Hb=c,d.ar=e,d.port=g,d.port2=l,c=b.o.Uh(c,e,g,l),a=c.Nh,c=c.$h,d.J=b.b.Ii,n.T&&n.T(d),t(d,a,c)):(n.s&&n.s(d,b.b.bq),d.J=b.b.Io,n.T&&n.T(d),b.a.log(["download jnj invalid for ",d.l].join(""))))}function t(f,c,e){function g(a){c[a].Ac=null;c[a].Bd?b.a.log(["msgr connecting to backup mcu ",c[a].aa,",",c[a].oa,"..."].join("")):e&&
0==a?b.a.log(["msgr connecting to (switched) primary mcu ",c[a].aa,",",c[a].oa,"..."].join("")):b.a.log(["msgr connecting to primary mcu ",c[a].aa,",",c[a].oa,"..."].join(""));c[a].Cd=new b.protocol.fm(x.hc,x.ic,null,c,a,function(){c[a].pd=!0;c[a].Mb?l():0==a?(r&&(clearTimeout(r),r=null),w(0),p=0,f.J=b.b.Mi,n.T&&n.T(f),new b.protocol.Qe(x.hc,x.ic,c[0],c[0].aa,c[0].oa,m)):r||h()})}function h(){r=null;var a;for(a=0;a<c.length;a++)if(c[a].pd&&!c[a].Mb){w(a);p=a;f.J=b.b.Mi;n.T&&n.T(f);new b.protocol.Qe(x.hc,
x.ic,c[a],c[a].aa,c[a].oa,m);break}}function l(){var a;for(a=0;a<c.length;a++)if(!c[a].pd||!c[a].Mb)return;r&&(clearTimeout(r),r=null);f.Ie&&n.s&&n.s(f,b.b.Pp);f.J=b.b.Bo;n.T&&n.T(f);f.Dj&&(f.Ie=0,d(f),f.disconnect=function(){y(f)})}function w(b){var a;for(a=0;a<c.length;a++)c[a].Ac?(clearTimeout(c[a].Ac),c[a].Ac=null):c[a].pd?a==b||c[a].Mb||c[a].j.close():c[a].Cd&&c[a].Cd.disconnect&&c[a].Cd.disconnect()}function m(d){if(d)1<c.length?(e=0,b.a.log(["connection to mcu ",c[p].aa,",",c[p].oa," fails during key exchange, but we'd like to try other entries"].join("")),
c.splice(p,1),t(f,c,e)):(f.Ie&&n.s&&n.s(f,b.b.hj),f.J=b.b.Ji,n.T&&n.T(f));else{d=p;var g=c[d].Ne;f.Ts=c[d].Vc;var l=b.o.hg(f.Ts);f.bf=l.lb;f.Yh=l.Eb;f.nt=l.df;f.FF=c[d].ag;f.EF=c[d].$f;f.hd=c[d].hd;f.B=c[d].ea;f.j=c[d].j;f.Ed=c[d].Ed;f.aa=c[d].aa;f.port=c[d].oa;f.Im=c[d].Bd;d=f.j;if(g){g=new N.a.g("4");d.send(g.i());if(f.Im&&c[0].aa.length){l=b.a.pb(c[0].aa);var h=l.length;g.clear();g.f(4+h);g.f(b.protocol.gi);g.M(l);d.send(g.i())}g.clear();g.f(7);g.f(b.protocol.fi);g.M("WEB");d.send(g.i());b.o.vendor&&
20>=b.o.vendor.length&&(g.clear(),g.f(4+b.o.vendor.length),g.f(b.protocol.ii),g.M(b.o.vendor),d.send(g.i()));g.clear();g.f(0);d.send(g.i())}a(f)}}var p,q;for(q=0;q<c.length;q++)c[q].Ac=setTimeout(g,500*q,q),c[q].Mb=b.b.Jg;var r=setTimeout(h,5E3);f.disconnect=function(){w(-1);f.J=b.b.ze;n.T&&n.T(f);b.a.log("sign out for "+f.l)}}function a(a){function f(){a.v.onmessage||(a.v.onmessage=function(){a.v.onmessage=null;v()},a.v.postMessage({command:"set"}))}function e(){m();na=setTimeout(function(){na=null;
a.j!=ea&&(b.a.log("!!!Info, need take care of this(3)!!!"),n.s&&n.s(a,99993));qa++;if(3<=qa)b.o.I(ea),b.a.log(["time out(try again) for ",a.l].join("")),a.Ie=0,a.we||d(a);else{var c=new N.a.g;c.m(x.vi);c.M("0");ea.send(c.i());e()}},2E4)}function m(){null!=na&&(clearTimeout(na),na=null)}function p(){a.v.onmessage&&(a.v.onmessage=null,a.v.postMessage({command:"clear"}))}function l(d){if(u.length()&&!a.Ec){var c=b.a.A()-ra;20<c||9<=ma?(500<c&&b.a.log("info, jmkernel handler("+d+") depth="+ma+",use "+
c+"ms"),f()):(ma++,da())}}function t(){a.Gc||!a.Hd&&!a.gf||(b.a.log([a.Hd?"peer close for ":"recv error(try again) for ",a.l].join("")),a.Ie=0,K(),d(a))}function v(){if(!a.Ec){var d=u.length();if(d){ma=0;ra=b.a.A();da();var c=u.length();c&&c!=d||t()}else t()}}function A(){R=new N.a.g(u);var d=u.K(0);if(0<=d&&d<=x.Bp)return va[d]();b.a.log(["unknown command[",d,"/0x",d.toString(16),"] for ",a.l].join(""));K(b.b.Ki)}function z(){var d=u.K(0);n.s&&n.s(a,b.b.jj);b.a.log(["unknown(unsupported) command[",
d,"/0x",d.toString(16),"] for ",a.l].join(""));K(b.b.Ki)}function C(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||1E4<=c)n.s&&n.s(a,b.b.ed),b.a.log("wrong jnj len[OFFICE_JNJ?,200] for "+a.l),K(b.b.bd);else if(!(d<5+c)){var f=u.K(0),e="",g=0;if(f==x.Fi||f==x.Cg){if(d<5+c+4)return;g=u.c(5+c);if(0>g||128<=g){n.s&&n.s(a,b.b.Ea);b.a.log("wrong jnj len[OFFICE_JNJ?,500] for "+a.l);K(b.b.fb);return}if(d<5+c+4+g)return;e=u.h(5+c+4,g);g=4+g}d=b.crypto.w(u.h(5,c),a.B).u();f==x.Cg&&(a.wm=0);a.da||f==x.zi||
(d=n.Rr(d,a.password));f==x.Cg?n.ck&&n.ck(a,e):f==x.Nn?(b.a.log("exceed diskquota, "+a.l),n.ak&&n.ak(a)):f==x.Fi?n.fk&&n.fk(a,d,e):f==x.zi?n.Sd&&n.Sd(d,!0):n.Sd&&n.Sd(d);u.shift(5+c+g);S=R;l("COMMAND_US_OFFICE_JNJ_PLUS")}}}function E(){var d=u.length();if(!(6>d)){var c=u.c(2);if(0>c||128<=c)n.s&&n.s(a,b.b.Ce),b.a.log("recv error[JOIN_REQUEST_ERROR,200] for "+a.l),K(b.b.Bc);else if(!(d<6+c+4)){var f=u.c(6+c);if(0>f||128<=f)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[JOIN_REQUEST_ERROR,500] for "+
a.l),K(b.b.fb);else{var e=u.K(1),g=u.h(6,c),h=u.h(6+c+4,f);if(u.K(0)==x.ao){if(d<6+c+4+f+4)return;d=u.c(6+c+4+f)>>>0;n.Nr&&n.Nr(a,g,h,e,d);u.shift(6+c+4+f+4)}else{if(d<6+c+4+f)return;e!=b.b.Jq&&n.Mr&&n.Mr(a,g,h,e);u.shift(6+c+4+f)}S=R;l("COMMAND_US_JOIN_REQUEST_ERROR_PLUS")}}}}function F(){var d=u.length();if(!(17>d)){var c=u.c(13);if(0>c||128<=c)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[VISITOR_SESSION,200] for "+a.l),K(b.b.fb);else if(!(d<17+c)){var f=u.c(1);d=u.c(5);var e=u.c(9),g=u.h(17,
c);if(u.K(0)==x.Ei)f?(1==f||2==f)&&n.Gk&&n.Gk(a,g,f):n.Sr(a);else{var h=!1;if(f)h={},h.visitor_name=g,h.start_tick=e,h.iSessionIndex=d,a.Xe.push(h),h=!0,n.Nk&&n.Nk(a,g);else for(g=0;g<a.Xe.length;g++)if(f=a.Xe[g],f.iSessionIndex==d&&f.start_tick==e){a.Xe.splice(g,1);h=!0;break}h&&n.Kk&&n.Kk(a)}u.shift(17+c);S=R;l("COMMAND_US_VISITOR_SESSION")}}}function G(){var d=u.length();if(!(5>d)){var c=u.c(1);0>c||128<=c?(b.a.log("wrong peer id len[ShortTyping 500] for "+a.l),K()):d<5+c||(d=u.h(5,c),n.Hk&&n.Hk(a,
d),u.shift(5+c),S=R,l("COMMAND_US_SHORT_TYPING"))}}function I(){var d="",c=0;var f=u.length();if(!(5>f)){var e=u.c(1);if(0>e||128<=e)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[WEBRTC_SIGNAL,200] for "+a.l),K(b.b.fb);else if(!(f<5+e+4)){var g=u.c(5+e);if(0>g||1E4<=g)n.s&&n.s(a,b.b.Ea),b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,300] for "+a.l),K(b.b.kf);else if(!(f<5+e+4+g)){var h=u.K(0);if(h==x.Gi){if(f<5+e+4+g+4)return;var w=u.c(9+e+g);if(0>w||128<=w){n.s&&n.s(a,b.b.Ea);b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,400] for "+
a.l);K(b.b.kf);return}if(f<5+e+4+g+4+w+4)return}f=u.h(5,e);if(h==x.Gi)h=u.c(13+e+g+w),c=8+w,d=u.h(13+e+g,w),n.Ke(a,h,f,d);else{if(w=ba(a,f))d=w.username;d||(d=f)}w=b.crypto.w(u.h(5+e+4,g),a.B).u();n.Ok&&n.Ok(a,w,f,d);u.shift(9+e+g+c);S=R;l("COMMAND_US_WEBRTC_SIGNAL")}}}}function H(){var d="",c="",f="",e=0;var g=u.length();if(!(5>g)){var h=u.c(1);if(0>h||128<=h)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[SHORT_MESSAGE?,200] for "+a.l),K(b.b.fb);else if(!(g<5+h+4)){var w=u.c(5+h);if(0>w||500<=w)n.s&&
n.s(a,b.b.Be),b.a.log("wrong short message len[SHORT_MESSAGE?,500] for "+a.l),K(b.b.Ae);else if(!(g<5+h+4+w+4)){var m=u.c(5+h+4+w);if(0>m||100<=m)n.s&&n.s(a,b.b.Lp),b.a.log("wrong homepage len[SHORT_MESSAGE?,800] for "+a.l),K(b.b.Dg);else{var p=u.K(0),q=5+h+4+w+4+m;if(p!=x.mo){if(g<q+4)return;var r=u.c(q);if(0>r||5E3<=r){n.s&&n.s(a,b.b.Be);b.a.log("wrong short message2 len[SHORT_MESSAGE?,1100] for "+a.l);K(b.b.Ae);return}d=b.crypto.w(u.h(q+4,r),a.B).u();q+=4+r;if(p==x.Di||p==x.Bi||p==x.Ai){if(g<q+
4)return;r=u.c(q);if(0>r||128<=r){n.s&&n.s(a,b.b.Be);b.a.log("wrong param->guest user name len[SHORT_MESSAGE?,1400] for "+a.l);K(b.b.Ae);return}c=u.h(q+4,r);q+=4+r;if(p==x.Bi||p==x.Ai){if(g<q+4)return;e=u.c(q);q+=4}}}g=u.h(5,h);r=b.crypto.w(u.h(5+h+4,w),a.B).u();h=u.h(5+h+4+w+4,m);if(w=ba(a,g))f=w.username;f||(f=g);n.Ek&&n.Ek(a,p,r,d,g,h,c,e,f);u.shift(q);S=R;l("COMMAND_US_SHORT_MESSAGE_PLUS")}}}}}function O(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)n.s&&n.s(a,b.b.Ce),b.a.log("wrong target userid len in short message failure[MESSAGE_FAILURE?,200] for "+
a.l),K(b.b.Bc);else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||500<=f)n.s&&n.s(a,b.b.Be),b.a.log("wrong short message len[MESSAGE_FAILURE?,500] for "+a.l),K(b.b.Ae);else if(!(d<5+c+4+f+4)){var e=u.c(5+c+4+f);if(0>e||5E3<=e)n.s&&n.s(a,b.b.Be),b.a.log("wrong short message2 len[MESSAGE_FAILURE?,800] for "+a.l),K(b.b.Ae);else if(!(d<5+c+4+f+4+e)){d=u.h(5,c);var g=b.crypto.w(u.h(5+c+4,f),a.B).u();var h=b.crypto.w(u.h(5+c+4+f+4,e),a.B).u();n.Fk&&n.Fk(a,d,g,h,u.K(0));u.shift(5+c+4+f+4+e);S=R;l("COMMAND_US_SHORT_MESSAGE_FAILURE_PLUS")}}}}}
function T(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[JoinGroup2 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong peer id len[JoinGroup2 500] for "+a.l),K();else if(!(d<5+c+4+f+4)){var e=u.c(5+c+4+f);if(0>e||500<=e)b.a.log("wrong user name len[JoinGroup2 800] for "+a.l),K();else if(!(d<5+c+4+f+4+e+8)){if(d=u.h(5,c))if(61!=d.charCodeAt(0))n.td(a,d);else{var g=u.h(5+c+4,f),h=u.c(5+c+4+f+4+e+4)>>>0,w=a.cb[d];if(w&&w.count==
h&&"undefined"===typeof w.mb[g]){h=u.h(5+c+4+f+4,e);var m=u.c(5+c+4+f+4+e);w.mb[g]=b.a.A()-6E4;w.count++;q(a,w);a.da&&n.Ke(a,m,g,h);n.Bb&&n.Bb(a,d,g,h)}else n.td(a,d),n.Wd&&n.Wd(a,d),w&&(delete a.cb[d],a.yd--);n.Ra&&n.Ra(a,d)}u.shift(5+c+4+f+4+e+8);S=R;l("COMMAND_US_JOIN_GROUP2_PLUS")}}}}}function X(){var d=u.length();if(!(13>d)){var c=u.c(9);if(0>c||1E4<=c)n.s&&n.s(a,b.b.ed),b.a.log("wrong jnj len[MMC_JOIN_REQUEST_JNJ?,200] for "+a.l),K(b.b.bd);else if(!(d<13+c)){d=u.c(1)>>>0;var f=u.c(5),e=u.h(13,
c);0==f&&c&&(e=b.crypto.w(e,a.B).u());n.ik&&n.ik(a,d,f,e);u.shift(13+c);S=R;l("COMMAND_US_MMC_JOIN_REQUEST_JNJ_PLUS")}}}function Y(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||1E4<=c)n.s&&n.s(a,b.b.ed),b.a.log("wrong jnj len[SHARE_FILE,200] for "+a.l),K(b.b.bd);else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||100<=f)n.s&&n.s(a,b.b.ij),b.a.log("wrong homepage len[SHARE_FILE,500] for "+a.l),K(b.b.Dg);else if(!(d<5+c+4+f+4)){var e=u.c(5+c+4+f);if(0>e||128<=e)n.s&&n.s(a,b.b.Ea),b.a.log("wrong owner name len[SHARE_FILE,800] for "+
a.l),K(b.b.fb);else if(!(d<5+c+4+f+4+e+4)){var h=u.c(5+c+4+f+4+e);if(0>h||128<=h)n.s&&n.s(a,b.b.Ea),b.a.log("wrong title len[SHARE_FILE,1100] for "+a.l),K(b.b.fb);else{var w=u.K(0)==x.eo?4:0;if(!(d<5+c+4+f+4+e+4+h+8+w+4)){var m=u.c(5+c+4+f+4+e+4+h+8+w);if(0>m||128<=m)n.s&&n.s(a,b.b.Ea),b.a.log("wrong subject len[SHARE_FILE,1600] for "+a.l),K(b.b.fb);else if(!(d<5+c+4+f+4+e+4+h+8+w+4+m)){d={};d.jnj=u.h(5,c);d.owner_homepage=u.h(5+c+4,f);d.owner_name=u.h(5+c+4+f+4,e);d.title=u.h(5+c+4+f+4+e+4,h);d.duration=
u.c(5+c+4+f+4+e+4+h);d.share_type=u.c(5+c+4+f+4+e+4+h+4);var p=0;w&&(p=u.c(5+c+4+f+4+e+4+h+8));d.recv_tick=b.a.time()-p;d.subject=u.h(5+c+4+f+4+e+4+h+8+w+4,m);d.read=0;g(a,d);n.Vb(a);n.ek&&n.ek(a,d);u.shift(5+c+4+f+4+e+4+h+8+w+4+m);S=R;l("COMMAND_US_SHARE_FILE_PLUS")}}}}}}}}function Z(a){a.Ec&&(a.vj&&a.vj(),a.Ec=!1,a.ci=null);a.Rh&&(a.Rh.stop(),a.Rh=null);a.Wa&&(clearTimeout(a.Wa),a.Wa=null);a.wc&&(a.wc.stop(),a.wc=null);a.Gc&&(clearTimeout(a.Gc),a.Gc=null,b.a.log("quit() stop delayed disconnect for "+
a.l))}function K(d){b.o.mm(S,u);m();y(a);p();a.v.terminate();da=b.o.Y;Z(a);a.J=d||b.b.yo;n.T&&n.T(a);b.o.I(a.j);n.vf&&n.vf(a)}function aa(d){if(a.Gc)b.a.log("disconnect() found delayed disconnect in progress for "+a.l);else if(a.Wa||a.wc)b.a.log("disconnect() start delayed disconnect for "+a.l),a.Gc=setTimeout(function(){a.Gc=null;b.a.log("disconnect() execute delayed disconnect for "+a.l);aa(d)},1E3),a.Wa&&(clearTimeout(a.Wa),a.Wa=null,r(a));else return m(),y(a),p(),a.v.terminate(),da=b.o.Y,Z(a),
a.J=d||b.b.ze,n.T&&n.T(a),b.o.I(a.j),b.a.log("sign out for "+a.l),n.vf&&n.vf(a),!0}var ea=a.j;a.Hd=a.gf=!1;var u=a.Ed,R=new N.a.g,S=new N.a.g,na=null;a.v=new Worker("worker/worker_timeout.js");a.v.onmessage=null;var da=b.o.Y,qa=0,sa=0,ma=0,ra=0;a.ci=function(){f()};var va=[function(){var d=u.length();if(!(2>d)){switch(u.K(1)){case b.b.Lq:n.s&&n.s(a,b.b.Vp);a.J=b.b.kf;break;case b.b.Eq:n.s&&n.s(a,b.b.Mp);a.J=b.b.zo;break;case b.b.Nq:n.s&&n.s(a,b.b.Yp);a.J=b.b.Do;break;case b.b.Mq:a.S||(a.$e=1);n.s&&
n.s(a,b.b.Wp);a.J=b.b.Co;break;case b.b.Fq:n.s&&n.s(a,b.b.Zp);a.J=b.b.Eo;break;case b.b.Dq:n.s&&n.s(a,b.b.Np);a.J=b.b.xo;break;case b.b.Gq:a.S||(a.$e=1);if(10>d)return;var c=u.c(2),f=u.c(6);if(0>f||1E4<=f){n.s&&n.s(a,b.b.hj);b.a.log("recv error[INIT_INFO,300] for for "+a.l);K(b.b.Ji);return}if(d<10+f)return;d=u.h(10,f);n.Bf&&n.Bf(a,c,d);a.J=b.b.Fo;u.shift(8+f);break;case b.b.Kq:n.s&&n.s(a,b.b.aq);a.J=b.b.Go;break;case b.b.Iq:n.s&&n.s(a,b.b.$p);a.J=b.b.Jo;break;case b.b.Hq:n.s&&n.s(a,b.b.cq);a.J=b.b.Ho;
break;default:n.s&&n.s(a,b.b.Sy),a.J=b.b.Lo}u.shift(2);b.a.log("init info quit for for "+a.l);K(a.J)}},z,function(){n.s&&n.s(a,b.b.eq);u.shift(1);S=R;b.a.log("being overwritten for "+a.l);aa(b.b.Ko)},function(){n.s&&n.s(a,b.b.fq);u.shift(1);S=R;b.a.log("being removed for "+a.l);aa(b.b.Mo)},C,C,C,E,z,z,z,C,C,function(){function d(a,b,d,c){if(a.S||!a.Rb||b==(a.da?a.Qa:a.O))return!1;var f,e=!1;for(f=0;f<a.na.length;f++){var g=a.na[f],l;for(l=0;l<g.m_pContactArray.length;l++){var h=g.m_pContactArray[l];
if(h.id==b){h.name!=d&&(h.name=d,e=!0);h.pm!=c&&(h.pm=c,e=!0);break}}}e&&n.Vb(a)}var c,f,e=u.length();if(!(13>e)){var g=u.c(1);var h=u.c(5),w=u.c(9);if(0>w||128<=w)n.s&&n.s(a,b.b.Ce),b.a.log("wrong userid len[STATUS_CHANGE,200] for "+a.l),K(b.b.Bc);else if(!(e<13+w+4)){var m=u.c(13+w);if(0>m||128<=m)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[STATUS_CHANGE,500] for "+a.l),K(b.b.Bc);else if(!(e<13+w+4+m+16)){e=u.c(13+w+4+m);var p=u.c(13+w+4+m+4),q=u.c(13+w+4+m+8),r=u.c(13+w+4+m+12);if(0>r||128<=
r)n.s&&n.s(a,b.b.Ea),b.a.log("wrong personal_info len[STATUS_CHANGE,900] for "+a.l),K(b.b.Bc);else{var t=u.h(13,w),Q=u.h(13+w+4,m),v=u.h(13+w+4+m+16,r);Q||(b.a.log(1,"office "+a.ga+", username is empty for userid "+t+", reset it using userid"),Q="EmptyName_status("+t+")".slice(0,127));var P=0,J;if(a.da){g=c=f=0;if(J=a.zd[t]){if(c=J.status,g=J.Ta,Q!=J.username&&(f=1),Q!=J.username||v!=J.Ua)P=1}else J=new D,P=1,a.zd[t]=J;J.status=h;J.Ta=e;J.lb=p;J.Eb=q;J.O=t;J.username=Q;J.Ua=v;P&&(P=d(a,t,Q,v));f&&
n.kh(a,t);n.Xd&&n.Xd(a,J);a.og&&a.Qa!=t&&(c==b.b.Pb||!c&&!g)&&h!=b.b.Pb&&(h||e)&&n.lk&&n.lk(a,t)}else{J=a.kb[g];J||(J=new D,a.kb[g]=J,P=1);f=0;c=J.status;g=J.Ta;Q!=J.username&&(f=1);if(Q!=J.username||v!=J.Ua)P=1;J.status=h;J.Ta=e;J.lb=p;J.Eb=q;J.O=t;J.username=Q;J.Ua=v;P&&(P=d(a,t,Q,v));f&&n.kh(a,t);n.Xd&&n.Xd(a,J);a.og&&a.O!=t&&(c==b.b.Pb||!c&&!g)&&h!=b.b.Pb&&(h||e)&&n.kk&&n.kk(a,t)}n.yf&&n.yf(a,J);u.shift(13+w+4+m+16+r);S=R;l("COMMAND_US_STATUS_CHANGE")}}}}},function(){if(!(5>u.length())){var d=
u.c(1);0<=d&&d<b.b.Ha&&a.kb&&a.kb[d]&&(a.kb[d].status=0,a.kb[d].Ta=0,a.kb[d].O&&(n.Xd&&n.Xd(a,a.kb[d]),n.yf&&n.yf(a,a.kb[d])));u.shift(5);S=R;l("COMMAND_US_STATUS_REMOVE")}},z,function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||1E4<=c)n.s&&n.s(a,b.b.ed),b.a.log("wrong jnj len[INVITE,200] for "+a.l),K(b.b.bd);else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||100<=f)n.s&&n.s(a,b.b.ij),b.a.log("wrong homepage len[INVITE,500] for "+a.l),K(b.b.Dg);else if(!(d<5+c+4+f+4)){var e=u.c(5+c+4+f);if(0>e||128<=
e)n.s&&n.s(a,b.b.Ce),b.a.log("wrong userid len[INVITE,800] for "+a.l),K(b.b.Bc);else if(!(d<5+c+4+f+4+e)){d=b.crypto.w(u.h(5,c),a.B).u();var g=u.h(5+c+4,f),h=u.h(5+c+4+f+4,e);n.bk&&n.bk(a,d,h,g);u.shift(5+c+4+f+4+e);S=R;l("COMMAND_US_INVITE")}}}}},C,function(){var d=u.length();if(!(5>d)){var c=u.c(1);a.mg&&!a.S&&3==a.Ta&&a.Ta!=c&&(a.Xa==b.b.Pb&&n.Ur(a.mg,a),a.mg=0);a.Ta=c;if(!a.da&&a.Ta){if(9>d)return;c=u.c(5);if(0>c||1E4<=c){n.s&&n.s(a,b.b.ed);b.a.log("wrong jnj len[OFFICE_STATUS,300] for "+a.l);
K(b.b.bd);return}if(d<9+c)return;a.MF=b.crypto.w(u.h(9,c),a.B).u();u.shift(4+c)}n.T&&n.T(a);u.shift(5);S=R;l("COMMAND_US_OFFICE_STATUS")}},function(){n.Xr(a,!1);u.shift(1);S=R;l("COMMAND_US_UPDATE_PROFILE")},function(){var d=u.length();if(!(33>d)){a.Us=u.c(1);a.rr=u.c(5);a.sr=u.c(9);a.JF=u.c(13);a.tm=u.c(17);a.IF=u.c(21);a.LF=u.c(25);var c=u.c(29);if(0>c||128<=c)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[VIEW_PROFILE,200] for "+a.l),K(b.b.fb);else if(!(d<33+c+4)){var f=a.username;a.username=u.h(33,
c);var e=u.c(33+c);if(0>e||e>=b.b.Dp)n.s&&n.s(a,b.b.Sp),b.a.log("wrong email len[VIEW_PROFILE,500] for "+a.l),K(b.b.Oo);else if(!(d<33+c+4+e+8)){a.Xg=u.h(33+c+4,e);var g=u.c(33+c+4+e+4);if(0>g||1E4<=g)n.s&&n.s(a,b.b.ed),b.a.log("recv error[VIEW_PROFILE,900] for "+a.l),K(b.b.bd);else if(!(d<33+c+4+e+8+g)){b.crypto.w(u.h(33+c+4+e+8,g),a.B).u();if(a.da)a.qf=0;else{if(d<33+c+4+e+8+g+4)return;a.qf=u.c(33+c+4+e+8+g);u.shift(4)}a.wm=1;a.di||a.tm&&n.dk&&n.dk(a,a.tm);a.di=1;f!=a.username&&b.Wb.kh(a,a.da?a.Qa:
a.O);n.Lk&&n.Lk(a);u.shift(33+c+4+e+8+g);S=R;l("COMMAND_US_VIEW_PROFILE")}}}}},function(){b.a.log("server shutdown, "+a.l);n.Ck&&n.Ck(a);a.Wa&&(clearTimeout(a.Wa),a.Wa=null,r(a));u.shift(1);S=R;l("COMMAND_US_SERVER_SHUTDOWN")},function(){sa||(sa=1);a.og=1;n.T&&n.T(a);n.wk&&n.wk(a);u.shift(1);S=R;l("COMMAND_US_STATUS_INITED")},z,F,F,function(){5>u.length()||(a.ot=u.c(1),a.S||(a.$e=0),u.shift(5),S=R,l("COMMAND_US_SIP_CAP"))},function(){if(!(2>u.length())){if(48==u.K(1)){var a=new N.a.g;a.m(x.vi);a.M("1");
ea.send(a.i())}u.shift(2);S=R;l("COMMAND_US_ALIVE")}},function(){a.da=1;n.T&&n.T(a);u.shift(1);S=R;l("COMMAND_US_MMC_FLAG")},function(){var d=u.length();if(!(9>d)){var c=u.c(5);0>c||1E4<=c?(n.s&&n.s(a,b.b.Up),b.a.log("wrong len[MMC_INTERNAL_ERROR,200] for "+a.l),K(b.b.kf)):d<9+c||((d=u.c(1))&&n.Bf&&n.Bf(a,d,u.h(9,c)),u.shift(9+c),S=R,l("COMMAND_US_MMC_INTERNAL_ERROR"))}},function(){var d=u.length();if(!(5>d)){var c=u.c(1);0>c||128<=c?(n.s&&n.s(a,b.b.Tp),b.a.log("wrong userid len[MMC_INTERNAL_ID,200] for "+
a.l),K(b.b.Bc)):d<5+c+4||(d=u.c(5+c),0>d||128<=d?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong mmc username len[MMC_INTERNAL_ID,500] for "+a.l),K(b.b.fb)):(a.Qa=b.crypto.w(u.h(5,c),a.B).u(),a.KF=b.crypto.w(u.h(5+c+4,d),a.B).u(),u.shift(5+c+4+d),S=R,l("COMMAND_US_MMC_INTERNAL_ID")))}},z,function(){var d=u.length();if(!(13>d)){var c=u.c(9);if(0>c||1E4<=c)n.s&&n.s(a,b.b.ed),b.a.log("wrong jnj len[INVITE_JNJ_GENERATION,200] for "+a.l),K(b.b.bd);else if(!(d<13+c)){d=u.c(1)>>>0;var f=u.c(5),e=u.h(13,c);!f&&e.length&&
(e=b.crypto.w(e,a.B).u());n.$j&&n.$j(a,d,f,e);u.shift(13+c);S=R;l("COMMAND_US_INVITE_JNJ_GENERATION")}}},E,X,function(){var d=u.length();if(!(13>d)){var c=u.c(9);if(0>c||500<=c)n.s&&n.s(a,b.b.Xp),b.a.log("wrong jnj len[QUERY_URL_MMC,200] for "+a.l),K(b.b.Po);else if(!(d<13+c)){d=u.c(1)>>>0;var f=u.c(5),e=u.h(13,c);0==f&&c&&(e=b.crypto.w(e,a.B).u());n.vk&&n.vk(a,d,f,e);u.shift(13+c);S=R;l("COMMAND_US_QUERY_URL_MMC")}}},H,z,z,z,H,H,function(){var d=u.length();if(!(5>d)){var c=u.c(1);0>c||128<=c?(n.s&&
n.s(a,b.b.Ce),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+a.l),K(b.b.Bc)):d<5+c||(a.sf=b.crypto.w(u.h(5,c),a.B).u(),u.shift(5+c),S=R,l("COMMAND_US_GUEST_USER_ID"))}},O,z,function(){var d=u.length();if(!(5>d)){var c=u.c(1);0>c||128<=c?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong user name len in invite failure[INVITE_FAILURE,200] for "+a.l),K(b.b.fb)):d<5+c||(n.Zj&&n.Zj(a,u.h(5,c)),u.shift(5+c),S=R,l("COMMAND_US_INVITE_FAILURE"))}},z,z,function(){function d(){var d=u.length();if(!(16>d)){var c=
u.c(12);if(0>c||c>b.b.Hp)b.a.log("wrong meeting id len in update event list[UpdateEventList,300] for "+a.l),K();else if(!(d<16+c+4)){var g=u.c(16+c);if(0>g||g>=b.b.Ng)b.a.log("wrong title len in update event list[UpdateEventList,600] for "+a.l),K();else if(!(d<16+c+4+g+4)){var h=u.c(16+c+4+g);if(0>h||128<=h)b.a.log("wrong owner id len in update event list[UpdateEventList,900] for "+a.l),K();else if(!(d<16+c+4+g+4+h+4)){var w=u.c(16+c+4+g+4+h);if(0>w||128<=w)b.a.log("wrong owner name len in update event list[UpdateEventList,1200] for "+
a.l),K();else if(!(d<16+c+4+g+4+h+4+w+4)){d={};d.start_time=u.c(0);d.duration=u.c(4);d.advance_time=u.c(8);d.meeting_id=b.crypto.w(u.h(16,c),a.B).u();d.title=b.crypto.w(u.h(16+c+4,g),a.B).u();d.owner_id=b.crypto.w(u.h(16+c+4+g+4,h),a.B).u();d.owner_name=b.crypto.w(u.h(16+c+4+g+4+h+4,w),a.B).u();d.invited=u.c(16+c+4+g+4+h+4+w);a:{var m,p=a.eg;for(m=0;m<p.length;m++)if(d.start_time<p[m].start_time){p.splice(m,0,d);break a}p.splice(m,0,d)}u.shift(16+c+4+g+4+h+4+w+4);e++;e==f&&(da=A,x.zr||(a.eg=[]),n.Ik&&
n.Ik(a));S=R;l("COMMAND_US_UPDATE_EVENT_LIST,2")}}}}}}if(!(9>u.length())){var c=b.crypto.w(u.h(1,8),a.B),f=c.c(0);if(0>f||200<f)b.a.log("too many events in the event list for "+a.l),K();else{a.Vs=c.c(4);a.Qs=b.a.time();u.shift(9);a.eg=[];var e=0;f?da=d:S=R;l("COMMAND_US_UPDATE_EVENT_LIST")}}},z,O,function(){var d=u.length();if(!(5>d)){var f=u.c(1);if(0>f||5E8<=f)n.s&&n.s(a,b.b.Rp),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+a.l),K(b.b.No);else if(!(d<5+f)){if(0==f)b.a.log("receive client_info for "+
a.l+": [Empty]"),a.Rb=1;else{d=b.crypto.w(u.h(5,f),a.B);var e=d.u();b.a.log("receive client_info for "+a.l+": "+f+","+b.a.Ab(d.u()));a.Rh=new c(a,e)}u.shift(5+f);S=R;l("COMMAND_US_CLIENT_INFO")}}},function(){if(!(5>u.length())){var b=a.Xh;a.Xh=u.c(1);b!=a.Xh&&n.nk&&n.nk(a);u.shift(5);S=R;l("COMMAND_US_IM_LOG")}},z,C,Y,function(){var d=u.length();if(!(5>d)){var c=u.c(1);0>c||128<=c?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong user name len in share file failure[SHARE_FILE_FAILURE,200] for "+a.l),K(b.b.fb)):
d<5+c||(n.Dk&&n.Dk(a,u.h(5,c)),u.shift(5+c),S=R,l("COMMAND_US_SHARE_FILE_FAILURE"))}},function(){function d(){var d=u.length();if(!(8>d)){var g=u.c(4);if(0>g||4096<=g)b.a.log("wrong blackbox data len in update publish_file list[UpdatePublishFileList,300] for "+a.l),K();else if(!(d<8+g+4)){var h=u.c(8+g);if(0>h||h>=b.b.Ng)b.a.log("wrong title len in update publish_file list[UpdatePublishFileList,600] for "+a.l),K();else if(!(d<8+g+4+h+4)){var w=u.c(8+g+4+h);if(0>w||128<=w)b.a.log("wrong owner name len in update publish_file list[UpdatePublishFileList,900] for "+
a.l),K();else if(!(d<8+g+4+h+4+w)){d={};d.duration=u.c(0);d.blackbox_data=b.crypto.w(u.h(8,g),a.B).u();d.title=b.a.Ab(b.crypto.w(u.h(8+g+4,h),a.B).u());d.owner_name=b.a.Ab(b.crypto.w(u.h(8+g+4+h+4,w),a.B).u());var m=/(.+)\/([^\/]+)/.exec(d.title);m&&(d.title=m[2],d.group=m[1]);c(d);u.shift(8+g+4+h+4+w);e++;e==f&&(da=A,n.Jk&&n.Jk(a));S=R;l("COMMAND_US_UPDATE_PUBLISH_FILE_LIST,2")}}}}}function c(b){var d,c=a.Qh;for(d=0;d<c.length;d++)if(c[d].group){if(b.group){if(b.group.toLowerCase()<c[d].group.toLowerCase()){c.splice(d,
0,b);return}if(!(b.group.toLowerCase()>c[d].group.toLowerCase())&&b.title.toLowerCase()<c[d].title.toLowerCase()){c.splice(d,0,b);return}}}else{if(b.group){c.splice(d,0,b);return}if(b.title.toLowerCase()<c[d].title.toLowerCase()){c.splice(d,0,b);return}}c.splice(d,0,b)}if(!(5>u.length())){var f=b.crypto.w(u.h(1,4),a.B).c(0);if(0>f||200<f)b.a.log("too many publish_files in the publish_file list for "+a.l),K();else{u.shift(5);a.Qh=[];var e=0;f?da=d:S=R;l("COMMAND_US_UPDATE_PUBLISH_FILE_LIST")}}},z,
X,O,H,H,z,function(){if(!(5>u.length())){var b=u.c(1);a.Lj=b&1?1:0;a.wt=b&2?1:0;a.wr=b&4?1:0;a.KB=b&8?0:1;a.rj=b&16?1:0;u.shift(5);S=R;l("COMMAND_US_INIT_INFO")}},function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[CreateGroup 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroup 500] for "+a.l),K();else if(!(d<5+c+4+f)){if(d=u.h(5,c))if(61!=d.charCodeAt(0))n.td(a,d);else{var e=u.h(5+c+4,f),g=a.da?a.Qa:
a.O;h(a,d,g,e);n.Bb&&n.Bb(a,d,g,a.username);e!=g&&n.Bb&&n.Bb(a,d,e,n.Sk(a,e));n.wf&&n.wf(a,d,e)}u.shift(5+c+4+f);S=R;l("COMMAND_US_CREATE_GROUP")}}}},function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[CreateGroup2 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroup2 500] for "+a.l),K();else if(!(d<5+c+4+f+4)){var e=u.c(5+c+4+f);if(0>e||128<=e)b.a.log("wrong user name len[CreateGroup2 800] for "+a.l),
K();else if(!(d<5+c+4+f+4+e+4)){if(d=u.h(5,c))if(61!=d.charCodeAt(0))n.td(a,d);else{var g=u.h(5+c+4,f),w=u.h(5+c+4+f+4,e);n.Ke(a,u.c(5+c+4+f+4+e),g,w);var m=a.da?a.Qa:a.O;h(a,d,g,m);n.Bb&&n.Bb(a,d,m,a.username);g!=m&&n.Bb&&n.Bb(a,d,g,w);n.wf&&n.wf(a,d,g)}u.shift(5+c+4+f+4+e+4);S=R;l("COMMAND_US_CREATE_GROUP2")}}}}},z,function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupMessage2 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong peer id len[GroupMessage2 500] for "+
a.l),K();else if(!(d<5+c+4+f+4)){var e=u.c(5+c+4+f);if(0>e||500<=e)b.a.log("wrong short message len[GroupMessage2 800] for "+a.l),K();else if(!(d<5+c+4+f+4+e+4)){var g=u.c(5+c+4+f+4+e);if(0>g||5E3<=g)b.a.log("wrong short message2 len[GroupMessage2 1100] for "+a.l),K();else if(!(d<5+c+4+f+4+e+4+g+4)){if(d=u.h(5,c)){var h=u.h(5+c+4,f),w=u.c(5+c+4+f+4+e+4+g)>>>0,m=a.cb[d];m&&m.count==w&&"undefined"!==typeof m.mb[h]?(w=b.crypto.w(u.h(5+c+4+f+4,e),a.B).u(),m=b.crypto.w(u.h(5+c+4+f+4+e+4,g),a.B).u(),n.Vj&&
n.Vj(a,d,w,m,h)):(n.td(a,d),n.Wd&&n.Wd(a,d),m&&(delete a.cb[d],a.yd--,n.Ra&&n.Ra(a,d)))}u.shift(5+c+4+f+4+e+4+g+4);S=R;l("COMMAND_US_GROUP_MESSAGE2")}}}}}},z,function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[LeaveGroup2 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong peer id len[LeaveGroup2 500] for "+a.l),K();else if(!(d<5+c+4+f+4)){if(d=u.h(5,c)){var e=a.cb[d];if(e){var g=u.h(5+c+4,f),h=u.c(5+c+4+f)>>>0;1234567890==
h||h!=e.count||"undefined"===typeof e.mb[g]?(1234567890!=h&&n.td(a,d),n.Wd&&n.Wd(a,d),delete a.cb[d],a.yd--):(delete e.mb[g],e.count--,q(a,e),n.hk&&n.hk(a,d,g));n.Ra&&n.Ra(a,d)}}u.shift(5+c+4+f+4);S=R;l("COMMAND_US_LEAVE_GROUP2")}}}},z,T,function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong peer id len[CreateGroupFail 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroupFail 500] for "+a.l),K();else if(!(d<5+c+4+f+
4)){d=u.h(5,c);var e=u.h(5+c+4,f),g=u.c(5+c+4+f);n.Sj&&n.Sj(a,d,e,g);u.shift(5+c+4+f+4);S=R;l("COMMAND_US_CREATE_GROUP_FAIL")}}}},function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[JoinGroupFail 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong peer id len[JoinGroupFail 500] for "+a.l),K();else if(!(d<5+c+4+f+4)){if(d=u.h(5,c)){var e=u.h(5+c+4,f),g=u.c(5+c+4+f);n.gk&&n.gk(a,d,e,g)}u.shift(5+c+4+f+4);S=R;l("COMMAND_US_JOIN_GROUP_FAIL")}}}},
function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupMessageFail 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||500<=f)b.a.log("wrong user name len[GroupMessageFail 800] for "+a.l),K();else if(!(d<5+c+4+f+4)){var e=u.c(5+c+4+f);if(0>e||5E3<=e)b.a.log("wrong user name len[GroupMessageFail 1100] for "+a.l),K();else if(!(d<5+c+4+f+4+e+4)){var g=3<a.bf||3==a.bf&&23<=a.Yh;d=u.h(5+c+4,f);var h=u.h(5+c+4+f+4,e);g&&(d&&(d=b.crypto.w(d,a.B).u()),
h&&(h=b.crypto.w(h,a.B).u()));g=u.c(5+c+4+f+4+e);n.Wj&&n.Wj(a,"",d,h,g);u.shift(5+c+4+f+4+e);S=R;l("COMMAND_US_GROUP_MESSAGE_FAIL")}}}}},z,z,C,function(){var d=u.length();if(!(17>d)){var c=u.c(13);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileRequest 200] for "+a.l),K();else if(!(d<17+c+4)){var f=u.c(17+c);if(0>f||1E3<=f)b.a.log("wrong file name len[SendFileRequest 500] for "+a.l),K();else{var e=17+c+4+f,g=u.c(5),h;var w=h="";if(2==g||1==g){if(d<e+4)return;h=u.c(e);if(0>h||128<=h){b.a.log("wrong len[SendFileRequest 800] for "+
a.l);K();return}e+=4+h;if(d<e+4)return;h=u.h(e-h,h);w=u.c(e);if(0>w||100<=w){b.a.log("wrong len[SendFileRequest 1100] for "+a.l);K();return}e+=4+w;if(d<e)return;w=u.h(e-w,w)}var m="";var p=0;if(0==g||1==g){if(d<e+4)return;m=u.c(e);if(0>m||128<=m){b.a.log("wrong len[SendFileRequest 1400] for "+a.l);K();return}e+=4+m+4;if(d<e)return;m=u.h(e-m-4,m);p=u.c(e-4)}d=u.c(1)>>>0;var q=u.c(9)>>>0,r=u.h(17,c);c=u.h(17+c+4,f);2!=g&&n.Ke(a,p,r,m);n.zk&&n.zk(a,d,g,q,r,m,c,h,w,p);u.shift(e);S=R;l("COMMAND_US_SENDFILE_REQUEST")}}}},
function(){var d=u.length();if(!(25>d)){var c=u.c(21);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileAction 200] for "+a.l),K();else if(!(d<25+c)){d=u.c(1)>>>0;var f=u.c(5),e=u.c(9),g=u.c(13),h=u.c(17),w=u.h(25,c);n.yk&&n.yk(a,g,h,e,d,f,w);u.shift(25+c);S=R;l("COMMAND_US_SENDFILE_ACTION")}}},function(){var d=u.length();if(!(17>d)){var c=u.c(13);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileSend 200] for "+a.l),K();else if(!(d<17+c)){var f=u.c(5)>>>0,e=f>>>30,g=f&536870911;if(0>=g||4096<g||
3==e)b.a.log("wrong peer id len[SendFileSend 400] for "+a.l),K();else if(!(d<17+c+g)){d=u.c(1)>>>0;var h=u.c(9),w=u.h(17,c),m=b.crypto.w(u.h(17+c,g),a.B).u();n.Ak&&n.Ak(a,f,h,m,d,e,w);u.shift(17+c+g);S=R;l("COMMAND_US_SENDFILE_SEND")}}}},z,Y,z,function(){var d=u.length();if(!(5>d)){var c=u.c(1);0>c||128<=c?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong userid len[USERNAME,200] for "+a.l),K(b.b.fb)):d<5+c||(a.username=b.crypto.w(u.h(5,c),a.B).u(),u.shift(5+c),S=R,l("COMMAND_US_USERNAME"))}},z,z,function(){var d=
u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupTyping2 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong peer id len[GroupTyping2 500] for "+a.l),K();else if(!(d<5+c+4+f+4)){if(d=u.h(5,c)){var e=u.h(5+c+4,f),g=u.c(5+c+4+f)>>>0;n.Xj&&n.Xj(a,d,e,g)}u.shift(5+c+4+f+4);S=R;l("COMMAND_US_GROUP_TYPING2")}}}},G,G,z,T,z,z,z,z,function(){var d=u.length();if(!(9>d)){var c=u.c(5);0>c||512<=c?(b.a.log("wrong peer id len[ServerLogError 200] for "+
a.l),K()):d<9+c||(d=u.c(1),n.Af&&n.Af(a,d,u.h(9,c)),u.shift(9+c),S=R,l("COMMAND_US_SERVER_LOG_ERROR"))}},function(){var d=u.length();if(!(17>d)){var c=u.c(5);if(0>c||512<=c)b.a.log("wrong peer id len[ServerLogData 200] for "+a.l),K();else if(!(d<17+c)){var f=u.c(13);if(0>f||1E4<=f)b.a.log("wrong peer id len[ServerLogData 400] for "+a.l),K();else if(!(d<17+c+f)){d=u.c(1);var e=u.c(9),g=u.h(17,c),h=b.crypto.w(u.h(17+c,f),a.B).u();-1!=h.indexOf("\x00")?n.Af&&n.Af(a,d,g):n.Bk&&n.Bk(a,d,g,e,h);u.shift(17+
c+f);S=R;l("COMMAND_US_SERVER_LOG_DATA")}}}},z,function(){function d(){var d=u.length();if(!(8>d)){var c=u.c(0),f=u.c(4);if(0>f||128<=f)b.a.log("wrong id len[PGCAnnounce 1300] for "+a.l),K();else if(!(d<8+f+4)){var g=u.h(8,f),w=u.c(8+f);if(0>w||128<=w)b.a.log("wrong name len[PGCAnnounce 1600] for "+a.l),K();else if(!(d<8+f+4+w)){n.Ke(a,c,g,u.h(8+f+4,w));J[g]||(Q++,J[g]=t-6E4);u.shift(8+f+4+w);v++;if(v==r&&(da=A,e&&!a.cb[e])){d=new B;d.eh=e;d.V=h;d.se=m;d.mb=J;d.count=Q;if(p){var P=a.da?a.Qa:a.O;d.mb[P]=
t-6E4;d.count++}q(a,d);a.cb[e]=d;a.yd++;p&&n.Bb&&n.Bb(a,e,P,a.username);n.Ra&&n.Ra(a,e)}S=R;l("COMMAND_US_PGC_ANNOUNCE,2")}}}}var c=u.length();if(!(5>c)){var f=u.c(1);if(0>f||128<=f)b.a.log("wrong group id len[PGCAnnounce 200] for "+a.l),K();else if(!(c<5+f+4)){var e=u.h(5,f),g=u.c(5+f);if(0>g||128<=g)b.a.log("wrong owner id len[PGCAnnounce 500] for "+a.l),K();else if(!(c<5+f+4+g+4)){var h=u.h(5+f+4,g),w=u.c(5+f+4+g);if(0>w||128<=w)b.a.log("wrong pgc name len[PGCAnnounce 800] for "+a.l),K();else if(!(c<
5+f+4+g+4+w+8)){var m=u.h(5+f+4+g+4,w),p=u.c(5+f+4+g+4+w),r=u.c(5+f+4+g+4+w+4)>>>0;u.shift(5+f+4+g+4+w+8);if(0>r||1E5<=r)b.a.log("wrong size[PGCAnnounce 1100] for "+a.l),K();else{var t=b.a.A(),J={},Q=0,v=0;0!=r?da=d:S=R;l("COMMAND_US_PGC_ANNOUNCE")}}}}}},function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[RenamePgc 200] for "+a.l),K();else if(!(d<5+c+4)){var f=u.c(5+c);if(0>f||128<=f)b.a.log("wrong name len[RenamePgc 500] for "+a.l),K();else if(!(d<5+c+4+
f+4)){var e=u.c(5+c+4+f);if(0>e||128<=e)b.a.log("wrong srcid len[RenamePgc 800] for "+a.l),K();else if(!(d<5+c+4+f+4+e)){if(d=u.h(5,c)){var g=u.h(5+c+4,f),h=u.h(5+c+4+f+4,e),w=a.cb[d];w?(w.se=g,q(a,w),n.xk&&n.xk(a,d,g,h),n.Ra&&n.Ra(a,d)):n.td(a,d)}u.shift(5+c+4+f+4+e);S=R;l("COMMAND_US_PGC_RENAME")}}}}},function(){var d=u.length();if(!(9>d)){var c=u.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineJoin 200] for "+a.l),K();else if(!(d<9+c+4)){var f=u.c(9+c);if(0>f||128<=f)b.a.log("wrong name len[OfflineJoin 500] for "+
a.l),K();else if(!(d<9+c+4+f)){if(d=u.h(9,c)){var e=u.c(1),g=u.h(9+c+4,f);n.sk&&n.sk(a,e,d,g)}u.shift(9+c+4+f);S=R;l("COMMAND_US_OFFLINE_JOIN_GROUP2")}}}},function(){var d=u.length();if(!(9>d)){var c=u.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineLeave 200] for "+a.l),K();else if(!(d<9+c+4)){var f=u.c(9+c);if(0>f||128<=f)b.a.log("wrong name len[OfflineLeave 500] for "+a.l),K();else if(!(d<9+c+4+f)){if(d=u.h(9,c)){var e=u.c(1),g=u.h(9+c+4,f);n.tk&&n.tk(a,e,d,g)}u.shift(9+c+4+f);S=R;l("COMMAND_US_OFFLINE_LEAVE_GROUP2")}}}},
function(){var d=u.length();if(!(9>d)){var c=u.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineGroupMessage 200] for "+a.l),K();else if(!(d<9+c+4)){var f=u.c(9+c);if(0>f||128<=f)b.a.log("wrong name len[OfflineGroupMessage 500] for "+a.l),K();else if(!(d<9+c+4+f+4)){var e=u.c(9+c+4+f);if(0>e||500<=e)b.a.log("wrong name len[OfflineGroupMessage 800] for "+a.l),K();else if(!(d<9+c+4+f+4+e+4)){var g=u.c(9+c+4+f+4+e);if(0>g||5E3<=g)b.a.log("wrong name len[OfflineGroupMessage 1100] for "+a.l),K();
else if(!(d<9+c+4+f+4+e+4+g)){if(d=u.h(9,c)){var h=u.c(1),w=u.h(9+c+4,f),m=u.h(9+c+4+f+4,e),p=u.h(9+c+4+f+4+e+4,g);if(3<a.bf||3==a.bf&&23<=a.Yh)m&&(m=b.crypto.w(m,a.B).u()),p&&(p=b.crypto.w(p,a.B).u());n.rk&&n.rk(a,h,d,w,m,p)}u.shift(9+c+4+f+4+e+4+g);S=R;l("COMMAND_US_OFFLINE_GROUP_MESSAGE2")}}}}}},function(){var d=u.length();if(!(9>d)){var c=u.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflinePgcRename 200] for "+a.l),K();else if(!(d<9+c+4)){var f=u.c(9+c);if(0>f||128<=f)b.a.log("wrong name len[OfflinePgcRename 500] for "+
a.l),K();else if(!(d<9+c+4+f+4)){var e=u.c(9+c+4+f);if(0>e||128<=e)b.a.log("wrong name len[OfflinePgcRename 800] for "+a.l),K();else if(!(d<9+c+4+f+4+e)){if(d=u.h(9,c)){var g=u.c(1),h=u.h(9+c+4,f),w=u.h(9+c+4+f+4,e);n.uk&&n.uk(a,g,d,h,w)}u.shift(9+c+4+f+4+e);S=R;l("COMMAND_US_OFFLINE_PGC_RENAME")}}}}},z,I,I,function(){var d=u.length();if(!(5>d)){var c=u.c(1);if(0>c||1E4<=c)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[TURN_SERVER,100] for "+a.l),K(b.b.fb);else if(!(d<5+c)){d=b.crypto.w(u.h(5,c),
a.B).u();try{var f=JSON.parse(d);b.a.isArray(f)&&(10<f.length&&(f.length=10),a.bi=f)}catch(ya){}a.bi.length?b.a.log("msgr received turn server information from MCU for "+a.l):b.a.log("msgr received turn server information from MCU, but no valid entry found, for "+a.l);u.shift(5+c);S=R;l("COMMAND_US_TURN_SERVER")}}},z];ea.onclose=function(){a.j!=ea&&(b.a.log("!!!Info, need take care of this(1)!!!"),n.s&&n.s(a,99991));m();a.Hd=!0;a.v.onmessage||v()};ea.onerror=function(){a.j!=ea&&(b.a.log("!!!Info, need take care of this(2)!!!"),
n.s&&n.s(a,99992));m();a.gf=!0;a.v.onmessage||v()};ea.onmessage=function(d){qa=0;m();d=new N.a.g(d.data);u.D(d);e();a.v.onmessage||a.Ec||(ma=0,ra=b.a.A(),da())};var ca=new N.a.g("U");ea.send(ca.i());if(a.S){ca.clear();ca.f(0);var ia=a.sf?a.sf.length:0;ca.f(ia);ia&&ca.D(b.crypto.L(a.sf,a.B))}else ca.clear(),ia=a.O?a.O.length:0,ca.f(ia),ia&&ca.D(b.crypto.L(a.O,a.B)),ia=a.password?a.password.length:0,ca.f(ia),ia&&ca.D(b.crypto.L(a.password,a.B));ea.send(ca.i());a.od=0;a.S||(a.Xa?a.Zg?x.Hj||(a.Zg=0,a.Xa=
b.b.Kd):a.Xa==b.b.Kd&&x.Hj&&(a.Zg=1,a.Xa=b.b.kj):a.Xa=x.ab,ca.clear(),ca.m(x.Ci),ca.f(a.Xa),ca.m(x.Yn),ca.f(b.a.time()),ea.send(ca.i()));a.Dj=1;a.disconnect=aa;b.a.log(1,["msgr connection is established for ",a.l].join(""));b.a.log(2,["msgr connection param for ",a.l,": param->addr=[",a.aa,"],port=",a.port].join(""));a.Cj=!0;a.J=b.b.pa;n.T&&n.T(a);qa=sa=a.og=0;e();da=A;u.length()&&(p(),ma=0,ra=b.a.A(),da())}function c(a,d){var c=this;a.Rb=1;c.stop=function(){};if(window.DOMParser){var f=new DOMParser;
try{var e=f.parseFromString(d.replace(/\n/g,"&#10;"),"text/xml")}catch(ja){return}try{var g=e.getElementsByTagName("ci")[0];if(g)if(g.getAttribute("compression")){var h=g.getAttribute("size");if(!(h&&1E9<h)){var w=b.Wb.Pr;if(w){var m=b.a.Gb(g.childNodes[0].nodeValue);w=w();var n=new w("zlib_decompress",b.a.Zh(m),function(d){c.stop=function(){};var f=new DOMParser;try{var e=f.parseFromString(b.a.sj(d).replace(/\n/g,"&#10;"),"text/xml")}catch(wa){return}T(a,e)},function(){c.stop=function(){}});a.Rb=
0;c.stop=function(){a.Rb=1;n.stop();c.stop=function(){}}}else a.Rb=0}}else T(a,e)}catch(ja){}}}function T(a,b){var d=!1;a.Rb=1;try{var c=b.getElementsByTagName("ci")[0];if(!c)return;var f;(f=c.getAttribute("office_name"))&&100>f.length&&(a.Oa=f);(f=c.getAttribute("personal_info"))&&128>f.length&&(a.Ua=f);(f=c.getAttribute("im_font"))&&256>f.length&&(a.gh=f);f=c.getAttribute("im_style");a.uf=f?f>>>0:0;var e,h,w=c.getElementsByTagName("contactgroup");for(e=0;e<(w?w.length:0);e++)if(b={},f=w[e].getAttribute("groupname")){var m=
!1;for(h=0;h<a.na.length;h++){var p=a.na[h];if(p.m_szGroupName==f){m=!0;break}else if(f.toLowerCase()<p.m_szGroupName.toLowerCase())break}if(!m){a.na.splice(h,0,b);b.m_szGroupName=f;f=w[e].getAttribute("contact_folded");b.contact_folded=f?f>>>0:0;b.m_pContactArray=[];var q,r=w[e].getElementsByTagName("contact");for(q=0;q<(r?r.length:0);q++)if((f=r[q].getAttribute("userid"))&&128>f.length&&(a.S||!C(a,f))){var t={};m=!1;for(h=0;h<b.m_pContactArray.length;h++)if(f==b.m_pContactArray[h].id){m=!0;break}else if(f<
b.m_pContactArray[h].id)break;if(!m){b.m_pContactArray.splice(h,0,t);t.id=f;var v=ba(a,f);f=r[q].getAttribute("username");t.name=f&&128>f.length?f:t.id;f=r[q].getAttribute("pm");t.pm=f&&128>f.length?f:"";v&&(v.username&&v.username!=t.name&&(t.name=v.username,d=!0),v.Ua&&v.Ua!=t.pm&&(t.pm=v.Ua,d=!0))}}}}if((f=c.getElementsByTagName("share_file"))&&f.length){var x=f[0].getElementsByTagName("file");for(e=0;e<(x?x.length:0);e++){var y=x[e];c={};if((f=y.getAttribute("jnj"))&&1E4>f.length&&(c.jnj=f,(f=
y.getAttribute("username"))&&128>f.length&&(c.owner_name=f,(f=y.getAttribute("homepage"))&&100>f.length&&(c.owner_homepage=f,(f=y.getAttribute("title"))&&128>f.length)))){c.title=f;if(f=y.getAttribute("subject")){if(!(128>f.length))continue;c.subject=f}else c.subject="";f=y.getAttribute("duration");null!=f&&(c.duration=f>>>0,f=y.getAttribute("share_type"),null==f||0>f||2<f||(c.share_type=f>>>0,f=y.getAttribute("tick"),null!=f&&(c.recv_tick=f>>>0,f=y.getAttribute("read"),c.read=null==f?1:f>>>0,g(a,
c))))}}}}catch(ta){return}n.Wr(a);n.Rk();n.Vr(a);d&&n.Vb(a);n.T&&n.T(a);n.Rj&&n.Rj(a)}function g(a,b){var d=b.owner_name,c=b.subject||b.title,f=/(.+)\/([^\/]+)$/.exec(c);f?(b.name=f[2],b.group=d+" - "+f[1],b.group2=b.owner_name+" - "+f[1]):(b.name=c,b.group=d+" ",b.group2=b.owner_name+" ");d=a.cc;for(a=0;a<d.length;a++){if(b.group<d[a].group){d.splice(a,0,b);return}if(!(b.group.toLowerCase()>d[a].group.toLowerCase())&&b.name.toLowerCase()<d[a].name.toLowerCase()){d.splice(a,0,b);return}}d.splice(a,
0,b)}function r(a){function d(d){var c=this,f=new n("zlib_compress",b.a.Zh(d),0,function(f){c.stop=function(){};f='<ci size="'+d.length+'" compression="1">'+b.a.oc(b.a.sj(f))+"</ci>";var e=f.length,g=new N.a.g;g.m(x.wi);g.f(e);e&&g.D(b.crypto.L(f,a.B));a.j.send(g.i());b.a.log("save client_info for "+a.l+": "+e+","+f);a.wc=null},function(){a.wc=null});c.stop=function(){f.stop();c.stop=function(){}}}a.wc&&(a.wc.stop(),a.wc=null);var c="<ci",f=b.a.xt;a.Oa&&(c+=' office_name="'+f(a.Oa)+'"');a.Ua&&(c+=
' personal_info="'+f(a.Ua)+'"');a.gh&&(c+=' im_font="'+f(a.gh)+'"');a.uf&&(c+=' im_style="'+a.uf+'"');c+=">\n";var e;if(a.na.length)for(e=0;e<a.na.length;e++){c+="<contactgroup";var g=a.na[e];c+=' groupname="'+f(g.m_szGroupName)+'" contact_folded="'+(g.contact_folded?1:0)+'">\n';var h;for(h=0;h<g.m_pContactArray.length;h++){var m=g.m_pContactArray[h];c+='<contact userid="'+f(m.id)+'" username="'+f(m.name);m.pm&&(c+='" pm="'+f(m.pm));c+='"/>\n'}c+="</contactgroup>\n"}if(a.cc.length){c+="<share_file>\n";
for(e=0;e<a.cc.length;e++)g=a.cc[e],c+='<file duration="'+g.duration+'" share_type="'+g.share_type+'" tick="'+g.recv_tick+'" jnj="'+f(g.jnj)+'" username="'+f(g.owner_name)+'" homepage="'+f(g.owner_homepage)+'" title="'+f(g.title),g.read||(c+='" read="'+g.read),g.subject&&(c+='" subject="'+g.subject),c+='"/>\n';c+="</share_file>\n"}c+="</ci>";f=c.length;var n=b.Wb.Or();500<f&&n?a.wc=new d(c):(e=new N.a.g,e.m(x.wi),e.f(f),f&&e.D(b.crypto.L(c,a.B)),a.j.send(e.i()),b.a.log("save client_info for "+a.l+
": "+f+","+b.a.Ab(c)))}function z(a){a&&a.disconnect&&a.disconnect()}function Z(a){a.hh();a.vr=0;a.ct=0;a.Rb=a.S?1:0;a.PB=0;a.di=0;a.da=0;a.Lj=0;a.wt=0;a.ot=0;a.rj=0}function G(a){if(!a.Gc)if(b.a.log("just in case that the existing connection is still alive, prepare to sign out existing connection before reconnection for "+a.l),z(a),Z(a),a.Dj){b.a.log("start quick reconnection for "+a.l);a.disconnect=function(){};var d=b.o.Uh(a.Hb,a.ar,a.port,a.port2),c=d.Nh;d=d.$h;a.J=b.b.Ii;n.T&&n.T(a);t(a,c,d)}else b.a.log("start complete reconnection for "+
a.l),a.disconnect=function(){},I(a)}function aa(a,d){b.a.localStorage.hmtg_msgr_g_us_status=JSON.stringify(a);x.ab=a;for(var c=0,f=0;f<x.Sb.length;f++){var e=x.Sb[f];if(!(d&&d!=e||e.S)&&e.Xa!=a&&(c=1,m(e.S,e.O,e.ga,a),e.Zg=0,e.Xa=a,e.jh=1,d||(e.mg=0),e.J==b.b.pa)){n.T&&n.T(e);var g=new N.a.g;g.m(x.Ci);g.f(e.Xa);e.j.send(g.i())}}c&&p()}function ba(a,b){if(a.da)return a.zd[b];a=a.kb;for(var d in a)if(a.hasOwnProperty(d)){var c=a[d];if(c.O==b)return c}return null}function Y(a,d,c,e,g,h,m){a.f(d);c.da?
a.f(h):(a.f(23),a.D(b.crypto.L(g,c.B)));m||e.j.send(a.i())}function X(a,b){return b.S!=a.S||a.ga!=b.ga||!a.S&&a.O!=b.O?!1:!0}function O(a,b){if(!a.S&&b==(a.da?a.Qa:a.O))return!1;for(var d=0;d<a.na.length;d++)for(var c=a.na[d],f=0;f<c.m_pContactArray.length;f++)if(b==c.m_pContactArray[f].id)return!0;return!1}function C(a,b){return b==(a.da?a.Qa:a.O)}var N=window.W,x={hc:1,ic:25,Og:1};b.a.log("hmtg jmkernel version "+H());var n=b.jmkernel=b.Wb=b.Wb||{};n.version=n.version=H;x.dv=0;x.Cv=1;x.wv=2;x.Av=
3;x.Fi=4;x.Cg=5;x.zi=6;x.iv=7;x.Vn=8;x.Ci=9;x.Wn=10;x.qv=11;x.Ru=12;x.Nv=13;x.Pv=14;x.Qu=15;x.Rn=16;x.Nn=17;x.rv=18;x.Tv=19;x.ro=20;x.Gv=21;x.Ov=22;x.xi=23;x.Wv=24;x.Ei=25;x.Kv=26;x.vi=27;x.lv=28;x.mv=29;x.nv=30;x.$n=31;x.yi=32;x.ao=33;x.ov=34;x.zv=35;x.mo=36;x.Tn=37;x.Nu=38;x.Bv=39;x.no=40;x.Di=41;x.av=42;x.Iv=43;x.Sn=44;x.ev=45;x.bv=46;x.Xu=47;x.Sv=48;x.Zn=49;x.Ou=50;x.wi=51;x.cv=52;x.ho=53;x.yv=54;x.lo=55;x.Hv=56;x.Uv=57;x.bo=58;x.pv=59;x.Jv=60;x.Ai=61;x.Bi=62;x.Dv=63;x.Pu=64;x.Su=65;x.Tu=66;x.Pn=
67;x.Yu=68;x.Xn=69;x.kv=70;x.Un=71;x.fv=72;x.Uu=73;x.hv=74;x.Zu=75;x.Wu=76;x.Lv=77;x.Mv=78;x.jo=79;x.io=80;x.ko=81;x.Qv=82;x.eo=83;x.qo=84;x.Vv=85;x.Vu=86;x.Qn=87;x.$u=88;x.oo=89;x.po=90;x.On=91;x.gv=92;x.co=93;x.Yn=94;x.Mn=95;x.Ln=96;x.Fv=97;x.Ev=98;x.Kn=99;x.xv=100;x.fo=101;x.tv=102;x.uv=103;x.sv=104;x.vv=105;x.jv=106;x.so=107;x.Gi=108;x.Rv=109;x.Bp=109;x.Sb=[];x.la=[];x.ab=b.a.qe(b.a.localStorage.hmtg_msgr_g_us_status);"undefined"===x.ab&&(x.ab=b.b.Kd);x.ab!=b.b.Kd&&x.ab!=b.b.gq&&x.ab!=b.b.hq&&
x.ab!=b.b.kj&&x.ab!=b.b.Pb&&(x.ab=b.b.Kd);x.Hj=0;x.zr=!0;x.Y=function(){};E.prototype._g_us_status=function(a){if("undefined"===typeof a)return x.ab;x.ab=a};x.yr=new E;e.prototype._blocking=function(a){this.Ec&&b.a.log(-1,"alert, _blocking, should not occur, need investigation for "+this.l);this.Ec=!0;this.vj=a};e.prototype._unblocking=function(){this.Ec||b.a.log(-1,"alert, _unblocking, should not occur, need investigation for "+this.l);this.Ec=!1;this.ci&&this.ci()};e.prototype._homepage=function(){return this.ga};
e.prototype._guest=function(){return this.S};e.prototype._userid=function(){return this.O};e.prototype._my_id=function(){return this.da?this.Qa:this.O};e.prototype._connection_status=function(){return this.J};e.prototype._us_status=function(a){if("undefined"===typeof a)return this.Xa;this.Xa=a};e.prototype._office_status=function(){return this.Ta};e.prototype._mmc_messenger=function(){return this.da};e.prototype._server_version_major=function(){return this.bf};e.prototype._server_version_minor=function(){return this.Yh};
e.prototype._server_version_subminor=function(){return this.nt};e.prototype._personal_info=function(a){if("undefined"===typeof a)return this.Ua;this.Ua=a};e.prototype._office_name=function(a){if("undefined"===typeof a)return this.Oa;this.Oa=a};e.prototype._name_or_homepage=function(){return this.Oa?this.Oa:this.ga};e.prototype._name_or_homepage2=function(){return this.Oa?this.Oa:(this.S?"guest":this.username)+" @ "+this.ga};e.prototype._name_or_homepage3=function(){return this.Oa?this.Oa:"["+(this.S?
"guest":this.username)+" @ "+this.ga+"]"};e.prototype._quit=function(){return this.Va};e.prototype._internal_id=function(){return this.Qa};e.prototype._m_pContactGroupArray=function(){return this.na};e.prototype._client_info_loaded=function(){return this.Rb};e.prototype._noncontact_folded=function(a){if("undefined"===typeof a)return this.pe;this.pe=a};e.prototype._m_p_mmc_user_hash=function(){return this.zd};e.prototype._m_User=function(){return this.kb};e.prototype._user_status_inited=function(){return this.og};
e.prototype._user_info_ever_recvd=function(){return this.di};e.prototype._disk_usage=function(){return this.sr};e.prototype._username=function(a){if("undefined"===typeof a)return this.username;this.username=a};e.prototype._to_restore_status=function(){return this.mg};e.prototype._im_style_flag=function(a){if("undefined"===typeof a)return this.uf;this.uf=a};e.prototype._ngclass=function(a){if("undefined"===typeof a)return this.ob;this.ob=a};e.prototype._ngstyle=function(a){if("undefined"===typeof a)return this.Fc;
this.Fc=a};e.prototype._imstyle=function(a){if("undefined"===typeof a)return this.V;this.V=a};e.prototype._file_transfer_cap=function(){return this.wr};e.prototype._group_im_cap=function(){return this.Lj};e.prototype._password=function(a){if("undefined"===typeof a)return this.password;this.password=a};e.prototype._password_error=function(a){if("undefined"===typeof a)return this.$e;this.$e=a};e.prototype._ever_connected=function(){return this.Cj};e.prototype._server_im_log=function(){return this.Xh};
e.prototype._share_file_folded=function(){return this.cf};e.prototype._old_psf_folded=function(){return this.nd};e.prototype._m_pShareFileArray=function(){return this.cc};e.prototype._publish_file_count=function(){return this.ct};e.prototype._publish_file_folded=function(){return this.af};e.prototype._old_publish_folded=function(){return this.qd};e.prototype._mmc_publish_file_array=function(){return this.Qh};e.prototype._visitor_folded=function(a){if("undefined"===typeof a)return this.ye;this.ye=
a};e.prototype._m_pVisitorArray=function(){return this.Xe};e.prototype._event_count=function(){return this.vr};e.prototype._event_folded=function(a){if("undefined"===typeof a)return this.Od;this.Od=a};e.prototype._mmc_event_array=function(){return this.eg};e.prototype._mcu_tick=function(){return this.Vs};e.prototype._local_tick=function(){return this.Qs};e.prototype._allow_group_im_force_leave=function(){return this.rj};e.prototype._email=function(a){if("undefined"===typeof a)return this.Xg;this.Xg=
a};e.prototype._deny_message=function(a){if("undefined"===typeof a)return this.qf;this.qf=a};e.prototype._jnj_ip=function(){return this.aa};e.prototype._port=function(){return this.port};e.prototype._profile_up_to_date=function(){return this.wm};e.prototype._max_outconnection=function(){return this.Us};e.prototype._disk_quota=function(){return this.rr};e.prototype._pgc_folded=function(a){if("undefined"===typeof a)return this.re;this.re=a};e.prototype._m_pPgcHash=function(){return this.cb};e.prototype._m_PgcCount=
function(){return this.yd};e.prototype._cipher_name=e.prototype.Pq=function(){return this.hd};e.prototype._turn_server_array=function(){return this.bi};D.prototype._status=function(a){if("undefined"===typeof a)return this.status;this.status=a};D.prototype._office_status=function(){return this.Ta};D.prototype._username=function(){return this.username};D.prototype._personal_info=function(){return this.Ua};D.prototype._userid=function(){return this.O};D.prototype._major=function(){return this.lb};D.prototype._minor=
function(){return this.Eb};D.prototype._is_offline=function(){return 0==this.status&&0==this.Ta||this.status==b.b.Pb};v.prototype._saved_password=function(){return this.Fd};B.prototype._pgc_name=function(){return this.se};B.prototype._full_name=function(){return this.$a};B.prototype._group_id=function(){return this.eh};B.prototype._owner_id=function(){return this.V};B.prototype._count=function(){return this.count};B.prototype._member_hash=function(){return this.mb};n.jm_command_CallbackReady=n.kC=
function(){var a=b.Wb;a.Or=a.jm_callback_compress;a.Pr=a.jm_callback_decompress;a.Uj=a.jm_callback_GetMcuInfo;a.T=a.jm_callback_UpdateConnectionStatus;a.s=a.jm_callback_ShowError;a.Xd=a.jm_callback_UpdateUser;a.Tj=a.jm_callback_DeleteConnectionParam;a.Sd=a.jm_callback_LaunchJoinNet;a.Ck=a.jm_callback_ServerShutdown;a.ak=a.jm_callback_JnjExceedDiskQuota;a.Bf=a.jm_callback_ShowMMCError;a.Ek=a.jm_callback_ShortMessage;a.bk=a.jm_callback_JnjInvite;a.fk=a.jm_callback_JnjVisit;a.ck=a.jm_callback_JnjNewMessage;
a.dk=a.jm_callback_JnjNewMessageCount;a.Lk=a.jm_callback_UserInfoUpdated;a.$j=a.jm_callback_InviteJnjGeneration;a.ik=a.jm_callback_MMCJnjGeneration;a.vk=a.jm_callback_QueryURLMMC;a.zk=a.jm_callback_SendFileRequest;a.rk=a.jm_callback_OfflineGroupMessage;a.Vj=a.jm_callback_GroupMessage;a.ek=a.jm_callback_JnjShareFile;a.Fk=a.jm_callback_ShortMessageFailure;a.Zj=a.jm_callback_InviteFailure;a.Dk=a.jm_callback_ShareFileFailure;a.Wj=a.jm_callback_GroupMessageFail;a.yf=a.jm_callback_NotifyIMStatusChange;
a.Af=a.jm_callback_ServerLogError;a.Bk=a.jm_callback_ServerLogData;a.vf=a.jm_callback_DisconnectGroupConversationWindow;a.wk=a.jm_callback_ReconnectGroupConversationWindow;a.Yj=a.jm_callback_IMNewItem;a.Td=a.jm_callback_MsgNewItem;a.Ub=a.jm_callback_MessageEndOfFile;a.mk=a.jm_callback_NotifyPlaybackResult;a.zf=a.jm_callback_NotifyShareResult;a.pk=a.jm_callback_NotifyUnshareResult;a.qk=a.jm_callback_NotifyViewRecordResult;a.Lr=a.jm_callback_NotifyJnrPasswordResult;a.Kr=a.jm_callback_NotifyChangeTitleResult;
a.Ud=a.jm_callback_NotifyChangeFileProgress;a.jk=a.jm_callback_NotifyJeditorResult;a.xf=a.jm_callback_NotifyDownloadResult;a.Vd=a.jm_callback_NotifyUploadResult;a.Mk=a.jm_callback_ViewRecord;a.Ik=a.jm_callback_UpdateEventList;a.Jk=a.jm_callback_UpdatePublishFileList;a.Rj=a.jm_callback_ClientInfoLoaded;a.Ra=a.jm_callback_UpdatePgc;a.Kk=a.jm_callback_UpdateVisitor;a.Gk=a.jm_callback_ShowTalkToError;a.Nk=a.jm_callback_VisitorSessionAlert;a.yk=a.jm_callback_SendFileAction;a.Ak=a.jm_callback_SendFileSend;
a.Xj=a.jm_callback_GroupTyping;a.Hk=a.jm_callback_TypingIn;a.lk=a.jm_callback_NotifyOnlineAlertMMC;a.kk=a.jm_callback_NotifyOnlineAlert;a.Bb=a.jm_callback_JoinGroup;a.hk=a.jm_callback_LeaveGroup;a.Wd=a.jm_callback_StopPgc;a.wf=a.jm_callback_InitPgc;a.sk=a.jm_callback_OfflineJoin;a.tk=a.jm_callback_OfflineLeave;a.uk=a.jm_callback_OfflinePgcRename;a.xk=a.jm_callback_RenamePgc;a.Sj=a.jm_callback_CreateGroupFail;a.gk=a.jm_callback_JoinGroupFail;a.nk=a.jm_callback_NotifyServerIMLogChange;a.Ok=a.jm_callback_WebRTCSignal};
n.jm_command_ReadWBL=n.QC=function(){F();x.la=[];var a=[];b.a.localStorage.hmtg_wbl&&"string"===typeof b.a.localStorage.hmtg_wbl&&b.a.localStorage.hmtg_wbl.length&&(a=b.a.qe(b.a.localStorage.hmtg_wbl),"undefined"===a?a=[]:b.a.isArray(a)||(a=[]));for(var d=0;d<a.length;d++){var c=a[d],e=new v;e.Oa="string"===typeof c.office_name?c.office_name:"";e.ga="string"===typeof c.homepage?c.homepage:"";e.ye=!!c.visitor_folded;e.cf=!!c.share_file_folded;e.Od=!!c.event_folded;e.af=!!c.publish_file_folded;e.re=
!!c.pgc_folded;e.pe=!!c.noncontact_folded;e.S=!!c.guest;c.guest||(e.bg=c.last_status,e.O="string"===typeof c.userid?c.userid:"",e.Fd=!!c.saved_password,c.saved_password&&(c.password&&"string"===typeof c.password||(c.password=""),e.password=b.crypto.w(c.password,b.crypto.ff).u()));x.la.push(e)}};n.jm_command_WriteWBL=n.Rk=p;n.jm_command_ReorderWBL=n.XC=function(a){var b=[],c,d=!1;for(c=0;c<a.length;c++){var e;a:{for(e=0;e<x.la.length;e++)if(X(a[c].pointer,x.la[e]))break a;e=-1}-1!=e&&(e!=c&&(d=!0),
b.push(x.la[e]))}d&&(x.la=b,n.Rk())};n.jm_command_AddWebOffice=n.hC=function(a,c,d,e,g){var f=0,h;for(h=0;h<x.la.length;h++){var m=x.la[h];if(m.S==c&&m.ga==a&&(c||e==m.O)){f=1;m.jr=1;m.S=c;m.Fd=d;c||(m.O=e,d&&(m.password=g));break}}f||(m=new v,m.jr=1,m.bg=b.b.Kd,m.ga=a,m.S=c,!c&&(m.O=e,m.Fd=d)&&(m.password=g),x.la.push(m))};n.jm_command_UpdateWebOfficeLastStatus=n.mD=m;n.jm_command_SignInOffice=n.fD=function(a,c,d,g,h){for(var f=0,m=null,w=0;w<x.Sb.length;w++)if(m=x.Sb[w],m.ga==d&&(a&&m.S||!m.S&&
!a&&m.O==g)){f=1;break}if(f){f=m;if(1E4>f.J){if(f.S)return;if(f.password==h){x.ab=c;f.Xa!=c&&(f.J==b.b.pa?aa(c,f):(f.Xa=c,f.jh=1));return}b.a.log("add office and force existing connection to sign out for "+f.l)}z(f);f.S||(x.ab=f.Xa=c,f.jh=1,f.password=h);f.J=b.b.ze;G(f)}else f=new e,f.Ie=!0,f.J=b.b.Li,f.S=a,f.S||(x.ab=f.Xa=c,f.jh=1,f.O=g,f.password=h,f.username=g),f.ga=d,x.Sb.push(f),f.l=(f.S?"guest":f.O)+" @ homepage "+f.ga,b.a.log(1,["signin, start thread for ",f.l].join("")),n.T&&n.T(f),I(f)};
n.jm_command_SignOutOffice=n.gD=z;n.jm_command_ReconnectOffice=n.RC=G;n.jm_command_RemoveOffice=n.TC=function(a){a&&a.disconnect&&a.disconnect();a&&(a.Va=!0);var b=x.Sb.indexOf(a);-1!=b&&x.Sb.splice(b,1);n.Tj&&n.Tj(a)};n.jm_command_ConnectAllOffice=n.pC=function(a){for(var c=0;c<x.la.length;c++){var d=x.la[c],f=new e;f.J=b.b.Li;f.S=d.S;f.ye=d.ye;f.cf=d.cf;f.Od=d.Od;f.af=d.af;f.re=d.re;f.pe=d.pe;f.Xa=d.bg;f.Oa=d.Oa;f.ga=d.ga;d.S||(f.O=d.O,d.Fd?f.password=d.password:(f.password="",f.$e=1),f.username=
f.O);x.Sb.push(f);f.l=(f.S?"guest":f.O)+" @ homepage "+f.ga;a&&(d.S||d.Fd)?(b.a.log(1,"init, start thread for "+f.l),I(f)):f.J=b.b.ze;n.T&&n.T(f)}};n.jm_command_FindWebOffice=n.zC=function(a){for(var b,c=0;c<x.la.length;c++)if(b=x.la[c],X(a,b))return b;return null};n.jm_command_CreateDummyOffice=n.qC=function(a,b){var c=new e;c.S=!1;c.O=a;c.ga=b;return c};n.jm_command_RemoveWebOffice=n.VC=function(a){a=x.la.indexOf(a);-1!=a&&x.la.splice(a,1)};n.jm_command_UpdateWebOfficeFoldStatus=n.lD=function(a,
b,c){var d;for(d=0;d<x.la.length;d++){var f=x.la[d];if(X(a,f)){0==b?f.ye=c:2==b?f.pe=c:3==b?f.Od=c:4==b?f.cf=c:5==b?f.af=c:6==b&&(f.re=c);break}}};n.jm_command_UpdateWebOfficeName=n.Wr=function(a){var b;for(b=0;b<x.la.length;b++){var c=x.la[b];if(X(a,c)){c.Oa=a.Oa;break}}};n.jm_command_UpdateWebOfficeProfile=n.nD=function(a){var b;for(b=0;b<x.la.length;b++){var c=x.la[b];if(X(a,c)){c.password=a.password;break}}};n.jm_command_LaunchOffice=n.Sr=function(a){var b=new N.a.g;b.m(x.Wn);a.j.send(b.i())};
n.jm_command_AppendDefaultPassword=n.Rr=function(a,c){if(!c)return a;F();var d="hmtg_temp_autodelete_"+(new N.a.g(N.random.ya(20))).Nb();c={time:Date.now(),value:b.crypto.L(c,b.crypto.ff).u()};b.a.localStorage[d]=JSON.stringify(c);a+="\nowner_passwd="+d+"\n";b.a.sd||setTimeout(function(){b.a.localStorage.removeItem(d)},6E4);return a};n.jm_command_AppendPlayerName=n.iC=function(a,c){if(c.S)return a;var d=c.username;d?(d+=" @ "+c.ga,d=b.a.ef(d,128)):d="Guest";return a+("\nplayer_name="+d+"\n")};n.jm_command_Base64HashPassword=
n.jC=function(a){var c=b.crypto.$c(a.password);a=b.crypto.L(c,a.B);return b.a.oc(a)};n.jm_command_Visit=n.qD=function(a,c){if(!a.Va&&a.J==b.b.pa){var d=new N.a.g;d.m(x.Vn);d.H(c);a.j.send(d.i());return!0}};n.jm_command_SetStatus=n.Ur=aa;n.jm_command_MMCVisit=n.IC=function(a,c,d,e,g){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.m(x.$n);f.f(c);f.H(d);c=g?1:0;f.f(c);c||f.H(e);a.j.send(f.i());return!0}};n.jm_command_MMCRequestInviteUserJnj=n.HC=function(a,b,c,d,e){var f=new N.a.g;f.m(a==b?x.Tn:x.yi);f.f(c);
f.H(a==b?d:e);a.j.send(f.i())};n.jm_command_RequestInviteUserJnj=n.YC=function(a,b,c,d){b=new N.a.g;b.m(x.yi);b.f(c);b.H(d);a.j.send(b.i())};n.jm_command_InviteUser=n.CC=function(a,c,d,e,g){a.Va||!a.Ta&&!a.da||(b.a.ne("inviting user '"+e+"'(name: '"+g+"') @ '"+c.ga+"', invitor '"+(a.da?a.Qa:a.O)+"'(name: '"+a.username+"') @ '"+a.ga+"'"),g=new N.a.g,g.m(x.Rn),g.H(e),g.H(a.ga),g.H(a.da?a.username:a.O),a=d.length,g.f(a),a&&g.D(b.crypto.L(d,c.B)),c.j.send(g.i()))};n.jm_command_InviteGuest=n.BC=function(a,
c,d,e,g){if(!a.Va&&(a.Ta||a.da)){b.a.ne("inviting guest "+g+" @ '"+c.ga+"', invitor '"+(a.da?a.Qa:a.O)+"'(name: '"+a.username+"') @ '"+a.ga+"'");var f=new N.a.g;f.m(x.Sn);f.H(e);f.H(a.ga);f.H(a.da?a.username:a.O);a=d.length;f.f(a);a&&f.D(b.crypto.L(d,c.B));f.H(g);c.j.send(f.i())}};n.jm_command_SendMessage=n.aD=function(a,c,d,e,g,h,m,n){var f=new N.a.g;c?(f.m(x.Pn),f.H(c),m=d.length,f.f(m),m&&f.D(b.crypto.L(d,a.B)),m=e.length,f.f(m),m&&f.D(b.crypto.L(e,a.B))):(c=g||a.S,f.m(c?x.Di:x.no),f.H(m),m=d.length,
f.f(m),m&&f.D(b.crypto.L(d,a.B)),m=e.length,f.f(m),m&&f.D(b.crypto.L(e,a.B)),f.H(a.S?a.sf:a.da?a.Qa:a.O),f.H(n),c&&f.H(h));a.j.send(f.i())};n.jm_command_SendWebRTCSignal=n.bD=function(a,c,d){var e=new N.a.g;e.m(x.so);e.H(d);d=c.length;e.f(d);d&&e.D(b.crypto.L(c,a.B));a.j.send(e.i())};n.jm_command_ParamFindUser=n.Tr=ba;n.jm_command_DownloadServerLog=n.xC=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.m(x.Mn);f.f(c);f.f(e);f.f(g);f.M(h);f.f(m);f.H(d);a.j.send(f.i());return!0}};n.jm_command_DeleteServerLog=
n.vC=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.m(x.Ln);f.f(c);f.f(e);f.H(d);a.j.send(f.i());return!0}};n.jm_command_DecodeServerLogLine=n.rC=function(a){var c={};if(35==a.charCodeAt(0)){c.text_type=b.b.Fg;a=b.a.Gb(a.slice(1));var d=new N.a.g(a)}else a=b.a.Gb(a),d=new N.a.g(a),c.text_type=d.c(8);if(d.K(a.length-1))return null;c.tick=d.c(0);var e=12;switch(c.text_type){case b.b.Xi:c.delay=d.c(12),e=16;case b.b.Zi:var f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");
if(-1==d)return null;var g=a.slice(e+f+d+2).indexOf("\x00");if(e+f+d+g+3!=a.length||256<=f||500<=d||5E3<=g)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);c.s3=a.substr(e+f+d+2,g);break;case b.b.Ig:case b.b.Ui:c.delay=d.c(12),e=16;case b.b.Gg:case b.b.Hg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||256<=f)return null;c.s1=a.substr(e,f);break;case b.b.Vi:c.delay=d.c(12);e=16;f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");if(e+f+d+2!=a.length||256<=f||256<=
d)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);break;case b.b.Yi:case b.b.Wi:c.delay=d.c(12);c.size=d.c(16)>>>0;e=20;f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||5E3<=f)return null;c.s3=a.substr(e,f);break;case b.b.Fg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||500<=f)return null;c.s3=""+d.c(8)+" ("+a.substr(e,f)+")";break;default:return null}return c};n.jm_command_CheckIM=n.nC=function(a,c,d){return new b.protocol.Qr(a,c,d)};n.jm_command_CheckMsg=n.oC=function(a,c,d){return new b.protocol.Qk(a,
0,d)};n.jm_command_Playback=n.PC=function(a,c,d,e){var f=new N.a.g;a.da?(f.f(1),f.f(e),c.Da=0,c.j.send(f.i())):(f.m(x.ho),f.D(b.crypto.L(d,a.B)),a.j.send(f.i()))};n.jm_command_Delete=n.sC=function(a,b,c,d){var e=new N.a.g;Y(e,2,a,b,c,d)};n.jm_command_MarkRead=n.JC=function(a,b,c,d){var e=new N.a.g;Y(e,6,a,b,c,d)};n.jm_command_MarkUnread=n.KC=function(a,b,c,d){var e=new N.a.g;Y(e,7,a,b,c,d)};n.jm_command_MMCPlaybackSharedFile=n.GC=function(a,c,d){if(!a.Va&&a.J==b.b.pa){var e=new N.a.g;e.m(x.bo);e.f(c);
e.H(d);a.j.send(e.i());return!0}};n.jm_command_MMCEditProfile=n.FC=function(a,c){if(!a.Va&&a.J==b.b.pa){var d=new N.a.g;d.m(x.xi);d.f(c);a.j.send(d.i());return!0}};n.jm_command_JoinEvent=n.EC=function(a,c,d,e,g,h){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.m(x.Zn);f.f(c);f.H(d);f.H(e);f.f(g?1:0);g||f.H(h);a.j.send(f.i());return!0}};n.jm_command_UpdatePersonalInfo=n.Vr=function(a){var b=new N.a.g;b.m(x.qo);b.H(a.Ua);a.j.send(b.i())};n.jm_command_SpeedupClientInfo=n.hD=function(){var a;for(a=0;a<x.Sb.length;a++){var b=
x.Sb[a];!b.S&&b.Wa&&(clearTimeout(b.Wa),b.Wa=null,r(b))}};n.jm_command_TouchClientInfo=n.Vb=function(a){a.Rb&&!a.Gc&&(a.Wa&&clearTimeout(a.Wa),a.Wa=setTimeout(function(){a.Wa=null;r(a)},6E4))};n.jm_command_RemoveShareFile=n.UC=function(a,b){b=a.cc.indexOf(b);-1!=b&&(a.cc.splice(b,1),n.Vb(a))};n.jm_command_RemoveAllShareFile=n.SC=function(a,b){var c;for(c=a.cc.length-1;0<=c;c--)a.cc[c].group==b&&a.cc.splice(c,1);n.Vb(a)};n.jm_command_UpdateUserInfo=n.Ke=function(a,b,c,d){var e;if(a.da){if(e=a.zd[c])return;
e=new D;a.zd[c]=e}else{if(e=a.kb[b])return;e=new D;a.kb[b]=e}e.status=0;e.Ta=0;e.lb=0;e.Eb=0;e.O=c;e.username=d;e.Ua=""};n.jm_command_TalkToVisitor=n.iD=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.m(x.Ei);f.f(c);f.f(d);f.H(e);a.j.send(f.i());return!0}};n.jm_command_SendFileAction=n.$C=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.m(x.io);f.f(c);f.f(d);f.f(e);f.f(g);f.f(h);f.H(m);a.j.send(f.i());return!0}};n.jm_command_NotifyFileTransfer=n.LC=function(a,c,d,e,g,h,
m,n,p){if(!a.Va&&a.J==b.b.pa){m&&(c|=2147483648);var f=new N.a.g;f.m(x.co);f.f(c);f.f(d);f.f(g);f.H(h);f.H(e);m&&(f.H(n),f.H(p));a.j.send(f.i());return!0}};n.jm_command_Typing=n.jD=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;c?(f.m(x.Qn),f.H(c)):(f.m(e?x.po:x.oo),f.H(d));a.j.send(f.i());return!0}};n.jm_command_PgcUsernameChange=n.kh=function(a,b){var c=a.cb,d={},e;for(e in c)if(c.hasOwnProperty(e)){var f=a.cb[e];"undefined"!==typeof f.mb[b]&&(q(a,f),d[e]||(n.Ra&&n.Ra(a,e),d[e]=1))}};
n.jm_command_RequestSendFile=n.ZC=function(a,c,d,e,g,h,m,n,p){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.m(x.jo);f.f(c);f.f(d);f.f(e);f.H(g);f.H(h);m&&(f.H(n),f.H(p));a.j.send(f.i());return!0}};n.jm_command_FileSend=n.yC=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=d.length;f=f|e<<30|(c?1:0)<<29;c=new N.a.g;c.m(x.ko);c.f(g);c.f(f);c.f(h);c.H(m);c.D(b.crypto.L(d,a.B));a.j.send(c.i());return!0}};n.jm_command_AddPerson=n.gC=function(a,b,c,d){var e=new N.a.g;e.m(b?x.Un:x.Kn);e.H(b?b:c);e.H(d);a.j.send(e.i())};
n.jm_command_LeaveGroup=n.td=function(a,b){var c=new N.a.g;c.m(x.Xn);c.H(b);a.j.send(c.i())};n.jm_command_PgcRemove=n.NC=function(a,b){b=b.eh;delete a.cb[b];a.yd--;n.Ra&&n.Ra(a,b)};n.jm_command_PgcRename=n.OC=function(a,b,c){var d=new N.a.g;d.m(x.fo);d.H(b);d.H(c);a.j.send(d.i())};n.jm_command_ForceLeaveGroup=n.AC=function(a,b,c){var d=new N.a.g;d.m(x.On);d.H(b);d.H(c);a.j.send(d.i())};n.jm_command_ViewProfile=n.Xr=function(a){var b=new N.a.g;b.m(x.ro);b.f(0);a.j.send(b.i())};n.jm_command_Share=n.dD=
function(a,c,d,e,g,h,m,n,p,q){var f=new N.a.g;Y(f,9,a,c,d,e,!0);d=new N.a.g;d.f(m?n:0);m=21;p&&(p=b.crypto.$c(b.a.pb(q)),d.D(p),m=1);for(p=0;p<m;p++)d.m(0);f.D(b.crypto.L(d,a.B));g==a&&h?f.H(h):f.f(0);c.j.send(f.i())};n.jm_command_Unshare=n.kD=function(a,b,c,d){var e=new N.a.g;Y(e,12,a,b,c,d)};n.jm_command_ViewRecord=n.pD=function(a,b,c,d){var e=new N.a.g;Y(e,15,a,b,c,d)};n.jm_command_ChangeTitle=n.mC=function(a,c,d,e,g){var f=new N.a.g;Y(f,11,a,c,d,e,!0);f.f(g.length);g.length&&f.D(b.crypto.L(g,
a.B));c.j.send(f.i())};n.jm_command_ChangeJNRPassword=n.lC=function(a,c,d,e,g,h){var f=new N.a.g;Y(f,10,a,c,d,e,!0);f.f(g.length);g.length&&f.D(b.crypto.L(g,a.B));f.f(h.length);h.length&&f.D(b.crypto.L(h,a.B));c.j.send(f.i())};n.jm_command_ShareFileToUser=n.eD=function(a,c,d,e,g,h,m,n,p,q,r){if(c.J==b.b.pa)return a=new N.a.g,a.m(x.lo),a.H(d),a.H(h),a.H(g),a.H(q),a.H(e),a.H(m),a.f(p),a.f(r),a.H(n),c.j.send(a.i()),!0};n.jm_command_ParseViewRecord=n.MC=function(a){var b=new N.a.g(a),c=b.c(12);return 0>
c||128<=c||c+16>a.length?null:[c,b.h(16,c),b.c(0),b.c(8),b.c(4)]};n.jm_command_AddContactGroup=n.fC=function(a,b){var c={},d,e=!1;for(d=0;d<a.na.length;d++){var f=a.na[d];if(f.m_szGroupName==b){e=!0;break}else if(b.toLowerCase()<f.m_szGroupName.toLowerCase())break}e||(a.na.splice(d,0,c),c.m_szGroupName=b,c.contact_folded=0,c.m_pContactArray=[],n.Vb(a))};n.jm_command_RenameContactGroup=n.WC=function(a,b,c){var d,e=!1;for(d=0;d<a.na.length;d++){var f=a.na[d];if(f==b){a.na.splice(d,1);e=!0;break}}if(e){b.m_szGroupName=
c;e=!1;for(d=0;d<a.na.length;d++)if(f=a.na[d],f.m_szGroupName==c){e=!0;break}else if(c.toLowerCase()<f.m_szGroupName.toLowerCase())break;e||(a.na.splice(d,0,b),n.Vb(a))}};n.jm_command_DeleteContactGroup=n.uC=function(a,b){var c,d=!1;for(c=0;c<a.na.length;c++)if(a.na[c]==b){a.na.splice(c,1);d=!0;break}d&&n.Vb(a)};n.jm_command_AddContact=n.eC=function(a,b,c,d){var e={},f,g=!1;for(f=0;f<b.m_pContactArray.length;f++)if(c==b.m_pContactArray[f].id){g=!0;break}else if(c<b.m_pContactArray[f].id)break;g||
(b.m_pContactArray.splice(f,0,e),e.id=c,(b=ba(a,c))?(e.name=b.username||d,e.pm=b.Ua):(e.name=d,e.pm=""),n.Vb(a))};n.jm_command_DeleteContact=n.tC=function(a,b,c){var d,e=!1;for(d=0;d<b.m_pContactArray.length;d++)if(c==b.m_pContactArray[d].id){b.m_pContactArray.splice(d,1);e=!0;break}else if(c<b.m_pContactArray[d].id)break;e&&n.Vb(a)};n.jm_command_SetGroup=n.cD=function(a,b,c,d,e){var f=new N.a.g;Y(f,16,a,b,c,d,!0);f.H(e);b.j.send(f.i())};n.jm_command_Jeditor=n.DC=function(a,b,c,d,e){b.dc=17;var f=
new N.a.g;Y(f,17,a,b,c,d,!0);f.H(e);b.j.send(f.i())};n.jm_command_Download=n.wC=function(a,b,c,d){b.dc=18;var e=new N.a.g;Y(e,18,a,b,c,d,!0);b.j.send(e.i())};n.jm_command_Upload=n.oD=function(a,c,d){function e(){if(1E4<c.Ia&&!c.mf&&c.kc+c.Qb<d.size){var e=Math.min(d.size,c.kc+c.Ia+2E4),f=new FileReader;f.onload=function(a){c.buffer&&(c.buffer.set(c.buffer.slice(c.Ia,c.Qb)),c.buffer.set(new Uint8Array(a.target.result),c.Qb-c.Ia),c.Qb=c.Qb-c.Ia+a.target.result.byteLength,c.kc+=c.Ia,c.Ia=0,c.mf=!1)};
f.onerror=function(){c.buffer&&(c.buffer=null,c.fa&&(c.fa.terminate(),c.fa=null),n.Vd&&n.Vd(a,c,b.b.Oq))};f.readAsArrayBuffer(d.slice(c.kc+c.Qb,e));c.mf=!0}}c.dc=19;var f=new N.a.g;f.f(c.dc);f.f(d.size>>>0);f.f(d.size/4294967296>>>0);f.D(b.crypto.L(c.buffer.slice(0,74),a.B));c.Ia=74;c.j.send(f.i());c.fa=new Worker("worker/worker_interval.js");c.fa.onmessage=function(){if(a.J!=b.b.pa||!c.connected||1!=c.j.readyState)c.connected&&1==c.j.readyState&&c.j.close(),c.nb=0,c.buffer=null,c.fa&&(c.fa.terminate(),
c.fa=null);else if(!c.j.bufferedAmount){var l=b.a.A();if(n.Ud&&500<l-g){var m=(c.kc+c.Ia)/d.size*100>>>0;m!=h&&(h=m,c.nb=m,n.Ud(a,c));g=l}for(m=0;100>m;m++){if(512>c.Qb-c.Ia&&c.Qb+c.kc!=d.size){e();break}var p=Math.min(512,c.Qb-c.Ia);var q=c.buffer.subarray(c.Ia,c.Ia+p);c.Ia+=p;f.clear();f.D(b.crypto.L(q,a.B));c.j.send(f.i());if(c.Ia+c.kc==d.size){c.buffer=null;c.fa&&(c.fa.terminate(),c.fa=null);break}if(20<b.a.A()-l){e();break}}}};c.fa.postMessage({command:"set",delay:10});var g=b.a.A()-1E3,h=0};
n.jm_command_WriteUserProfile=n.rD=function(a){if(a.J==b.b.pa){var c=new N.a.g;c.m(x.xi);c.H(a.username);c.H(a.Xg);var d=a.password?a.password.length:0;c.f(d);d&&c.D(b.crypto.L(a.password,a.B));c.f(a.qf);a.j.send(c.i());return!0}};n.jm_info_GlobalPointer=n.vD=function(){return x.yr};n.jm_info_TestSameOffice=n.yD=X;n.jm_info_HaveNonContact=n.wD=function(a){if(a.da){var c=a.zd;for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if((e.status||e.Ta)&&(e.status!=b.b.Pb||e.O==a.Qa)&&a.Qa!=e.O&&!O(a,e.O))return!0}}else for(d in c=
a.kb,c)if(c.hasOwnProperty(d)&&(e=c[d],(e.status||e.Ta)&&(e.status!=b.b.Pb||e.O==a.O)&&a.O!=e.O&&!O(a,e.O)))return!0;return!1};n.jm_info_IsContact=n.xD=O;n.jm_info_CanTargetUserAcceptInvitation=n.sD=function(a,c){return(a=ba(a,c))&&a.status!=b.b.Pb&&0!=a.status&&1<=a.lb?!0:!1};n.jm_info_CheckSelf=n.tD=C;n.jm_info_GetUserName=n.Sk=function(a,b){if(C(a,b))return a.username;var c=n.Tr(a,b);if(c)return c.username;for(c=0;c<a.na.length;c++){var d=a.na[c],e;for(e=0;e<d.m_pContactArray.length;e++){var f=
d.m_pContactArray[e];if(f.id==b)return f.name}}return b};n.jm_info_GetOfficeCount=n.uD=function(){return x.la.length}})(window.hmtg);
