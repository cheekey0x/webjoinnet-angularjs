"undefined"===typeof window.W&&(window.W={});
(function(b){function J(b,r,f){var p=null;"undefined"===typeof f&&(f=["web","flash"]);var h=!1,c=null,a;for(a in f){var g=f[a];try{if("flash"===g||"both"===g){if(null===r[0])throw{message:"Flash local storage not available."};p=b.apply(this,r);h="flash"===g}if("web"===g||"both"===g)r[0]=window.localStorage,p=b.apply(this,r),h=!0}catch(aa){c=aa}if(h)break}if(!h)throw c;return p}function F(b,r){H(b,r,null)}function c(b,r,f){var p=n(b,r);if(null!==p&&f in p){delete p[f];f=!0;for(var h in p){f=!1;break}f&&
(p=null);H(b,r,p)}}function y(b,r,f){b=n(b,r);null!==b&&(b=f in b?b[f]:null);return b}function h(b,r,f,h){var p=n(b,r);null===p&&(p={});p[f]=h;H(b,r,p)}function n(b,r){if(!b)throw{message:"WebStorage not available."};r=b.getItem(r);if(b.hh)if(null===r.lg){if(r.error)throw r.error;r=null}else r=r.lg;null!==r&&(r=JSON.parse(f.Gb(r)));return r}function H(b,r,h){if(!b)throw{message:"WebStorage not available."};null===h?b=b.removeItem(r):(h=f.oc(JSON.stringify(h)),b=b.setItem(r,h));if("undefined"!==typeof b&&
!0!==b.lg)throw b.error;}var f=b.a=b.a||{};"undefined"!==typeof window.V&&window.V.$e?(f.$e=window.V.$e,"function"===typeof setImmediate?f.setImmediate=setImmediate:f.setImmediate=f.$e):"function"===typeof setImmediate?(f.setImmediate=setImmediate,f.$e=function(b){return setImmediate(b)}):(f.setImmediate=function(b){setTimeout(b,0)},f.$e=f.setImmediate);f.isArray=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)};f.Jr=function(b){return"undefined"!==typeof ArrayBuffer&&
b instanceof ArrayBuffer};var A=[];"undefined"!==typeof Int8Array&&A.push(Int8Array);"undefined"!==typeof Uint8Array&&A.push(Uint8Array);"undefined"!==typeof Uint8ClampedArray&&A.push(Uint8ClampedArray);"undefined"!==typeof Int16Array&&A.push(Int16Array);"undefined"!==typeof Uint16Array&&A.push(Uint16Array);"undefined"!==typeof Int32Array&&A.push(Int32Array);"undefined"!==typeof Uint32Array&&A.push(Uint32Array);"undefined"!==typeof Float32Array&&A.push(Float32Array);"undefined"!==typeof Float64Array&&
A.push(Float64Array);f.Kr=function(b){for(var p=0;p<A.length;++p)if(b instanceof A[p])return!0;return!1};f.g=function(b){this.data="";this.read=0;if("string"===typeof b)this.data=b;else if(f.Jr(b)||f.Kr(b)){b=new Uint8Array(b);try{this.data=String.fromCharCode.apply(null,b)}catch(D){for(var p=0;p<b.length;++p)this.m(b[p])}}else b instanceof f.g&&(this.data=b.data,this.read=b.read)};f.g.prototype.length=function(){return this.data.length-this.read};f.g.prototype.Lr=function(){return 0>=this.length()};
f.g.prototype.m=function(b){this.data+=String.fromCharCode(b)};f.g.prototype.$g=function(b,r){b=String.fromCharCode(b);for(var p=this.data;0<r;)r&1&&(p+=b),r>>>=1,0<r&&(b+=b);this.data=p};f.g.prototype.N=function(b){this.data+=b};f.g.prototype.Am=function(b){this.data+=b.split("").reverse().join("")};f.g.prototype.H=function(b){this.f(b.length);this.data+=b};f.g.prototype.gg=function(b){b=f.pb(b);this.f(b.length);this.data+=b};f.g.prototype.gt=function(){this.data+=String.fromCharCode(0)+String.fromCharCode(0)};
f.g.prototype.f=function(b){this.data+=String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};f.g.prototype.Dd=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)};f.g.prototype.Yc=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>24&255)};f.g.prototype.D=function(b){this.data+=b.ya()};f.g.prototype.Lj=function(){return this.data.charCodeAt(this.read++)};
f.g.prototype.getInt32=function(){var b=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return b};f.g.prototype.c=function(b){return this.data.charCodeAt(this.read+b)<<24^this.data.charCodeAt(this.read+b+1)<<16^this.data.charCodeAt(this.read+b+2)<<8^this.data.charCodeAt(this.read+b+3)};f.g.prototype.lc=function(b){return this.data.charCodeAt(this.read+b+3)<<24^this.data.charCodeAt(this.read+
b+2)<<16^this.data.charCodeAt(this.read+b+1)<<8^this.data.charCodeAt(this.read+b)};f.g.prototype.Nd=function(b){return this.data.charCodeAt(this.read+b)<<8^this.data.charCodeAt(this.read+b+1)};f.g.prototype.Er=function(){var b=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return b};f.g.prototype.ya=function(b){if(b){b=Math.min(this.length(),b);var p=this.data.slice(this.read,this.read+b);
this.read+=b}else 0===b?p="":(p=0===this.read?this.data:this.data.slice(this.read),this.clear());return p};f.g.prototype.u=function(b){return"undefined"===typeof b?this.data.slice(this.read):this.data.slice(this.read,this.read+b)};f.g.prototype.h=function(b,r){return"undefined"===typeof r?this.data.slice(this.read+b):this.data.slice(this.read+b,this.read+b+r)};f.g.prototype.L=function(b){return this.data.charCodeAt(this.read+b)};f.g.prototype.compact=function(){0<this.read&&(this.data=this.data.slice(this.read),
this.read=0);return this};f.g.prototype.shift=function(b){this.read+=b;1024<this.data.length&&(4096<this.read||this.read>this.data.length>>1)&&(this.data=this.data.slice(this.read),this.read=0)};f.g.prototype.clear=function(){this.data="";this.read=0;return this};f.g.prototype.truncate=function(b){b=Math.max(0,this.length()-b);this.data=this.data.substr(this.read,b);this.read=0;return this};f.g.prototype.i=function(){for(var b=new ArrayBuffer(this.data.length-this.read),r=new Uint8Array(b),f=0,h=
this.read;h<this.data.length;++h,++f)r[f]=this.data.charCodeAt(h);return b};f.g.prototype.Nb=function(){for(var b="",r=this.read;r<this.data.length;++r){var f=this.data.charCodeAt(r);16>f&&(b+="0");b+=f.toString(16)}return b};f.g.prototype.toString=function(){return f.Ab(this.u())};f.createBuffer=function(b,r){void 0!==b&&"utf8"===(r||"raw")&&(b=f.pb(b));return new f.g(b)};f.Gj=function(){for(var b=String.fromCharCode(0),r=64,f="";0<r;)r&1&&(f+=b),r>>>=1,0<r&&(b+=b);return f};f.gG=function(b,r,f){for(var p=
"",h,c="",a=0,g=0;0<f;--f,++a)h=b.charCodeAt(a)^r.charCodeAt(a),10<=g&&(p+=c,c="",g=0),c+=String.fromCharCode(h),++g;return p+c};f.Hc=function(b){var p="",f=0;b.length&1&&(f=1,p+=String.fromCharCode(parseInt(b[0],16)));for(;f<b.length;f+=2)p+=String.fromCharCode(parseInt(b.substr(f,2),16));return p};f.Ug=function(b){return f.createBuffer(b).Nb()};f.cC=function(b){return String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};var u=[62,
-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];f.oc=function(b,r){if(window.btoa)return btoa(b);for(var p="",f="",h,c,a,g=0;g<b.length;)h=b.charCodeAt(g++),c=b.charCodeAt(g++),a=b.charCodeAt(g++),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h>>2),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((h&
3)<<4|c>>4),isNaN(c)?p+="==":(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((c&15)<<2|a>>6),p+=isNaN(a)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a&63)),r&&p.length>r&&(f+=p.substr(0,r)+"\r\n",p=p.substr(r));return f+p};f.Cj=function(b,r){for(var p="",f="",h,c,a,g=0;g<b.length;)h=b.charCodeAt(g++),c=b.charCodeAt(g++),a=b.charCodeAt(g++),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(h>>2),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((h&
3)<<4|c>>4),isNaN(c)?p+="==":(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((c&15)<<2|a>>6),p+=isNaN(a)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(a&63)),r&&p.length>r&&(f+=p.substr(0,r)+"\r\n",p=p.substr(r));return f+p};f.Gb=function(b){if(window.atob)try{return atob(b)}catch(g){try{if(b.length)return atob(b.slice(0,-1))}catch(aa){}}b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var p="",f,h,c,x,a=0;a<b.length;)f=u[b.charCodeAt(a++)-
43],h=u[b.charCodeAt(a++)-43],c=u[b.charCodeAt(a++)-43],x=u[b.charCodeAt(a++)-43],p+=String.fromCharCode(f<<2|h>>4),64!==c&&(p+=String.fromCharCode((h&15)<<4|c>>2),64!==x&&(p+=String.fromCharCode((c&3)<<6|x)));return p};f.Bj=function(b){return f.Gb(b.replace(/[-|_]/g,function(b){return"-"==b?"+":"/"}))};f.pb=function(b){try{return unescape(encodeURIComponent(b))}catch(r){return b}};f.Ab=function(b){try{return decodeURIComponent(escape(b))}catch(r){return b}};f.rr=function(b){var p;return p=f.Gb(b.rr(f.oc(p)).lg)};
f.Ir=function(b){b=b.Ir(f.oc(void 0)).lg;return null===b?null:f.Gb(b)};f.setItem=function(b,r,f,c,z){J(h,arguments,z)};f.getItem=function(b,r,f,h){return J(y,arguments,h)};f.removeItem=function(b,r,f,h){J(c,arguments,h)};f.SB=function(b,r,f){J(F,arguments,f)};f.at=function(b){var r=/\/\/\[.+\]:/.test(b)?/^(https?):\/\/\[(.+)\]:?(\d*)(.*)$/g:/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;r.lastIndex=0;r=r.exec(b);if(b=null===r?null:{zr:b,scheme:r[1],host:r[2],port:r[3],path:r[4]})b.Je=b.host,b.port?80!=
b.port&&"http"===b.scheme?b.Je+=":"+b.port:443!=b.port&&"https"===b.scheme&&(b.Je+=":"+b.port):"http"===b.scheme?b.port=80:"https"===b.scheme&&(b.port=443),b.zr=b.scheme+"://"+b.Je;return b};var z=null;f.Gr=function(b){function r(b){var r={};b=b.split("&");for(var f=0;f<b.length;f++){var p=b[f].indexOf("=");if(0<p){var a=b[f].substring(0,p);p=b[f].substring(p+1)}else a=b[f],p=null;a in r||(r[a]=[]);a in Object.prototype||null===p||r[a].push(unescape(p))}return r}"undefined"===typeof b?(null===z&&
("undefined"===typeof window?z={}:z=r(window.location.search.substring(1))),b=z):b=r(b);return b};f.$s=function(b){var r=b,p="",h=b.indexOf("?");0<h&&(r=b.substring(0,h),p=b.substring(h+1));b=r.split("/");0<b.length&&""===b[0]&&b.shift();h=""===p?{}:f.Gr(p);return{ct:r,ht:p,path:b,query:h}};f.NF=function(b){var r=f.$s(b),h={path:r.ct,query:r.ht,Fr:function(b){return"undefined"===typeof b?r.path:r.path[b]},Qd:function(b,f){"undefined"===typeof b?b=r.query:(b=r.query[b])&&"undefined"!==typeof f&&(b=
b[f]);return b},aC:function(b,f){return(b=h.Qd(b))?b[b.length-1]:f}};return h};f.MF=function(){};f.cG=function(b,f,h){if("object"===typeof b&&null!==b)for(var r=0,p=f.length;r<p;){var c=f[r++];if(r==p)b[c]=h;else{var a=c in b;if(!a||a&&"object"!==typeof b[c]||a&&null===b[c])b[c]={};b=b[c]}}};f.Fr=function(b,f,h){for(var r=0,p=f.length,c=!0;c&&r<p&&"object"===typeof b&&null!==b;){var a=f[r++];(c=a in b)&&(b=b[a])}return c?b:h};f.VB=function(b,f){if("object"===typeof b&&null!==b)for(var r=0,h=f.length;r<
h;){var c=f[r++];if(r==h)delete b[c];else{if(!(c in b)||"object"!==typeof b[c]||null===b[c])break;b=b[c]}}};f.Lr=function(b){for(var f in b)if(b.hasOwnProperty(f))return!1;return!0};f.format=function(b){var f=/%./g,h,c,p=0,x=[];for(c=0;h=f.exec(b);)switch(c=b.substring(c,f.lastIndex-2),0<c.length&&x.push(c),c=f.lastIndex,h=h[0][1],h){case "s":case "o":p<arguments.length?x.push(arguments[p++ +1]):x.push("<?>");break;case "%":x.push("%");break;default:x.push("<%"+h+"?>")}x.push(b.substring(c));return x.join("")};
f.sf=function(b,f,h,c){var r=isNaN(f=Math.abs(f))?2:f;f=void 0===h?",":h;c=void 0===c?".":c;h=0>b?"-":"";var p=parseInt(b=Math.abs(+b||0).toFixed(r),10)+"",a=3<p.length?p.length%3:0;return h+(a?p.substr(0,a)+c:"")+p.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+c)+(r?f+Math.abs(b-p).toFixed(r).slice(2):"")};f.YB=function(b){return b=1073741824<=b?f.sf(b/1073741824,2,".","")+" GiB":1048576<=b?f.sf(b/1048576,2,".","")+" MiB":1024<=b?f.sf(b/1024,0)+" KiB":f.sf(b,0)+" bytes"};f.er=function(b){return-1!==b.indexOf(".")?
f.fr(b):-1!==b.indexOf(":")?f.gr(b):null};f.fr=function(b){b=b.split(".");if(4!==b.length)return null;for(var h=f.createBuffer(),c=0;c<b.length;++c){var p=parseInt(b[c],10);if(isNaN(p))return null;h.m(p)}return h.ya()};f.gr=function(b){var h=0;b=b.split(":").filter(function(b){0===b.length&&++h;return!0});for(var c=2*(8-b.length+h),p=f.createBuffer(),z=0;8>z;++z)if(b[z]&&0!==b[z].length){var x=f.Hc(b[z]);2>x.length&&p.m(0);p.N(x)}else p.$g(0,c),c=0;return p.ya()};f.PB=function(b){return 4===b.length?
f.hr(b):16===b.length?f.ir(b):null};f.hr=function(b){if(4!==b.length)return null;for(var f=[],h=0;h<b.length;++h)f.push(b.charCodeAt(h));return f.join(".")};f.ir=function(b){if(16!==b.length)return null;for(var h=[],c=[],p=0,z=0;z<b.length;z+=2){for(var x=f.Ug(b[z]+b[z+1]);"0"===x[0]&&"0"!==x;)x=x.substr(1);if("0"===x){var a=c[c.length-1],g=h.length;a&&g===a.end+1?(a.end=g,a.end-a.start>c[p].end-c[p].start&&(p=c.length-1)):c.push({start:g,end:g})}h.push(x)}0<c.length&&(b=c[p],0<b.end-b.start&&(h.splice(b.start,
b.end-b.start+1,""),0===b.start&&h.unshift(""),7===b.end&&h.push("")));return h.join(":")};f.XB=function(b,h){function c(b,g,w){if(0===g){var a=Math.floor(b.reduce(function(b,a){return b+a},0)/b.length);f.Aj=Math.max(1,a);URL.revokeObjectURL(x);h(null,f.Aj)}else r(w,function(a,d){b.push(p(w,d));c(b,g-1,w)})}function r(b,g){for(var a=[],d=[],q=0;q<b;++q){var f=new Worker(x);f.addEventListener("message",function(q){d.push(q.data);if(d.length===b){for(q=0;q<b;++q)a[q].terminate();g(null,d)}});a.push(f)}for(q=
0;q<b;++q)a[q].postMessage(q)}function p(b,g){for(var a=[],d=0;d<b;++d)for(var q=g[d],f=a[d]=[],h=0;h<b;++h)if(d!==h){var c=g[h];(q.te>c.te&&q.te<c.Dj||c.te>q.te&&c.te<q.Dj)&&f.push(h)}return a.reduce(function(b,a){return Math.max(b,a.length)},0)}"function"===typeof b&&(h=b,b={});b=b||{};if("cores"in f&&!b.update)return h(null,f.Aj);var x=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(){for(var b=Date.now(),g=b+4;Date.now()<g;);self.postMessage({te:b,Dj:g})})}.toString(),
")()"],{type:"application/javascript"}));c([],5,16)}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function J(f,p,r,n,w){function z(){if(n)for(var b=0;4>b;++b)R[b]=D.getInt32();else for(b=0;4>b;++b)R[b]=G[b]^D.getInt32();F(B,R,E,n);if(n){for(b=0;4>b;++b)Y.f(G[b]^E[b]);G=R.slice(0)}else{for(b=0;4>b;++b)Y.f(E[b]);G=E}}function x(){F(B,R,E,!1);for(var b=0;2>b;++b)R[b]=R[2+b],R[2+b]=D.getInt32();for(b=0;2>b;++b){var a=R[2+b]^E[b];n||(R[2+b]=a);Y.f(a)}}function a(){F(B,R,E,!1);for(var b=0;4>b;++b)R[b]=D.getInt32();for(b=0;4>b;++b)Y.f(R[b]^E[b]),R[b]=E[b]}function g(){F(B,R,E,!1);for(var b=
3;0<=b;--b)if(4294967295===R[b])R[b]=0;else{++R[b];break}for(b=0;4>b;++b)Y.f(D.getInt32()^E[b])}var A=null;h||y();w=(w||"CBC").toUpperCase();if("string"===typeof f&&(16===f.length||24===f.length||32===f.length))f=b.a.createBuffer(f);else if(b.a.isArray(f)&&(16===f.length||24===f.length||32===f.length)){var d=f;f=b.a.createBuffer();for(var q=0;q<d.length;++q)f.m(d[q])}if(!b.a.isArray(f)){d=f;f=[];var Q=d.length();if(16===Q||24===Q||32===Q)for(Q>>>=2,q=0;q<Q;++q)f.push(d.getInt32())}if(!b.a.isArray(f)||
4!==f.length&&6!==f.length&&8!==f.length)return A;d=-1!==["CFB","OFB","CTR"].indexOf(w);var U="CBC"===w,B=c(f,n&&!d),u=16,D,Y,R,E,G,v;A={fg:null};if("CBC"===w)var k=z;else if("CFB"===w)k=x,u=8;else if("OFB"===w)k=a;else if("CTR"===w)k=g;else throw{message:'Unsupported block cipher mode of operation: "'+w+'"'};A.update=function(b){for(v||D.D(b);D.length()>=u||0<D.length()&&v;)k()};A.finish=function(b){var a=!0,e=D.length()%u;if(!n)if(b)a=b(u,D,n);else if(U){var g=D.length()===u?u:u-D.length();D.$g(g,
g)}a&&(v=!0,A.update());n&&(U&&(a=0===e),a&&(b?a=b(u,Y,n):U&&(g=Y.length(),g=Y.L(g-1),16<g?a=!1:Y.truncate(g))));!U&&!b&&0<e&&Y.truncate(u-e);return a};A.start=function(a,g){null===a&&(a=G.slice(0));if("string"===typeof a&&16===a.length)a=b.a.createBuffer(a);else if(b.a.isArray(a)&&16===a.length){var e=a;a=b.a.createBuffer();for(var d=0;16>d;++d)a.m(e[d])}b.a.isArray(a)||(e=a,a=Array(4),a[0]=e.getInt32(),a[1]=e.getInt32(),a[2]=e.getInt32(),a[3]=e.getInt32());D=b.a.createBuffer();Y=g||b.a.createBuffer();
G=a.slice(0);R=Array(4);E=Array(4);v=!1;A.fg=Y;if(-1!==["CFB","OFB","CTR"].indexOf(w)){for(d=0;4>d;++d)R[d]=G[d];G=null}};null!==p&&A.start(p,r);return A}function F(b,f,h,c){var r=b.length/4-1;if(c){var p=u[0];var x=u[1];var a=u[2];var g=u[3];var D=H}else p=A[0],x=A[1],a=A[2],g=A[3],D=n;var d=f[0]^b[0];var q=f[c?3:1]^b[1];var Q=f[2]^b[2];f=f[c?1:3]^b[3];for(var U=3,B=1;B<r;++B){var z=p[d>>>24]^x[q>>>16&255]^a[Q>>>8&255]^g[f&255]^b[++U];var y=p[q>>>24]^x[Q>>>16&255]^a[f>>>8&255]^g[d&255]^b[++U];var Y=
p[Q>>>24]^x[f>>>16&255]^a[d>>>8&255]^g[q&255]^b[++U];f=p[f>>>24]^x[d>>>16&255]^a[q>>>8&255]^g[Q&255]^b[++U];d=z;q=y;Q=Y}h[0]=D[d>>>24]<<24^D[q>>>16&255]<<16^D[Q>>>8&255]<<8^D[f&255]^b[++U];h[c?3:1]=D[q>>>24]<<24^D[Q>>>16&255]<<16^D[f>>>8&255]<<8^D[d&255]^b[++U];h[2]=D[Q>>>24]<<24^D[f>>>16&255]<<16^D[d>>>8&255]<<8^D[q&255]^b[++U];h[c?1:3]=D[f>>>24]<<24^D[d>>>16&255]<<16^D[q>>>8&255]<<8^D[Q&255]^b[++U]}function c(b,h){b=b.slice(0);for(var c,p=1,w=b.length,A=4*(w+6+1),x=w;x<A;++x)c=b[x-1],0===x%w?(c=
n[c>>>16&255]<<24^n[c>>>8&255]<<16^n[c&255]<<8^n[c>>>24]^f[p]<<24,p++):6<w&&4===x%w&&(c=n[c>>>24]<<24^n[c>>>16&255]<<16^n[c>>>8&255]<<8^n[c&255]),b[x]=b[x-w]^c;if(h){c=u[0];p=u[1];w=u[2];var a=u[3],g=b.slice(0);A=b.length;x=0;for(var z=A-4;x<A;x+=4,z-=4)if(0===x||x===A-4)g[x]=b[z],g[x+1]=b[z+3],g[x+2]=b[z+2],g[x+3]=b[z+1];else for(var d=0;4>d;++d)h=b[z+d],g[x+(3&-d)]=c[n[h>>>24]]^p[n[h>>>16&255]]^w[n[h>>>8&255]]^a[n[h&255]];b=g}return b}function y(){h=!0;f=[0,1,2,4,8,16,32,64,128,27,54];for(var b=
Array(256),c=0;128>c;++c)b[c]=c<<1,b[c+128]=c+128<<1^283;n=Array(256);H=Array(256);A=Array(4);u=Array(4);for(c=0;4>c;++c)A[c]=Array(256),u[c]=Array(256);var r=0,D=0;for(c=0;256>c;++c){var w=D^D<<1^D<<2^D<<3^D<<4;w=w>>8^w&255^99;n[r]=w;H[w]=r;var I=b[w];var x=b[r];var a=b[x];var g=b[a];I=I<<24^w<<16^w<<8^w^I;a=(x^a^g)<<24^(r^g)<<16^(r^a^g)<<8^r^x^g;for(var y=0;4>y;++y)A[y][r]=I,u[y][w]=a,I=I<<24|I>>>8,a=a<<24|a>>>8;0===r?r=D=1:(r=x^b[b[b[x^g]]],D^=b[b[D]])}}var h=!1,n,H,f,A,u;b.Za=b.Za||{};b.Za.ve=
function(b,f,c,h){return J(b,f,c,!1,h)};b.Za.or=function(b,f){return J(b,null,null,!1,f)};b.Za.ue=function(b,f,c,h){return J(b,f,c,!0,h)};b.Za.nr=function(b,f){return J(b,null,null,!0,f)};b.Za.Sq=function(b){h||y();return c(b,!1)};b.Za.Zq=F})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function J(z,p){"string"!==typeof z||8!==z.length&&24!==z.length||(z=b.a.createBuffer(z));var r=F(z),D=1,w=0,I=0,x=!1,a=null,g=null,J=32===r.length?3:9;var d=3===J?[0,32,2]:[0,32,2,62,30,-2,64,96,2];var q=null;return q={start:function(d,f){d?("string"===typeof d&&8===d.length&&(d=b.a.createBuffer(d)),D=1,w=d.getInt32(),I=d.getInt32()):D=0;x=!1;a=b.a.createBuffer();g=f||b.a.createBuffer();q.fg=g},update:function(b){for(x||a.D(b);8<=a.length()||0<a.length()&&x;){var q=w,B=I;b=(q>>>4^B)&
252645135;B^=b;q^=b<<4;b=(q>>>16^B)&65535;B^=b;q^=b<<16;b=(B>>>2^q)&858993459;q^=b;B^=b<<2;b=(B>>>8^q)&16711935;q^=b;B^=b<<8;b=(q>>>1^B)&1431655765;B^=b;q^=b<<1;q=q<<1|q>>>31;B=B<<1|B>>>31;for(var Q=0;Q<J;Q+=3){for(var z=d[Q+1],Y=d[Q+2],R=d[Q];R!=z;R+=Y){var E=B^r[R],G=(B>>>4|B<<28)^r[R+1];b=q;q=B;B=b^(y[E>>>24&63]|n[E>>>16&63]|f[E>>>8&63]|u[E&63]|c[G>>>24&63]|h[G>>>16&63]|H[G>>>8&63]|A[G&63])}b=q;q=B;B=b}q=q>>>1|q<<31;B=B>>>1|B<<31;b=(q>>>1^B)&1431655765;B^=b;q^=b<<1;b=(B>>>8^q)&16711935;q^=b;B^=
b<<8;b=(B>>>2^q)&858993459;q^=b;B^=b<<2;b=(q>>>16^B)&65535;B^=b;q^=b<<16;b=(q>>>4^B)&252645135;B^=b;q^=b<<4;1===D&&(w=a.getInt32(),I=a.getInt32(),q^=w,B^=I,p&&(w=q,I=B));g.f(q);g.f(B)}},finish:function(){var b=a.length()%8;b||(b=8);x=!0;q.update();g.truncate(8-b);return!0}}}function F(b){for(var f=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],c=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,
67109121,68157696,68157697],h=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],w=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],n=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],x=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,
524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],g=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],A=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],q=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,
1056800,1056768,1056800],Q=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],u=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],B=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],z=8<b.length()?3:1,y=[],Y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],R=0,E,G=0;G<z;G++){var v=b.getInt32(),k=b.getInt32();E=(v>>>4^k)&252645135;k^=E;v^=E<<4;E=(k>>>-16^v)&65535;
v^=E;k^=E<<-16;E=(v>>>2^k)&858993459;k^=E;v^=E<<2;E=(k>>>-16^v)&65535;v^=E;k^=E<<-16;E=(v>>>1^k)&1431655765;k^=E;v^=E<<1;E=(k>>>8^v)&16711935;v^=E;k^=E<<8;E=(v>>>1^k)&1431655765;k^=E;v^=E<<1;E=v<<8|k>>>20&240;v=k<<24|k<<8&16711680|k>>>8&65280|k>>>24&240;k=E;for(var e=0;e<Y.length;e++){Y[e]?(v=v<<2|v>>>26,k=k<<2|k>>>26):(v=v<<1|v>>>27,k=k<<1|k>>>27);v&=-15;k&=-15;var L=f[v>>>28]|c[v>>>24&15]|h[v>>>20&15]|w[v>>>16&15]|n[v>>>12&15]|x[v>>>8&15]|a[v>>>4&15],M=g[k>>>28]|A[k>>>24&15]|d[k>>>20&15]|q[k>>>
16&15]|Q[k>>>12&15]|u[k>>>8&15]|B[k>>>4&15];E=(M>>>16^L)&65535;y[R++]=L^E;y[R++]=M^E<<16}}return y}var c=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,
16778240,16778240,0,65540,66560,0,16842756],y=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,
-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],h=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,
134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],n=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],H=[256,
34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,
524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,
541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],A=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,
0,2099202,69206016,2048,67108866,67110912,2048,2097154],u=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,
266240,4160,4160,262208,268435456,268701696];b.mc=b.mc||{};b.mc.ve=function(b,f,c){b=J(b,!0);b.start(f,c);return b};b.mc.or=function(b){return J(b,!0)};b.mc.ue=function(b,f,c){b=J(b,!1);b.start(f,c);return b};b.mc.nr=function(b){return J(b,!1)}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function J(b,c,y){for(var f,h,u,n,p,r,D,w,I=y.length();64<=I;){h=b.qb;u=b.rb;n=b.sb;p=b.tb;r=b.Rd;for(w=0;16>w;++w)f=y.getInt32(),c[w]=f,D=p^u&(n^p),f=(h<<5|h>>>27)+D+r+1518500249+f,r=p,p=n,n=u<<30|u>>>2,u=h,h=f;for(;20>w;++w)f=c[w-3]^c[w-8]^c[w-14]^c[w-16],f=f<<1|f>>>31,c[w]=f,D=p^u&(n^p),f=(h<<5|h>>>27)+D+r+1518500249+f,r=p,p=n,n=u<<30|u>>>2,u=h,h=f;for(;32>w;++w)f=c[w-3]^c[w-8]^c[w-14]^c[w-16],f=f<<1|f>>>31,c[w]=f,D=u^n^p,f=(h<<5|h>>>27)+D+r+1859775393+f,r=p,p=n,n=u<<30|u>>>2,u=h,
h=f;for(;40>w;++w)f=c[w-6]^c[w-16]^c[w-28]^c[w-32],f=f<<2|f>>>30,c[w]=f,D=u^n^p,f=(h<<5|h>>>27)+D+r+1859775393+f,r=p,p=n,n=u<<30|u>>>2,u=h,h=f;for(;60>w;++w)f=c[w-6]^c[w-16]^c[w-28]^c[w-32],f=f<<2|f>>>30,c[w]=f,D=u&n|p&(u^n),f=(h<<5|h>>>27)+D+r+2400959708+f,r=p,p=n,n=u<<30|u>>>2,u=h,h=f;for(;80>w;++w)f=c[w-6]^c[w-16]^c[w-28]^c[w-32],f=f<<2|f>>>30,c[w]=f,D=u^n^p,f=(h<<5|h>>>27)+D+r+3395469782+f,r=p,p=n,n=u<<30|u>>>2,u=h,h=f;b.qb+=h;b.rb+=u;b.sb+=n;b.tb+=p;b.Rd+=r;I-=64}}var F=b.Gd=b.Gd||{};b.eb=b.eb||
{};b.eb.Ge=b.eb.Ge||{};b.eb.Gd=b.eb.Ge.sha1=F;var c=null,y=!1;F.create=function(){y||(c=String.fromCharCode(128),c+=b.a.Gj(),y=!0);var h=null,n=b.a.createBuffer(),H=Array(80),f={algorithm:"sha1",dr:64,sr:20,yb:0,start:function(){f.yb=0;n=b.a.createBuffer();h={qb:1732584193,rb:4023233417,sb:2562383102,tb:271733878,Rd:3285377520};return f}};f.start();f.update=function(c,u){"utf8"===u&&(c=b.a.pb(c));f.yb+=c.length;n.N(c);J(h,H,n);(2048<n.read||0===n.length())&&n.compact();return f};f.digest=function(){var A=
f.yb,u=b.a.createBuffer();u.N(n.u());u.N(c.substr(0,64-(A+8)%64));u.f(A>>>29&255);u.f(A<<3&4294967295);A={qb:h.qb,rb:h.rb,sb:h.sb,tb:h.tb,Rd:h.Rd};J(A,H,u);u=b.a.createBuffer();u.f(A.qb);u.f(A.rb);u.f(A.sb);u.f(A.tb);u.f(A.Rd);return u};return f}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function J(b,f,c){for(var p,r,D,w,u,x,a,g=c.length();64<=g;){r=b.qb;D=b.rb;w=b.sb;u=b.tb;for(a=0;16>a;++a)f[a]=c.Er(),p=u^D&(w^u),p=r+p+H[a]+f[a],x=n[a],r=u,u=w,w=D,D+=p<<x|p>>>32-x;for(;32>a;++a)p=w^u&(D^w),p=r+p+H[a]+f[h[a]],x=n[a],r=u,u=w,w=D,D+=p<<x|p>>>32-x;for(;48>a;++a)p=D^w^u,p=r+p+H[a]+f[h[a]],x=n[a],r=u,u=w,w=D,D+=p<<x|p>>>32-x;for(;64>a;++a)p=w^(D|~u),p=r+p+H[a]+f[h[a]],x=n[a],r=u,u=w,w=D,D+=p<<x|p>>>32-x;b.qb=b.qb+r&4294967295;b.rb=b.rb+D&4294967295;b.sb=b.sb+w&4294967295;
b.tb=b.tb+u&4294967295;g-=64}}function F(){y=String.fromCharCode(128);y+=b.a.Gj();h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];H=Array(64);for(var c=0;64>c;++c)H[c]=Math.floor(4294967296*Math.abs(Math.sin(c+1)));f=
!0}var c=b.Oh=b.Oh||{};b.eb=b.eb||{};b.eb.Ge=b.eb.Ge||{};b.eb.Oh=b.eb.Ge.md5=c;var y=null,h=null,n=null,H=null,f=!1;c.create=function(){f||F();var c=null,h=b.a.createBuffer(),n=Array(16),p={algorithm:"md5",dr:64,sr:16,yb:0,start:function(){p.yb=0;h=b.a.createBuffer();c={qb:1732584193,rb:4023233417,sb:2562383102,tb:271733878};return p}};p.start();p.update=function(f,u){"utf8"===u&&(f=b.a.pb(f));p.yb+=f.length;h.N(f);J(c,n,h);(2048<h.read||0===h.length())&&h.compact();return p};p.digest=function(){var f=
p.yb,u=b.a.createBuffer();u.N(h.u());u.N(y.substr(0,64-(f+8)%64));u.Yc(f<<3&4294967295);u.Yc(f>>>29&255);f={qb:c.qb,rb:c.rb,sb:c.sb,tb:c.tb};J(f,n,u);u=b.a.createBuffer();u.Yc(f.qb);u.Yc(f.rb);u.Yc(f.sb);u.Yc(f.tb);return u};return p}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){(b.vc=b.vc||{}).create=function(J){function F(b){if(32<=h.uc[0].yb)return c(),b();h.Wh(32-h.uc[0].yb<<5,function(f,u){if(f)return b(f);h.pf(u);c();b()})}function c(){var f=b.eb.Gd.create();f.update(h.uc[0].digest().ya());h.uc[0].start();for(var c=1,u=1;32>u;++u)c=31===c?2147483648:c<<2,0===c%h.Dm&&(f.update(h.uc[u].digest().ya()),h.uc[u].start());c=f.digest().ya();f.start();f.update(c);f=f.digest().ya();h.key=h.fc.ah(c);h.xc=h.fc.bh(f);++h.Dm;h.rd=0;h.time=+new Date}function y(f){var c=
null;if("undefined"!==typeof window){var h=window.crypto||window.msCrypto;h&&h.getRandomValues&&(c=function(b){return h.getRandomValues(b)})}var n=b.a.createBuffer();if(c)for(;n.length()<f;){var p=Math.max(1,Math.min(f-n.length(),65536)/4),r=new Uint32Array(Math.floor(p));try{for(c(r),p=0;p<r.length;++p)n.f(r[p])}catch(D){}}if(n.length()<f)for(c=Math.floor(65536*Math.random());n.length()<f;)for(p=16807*(c&65535),c=16807*(c>>16),p+=(c&32767)<<16,p+=c>>15,p=(p&2147483647)+(p>>31),c=p&4294967295,p=0;3>
p;++p)r=c>>>(p<<3),r^=Math.floor(256*Math.random()),n.m(String.fromCharCode(r&255));return n.ya(f)}var h={fc:J,key:null,xc:null,time:null,Dm:0,rd:0};J=J.eb;for(var n=Array(32),H=0;32>H;++H)n[H]=J.create();h.uc=n;h.ig=0;h.Kj=function(c,n){function f(u){if(u)return n(u);if(w.length()>=c)return n(null,w.ya(c));1048576<=h.rd&&(u=+new Date,null===h.time||100<u-h.time)&&(h.key=null);if(null===h.key)return F(f);u=A(h.key,h.xc);h.rd+=u.length;w.N(u);h.key=r(A(h.key,p(h.xc)));h.xc=D(A(h.key,h.xc));b.a.setImmediate(f)}
if(!n)return h.Dr(c);var A=h.fc.B,p=h.fc.Qj,r=h.fc.ah,D=h.fc.bh,w=b.a.createBuffer();f()};h.Dr=function(f){for(var n=h.fc.B,u=h.fc.Qj,y=h.fc.ah,p=h.fc.bh,r=b.a.createBuffer();r.length()<f;){if(1048576<=h.rd){var D=+new Date;if(null===h.time||100<D-h.time)h.key=null}null===h.key&&(32<=h.uc[0].yb||h.pf(h.lt(32-h.uc[0].yb<<5)),c());D=n(h.key,h.xc);h.rd+=D.length;r.N(D);h.key=y(n(h.key,u(h.xc)));h.xc=p(n(h.key,h.xc))}return r.ya(f)};h.Wh=function(b,c){try{c(null,y(b))}catch(u){c(u)}};h.lt=y;h.pf=function(b){for(var c=
b.length,f=0;f<c;++f)h.uc[h.ig].update(b.substr(f,1)),h.ig=31===h.ig?0:h.ig+1};h.qf=function(b,c){for(var f="",n=0;n<c;n+=8)f+=String.fromCharCode(b>>n&255);h.pf(f)};h.XF=function(b){b===self?h.Wh=function(b,c){function f(b){b=b.data;b.W&&b.W.vc&&(self.removeEventListener("message",f),c(b.W.vc.wr,b.W.vc.u))}self.addEventListener("message",f);self.postMessage({W:{vc:{Zs:b}}})}:b.addEventListener("message",function(c){c=c.data;c.W&&c.W.vc&&h.Wh(c.W.vc.Zs,function(c,f){b.postMessage({W:{vc:{wr:c,u:f}}})})})};
return h}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){b.random&&b.random.ya||function(J){var F={},c=Array(4),y=b.a.createBuffer();F.ah=function(c){var f=b.a.createBuffer(c);c=Array(4);c[0]=f.getInt32();c[1]=f.getInt32();c[2]=f.getInt32();c[3]=f.getInt32();return b.Za.Sq(c)};F.bh=function(c){var f=b.a.createBuffer(c);c=Array(4);c[0]=f.getInt32();c[1]=f.getInt32();c[2]=f.getInt32();c[3]=f.getInt32();return c};F.B=function(f,h){b.Za.Zq(f,h,c,!1);y.f(c[0]);y.f(c[1]);y.f(c[2]);y.f(c[3]);return y.ya()};F.Qj=function(b){++b[3];return b};F.eb=b.eb.Gd;
var h=b.vc.create(F);F=null;if("undefined"!==typeof window){var n=window.crypto||window.msCrypto;n&&n.getRandomValues&&(F=function(b){return n.getRandomValues(b)})}if(b.WB||!F){h.qf(+new Date,32);if("undefined"!==typeof navigator){F="";for(var H in navigator)try{"string"==typeof navigator[H]&&(F+=navigator[H])}catch(f){}h.pf(F);F=null}J&&(J().mousemove(function(b){h.qf(b.clientX,16);h.qf(b.clientY,16)}),J().keypress(function(b){h.qf(b.charCode,8)}))}if(b.random)for(H in h)b.random[H]=h[H];else b.random=
h;b.random.ya=function(c,h){return b.random.Kj(c,h)};b.random.ZB=function(c){return b.random.Kj(c)}}(null)})(window.W);"undefined"===typeof window.hmtg&&(window.hmtg={});var pa=window.hmtg,l=pa.b=pa.b||{};pa.config=pa.b;l.APP_VERSION=l.ei="";l.NORMAL=l.R=0;l.PLAYBACK=l.Aa=1;l.PLAYER=l.yz=2;l.DOWNLOAD=l.Zo=3;l.UPLOAD=l.Eq=4;l.MTU_SIZE=l.Dc=500;l.TS_SIZE=l.gc=21;l.UTF8_CODEPAGE=l.pA=65001;l.RECORDING_STATUS_NORECORDING=l.Uz=0;l.RECORDING_STATUS_RESUMED=l.Wz=1;l.RECORDING_STATUS_PAUSED=l.Vz=2;l.PARTICIPANT_VIDEO_ERROR_OK=l.pq=0;l.PARTICIPANT_VIDEO_ERROR_FULL=l.jz=1;l.PARTICIPANT_VIDEO_ERROR_NOTSUPPORTED=l.mz=2;
l.PARTICIPANT_VIDEO_ERROR_NOTONLINE=l.lz=3;l.PARTICIPANT_VIDEO_ERROR_NOCAP=l.kz=4;l.PARTICIPANT_AUDIO_ERROR_FULL=l.dz=5;l.PARTICIPANT_AUDIO_ERROR_NOTSUPPORTED=l.ez=6;l.MAX_USER=l.Ha=5E3;l.MAX_USERID=l.py=128;l.MAX_PASSWORD=l.ej=28;l.MAX_USERNAME=l.Ya=128;l.MAX_EMAIL=l.Gp=128;l.MAX_USERAUTH=l.Kp=1E4;l.MAX_SESSIONID=l.my=20;l.MAX_SESSIONID_PL=l.ny=500;l.MAX_MEMBERID=l.hy=20;l.MAX_REGION=l.ly=128;l.MAX_URL=l.ij=4096;l.MAX_SLIDENAME=l.gj=600;l.MAX_XML_DATA=l.qy=9E3;
l.MAX_THIRDPARTY_MEETINGTITLE=l.Ng=512;l.MAX_THIRDPARTY_MEETINGID=l.hj=128;l.DEFAULT_MAX_BANDWIDTH=l.xw=24E3;l.BANDWIDTH_FOR_AUDIO=l.Bt=1E4;l.MAX_BANDWIDTH=l.dj=5E6;l.MIN_BANDWIDTH_FOR_VIDEO=l.Lp=1E4;l.JN_ERROR_BASE=l.mf=2E4;l.JN_GC_ERROR_BASE=l.Gx=25E3;l.JN_PROXY_ERROR_BASE=l.Px=3E4;l.JN_SLIDE_ERROR_BASE=l.Zx=35E3;var X=l.JN_CODE_BASE=l.vx=5E4;l.JN_PRINTER_DRIVER_BASE=l.Ox=7E4;l.JN_MCU_RELAY_BASE=l.aj=71E3;l.JN_OK=l.Nx=0;l.JN_UNKNOWN_ERROR=l.Jg=X+0;l.JN_RESOLVE_PROXY=l.Xx=X+1;
l.JN_CONNECTING_GC=l.wx=X+2;l.JN_BLANK=l.ux=X+3;l.JN_CONNECT_GC_UNKNOWN_ERROR=l.yx=X+4;l.JN_FAIL_CONNECT_GC=l.Cx=X+5;l.JN_CONNECT_GC_BROKEN=l.xx=X+6;l.JN_CONNECTING_MCU=l.op=X+7;l.JN_FAIL_CONNECT_MCU=l.Jd=X+8;l.JN_NO_SCHEDULE=l.Mx=X+9;l.JN_WRONG_IP_PASSWD=l.ey=X+10;l.JN_WRONG_AUTH_PASSWD=l.dy=X+11;l.JN_MEETING_NOT_EXIST2=l.wp=X+12;l.JN_TOOMANY_USER_2=l.ay=X+13;l.JN_CONNECTION_ESTABLISHED=l.pp=X+14;l.JN_QUESTION_CANCEL_DUE_TRANSFER=l.Sx=X+15;l.JN_YOU_HAVENOT_TOKEN=l.fy=X+16;l.JN_NEW_USER=l.Kx=X+17;
l.JN_USER_LEAVE=l.by=X+18;l.JN_QUESTION_FINISH=l.Tx=X+19;l.JN_USER_QUESTION_START=l.cy=X+20;l.JN_QUESTION_ACCEPTED=l.Qx=X+21;l.JN_QUESTION_IN_QUEUE=l.Ux=X+22;l.JN_QUESTION_SKIPPED=l.Vx=X+23;l.JN_DISCONNECT_BY_OWNER=l.sp=X+24;l.JN_MEETING_OVER=l.xp=X+25;l.JN_QUESTION_CANCELED=l.Rx=X+26;l.JN_USER_OVERWRITE=l.Bp=X+27;l.JN_YOU_HAVE_TOKEN=l.gy=X+28;l.JN_FILE_READ_ERROR=l.Fx=X+29;l.JN_FILE_PAGE_ERROR=l.Ex=X+30;l.JN_NO_MCU=l.Lx=X+31;l.JN_CONNECT_PROXY_NO_CONNECT_MCU=l.zx=X+32;
l.JN_MCU_TALK_MISMATCH=l.Jx=X+33;l.JN_TESTING_AV=l.$x=X+34;l.JN_FAIL_UDP=l.Dx=X+35;l.JN_CORRUPT_SERVER_PARAMETER=l.Ax=X+36;l.JN_DELETE_FILE_OK=l.rp=X+37;l.JN_DELETE_FILE_FAIL=l.qp=X+38;l.JN_JNJ_FILE_READ_ERROR=l.Hx=X+39;l.JN_JNJ_UNKNOWN_CODE_TYPE=l.Ix=X+40;l.JN_JNR_FILE_ERROR=l.vp=X+41;l.JN_MEETING_TERMINATED=l.yp=X+42;l.JN_PREPARATION_MODE=l.zp=X+43;l.JN_PREPARATION_SWITCH_TO_NORMAL=l.Ap=X+44;l.JN_SHARE_DESKTOP_FAIL=l.Yx=X+45;l.JN_REQUEST_DESKTOP_FAIL=l.Wx=X+46;
l.JN_DESKTOP_CONFLICT_MCURELAY=l.Bx=X+47;l.JN_EARLY_DISCONNECTION_1=l.tp=X+48;l.JN_EARLY_DISCONNECTION_2=l.up=X+49;l.ERROR_WRONG_USERID=l.lp=255;l.ERROR_WRONG_PASSWD=l.Ui=254;l.ERROR_ALREADY_LOGGED=l.Mw=253;l.ERROR_VERSION=l.ox=252;l.ERROR_PARAMETER=l.ax=251;l.ERROR_SESSIONID=l.jx=250;l.ERROR_MEETING_NOT_EXIST=l.$o=249;l.ERROR_INTERNAL=l.Uw=248;l.ERROR_FILE_ERROR=l.Rw=247;l.ERROR_TOOMANY_PLAYBACK=l.lx=246;l.ERROR_ILLEGAL_FILE=l.Sw=245;l.ERROR_FILE_WRONG_VERSION=l.Ti=244;
l.ERROR_WRONG_PASSWD2=l.px=243;l.ERROR_TOOMANY_DOWNLOAD=l.kx=242;l.ERROR_TOOMANY_USER=l.mx=241;l.ERROR_CALL_REJECTED=l.Ow=240;l.ERROR_CALL_NOT_ACCEPTED=l.Nw=239;l.ERROR_JOINNETMODE=l.Ww=238;l.ERROR_USER_NOT_CONTINUE=l.kp=237;l.ERROR_SESSION_CLOSED=l.jp=236;l.ERROR_TOO_MANY_SESSION=l.nx=235;l.ERROR_CAN_NOT_RECORD=l.Pw=234;l.ERROR_MESSAGE_NOT_EXIST=l.Yw=233;l.ERROR_LINE_BUSY=l.Xw=232;l.ERROR_FILE_NEED_HIGHER_VERSION=l.Si=231;l.ERROR_EXCEED_DISK_QUOTA=l.Qw=230;l.ERROR_WRONG_USERINFO2=l.qx=229;
l.ERROR_OWNER_IN_PREPARATION_MODE=l.$w=228;l.ERROR_PREPARATION_MODE_TOO_LATE=l.ix=227;l.ERROR_ILLEGAL_REQUEST=l.Tw=226;l.ERROR_OUT_OF_MEMORY=l.Zw=225;l.ERROR_INVALID_LICENSE=l.Vw=224;l.ERROR_REQUEST_REJECTED=l.hp=223;l.MRP_ERROR_CONTINUE=l.Cc=1;l["MRP_ERROR_QUITPROGRAM\t"]=l.Py=2;l.MRP_ERROR_NOTALLOWED=l.My=3;l.MRP_ERROR_BUSY=l.Jy=4;l.MRP_ERROR_NOTSUPPORTED=l.Ny=5;l.MRP_ERROR_CONNECTFAIL=l.Ky=6;l.MRP_ERROR_NOSESSIONGROUP=l.Ly=7;l.MRP_ERROR_SLIDENOTREADY=l.Mp=8;l.MRP_ERROR_ONLY_PRIMARY_PORT=l.Oy=9;
l.CONNECTION_STATUS_INIT=l.Mi=1;l.CONNECTION_STATUS_RESOLVING=l.tw=2;l.CONNECTION_STATUS_CONNECTTING=l.Ji=3;l.CONNECTION_STATUS_SIGN_IN=l.Ni=4;l.CONNECTION_STATUS_CONNECTED=l.pa=5;l.CONNECTION_STATUS_PARSE_HOMEPAGE=l.sw=6;l.CONNECTION_STATUS_DOWNLOAD_JNJ=l.zo=7;l.CONNECTION_STATUS_E_UNKNOWN_ERROR=l.Oo=1E4;l.CONNECTION_STATUS_E_RESOLVING=l.rw=10001;l.CONNECTION_STATUS_E_FAIL_CONNECT=l.Eo=10002;l.CONNECTION_STATUS_E_BROKEN_CONNECT=l.Ki=10003;l.CONNECTION_STATUS_E_INVALID_S_STRING=l.fw=10004;
l.CONNECTION_STATUS_E_NOT_SUPPORTED=l.hw=10005;l.CONNECTION_STATUS_E_WRONG_USERID_LEN=l.Bc=10006;l.CONNECTION_STATUS_E_WRONG_USERNAME_LEN=l.fb=10007;l.CONNECTION_STATUS_E_WRONG_JNJ_LEN=l.bd=10008;l.CONNECTION_STATUS_E_ERROR_PARAMETER=l.lf=10009;l.CONNECTION_STATUS_E_BUSY=l.Co=10010;l.CONNECTION_STATUS_E_INVALID_USERID=l.Go=10011;l.CONNECTION_STATUS_E_INVALID_PASSWORD=l.Fo=10012;l.CONNECTION_STATUS_E_MEMORY_ALLOCATION=l.Ho=10013;l.CONNECTION_STATUS_E_ALREADY_LOGGED=l.Ao=10014;
l.CONNECTION_STATUS_E_OVERWRITTEN=l.No=10015;l.CONNECTION_STATUS_E_USERID_REMOVED=l.Po=10016;l.CONNECTION_STATUS_E_UNKNOWN_COMMAND=l.Li=10017;l.CONNECTION_STATUS_E_WRONG_EMAIL_LEN=l.Ro=10018;l.CONNECTION_STATUS_E_PARSE_HOMEPAGE=l.iw=10019;l.CONNECTION_STATUS_E_DOWNLOAD_JNJ=l.Do=10020;l.CONNECTION_STATUS_E_PARSE_IP_PORT=l.jw=10021;l.CONNECTION_STATUS_E_BREAK_MAIN_LOOP=l.Bo=10022;l.CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=l.Dg=10023;l.CONNECTION_STATUS_E_MULTIPLE_SIGNIN=l.gw=10024;
l.CONNECTION_STATUS_PREPARE_RECONNECT=l.To=10025;l.CONNECTION_STATUS_E_PROXY_CONNECT_FAIL=l.lw=10026;l.CONNECTION_STATUS_E_PROXY_CONNECT_BROKEN=l.kw=10027;l.CONNECTION_STATUS_E_PROXY_NO_AUTH=l.ow=10028;l.CONNECTION_STATUS_E_PROXY_NO_CONNECT=l.pw=10029;l.CONNECTION_STATUS_E_PROXY_NOT_SOCKS5=l.nw=10030;l.CONNECTION_STATUS_E_PROXY_HTTPS_FAIL=l.mw=10031;l.CONNECTION_STATUS_E_PROXY_RESOLVE=l.qw=10032;l.CONNECTION_STATUS_E_MMC_FAILURE=l.Io=10033;l.CONNECTION_STATUS_E_NOT_SUPPORTED2=l.Jo=10034;
l.CONNECTION_STATUS_E_NO_MESSENGER=l.Mo=10035;l.CONNECTION_STATUS_E_NO_LICENSE=l.Ko=10036;l.CONNECTION_STATUS_E_NO_MCU=l.Lo=10037;l.CONNECTION_STATUS_E_WRONG_URL_LEN=l.So=10038;l.CONNECTION_STATUS_E_WRONG_SHORT_MESSAGE_LEN=l.Ae=10039;l.CONNECTION_STATUS_E_SIGNOUT=l.ze=10040;l.CONNECTION_STATUS_E_WRONG_CLIENT_INFO_LEN=l.Qo=10041;l.ONLINE_STATUS_ONLINE=l.Kd=1;l.ONLINE_STATUS_BUSY=l.iq=2;l.ONLINE_STATUS_RIGHTBACK=l.jq=3;l.ONLINE_STATUS_AWAY=l.mj=4;l.ONLINE_STATUS_APPEAROFF=l.Pb=5;
l.ONLINE_STATUS_MOBILE=l.bz=6;l.ONLINE_STATUS_WEB=l.cz=7;l.ONLINE_STATUS_UNKNOWN=l.kq=999;l.MSGR_ERROR_UNKNOWN_ERROR=l.kq=1;l.MSGR_ERROR_CAN_NOT_PARSE=l.Uy=2;l.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE1=l.Ry=3;l.MSGR_ERROR_CAN_NOT_DOWNLOAD_JNJ=l.Sp=4;l.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE2=l.Sy=5;l.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE3=l.Qp=6;l.MSGR_ERROR_NO_MCU_SERVER=l.eq=7;l.MSGR_ERROR_CAN_NOT_MULTIPLE_CONNECT=l.Ty=8;l.MSGR_ERROR_CAN_NOT_CONNECT_MCU=l.Rp=9;l.MSGR_ERROR_CONNECTION_BROKEN=l.jj=10;
l.MSGR_ERROR_BAD_SERVER_VERSION_STRING=l.Qy=11;l.MSGR_ERROR_SERVER_NOT_SUPPORT_MSGR=l.Vy=12;l.MSGR_ERROR_INVALID_USERID_LEN=l.Ce=13;l.MSGR_ERROR_INVALID_USERNAME_LEN=l.Fa=14;l.MSGR_ERROR_INVALID_JNJ_LEN=l.ed=15;l.MSGR_ERROR_INVALID_HOMEPAGE_LEN=l.kj=16;l.MSGR_ERROR_INVALID_PARAMETER=l.Xp=17;l.MSGR_ERROR_ALL_LINE_BUSY=l.Op=18;l.MSGR_ERROR_INVALID_USERID=l.$p=19;l.MSGR_ERROR_INVALID_PASSWORD=l.Yp=21;l.MSGR_ERROR_MEMORY_ALLOCATION=l.aq=22;l.MSGR_ERROR_ALREADY_SIGNIN=l.Pp=23;
l.MSGR_ERROR_MSGR_VERSION_NOT_SUPPORTED=l.cq=24;l.MSGR_ERROR_MSGR_BAD_CONFIGURATION=l.bq=25;l.MSGR_ERROR_NO_MSGR_LICENSE=l.fq=26;l.MSGR_ERROR_OVERWRITTEN=l.gq=27;l.MSGR_ERROR_REMOVED=l.hq=28;l.MSGR_ERROR_INVALID_EMAIL_LEN=l.Up=29;l.MSGR_ERROR_INVALID_MMCERROR_LEN=l.Wp=30;l.MSGR_ERROR_INVALID_INTERNALID_LEN=l.Vp=31;l.MSGR_INVITE_FAILED=l.Xy=32;l.MSGR_ERROR_INVALID_URL_LEN=l.Zp=33;l.MSGR_ERROR_INVALID_SHORT_MESSAGE_LEN=l.Be=34;l.MSGR_CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=l.Np=35;
l.MSGR_ERROR_INVALID_CLIENT_INFO_LEN=l.Tp=36;l.MSGR_ERROR_UNKNOWN_COMMAND=l.lj=37;l.MSGR_ERROR_UNKNOWN_COMMAND=l.lj=37;l.WEBOFFICE_EX_ERROR_SUCCESS=l.GA=0;l.WEBOFFICE_EX_ERROR_INVALID_LICENSE=l.wA=1;l.WEBOFFICE_EX_ERROR_GENERAL_FAILURE=l.tA=2;l.WEBOFFICE_EX_ERROR_OPEN_FILE=l.EA=3;l.WEBOFFICE_EX_ERROR_INVALID_JNR=l.vA=4;l.WEBOFFICE_EX_ERROR_NOT_ALLOW_EDIT=l.DA=5;l.WEBOFFICE_EX_ERROR_FILE_ACCESS=l.Qq=6;l.WEBOFFICE_EX_ERROR_INVALID_PASSWORD=l.xA=7;l.WEBOFFICE_EX_ERROR_SERVER_SHUTDOWN=l.FA=8;
l.WEBOFFICE_EX_ERROR_WRITE_ERROR=l.JA=9;l.WEBOFFICE_EX_ERROR_TOO_LARGE_DATA=l.HA=10;l.WEBOFFICE_EX_ERROR_MEMORY=l.AA=11;l.WEBOFFICE_EX_ERROR_NETWORK_ERROR=l.CA=12;l.WEBOFFICE_EX_ERROR_EXCEED_QUOTA=l.sA=13;l.WEBOFFICE_EX_ERROR_DATE_TOO_NEW=l.qA=14;l.WEBOFFICE_EX_ERROR_MMC_ERROR=l.BA=15;l.WEBOFFICE_EX_ERROR_UNKNOWN_CMD=l.IA=16;l.WEBOFFICE_EX_ERROR_INVALID_CMD=l.uA=17;l.WEBOFFICE_EX_ERROR_JNR_TOONEW=l.zA=18;l.WEBOFFICE_EX_ERROR_JNR_TOOBIG=l.yA=19;l.WEBOFFICE_EX_ERROR_EDIT=l.rA=20;
l.US_ERROR_PARAMETER=l.Nq=255;l.US_ERROR_BUSY=l.Gq=254;l.US_ERROR_WRONG_USERID=l.Pq=253;l.US_ERROR_WRONG_PASSWD=l.Oq=252;l.US_ERROR_ALREADY_LOGGED=l.Fq=251;l.US_ERROR_MEMORY_ALLOCATION=l.Hq=250;l.US_ERROR_NOT_ONLINE=l.mA=249;l.US_ERROR_NOT_JOIN_SELF=l.lA=248;l.US_ERROR_NOT_READY=l.Lq=247;l.US_ERROR_OWNER_NO_RESPONSE=l.oA=246;l.US_ERROR_MMC_FAIL=l.Iq=245;l.US_ERROR_NOT_SUPPORTED=l.Mq=244;l.US_ERROR_MMC_NO_MESSENGER=l.Kq=243;l.US_ERROR_MMC_NO_LICENSE=l.Jq=242;l.US_ERROR_OFFICE_NOT_OPEN=l.nA=241;
l.US_ERROR_MMC_GENERAL=l.Ee=54321;l.US_ERROR_MMC_GENERAL=l.Ee=1;l.US_ERROR_MMC_GENERAL=l.Ee=2;l.US_ERROR_MMC_GENERAL=l.Ee=3;l.US_ERROR_MMC_GENERAL=l.Ee=4;l.US_ERROR_MMC_GENERAL=l.Ee=5;l.DEFAULT_PLAY_SOUND=l.yw=!0;l.DEFAULT_LOG_LEVEL=l.Yo=2;l.DEFAULT_ALERT_ONLINE=l.ww=!0;l.DEFAULT_ALERT_NEWMESSAGE=l.vw=!0;l.DEFAULT_SHOW_OTHER_USER=l.Aw=!0;l.DEFAULT_SHOW_OFFLINE_USER=l.zw=!0;l.CONTROLLER_ACCEPT_GUEST=l.Uo=1;l.CONTROLLER_END_MEETING=l.Vo=2;l.CONTROLLER_QUESTION_CONTROL=l.Oi=4;
l.CONTROLLER_POLL=l.Wo=8;l.CONTROLLER_SYNC=l.Eg=16;l.CONTROLLER_RETRIEVE_TOKEN=l.Pi=32;l.CONTROLLER_SYNC_TAB=l.Ri=64;l.CONTROLLER_SYNC_FULLSCREEN=l.Qi=128;l.PLUG_IN_TYPE_BASE=l.zq=128;l.AUDIO_DFLT=l.pg=129;l.AUDIO_G711=l.qg=120;l.AUDIO_ILBC=l.tg=152;l.AUDIO_G726=l.sg=168;l.AUDIO_G726_11=l.jf=184;l.AUDIO_G711_11=l.rg=255;l.AUDIO_OPUS=l.ug=232;l.VIDEO_DFLT=l.Pg=130;l.VIDEO_SPIC=l.pj=4;l.VIDEO_H264=l.Rg=200;l.VIDEO_F264=l.Qg=216;l.VIDEO_MJPG=l.Sg=248;l.VIDEO_VPX=l.Tg=64;l.MEDIA_NONE=l.Ey=0;
l.MEDIA_AUDIO_PCM=l.Dy=1;l.MEDIA_AUDIO_HMAUDIO=l.zy=2;l.MEDIA_VIDEO_HMVIDEO=l.Iy=3;l.MEDIA_AUDIO_ILBC0=l.Ay=4;l.MEDIA_AUDIO_ILBC1=l.By=5;l.MEDIA_AUDIO_G711_50MS=l.ty=6;l.MEDIA_AUDIO_G711_20MS=l.sy=7;l.MEDIA_AUDIO_G726_16K=l.vy=8;l.MEDIA_AUDIO_G726_24K=l.wy=9;l.MEDIA_AUDIO_G726_32K=l.xy=10;l.MEDIA_AUDIO_G726_40K=l.yy=11;l.MEDIA_AUDIO_G711_11K_89K_40MS=l.ry=14;l.MEDIA_AUDIO_G726_11K_45K_80MS=l.uy=15;l.MEDIA_VIDEO_H264_BASELINE=l.Hy=16;l.MEDIA_VIDEO_F264_BASELINE=l.Fy=18;
l.MEDIA_VIDEO_F264_HIGH=l.Gy=19;l.MEDIA_AUDIO_OPUS=l.Cy=20;l.SLIDE_DOWNLOAD_STATUS_UNKNOWN=l.Zz=0;l.SLIDE_DOWNLOAD_STATUS_NOTRECEIVED=l.Dq=1;l.SLIDE_DOWNLOAD_STATUS_NOTDOWNLOADED=l.Cq=2;l.SLIDE_DOWNLOAD_STATUS_PARTIALDATA=l.Yz=3;l.SLIDE_DOWNLOAD_STATUS_DOWNLOADING=l.Bq=4;l.SLIDE_DOWNLOAD_STATUS_DOWNLOADED=l.oj=5;l.MARK_STROKE=l.Cp=83;l.MARK_STROKE2=l.Kg=115;l.MARK_TEXT=l.Dp=84;l.MARK_TEXT2=l.Lg=116;l.MARK_MOVE=l.cj=109;l.MARK_CUSTOMIZED=l.bj=99;l.UNDO=l.kA="UNDO";l.MAX_TEXT_LEN=l.oy=512;
l.MAX_LONG_TEXT_LEN=l.Jp=2048;l.MAX_PARTICIPANT_AUDIO_OLD=l.jy=2;l.MAX_PARTICIPANT_VIDEO_OLD=l.ky=6;l.MAX_PARTICIPANT_AUDIO=l.cd=16;l.MAX_PARTICIPANT_VIDEO=l.Ob=16;l.TAB_VIEW_BOARD=l.$z=0;l.TAB_VIEW_BROWSER=l.aA=1;l.TAB_VIEW_DESKTOP_SHARING=l.bA=2;l.TAB_VIEW_REMOTE_CONTROL=l.cA=3;l.SHOW_MYPICTURE_DELAY=l.Xz=5E3;l.MAX_MYPICTURE_SIZE=l.iy=2E5;l.MYPICTURE_TYPE_BMP=l.Yy=1;l.MYPICTURE_TYPE_GIF=l.Zy=2;l.MYPICTURE_TYPE_JPG=l.$y=3;l.MYPICTURE_TYPE_PNG=l.az=4;l.MAX_PLUG_IN_CHANNEL=l.Fb=8;
l.PLUGIN_CHANNEL_TYPE_UDP_1=l.Az=1;l.PLUGIN_CHANNEL_TYPE_TCP_2=l.zz=2;l.DT_CAPTURE_INFO=l.Cw=0;l.DT_CAPTURE_END=l.Bw=1;l.DT_SCREEN_DATA=l.Jw=2;l.DT_REQUEST_RECT=l.Iw=3;l.DT_MOUSE_POS=l.Ew=4;l.DT_NULL_DATA=l.Fw=5;l.DT_FRAME_END=l.Dw=6;l.DT_RDC_SIGNAL=l.Hw=7;l.DT_RDC_INPUT=l.Gw=8;l.DT_SCREEN_DATA1=l.Kw=9;l.DT_SCREEN_DATA2=l.Lw=10;l.RDC_CMD_END_CONTROL=l.Lz=0;l.RDC_CMD_REQUEST_CONTROL=l.Oz=1;l.RDC_CMD_ACK_REQUEST_CONTROL=l.Dz=2;l.RDC_CMD_START_CONTROL=l.Sz=3;l.RDC_CMD_DESIRED_BIT_DEPTH=l.Iz=5;
l.RDC_CMD_MAX_BIT_DEPTH=l.Nz=6;l.RDC_CMD_ASSIGN_CONTROL=l.Fz=7;l.RDC_CMD_ACK_ASSIGN_CONTROL=l.Bz=8;l.RDC_CMD_SHOW_CONTENT_WHILE_DRAGGING=l.Rz=9;l.RDC_CMD_CONTROL_NOT_SUPPORTED=l.Hz=10;l.RDC_CMD_KEYBOARD_LANG_ID=l.Mz=11;l.RDC_CMD_REQUEST_CONTROL_DENY=l.Pz=12;l.RDC_CMD_DUMMY_MODE_PASSWORD_ERR=l.Kz=13;l.RDC_CMD_DESIRED_GRAYSCALE_DEPTH=l.Jz=14;l.RDC_CMD_REQUEST_MONITOR=l.Qz=15;l.RDC_CMD_ACK_REQUEST_MONITOR=l.Ez=16;l.RDC_CMD_ASSIGN_MONITOR=l.Gz=17;l.RDC_CMD_ACK_ASSIGN_MONITOR=l.Cz=18;
l.RDC_STATUS_WINDOW_SIZEMOVE=l.Tz=128;l.ERROR_PLUGIN_REQUESTCHANNEL_UNKNOWN_TYPE=l.gp=1;l.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_NOTALLOWED=l.fp=2;l.ERROR_PLUGIN_REQUESTCHANNEL_NO_RECORDING=l.ep=3;l.ERROR_PLUGIN_REQUESTCHANNEL_CHANNEL_FULL=l.cp=4;l.ERROR_PLUGIN_SETDATA_CHANNEL_NOT_EXISTED=l.gx=5;l.ERROR_PLUGIN_SETDATA_NOT_OWNER=l.hx=6;l.ERROR_PLUGIN_CLOSECHANNEL_CHANNEL_NOT_EXISTED=l.bx=7;l.ERROR_PLUGIN_CLOSECHANNEL_NOT_OWNER=l.cx=8;l.ERROR_PLUGIN_RECVPRIO_CHANNEL_NOT_EXISTED=l.ex=9;
l.ERROR_PLUGIN_NOT_ENABLED=l.bp=10;l.ERROR_PLUGIN_NOT_ALLOWED=l.ap=11;l.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_FAILED=l.fx=12;l.ERROR_PLUGIN_OLD_RELAY=l.dx=13;l.TYPE_US_SHORT_MESSAGE2=l.gA=40;l.TYPE_US_SHORT_MESSAGE3=l.hA=41;l.TYPE_US_SHORT_MESSAGE_FAILURE=l.iA=43;l.TYPE_US_ASYMMETRICAL_SHORT_MESSAGE=l.dA=50;l.TYPE_US_SHORT_MESSAGE_OFFLINE=l.jA=60;l.TYPE_US_OFFLINE_MESSAGE2=l.eA=61;l.TYPE_US_OFFLINE_MESSAGE3=l.fA=62;l.IM_TARGET_TYPE_PEER=l.tx=1;l.IM_TARGET_TYPE_GUEST=l.sx=2;
l.IM_TARGET_TYPE_GROUP=l.np=3;l.IM_TEXT_TYPE_SEND_TEXT=l.$i=1;l.IM_TEXT_TYPE_RECV_TEXT=l.Yi=2;l.IM_TEXT_TYPE_SEND_FILE=l.Zi=3;l.IM_TEXT_TYPE_RECV_FILE=l.Xi=4;l.IM_TEXT_TYPE_JOIN_GROUP=l.Gg=5;l.IM_TEXT_TYPE_LEAVE_GROUP=l.Hg=6;l.IM_TEXT_TYPE_ERROR=l.Fg=7;l.IM_TEXT_TYPE_OFFLINE_JOIN=l.Ig=8;l.IM_TEXT_TYPE_OFFLINE_LEAVE=l.Vi=9;l.IM_TEXT_TYPE_PGC_RENAME=l.Wi=10;"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function J(b,e,d){var m=d.length;m=h(0,(b.length>m?b.length:m)*q,0);z(m,b);b=g(e,2);d=g(d,2);R.length!=d.length&&(R=u(d));if(0==(d[0]&1))for(z(R,m),p(m,1);!H(b);){b[0]&1&&a(m,R,d);w(b,2);var c,f;var L=R;var C=d;for(e=L.length;0<e&&!L[e-1];e--);var M=e>C.length?2*e:2*C.length;U.length!=M&&(U=Array(M));p(U,0);for(f=0;f<e;f++){M=U[2*f]+L[f]*L[f];U[2*f]=M&E;M>>=q;for(c=f+1;c<e;c++)M=U[f+c]+2*L[f]*L[c]+M,U[f+c]=M&E,M>>=q;U[f+e]=M}x(U,C);z(L,U)}else{p(R,0);for(e=d.length;0<e&&!d[e-1];e--);
C=0;for(L=d.length-1;0<=L;L--)C=(C*G+d[L])%G;L=G-F(C,G);R[e]=1;a(m,R,d);B.length!=m.length?B=u(m):z(B,m);for(e=b.length-1;0<e&!b[e];e--);if(0==b[e])p(m,1);else{for(C=1<<q-1;C&&!(b[e]&C);C>>=1);for(;;){if(!(C>>=1)){e--;if(0>e){aa(m,k,d,L);break}C=1<<q-1}aa(m,m,d,L);C&b[e]&&aa(m,B,d,L)}}}return g(m,1)}function F(b,a){for(var e=1,d=0;;){if(1==b)return e;if(0==b)return 0;d-=e*Math.floor(a/b);a%=b;if(1==a)return d;if(0==a)return 0;e-=d*Math.floor(b/a);b%=a}}function c(b,a,e){var d,g=b.length,m=a.length;
for(d=m-1-e;d<g&&0<=d;d++)if(0<b[d])return 1;for(d=g-1+e;d<m;d++)if(0<a[d])return 0;for(d=(g+e<m?g+e:m)-1;d>=e;d--){if(b[d-e]>a[d])return 1;if(b[d-e]<a[d])break}return 0}function y(b,a){var e,d=b.length<a.length?b.length:a.length;for(e=b.length;e<a.length;e++)if(a[e])return 0;for(e=a.length;e<b.length;e++)if(b[e])return 1;for(e=d-1;0<=e;e--){if(b[e]>a[e])return 1;if(b[e]<a[e])break}return 0}function h(b,a,e){a=Math.ceil(a/q)+1;e=Array(e>a?e:a);p(e,b);return e}function n(b,a,e){var d,g,m=b.length;
if(-1==a){for(g=[];;){a=Array(g.length+1);for(d=0;d<g.length;d++)a[d+1]=g[d];a[0]=parseInt(b,10);g=a;var c=b.indexOf(",",0);if(1>c)break;b=b.slice(c+1);if(0==b.length)break}return g.length<e?(a=Array(e),z(a,g),a):g}g=h(0,a*m,0);for(d=0;d<m;d++){c=v.indexOf(b.slice(d,d+1),0);36>=a&&36<=c&&(c-=26);if(c>=a||0>c)break;var k,f,L=g,C=a;if(C){var M=L.length;for(f=k=0;f<M;f++){k+=L[f]*C;var r=0;0>k&&(r=-(k>>q),k+=r*G);L[f]=k&E;k=(k>>q)-r}}r=g;r[0]+=c;M=r.length;for(f=k=0;f<M&&(k+=r[f],c=0,0>k&&(c=-(k>>q),
k+=c*G),r[f]=k&E,k=(k>>q)-c,k);f++);}for(m=g.length;0<m&&!g[m-1];m--);m=e>m+1?e:m+1;a=Array(m);b=m<g.length?m:g.length;for(d=0;d<b;d++)a[d]=g[d];for(;d<m;d++)a[d]=0;return a}function H(b){var a;if(0!=b[0])return 0;for(a=1;a<b.length;a++)if(b[a])return 0;return 1}function f(b){var a;for(a=0;a<b.length;a++)if(b[a])return 0;return 1}function A(b,a){var e="";Y.length!=b.length?Y=u(b):z(Y,b);if(-1==a){for(a=b.length-1;0<a;a--)e+=b[a]+",";e+=b[0]}else for(;!f(Y);)b=w(Y,a),e=v.slice(b,b+1)+e;0==e.length&&
(e="0");return e}function u(b){var a=Array(b.length);z(a,b);return a}function z(b,a){var e,d=b.length<a.length?b.length:a.length;for(e=0;e<d;e++)b[e]=a[e];for(e=d;e<b.length;e++)b[e]=0}function p(b,a){var e=a;for(a=0;a<b.length;a++)b[a]=e&E,e>>=q}function r(b,a){var e,d=Math.floor(a/q);if(d){for(e=0;e<b.length-d;e++)b[e]=b[e+d];for(;e<b.length;e++)b[e]=0;a%=q}for(e=0;e<b.length-1;e++)b[e]=E&(b[e+1]<<q-a|b[e]>>a);b[e]>>=a}function D(b,a){var e,d=Math.floor(a/q);if(d){for(e=b.length;e>=d;e--)b[e]=b[e-
d];for(;0<=e;e--)b[e]=0;a%=q}if(a){for(e=b.length-1;0<e;e--)b[e]=E&(b[e]<<a|b[e-1]>>q-a);b[e]=E&b[e]<<a}}function w(b,a){var e,d=0;for(e=b.length-1;0<=e;e--)d=d*G+b[e],b[e]=Math.floor(d/a),d%=a;return d}function I(b,a,e,d){var g;var m=b.length<d+a.length?b.length:d+a.length;var c=b.length;var k=0;for(g=d;g<m;g++)k+=b[g]+e*a[g-d],b[g]=k&E,k>>=q;for(g=m;k&&g<c;g++)k+=b[g],b[g]=k&E,k>>=q}function x(b,a){ba.length!=b.length?ba=u(b):z(ba,b);Z.length!=b.length&&(Z=u(b));var e=Z,d,g;z(b,ba);for(d=a.length;0==
a[d-1];d--);var k=a[d-1];for(g=0;k;g++)k>>=1;g=q-g;D(a,g);D(b,g);for(k=b.length;0==b[k-1]&&k>d;k--);for(p(e,0);!c(a,b,k-d);){var f,L=b,h=a,M=k-d;var C=L.length<M+h.length?L.length:M+h.length;var N=L.length;var v=0;for(f=M;f<C;f++)v+=L[f]-h[f-M],L[f]=v&E,v>>=q;for(f=C;v&&f<N;f++)v+=L[f],L[f]=v&E,v>>=q;e[k-d]++}for(--k;k>=d;k--){for(e[k-d]=b[k]==a[d-1]?E:Math.floor((b[k]*G+b[k-1])/a[d-1]);;)if(C=(1<d?a[d-2]:0)*e[k-d],v=C>>q,C&=E,N=v+e[k-d]*a[d-1],v=N>>q,N&=E,v==b[k]?N==b[k-1]?C>(1<k?b[k-2]:0):N>b[k-
1]:v>b[k])e[k-d]--;else break;I(b,a,-e[k-d],k-d);if(b[b.length-1]>>q-1&1){L=b;h=a;M=k-d;C=L.length<M+h.length?L.length:M+h.length;N=L.length;v=0;for(f=M;f<C;f++)v+=L[f]+h[f-M],L[f]=v&E,v>>=q;for(f=C;v&&f<N;f++)v+=L[f],L[f]=v&E,v>>=q;e[k-d]--}}r(a,g);r(b,g)}function a(b,a,e){var d;U.length!=2*b.length&&(U=Array(2*b.length));p(U,0);for(d=0;d<a.length;d++)a[d]&&I(U,b,a[d],d);x(U,e);z(b,U)}function g(b,a){var e;for(e=b.length;0<e&&!b[e-1];e--);a=Array(e+a);z(a,b);return a}function aa(b,a,d,g){var k,c,
m=d.length,f=a.length;e.length!=m&&(e=Array(m));for(p(e,0);0<m&&0==d[m-1];m--);for(;0<f&&0==a[f-1];f--);var L=e.length-1;for(k=0;k<m;k++){var h=e[0]+b[k]*a[0];var M=(h&E)*g&E;var C=h+M*d[0]>>q;h=b[k];for(c=1;c<f-4;)C+=e[c]+M*d[c]+h*a[c],e[c-1]=C&E,C>>=q,c++,C+=e[c]+M*d[c]+h*a[c],e[c-1]=C&E,C>>=q,c++,C+=e[c]+M*d[c]+h*a[c],e[c-1]=C&E,C>>=q,c++,C+=e[c]+M*d[c]+h*a[c],e[c-1]=C&E,C>>=q,c++,C+=e[c]+M*d[c]+h*a[c],e[c-1]=C&E,C>>=q,c++;for(;c<f;)C+=e[c]+M*d[c]+h*a[c],e[c-1]=C&E,C>>=q,c++;for(;c<m-4;)C+=e[c]+
M*d[c],e[c-1]=C&E,C>>=q,c++,C+=e[c]+M*d[c],e[c-1]=C&E,C>>=q,c++,C+=e[c]+M*d[c],e[c-1]=C&E,C>>=q,c++,C+=e[c]+M*d[c],e[c-1]=C&E,C>>=q,c++,C+=e[c]+M*d[c],e[c-1]=C&E,C>>=q,c++;for(;c<m;)C+=e[c]+M*d[c],e[c-1]=C&E,C>>=q,c++;for(;c<L;)C+=e[c],e[c-1]=C&E,C>>=q,c++;e[c-1]=C&E}if(!y(d,e)){a=e;c=a.length<d.length?a.length:d.length;for(g=k=0;g<c;g++)k+=a[g]-d[g],a[g]=k&E,k>>=q;for(g=c;k&&g<a.length;g++)k+=a[g],a[g]=k&E,k>>=q}z(b,e)}var d=window.W,q,Q,U,B,ba,Z,Y,R;var E=q=0;var G=E+1;var v="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-";
for(q=0;1<<q+1>1<<q;q++);q>>=1;E=(1<<q)-1;G=E+1;var k=h(1,1,1);var e=R=Y=Z=ba=B=U=Q=[];b=b.dh=b.nc=b.nc||{};var L=n("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE65381FFFFFFFFFFFFFFFF",16,0),M=n("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AACAA68FFFFFFFFFFFFFFFF",
16,0),N=n("2",10,0);b.str2bigInt=b.st=function(b,a,e){return n(b,a,e)};b.powMod=b.TF=function(b,a,e){return J(b,a,e)};b.bigInt2str=b.wj=function(b,a){return A(b,a)};b.createKeyPair=b.pr=function(){var b=n((new d.a.g(d.random.ya(10))).Nb(),16,0),a=J(N,b,L);return{Vh:b,jg:a}};b.createKeyPair_2048=b.qr=function(){var b=n((new d.a.g(d.random.ya(20))).Nb(),16,0),a=J(N,b,M);return{Vh:b,jg:a}};b.agreeKey=b.$q=function(b,a){return J(a,b,L)};b.agreeKey_2048=b.ar=function(b,a){return J(a,b,M)};b.generateSharedKey=
b.Cr=function(b,a,e,g,c,k){k=k||128;var q=d.Gd.create(),m=new d.a.g;b=A(b,16);b=d.a.Hc(b);var f;if(b.length<k)for(f=0;f<k-b.length;f++)m.N("\x00");m.N(b);b=A(a,16);b=d.a.Hc(b);if(b.length<k)for(f=0;f<k-b.length;f++)m.N("\x00");m.N(b);b=A(e,16);b=d.a.Hc(b);if(b.length<k)for(f=0;f<k-b.length;f++)m.N("\x00");m.N(b);m.N(g);m.N(c);q.update(m.u());q.update("A");a=q.digest();q.start();q.update(m.u());q.update("B");e=q.digest();q.start();q.update(m.u());q.update(e.u());q=q.digest();e.D(q);return{ja:a.u(),
key:e.u()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function J(){c.localStorage=c.localStorage={};c.localStorage.clear=J}var F=window.W,c=b.util=b.a=b.a||{},y=c.app_id=c.br=(new F.a.g(F.random.ya(2))).Nb(),h=c.MAX_LOG_ITEM=c.Hp=5E3,n=c.MAX_LOG_SIZE=c.Ip=5E5,H=0,f=Date.now();c.GetTickCount=c.A=function(){if("undefined"===typeof performance||"undefined"===typeof performance.now){var b=Date.now();b<f&&(H+=f-b);f=b;return b+H>>>0}return performance.now()>>>0};c.time=c.time=function(){return Date.now()/1E3>>>0};c.checkBrowser=c.RB=function(){window.File&&
window.FileReader&&window.FileList&&window.Blob&&window.URL||console.log("File API not supported in this browser");window.localStorage||console.log("Local Storage not supported in this browser");window.Worker||console.log("Worker not supported in this browser");window.WebSocket||console.log("WebSocket not supported in this browser");return""};c.log=c.log=function(f,p){var r=b.a.qe(c.localStorage.hmtg_log_level);"undefined"===r&&(r=b.b.Yo);0>r&&(r=0);"undefined"===typeof p&&(p=f,f=0);if(!(f>r)){r=
(new Date).toString().replace(/(GMT.*)/,"");if(0>f&&(console.log(r+p),-1!=f))return;c.sj("hmtg_log","hmtg_log_first_idx","hmtg_log_count","hmtg_log_size","hmtg_log_item_",h,n,y+":"+r+p)}};c.add_hmtg_log_item=c.sj=function(b,f,h,p,x,a,g,n){var d=c.localStorage[f]>>0,q=c.localStorage[h]>>0,r=c.localStorage[p]>>0;0==q&&c.localStorage[b]&&c.localStorage[b].length&&(c.localStorage[x+"0"]=c.localStorage[b],q=1,r=c.localStorage[b].length,d=0);c.localStorage[b]="";if(q>a||d>=a)r=q=d=0;q==a&&((b=c.localStorage[x+
d])&&b.length?(r-=b.length,q--,d++,d==a&&(d=0)):r=q=d=0);var w=d+q;for(w>=a&&(w-=a);0!=q&&r+n.length>g;){b=c.localStorage[x+d];if(!b||!b.length){r=q=d=0;break}r-=b.length;q--;d++;d==a&&(d=0)}c.localStorage[x+w]=n;r+=n.length;q++;c.localStorage[f]=d;c.localStorage[h]=q;c.localStorage[p]=r};c.read_hmtg_log=c.UF=function(){var b=c.localStorage.hmtg_log_first_idx>>0,f=c.localStorage.hmtg_log_count>>0;if(f>h||b>=h)return c.Em(),"";var p=[],n;for(n=0;n<f;n++){var x=b+n;x>=h&&(x-=h);x=c.localStorage["hmtg_log_item_"+
x];if(!x||!x.length)return c.Em(),"";p.push(x)}return 0==p.length?c.localStorage.hmtg_log:p.join("\n")};c.reset_hmtg_log=c.Em=function(){c.localStorage.hmtg_log="";c.localStorage.hmtg_log_first_idx=0;c.localStorage.hmtg_log_count=0;c.localStorage.hmtg_log_size=0};c.read_hmtg_log_stat=c.VF=function(){var b=c.localStorage.hmtg_log_stat_first_idx>>0,f=c.localStorage.hmtg_log_stat_count>>0;if(f>h||b>=h)return c.Fm(),"";var p=[],n;for(n=0;n<f;n++){var x=b+n;x>=h&&(x-=h);x=c.localStorage["hmtg_log_stat_item_"+
x];if(!x||!x.length)return c.Fm(),"";p.push(x)}return 0==p.length?c.localStorage.hmtg_log_stat:p.join("\n")};c.reset_hmtg_log_stat=c.Fm=function(){c.localStorage.hmtg_log_stat="";c.localStorage.hmtg_log_stat_first_idx=0;c.localStorage.hmtg_log_stat_count=0;c.localStorage.hmtg_log_stat_size=0};c.logUtf8=c.ne=function(b,f){"undefined"===typeof f?c.log(c.Ab(b)):c.log(b,c.Ab(f))};c.getQuery=c.Qd=function(b){for(var c=window.location.search.slice(1).split("&"),f=0;f<c.length;f++){var h=c[f].split("=");
if(h[0]==b)return h[1]}};c.encodeUtf8Ex=c.Yg=function(b,c){try{for(var f=unescape(encodeURIComponent(b));f.length&&f.length>=c;)b=b.slice(0,b.length-1),f=unescape(encodeURIComponent(b));return f}catch(I){return""}};c.truncateStr=c.fG=function(b,f){b=c.Yg(b,f);try{return decodeURIComponent(escape(b))}catch(w){return""}};c.truncateStrUtf8=c.ff=function(b,c){try{for(;b.length&&b.length>=c;){var f=decodeURIComponent(escape(b));f=f.slice(0,f.length-1);b=unescape(encodeURIComponent(f))}return b}catch(I){return""}};
c.startsWith=c.startsWith=function(b,c){return b.slice(0,c.length)==c};c.endsWith=c.endsWith=function(b,c){return b.slice(-c.length)==c};c.scroll_to_top=c.$F=function(b){if(b=document.getElementById(b))b.scrollTop=0};c.scroll_to_bottom=c.ZF=function(b){if(b=document.getElementById(b))b.scrollTop=b.scrollHeight};c.getExt=c.$B=function(b){var c=b.lastIndexOf(".");if(-1==c)return"";b=b.slice(c);return 1==b.length||-1!=b.indexOf(" ")?"":b};c.decode64=c.Gb=F.a.Gb;c.encode64=c.oc=F.a.oc;c.decode64_url=
c.Bj=F.a.Bj;c.encode64_url=c.Cj=F.a.Cj;c.encodeUtf8=c.pb=F.a.pb;c.decodeUtf8=c.Ab=F.a.Ab;c.isArray=c.isArray=F.a.isArray;c.array2str=c.uj=function(b){try{var c=String.fromCharCode.apply(null,b)}catch(I){c="";var f;for(f=0;f<b.length;f++)c+=String.fromCharCode(b[f])}return c};c.str2array=c.Zh=function(b){for(var c=new Uint8Array(b.length),f=0;f<b.length;f++)c[f]=b.charCodeAt(f);return c};c.calc_guid_descr=c.kr=function(b){b=F.a.Ug(b).toUpperCase();return b.slice(0,8)+"-"+b.slice(8,12)+"-"+b.slice(12,
16)+"-"+b.slice(16,20)+"-"+b.slice(20)};c.parseJSON=c.qe=function(b){try{return JSON.parse(b)}catch(D){return"undefined"}};c.selectText=c.aG=function(b){if(document.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(b);c.select()}else if(window.getSelection){var f=window.getSelection();c=document.createRange();c.selectNodeContents(b);f.removeAllRanges();f.addRange(c)}};var A=window.onerror,u={},z=c.Qd("alert");c.test_error=c.eG=c.Qd("error")||0;if(c.Qd("show_log")){var p=
document.getElementById("log_report");p&&(p.style.display="")}c.error_array=c.ld=[];window.onerror=function(f,h,p,n,x){var a;!window.ob&&h&&x&&x.stack||(a=!0);var g=""+f+h+p+n;u[g]?u[g]++:u[g]=1;var r=u[g];n="Javascript Error("+r+" times), "+f+", location="+h+":"+p+("undefined"!=typeof n?":":"")+n;n=x&&x.stack?n+(",\nstack trace=\n"+x.stack):n+",\nstack trace not supported";var d;if(!a){for(d=0;d<c.ld.length;d++)if(g===c.ld[d].tag){c.ld.splice(d,1);break}c.ld.push({tag:g,text:n,time:new Date});100<
c.ld.length&&c.ld.shift()}if(1==r||10==r||100==r||1E3==r){try{b.a.log((a?"(Log Only)":"")+n)}catch(q){}!a&&z&&(n+="\n------------------------------\nTotal Error: "+c.ld.length+"\n",n+=(new Date).toString().replace(/(GMT.*)/,"")+"\n",n+="appid="+y+"\n",n+="Browser Information: "+navigator.userAgent+"\n",b.Z&&b.Z.version&&(n+="hmtg jnkernel version "+b.Z.version()+"\n"),b.Wb&&b.Wb.version&&(n+="hmtg jmkernel version "+b.Wb.version()+"\n"),b.b&&b.b.ei&&(n+="Web JoinNet version "+b.b.ei+"\n"),alert(n))}if(!a){if(a=
document.getElementById("error_report"))a.style.display="";b.Z&&b.Z.jl&&b.Z.jl()}return A?A(f,h,p):h&&x&&x.stack?!0:!1};window.onerrorWorker=function(b){window.onerror(b.message,b.filename,b.lineno,b.colno,b.error)};c.isPrivateStorage=c.sd=!1;if(!window.localStorage||"object"!==typeof window.localStorage||"undefined"!==typeof window.localStorage.hmtg_log&&"string"!==typeof window.localStorage.hmtg_log)c.localStorage=c.localStorage={},c.sd=!0;else if(c.localStorage=c.localStorage=window.localStorage,
"undefined"===typeof window.localStorage.hmtg_log)try{c.localStorage.hmtg_log=""}catch(r){c.localStorage=c.localStorage={},c.sd=!0,c.localStorage.hmtg_log=""}c.Qd("reset")&&confirm("Are you sure to reset the localStorage?")&&window.localStorage.clear();c.log("Web JoinNet starts");c.sd&&(c.localStorage.clear=J,c.log("This browser is using private Storage. The changes of settings cannot be saved if the Web App is closed."));c.log("Browser Information: "+navigator.userAgent);c.calcOffset=c.QB=function(b,
c){var f=0,h=0;if("undefined"!==typeof b.offsetParent){do f+=b.offsetLeft+b.clientLeft,h+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}c.x=f;c.y=h};c.schemeURL=c.YF=function(b){return(b=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*):/.exec(b))&&b[1]?b[1].toLowerCase():""};c.xml_escape=c.At=function(b){return b.replace(/\&/g,"&amp;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")};c.convert32_64=c.mr=function(b,c){return 0>b>>0?-(4294967296*((b^4294967295)>>>0)+((c^
4294967295)>>>0)+1):4294967296*(b>>>0)+(c>>>0)};c.convert64_32=c.UB=function(b){if(0>b){b=-b;b--;var c=(b/4294967296>>>0^4294967295)>>0;b=(b%4294967296>>>0^4294967295)>>0}else c=b/4294967296>>>0,b=b%4294967296>>>0;return[c,b]}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var J=window.W,F=b.o=b.o||{};F.vendor="";F.dG=function(b){for(var c=(new Date).getTime();!((new Date).getTime()-c>b););};F.hg=function(b){if("string"!==typeof b)return{lb:1,Eb:0,ef:0};b=b.split(".");return 2>b.length?{lb:1,Eb:0,ef:0}:3>b.length?{lb:parseInt(b[0].trim()),Eb:parseInt(b[1].trim()),ef:0}:{lb:parseInt(b[0].trim()),Eb:parseInt(b[1].trim()),ef:parseInt(b[2].trim())}};F.Y=function(){};F.I=function(b){b.onopen=b.onclose=b.onerror=b.onmessage=F.Y;b.close()};F.Uh=function(b,y,h,
n){var c=[],f=0;0!=n&&n!=h&&(f=n);n={};n.ba=b;n.oa=h;n.Bd=0;c.push(n);f&&(n={},n.ba=b,n.oa=f,n.Bd=0,c.push(n));b=y.split(",");for(y=0;y<b.length;y++){var A=b[y].trim();if(!(0==A.length||100<=A.length)){for(n=0;n<c.length&&c[n].ba!=A;n++);n==c.length&&20>c.length&&(n={},n.ba=A,n.oa=h,n.Bd=1,c.push(n),f&&20>c.length&&(n={},n.ba=A,n.oa=f,n.Bd=1,c.push(n)))}}return{$h:0,Nh:c}};F.Ij=function(b){for(var c,h,n,H="",f=b.length(),A=(f+15)/16>>>0,u=0,z=0;z<A-1&&5E3>=74*(z+1)+1;z++){h=n="";for(var p=0;16>p;p++,
u++)c=b.L(u),n+=16>c?"0":"",n+=c.toString(16),n+=" ",h+=32>=c?".":b.h(u,1);H+=("0000000"+(16*z).toString(16)).slice(-4)+"h: ";H+=n+"; "+h+"\n"}if(5E3>=74*A+1&&(f-=16*(A-1),0<f)){h=n="";for(p=0;16>p;p++,u++)p<f?(c=b.L(u),n+=16>c?"0":"",n+=c.toString(16),n+=" ",h+=32>=c?".":b.h(u,1)):n+="   ";H+=("0000000"+(16*(A-1)).toString(16)).slice(-4)+"h: ";H+=n+"; "+h+"\n"}return H};F.qm=function(c,y){if(y.length()){var h="\nDisconnect Dump:";c.length()&&(h+="\npre-disconnect log:\n"+F.Ij(c));h+="\nat-disconnect log:\n"+
F.Ij(y)+"\n";b.a.log(h)}};F.Vg=function(c){switch(c){case b.b.pg:case b.b.Pg:c="dflt";break;case b.b.tg:c="ilbc";break;case b.b.qg:c="g711";break;case b.b.sg:c="g726";break;case b.b.jf:c="g726 11K";break;case b.b.rg:c="g711 11K";break;case b.b.ug:c="opus";break;case b.b.Rg:c="hm264";break;case b.b.Qg:c="f264";break;case b.b.Sg:c="mjpg";break;case b.b.Tg:c="vpx";break;default:c="unknown"}return c};F.zj=function(c){var y="",h=1;c&b.b.Uo&&(y+=(h?"":",")+"ACCEPT_GUEST",h=0);c&b.b.Vo&&(y+=(h?"":",")+"END_MEETING",
h=0);c&b.b.Oi&&(y+=(h?"":",")+"QUESTION_CONTROL",h=0);c&b.b.Wo&&(y+=(h?"":",")+"POLL",h=0);c&b.b.Eg&&(y+=(h?"":",")+"SYNC",h=0);c&b.b.Pi&&(y+=(h?"":",")+"RETRIEVE_TOKEN",h=0);c&b.b.Ri&&(y+=(h?"":",")+"SYNC_TAB",h=0);c&b.b.Qi&&(y+=(h?"":",")+"SYNC_FULLSCREEN");return y};F.bt=function(c){if(40==c.charCodeAt(0)){var y=c.indexOf(")");if(-1!=y&&1!=y)return b.a.Yg(b.a.Ab(c.slice(1,y)),b.b.Ya)}return""};F.Ds=function(b){return b.Nd(15)};F.Es=function(b){return b.Nd(11)};F.Gs=function(b){return b.c(5)};F.Hs=
function(b){return b.Nd(9)<<16^b.Nd(13)};F.yh=function(b){return b.Nd(3)};F.Fs=function(b){return b.Nd(1)};F.fd=new Uint8Array(256);F.fd[b.b.pg]=1;F.fd[b.b.tg]=1;F.fd[b.b.qg]=1;F.fd[b.b.sg]=1;F.fd[b.b.jf]=1;F.fd[b.b.ug]=1;F.dC=function(b){return!!F.fd[b]};F.xe=new Uint8Array(256);F.xe[b.b.Pg]=1;F.xe[b.b.Rg]=1;F.xe[b.b.Qg]=1;F.xe[b.b.Sg]=1;F.xe[b.b.Tg]=1;F.hC=function(b){return!!F.xe[b]};F.dt=function(b){return 8+b<<4};F.Rj=function(c){return(c&143)==b.b.zq};F.et=function(b){return(b&112)>>4};F.xt=
function(c,y,h){var n=y.length;512<n&&(n=512);var H=J.Gd.create();H.update(b.crypto.M(y.subarray(0,n),h).u());return H.digest().u()==c}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var J=window.W;b=b.crypto=b.crypto||{};b.$c=function(){for(var b=J.Gd.create(),c=arguments.length,y=0;y<c;++y)b.update(arguments[y]);return b.digest()};b.Wg=function(b,c){var y={};switch(b){case "3des":y.ja=c.ja.slice(0,8);y.kd=J.mc.ve(c.key.slice(0,24),y.ja,null);y.Md=J.mc.ue(c.key.slice(0,24),y.ja,null);break;case "des":y.ja=c.ja.slice(0,8);y.kd=J.mc.ve(c.key.slice(0,8),y.ja,null);y.Md=J.mc.ue(c.key.slice(0,8),y.ja,null);break;case "aes128":y.ja=c.ja.slice(0,16);y.kd=J.Za.ve(c.key.slice(0,
16),y.ja,null,"cfb");y.Md=J.Za.ue(c.key.slice(0,16),y.ja,null,"cfb");break;case "aes192":y.ja=c.ja.slice(0,16);y.kd=J.Za.ve(c.key.slice(0,24),y.ja,null,"cfb");y.Md=J.Za.ue(c.key.slice(0,24),y.ja,null,"cfb");break;case "aes256":y.ja=c.ja.slice(0,16),y.kd=J.Za.ve(c.key.slice(0,32),y.ja,null,"cfb"),y.Md=J.Za.ue(c.key.slice(0,32),y.ja,null,"cfb")}return y};b.gf=b.Wg("aes256",{ja:J.a.Hc("9a46099c65b2988422cb177c159625a4586c353d"),key:J.a.Hc("40142bcd47a450d82a1e4109df9cb37852ca2a4ab6f87e739503d7919d89dd834e077fe123f420d4")});
b.M=function(b,c){if(c&&c.kd){var y=c.kd;y.start(c.ja);y.update(new J.a.g(b));y.finish();return y.fg}console.log(Error("******debug, crypto.crypto_cfb_EncryptData stack trace").stack);return b};b.w=function(b,c){if(c&&c.Md){var y=c.Md;y.start(c.ja);y.update(new J.a.g(b));y.finish();return y.fg}console.log(Error("******debug, crypto.crypto_cfb_DecryptData stack trace").stack);return b}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var J=window.W,F="succeeded;continue...;MCU relay proxy is shut down;the request is not allowed;MCU relay proxy is busy;the request is not supported;can not connect to MCU;MCU relay proxy doesn't has group connection to the MCU;MCU relay proxy is downloading this slide;MCU relay proxy only support primary port;unknown".split(";"),c=b.protocol=b.protocol||{};c.Tm=10001;c.Um=10002;c.fi=10003;c.ii=10004;c.hi=10005;c.gi=10006;c.Rm=10007;c.Pm=10008;c.Qm=10009;c.Ct=10010;c.Sm=10011;c.hm=function(c,
h,n,H,f,A){function u(){a.disconnect=function(){}}function y(a){p();Q=setTimeout(function(){Q=null;a&&b.a.log(a);b.a.log(6,"websocket("+Z+") timeout");b.o.I(q);r(b.b.Jd)},6E4)}function p(){null!=Q&&(clearTimeout(Q),Q=null)}function r(a){p();ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, finish"):(H[f].Mb=a,ba=!0,q.onclose=q.onerror=q.onmessage=null,u(),A())}function D(){var a=d.Lj();if(a!=b.b.Cc){if(0>=a||a>=F.length)a=F.length-1;b.a.log("mcu relay proxy failed, error = "+
F[a]);b.o.I(q);r(b.b.aj+a)}else B=new b.protocol.Qe(c,h,H[f],n.ca.Tb,n.ca.port,w)}function w(a){B=null;a?(b.a.log("mcu relay proxy: dh key exchange fails"),r(b.b.Jd)):(H[f].dd=H[f].ea,H[f].vd=H[f].bb,H[f].Bh=H[f].Vc,a=new J.a.g,a.Dd(0),a.Dd(H[f].oa),a.gg(H[f].ba),U=I,y("mcu relay proxy: recv nothing after dh key exchange"),q.send(a.i()),0!=d.length()&&U())}function I(){var a=d.Lj();if(0!=a){if(0>a||a>=F.length)a=F.length-1;H[f].Vs=1;b.a.log("mcu relay proxy failed, error = "+F[a]);b.o.I(q);r(b.b.aj+
a)}else U=x,y(),0!=d.length()&&U()}function x(){var a=n.ca.Hb.length?0:4,g=d.length();if(!(g<4+a)){if(a){a+=d.c(4)==b.protocol.hi?16:4;if(g<4+a)return;n.ca.Hb=d.h(8,a-4)}H[f].Rc=d.getInt32();a&&d.shift(a);b.a.log("mcu relay proxy: established");r(0)}}var a=this;var g=H[f].ba;var aa=H[f].oa,d=H[f].Ed=new J.a.g,q,Q=null,U=b.o.Y,B=null,ba=!1;this.disconnect=function(){};if(n&&n.sa){b.a.log(["connect through mcu relay ",n.ca.Tb,",",n.ca.port].join(""));g=n.ca.Tb;-1!=g.indexOf(":")&&-1==g.indexOf("[")&&
(g="["+g+"]");var Z=g+":"+n.ca.port+"/websocket/"}else-1!=g.indexOf(":")&&-1==g.indexOf("[")&&(g="["+g+"]"),Z=g+":"+aa+"/websocket/";U=function(){b.o.I(q);r(b.b.Jd)};try{var Y="https:"==window.location.protocol?"wss://":"ws://";this.j=H[f].j=q=new WebSocket(Y+Z,"hmtg")}catch(R){this.j=H[f].j=q={};b.a.log("cannot create WebSocket for "+Y+Z+". "+R);r(b.b.Jd);return}q.binaryType="arraybuffer";q.onopen=function(){p();if(n&&n.sa){var b=new J.a.g("~");b.f(n.ca.Hb.length?7:8);U=D;y();q.send(b.i());0!=d.length()&&
U()}else r(0)};q.onclose=function(){b.a.log(6,"websocket("+Z+") onclose");b.o.I(q);r(b.b.Jd)};q.onerror=function(){b.a.log(6,"websocket("+Z+") onerror");b.o.I(q);r(b.b.Jd)};q.onmessage=function(a){p();a=new J.a.g(a.data);d.D(a);ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, onmessage"):(y(),U())};y();0!=d.length()&&U();this.disconnect=function(){b.a.log(6,"websocket("+Z+") disconnect");ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, disconnect"):
(b.o.I(q),ba=!0,p(),null!=B&&(B.stop(),B=null),u())}};c.Qe=function(c,h,n,H,f,A){function u(a){y();d=setTimeout(function(){b.a.log("disconnect,timeout error in dh key exchange");p(a)},6E4)}function y(){null!=d&&(clearTimeout(d),d=null)}function p(a){a&&b.o.I(I);y();ba?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, finish"):(ba=!0,A(a))}function r(){var a=x.length();if(!(4>a)){var d=x.c(0);if(0>d||4096<d)b.a.log("disconnect, incorrect server public key"),
p(3);else if(!(a<4+d)){a=J.a.Ug(x.h(4,d));a=b.nc.st(a,16,0);var g=2048==U?b.nc.ar(B.Vh,a):b.nc.$q(B.Vh,a);a=b.nc.Cr(B.jg,a,g,c+"."+h,n.Vc,2048==U?256:128);n.yc=a;x.shift(4+d);Q=D;0!=x.length()&&Q()}}}function D(){var a=x.length();if(!(4>a)){var d=x.c(0);if(0>d||4096<d)b.a.log("disconnect, incorrect hostkey key"),p(3);else if(!(a<4+d+4)){var g=x.c(4+d);if(0>g||4096<g)b.a.log("disconnect, incorrect hostkey signature"),p(3);else if(!(a<4+d+4+g)){a=x.h(4,d);var c=J.a.oc(a);b.a.log(["hostkey of ",H,",",
f," is ",c].join(""));c=J.Oh.create();c.update(a);a=c.digest();a=J.a.oc(a.u());b.a.log(["hostkey fingerprint of ",H,",",f," is ",a].join(""));x.shift(4+d+4+g);n.ag="";n.$f="";n.Yf="";q=1;Q=w;0!=x.length()&&Q()}}}}function w(){for(;;){var d=x.length();if(4>d)break;var c=x.c(0);if(0==c){x.shift(4);n.aa=n.ea;I.onerror=a;I.onmessage=g;I.onclose=F;p(0);break}if(4>c||1024<=c){b.a.log("disconnect, incorrect server parameter(0), len="+c);p(1);break}if(d<4+c)break;x.shift(4);d=c;var f=x.c(0);switch(f){case 10001:f=
x.c(4);if(d!=f+8||0>=f||100<=f){b.a.log(["disconnect, incorrect server parameter(1), len=",d," cipher_len=",f].join(""));p(2);return}d=x.h(8,f);n.hd=d;n.ea=b.crypto.Wg(d,n.yc);if(!n.ea.kd){b.a.log("unknown cipher "+d);p(2);return}b.a.log("got mcu parameter - cipher = "+d);break;case 10002:if(8!=d){b.a.log("disconnect, incorrect server parameter(2), len="+d);p(1);return}n.Xf=b.crypto.w(x.h(4,4),n.ea).c(0);b.a.log("got mcu parameter - multicast port: "+n.Xf);break;case 10003:if(8!=d){b.a.log("disconnect, incorrect server parameter(3), len="+
d);p(1);return}n.wd=b.crypto.w(x.h(4,4),n.ea).c(0)>>>0;n.bb=b.a.A()-n.wd;b.a.log(["got mcu parameter - server tick = ",n.wd,", diff = ",n.bb].join(""));break;case 10004:var q=x.c(4);if(d!=q+8||0>=q||500<=q){b.a.log(["disconnect, incorrect server parameter(4), len=",d," serial_len=",q].join(""));p(1);return}n.ag=b.crypto.w(x.h(8,q),n.ea).u();break;case 10008:f=x.c(4);if(d!=f+8||0>=f||100<=f){b.a.log(["disconnect, incorrect server parameter(5), len=",d," licensesource_len=",q].join(""));p(1);return}n.$f=
b.crypto.w(x.h(8,f),n.ea).u();break;case 10005:if(8!=d){b.a.log("disconnect, incorrect server parameter(6), len="+d);p(1);return}n.fe=b.crypto.w(x.h(4,4),n.ea).c(0);b.a.log("got mcu parameter - utf8 support, codepage = "+n.fe);break;case 10006:if(4!=d){b.a.log("disconnect, incorrect server parameter(7), len="+d);p(1);return}n.Ne=!0;b.a.log("got mcu parameter - mcu accept client parameter");break;case 10007:b.a.log("got mcu parameter - mcu support real time conversion");n.Yf="";4!=d&&(n.Yf=x.h(4,d-
4));break;default:b.a.log("warning, unknown server parameter type="+f)}x.shift(c)}}var I=n.j,x=n.Ed,a=I.onerror,g=I.onmessage,F=I.onclose,d=null,q=3,Q=b.o.Y,U=0,B;n.fe=-2;I.onclose=I.onerror=function(){p(3)};I.onmessage=function(a){y();a=new J.a.g(a.data);x.D(a);ba?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, onmessage"):(u(q),Q())};var ba=!1,Z=new J.a.g("!");Z.f(c);Z.f(h);Q=function(){var a=x.length();if(!(4>a)){var d=x.c(0);if(0>d||100<=d)b.a.log("disconnect, recv return error in dh key exchange"),
p(3);else if(!(a<4+d)){n.Vc=x.h(4,d);var g=b.o.hg(n.Vc);b.a.log(["server version of ",H,",",f," is ",n.Vc].join(""));a=new J.a.g;if(3<g.lb||3==g.lb&&23<g.Eb||3==g.lb&&23==g.Eb&&1<=g.ef){U=2048;a.f(4099);a.f(256);B=b.nc.qr();g=b.nc.wj(B.jg,16);var c=J.a.Hc(g);g=256-c.length}else U=1024,a.f(128),B=b.nc.pr(),g=b.nc.wj(B.jg,16),c=J.a.Hc(g),g=128-c.length;0!=g&&a.$g(0,g);a.N(c);I.send(a.i());x.shift(4+d);Q=r;0!=x.length()&&Q()}}};u(3);I.send(Z.i());0!=x.length()&&Q();this.stop=function(){ba=!0;y()}};c.he=
function(c,h,n,H){function f(){u.disconnect=function(){}}function y(){null!=z&&(clearTimeout(z),z=null)}var u=this,z=null,p=!1;this.disconnect=function(){};-1!=c.indexOf(":")&&-1==c.indexOf("[")&&(c="["+c+"]");h=c+":"+h+"/websocket/";try{var r="https:"==window.location.protocol?"wss://":"ws://";var D=new WebSocket(r+h,"hmtg")}catch(w){D={};b.a.log("cannot create WebSocket for "+r+h+". "+w);p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, new WebSocket"):(p=!0,f(),H());
return}D.binaryType="arraybuffer";D.onopen=function(){y();p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onopen"):(p=!0,f(),n(D))};D.onclose=D.onerror=function(){y();p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onclose"):(p=!0,b.o.I(D),f(),H())};(function(){y();z=setTimeout(function(){z=null;b.o.I(D);p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, turn_on_timer"):(p=!0,f(),H())},6E4)})();this.disconnect=
function(){p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, disconnect"):(y(),p=!0,b.o.I(D),f())}};c.Lb=function(c,h,n,H,f,A){function u(){r.disconnect=function(){}}function y(){null!=D&&(clearTimeout(D),D=null)}function p(){if(!(32>H.length())){var p=b.a.A()-c;var r=new J.a.g;r.N(H.h(0,32));r.f(p);p=new J.a.g;p.D(b.crypto.M(r.u(),h));n.send(p.i());H.shift(32);y();w?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, handler"):(w=!0,u(),
f(n,H))}}var r=this,D=null,w=!1;n.onclose=n.onerror=function(){y();w?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onclose"):(w=!0,p=b.o.Y,b.o.I(n),u(),A())};n.onmessage=function(c){c=new J.a.g(c.data);H.D(c);w?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onmessage"):p()};(function(){y();D=setTimeout(function(){D=null;b.o.I(n);w?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, setTimeout"):
(w=!0,u(),A())},6E4)})();0!=H.length()&&p();this.disconnect=function(){w?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, disconnect"):(y(),w=!0,b.o.I(n),u())}};c.As=function(c,h,n,H,f){function y(){p.disconnect=function(){}}function u(){z();r=setTimeout(function(){r=null;b.o.I(h);w?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, setTimeout"):(w=!0,y(),f(1))},6E4)}function z(){null!=r&&(clearTimeout(r),r=null)}var p=this,r=null,D=b.o.Y,
w=!1;h.onclose=h.onerror=function(){z();w?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onclose"):(w=!0,D=b.o.Y,b.o.I(h),y(),f(1))};h.onmessage=function(c){z();c=new J.a.g(c.data);n.D(c);w?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onmessage"):(u(),D())};this.disconnect=function(){w?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, disconnect"):(z(),w=!0,b.o.I(h),y())};var I=new J.a.g("~");I.f(1);I.f(c.Rc);
I.f(c.ta);D=function(){var c=n.L(0);n.shift(1);z();w?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, handler"):(w=!0,y(),c!=b.b.Cc?f(-1):H())};u();h.send(I.i());0!=n.length()&&D()};c.$r=function(c,h,n,H,f){function y(){p.disconnect=function(){}}function u(){z();r=setTimeout(function(){r=null;b.o.I(h);w?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, setTimeout"):(w=!0,y(),f(1))},6E4)}function z(){null!=r&&(clearTimeout(r),r=null)}
var p=this,r=null,D=b.o.Y,w=!1;h.onclose=h.onerror=function(){z();w?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onclose"):(w=!0,D=b.o.Y,b.o.I(h),y(),f(1))};h.onmessage=function(c){z();c=new J.a.g(c.data);n.D(c);w?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onmessage"):(u(),D())};this.disconnect=function(){w?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, disconnect"):(z(),w=
!0,b.o.I(h),y())};var I=new J.a.g("~");I.f(5);I.f(c.Rc);I.f(c.ta);I.f(1);D=function(){var c=n.L(0);n.shift(1);z();w?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, handler_relay_response"):(w=!0,y(),c!=b.b.Cc?f(-1):H())};u();h.send(I.i());0!=n.length()&&D()};c.as=function(c,h,n,H,f){function y(){p.disconnect=function(){}}function u(){z();r=setTimeout(function(){r=null;b.o.I(h);w?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, setTimeout"):
(w=!0,y(),f(1))},6E4)}function z(){null!=r&&(clearTimeout(r),r=null)}var p=this,r=null,D=b.o.Y,w=!1;h.onclose=h.onerror=function(){z();w?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onclose"):(w=!0,D=b.o.Y,b.o.I(h),y(),f(1))};h.onmessage=function(c){z();c=new J.a.g(c.data);n.D(c);w?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onmessage"):(u(),D())};this.disconnect=function(){w?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, disconnect"):
(z(),w=!0,b.o.I(h),y())};var I=new J.a.g("~");I.f(4);I.f(c.Rc);I.f(c.ta);I.f(c.G);D=function(){var c=n.L(0);n.shift(1);z();if(w)b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, handler_relay_response");else if(w=!0,y(),c!=b.b.Cc){if(0>=c||c>=F.length)c=F.length-1;b.a.log("mcu relay proxy failed, error = "+F[c]);f(-1)}else H()};u();h.send(I.i());0!=n.length()&&D()};c.Ks=function(y,h,n,H,f,A,u,z){function p(){x.disconnect=function(){}}function r(){D();a=
setTimeout(function(){a=null;b.o.I(H);F?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, setTimeout"):(F=!0,p(),z())},6E4)}function D(){null!=a&&(clearTimeout(a),a=null)}function w(){F?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, normal_disconnect"):(D(),F=!0,b.o.I(H),p())}function I(){var a=f.length(),d=f.L(0);d==b.b.Mp?9>a||((a=n.ra=f.c(1),-1==a)?(F=!0,D(),g=b.o.Y,b.o.I(H),p(),z()):(d=f.c(5),n.vj?500<b.a.A()-n.Ca&&(u((d-(a-n.oe))/
n.ng),n.Ca=b.a.A()):(n.vj=!0,n.oe=n.ra-d,n.ng=n.ra+n.oe,b.a.log("in mrp slide download, mrp_filelen = "+n.oe+"(filelen = "+a+")"),u(0),n.Ca=b.a.A()),f.shift(9))):d==b.b.Cc?(D(),f.shift(1),F=!0,p(),A()):(D(),F=!0,g=b.o.Y,b.o.I(H),p(),z())}var x=this,a=null,g=b.o.Y,F=!1;H.onclose=H.onerror=function(){D();F?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onclose"):(F=!0,g=b.o.Y,b.o.I(H),p(),z())};H.onmessage=function(a){D();a=new J.a.g(a.data);f.D(a);F?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onmessage"):
(r(),g())};this.disconnect=w;var d=new J.a.g("~");d.f(2);d.f(y.Rc);d.f(y.ta);d.f(h);g=function(){var a=f.L(0);f.shift(1);D();if(F)b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, handler_relay_response");else if(a!=b.b.Cc)F=!0,g=b.o.Y,b.o.I(H),p(),z();else{var d=H.onerror,h=H.onmessage;a=new c.Lb(y.vd,y.dd,H,f,function(){H.onclose=H.onerror=d;H.onmessage=h;g=I;x.disconnect=w;r();0!=f.length()&&g()},function(){F=!0;p();z()});x.disconnect=a.disconnect}};r();H.send(d.i());
0!=f.length()&&g()};c.Ns=function(y,h,n,H,f){function A(){D.disconnect=function(){}}function u(){z();w=setTimeout(function(){w=null;b.o.I(h);x?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, setTimeout"):(x=!0,A(),f())},6E4)}function z(){null!=w&&(clearTimeout(w),w=null)}function p(){x?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, normal_disconnect"):(z(),x=!0,b.o.I(h),A())}function r(){n.length();n.L(0)==b.b.Cc?(z(),n.shift(1),x=!0,A(),
H()):(b.a.log("mcu relay proxy is not ready to upload slide"),z(),x=!0,I=b.o.Y,b.o.I(h),A(),f())}var D=this,w=null,I=b.o.Y,x=!1;h.onclose=h.onerror=function(){z();x?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onclose"):(x=!0,I=b.o.Y,b.o.I(h),A(),f())};h.onmessage=function(a){z();a=new J.a.g(a.data);n.D(a);x?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onmessage"):(u(),I())};this.disconnect=p;var a=new J.a.g("~");a.f(3);a.f(y.Rc);a.f(y.ta);
I=function(){var a=n.L(0);n.shift(1);z();if(x)b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, handler_relay_response");else if(a!=b.b.Cc)x=!0,I=b.o.Y,b.o.I(h),A(),f();else{var w=h.onerror,d=h.onmessage;a=new c.Lb(y.vd,y.dd,h,n,function(){h.onclose=h.onerror=w;h.onmessage=d;I=r;D.disconnect=p;u();0!=n.length()&&I()},function(){x=!0;A();f()});D.disconnect=a.disconnect}};u();h.send(a.i());0!=n.length()&&I()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function J(c,n,y,f,A,u,z,p){var h=b.b.Dc-21;if(!(p.length>h||0>n||n>=b.b.Ha)&&c.U[n]){var D=f&32768;f&=32767;var w=c.U[n],I=w.srv,x=b.a.A();I||(I=w.srv={},I.X=0,I.count=0,I.ma=0,I.Wc=!1,I.tc=I.Gh=0,I.ia=I.Na=x-1E5);I.type=z;if(I.Wc){if(y==I.tc&&f==I.Gh)return;if(w.Pd!=y||w.md!=f){var a=y-I.tc;0>a&&(a+=65536);0==a?I.ma+=f-I.Gh-1:0<a&&32768>a&&(I.ma+=a-1+f+1)}}I.X+=p.length+21;I.count++;1E4<x-I.Na>>>0?(I.ia=x,I.X=0,I.count=0,I.ma=0):3E3<x-I.ia&&(I.rate=0,0<I.count&&(I.tick=x,I.rate=8E3*
I.X/(x-I.ia)>>0,c.Da("video_recv_rate(ssrc "+n+"),"+I.rate)),I.loss_rate=0,0<I.ma&&(I.tick=x,I.loss_rate=I.ma/(I.ma+I.count)*1E4>>0,c.Da("video_loss_rate(ssrc "+n+"),"+I.loss_rate)),I.ia=x,I.X=0,I.count=0,I.ma=0);I.Na=x;I.tc=y;I.Gh=f;I.Wc=!0;if(w.Pd==y)if(w.md==f)if(0==f&&(w.data=""),w.data+=p,D)w.Pd=y+1&65535,w.md=0;else{if(p.length!=h)return;w.md++;return}else{w.Pd=y+1&65535;w.md=0;return}else if(0==f)if(w.data=p,D)w.Pd=y+1&65535,w.md=0;else{if(p.length!=h)return;w.Pd=y;w.md=1;return}else{w.Pd=
y+1&65535;w.md=0;return}if(n==c.ua)c=0;else if(n==c.za)c=1;else{y=-1;for(f=0;f<b.b.Ob;f++)if(c.jb[f]==n){y=f;break}if(-1!=y)c=2+y;else return}-1!=c&&(1>=w.data.length||b.Z.Tl&&b.Z.Tl(w.data,z,n,A,u))}}function F(h,n,y,f,A){function u(b){var f=new c.a.g;f.m(h.K);f.f(h.En);f.f(b);h.j.send(f.i())}if(!(0>n||n>=b.b.Ha||!h.U[n]||500<A.length)){var z=h.U[n];if(!z.Hh){var p=y>>16;y&=65535;if(!(0>=p||2E3<p||0>y||y>=p||z.Ih[y>>3]&1<<(y&7))){if(!z.Jh)z.Jh=p,z.cg=0,z.Lh=new Uint8Array(500*p),z.Mh=0;else if(z.Jh!=
p){z.Hh=1;u(n);b.a.log("download self picture for ssrc "+n+" fails. total num not match");return}z.Lh.set(b.a.Zh(A),500*y);z.Mh+=A.length;z.Ih[y>>3]|=1<<(y&7);z.cg++;z.cg==z.Jh&&(z.Hh=1,u(n),z.cg=0,A=z.Lh.subarray(0,z.Mh),z.Lh=null,h.Hm(n,A,f))}}}}var c=window.W,y=b.protocol=b.protocol||{};y.zs=function(h,n,H){function f(b){var f=new c.a.g;if(h.sa){var p=new y.As(h,b,f,function(){new A(b,f)},function(b){H(b)});u.disconnect=function(){p.disconnect()}}else new A(b,f)}function A(f,p){if(h.sa)var r=new y.Lb(h.vd,
h.dd,f,p,function(){n(f,p)},function(){H(1)});else if(h.F==b.b.R){var x=new c.a.g("M");x.f(h.ta);x.f(h.G);f.send(x.i());r=new y.Lb(h.bb,h.ea,f,p,function(){n(f,p)},function(){H(1)})}else h.F==b.b.Aa&&(x=new c.a.g("m"),x.f(h.ta),x.f(h.Tf),f.send(x.i()),r=new y.Lb(h.bb,h.ea,f,p,function(){n(f,p)},function(){H(1)}));u.disconnect=function(){r.disconnect()}}var u=this;if(h.sa){var z=h.ca.Tb;var p=h.ca.port}else z=h.ba,p=h.oa;var r=new y.he(z,p,function(b){new f(b)},function(){H(1)});this.disconnect=function(){r.disconnect()}};
y.Sa=function(h){function n(){p.disconnect=function(){}}function H(){b.a.log("mediatcp is stopped while connecting");D&&(clearTimeout(D),D=null);w&&w.disconnect();n()}function f(){b.Z.rj()?(I=!1,w=new y.zs(h,u,A),p.disconnect=H):n()}function A(a){w=null;0<a?(r++,60<r&&(r=60),b.a.log("mediatcp: connecting fails, try again..."),D=setTimeout(function(){D=null;f()},1E3*(r+1))):(n(),b.a.log("mediatcp: connecting fails, give up"))}function u(a,d){function g(){C&&(clearInterval(C),C=null)}function q(){x();
k=setTimeout(function(){k=null;b.o.I(a);e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, setTimeout"):(e=!0,u(),g(),p.v.terminate(),v(),b.a.log("mediatcp: break due to timeout"))},6E4)}function x(){null!=k&&(clearTimeout(k),k=null)}function u(){p.v.onmessage&&(p.v.onmessage=null,p.v.postMessage({command:"clear"}))}function w(){p.v.onmessage=null;d.length()&&(L=0,M=b.a.A(),G())}function Q(){if(d.length()){var a=b.a.A()-M;20<a||9<=L?(500<a&&b.a.log("info, mediatcp handler depth="+
L+",use "+a+"ms"),p.v.onmessage||(p.v.onmessage=w,p.v.postMessage({command:"set"}))):(L++,G())}}function G(){var c=d.length();if(!(5>c)){var f=d.c(0);if(4293844428==f>>>0&&187==d.L(4))d.shift(5),Q();else if(21>=f||25E3<=f)x(),e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, handler"):(b.a.log("mediatcp: break due to illegal recv length: "+f),e=!0,u(),g(),p.v.terminate(),G=b.o.Y,b.o.I(a),v());else if(!(c<f+4)){d.shift(4);if(h.ta==b.o.Ds(d)){if(b.o.Rj(d.L(0))){if(29>=
f){d.shift(f);Q();return}c=d.h(0,29);var k=b.crypto.w(d.h(29,f-21-8),h.aa).u()}else c=d.h(0,21),k=b.crypto.w(d.h(21,f-21),h.aa).u();var q=c.charCodeAt(0);c=b.o.Es(d);q==b.b.jf&&2==k.charCodeAt(0)&&(q=b.b.rg);if(q==b.b.qg||q==b.b.rg||q==b.b.ug||q==b.b.pg||q==b.b.tg||q==b.b.sg||q==b.b.jf)a:{var L=b.o.yh(d),M=q;if(!(0>c||c>=b.b.Ha)&&h.U[c]){var C=h.U[c];q=C.sra;var N=b.a.A();q||(q=C.sra={},q.X=0,q.count=0,q.ma=0,q.Wc=!1,q.tc=0,q.ia=q.Na=N-1E5);q.type=M;if(q.Wc){C=L-q.tc;if(0==C)break a;0>C&&(C+=65536);
1!=C&&0<C&&32768>C&&(q.ma+=C-1)}q.X+=k.length+21;q.count++;1E4<N-q.Na>>>0?(q.ia=N,q.X=0,q.count=0,q.ma=0):3E3<N-q.ia&&(q.rate=0,0<q.count&&(q.tick=N,q.rate=8E3*q.X/(N-q.ia)>>0,h.Da("audio_recv_rate(ssrc "+c+"),"+q.rate)),q.loss_rate=0,0<q.ma&&(q.tick=N,q.loss_rate=q.ma/(q.ma+q.count)*1E4>>0,h.Da("audio_loss_rate(ssrc "+c+"),"+q.loss_rate)),q.ia=N,q.X=0,q.count=0,q.ma=0);q.Na=N;q.tc=L;q.Wc=!0;b.Z.cl&&b.Z.cl(k,M,c)}}else if(q==b.b.Rg||q==b.b.Qg||q==b.b.Sg||q==b.b.Tg||q==b.b.Pg)J(h,c,b.o.yh(d),b.o.Fs(d),
b.o.Gs(d),b.o.Hs(d),q,k);else if(b.o.Rj(q))a:{if(L=b.o.yh(d),M=k,k=d.c(25)&65535,!(0>c||c>=b.b.Ha)&&h.U[c]){q=b.o.et(q);var n=h.U[c];N=n["srp"+q];C=b.a.A();N||(N=n["srp"+q]={},N.X=0,N.count=0,N.ma=0,N.Wc=!1,N.tc=0,N.ia=N.Na=C-1E5);N.channel=q;if(N.Wc){n=L-N.tc;if(0==n)break a;0>n&&(n+=65536);1!=n&&0<n&&32768>n&&(N.ma+=n-1)}N.X+=M.length+21;N.count++;1E4<C-N.Na>>>0?(N.ia=C,N.X=0,N.count=0,N.ma=0):3E3<C-N.ia&&(N.rate=0,0<N.count&&(N.tick=C,N.rate=8E3*N.X/(C-N.ia)>>0,h.Da("appdata_recv_rate(channel "+
q+",ssrc "+c+"),"+N.rate)),N.loss_rate=0,0<N.ma&&(N.tick=C,N.loss_rate=N.ma/(N.ma+N.count)*1E4>>0,h.Da("appdata_loss_rate(channel "+q+",ssrc "+c+"),"+N.loss_rate)),N.ia=C,N.X=0,N.count=0,N.ma=0);N.Na=C;N.tc=L;N.Wc=!0;b.Z.El&&b.Z.El(M,q,c,k)}}else q==b.b.pj?F(h,c,d.c(1),d.c(5),k):b.Z.rs(q,c)}d.shift(f);Q()}}}function v(){b.Z.rj()?(I=!1,N=setTimeout(function(){N=null;f();b.a.log("mediatcp: reconnecting...")},2E3),p.disconnect=function(){clearTimeout(N);u();p.v.terminate();n()}):n()}r=0;b.a.log("mediatcp: enter main loop");
h.F==b.b.R&&b.Z.Yb&&b.Z.Yb();I=!0;p.j=a;var k=null,e=!1;p.v=new Worker("worker/worker_timeout.js");p.v.onmessage=null;var L=0,M=0,N=null,C=null,ia=b.a.A();a.onclose=a.onerror=function(){x();e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onclose"):(e=!0,u(),g(),p.v.terminate(),G=b.o.Y,b.o.I(a),v(),b.a.log("mediatcp: break due to network error"))};a.onmessage=function(a){ia=b.a.A();x();a=new c.a.g(a.data);d.D(a);e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onmessage"):
(q(),p.v.onmessage||(L=0,M=b.a.A(),G()))};q();(function(){g();C=setInterval(function(){if(2E4<b.a.A()-ia){var e=new c.a.g;e.f(4293844428);e.m(187);a.send(e.i());p.V()}},2E4)})();0!=d.length()&&(u(),L=0,M=b.a.A(),G());p.disconnect=function(){e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, disconnect"):(I=!1,e=!0,b.a.log("mediatcp is stopped"),x(),u(),g(),p.v.terminate(),N&&(clearTimeout(N),N=null),b.o.I(a),n())};p.V=function(){ia=b.a.A();x();q()}}function z(a,
c,f){d=Math.min(a,d);if(2E3<c-q||-2>=d)a=h.va,b.Z.Ib(d),a!=h.va&&h.Da("tcp_media_rate_control,worst_command = "+d+",targetrate = "+h.va+",queue="+f+",avg="+(g>>0)),d=1,q=c}var p=this,r=0,D=null,w=null,I=!1;f();b.a.log("mediatcp: connecting...");var x=b.a.A(),a=0;this.ot=function(a){if(!I)return!0;var d=new c.a.g;d.f(a.length());d.N(a.h(0,17));d.N(b.Z.Qf(a));d.D(b.crypto.M(a.h(21),h.aa));this.j.send(d.i());this.V();return!0};this.mt=function(a){if(!I)return!0;var d=b.a.A(),q=this.j.bufferedAmount;
aa=q;g+=.1*(q-g);q=h.Im;q||(q=h.Im={},q.X=0,q.ia=q.Na=d-1E5);var f=new c.a.g;f.f(a.length());f.N(a.h(0,17));f.N(b.Z.Qf(a));f.D(b.crypto.M(a.h(21),h.aa));this.j.send(f.i());q.X+=a.length();1E4<d-q.Na>>>0?(q.ia=d,q.X=0):3E3<d-q.ia&&(q.rate=0,0<q.X&&(q.tick=d,q.rate=8E3*q.X/(d-q.ia)>>0,h.Da("audio_send_rate2,"+q.rate)),q.ia=d,q.X=0);q.Na=d;this.V();return!0};h.Ca=b.a.A();h.Ld=4*b.b.Dc;h.ha=h.Ld;this.pt=function(d){if(!I)return!0;var q=b.a.A(),f=this.j.bufferedAmount,p=f-aa;aa=f;g+=.1*(f-g);h.ha+=(q-
h.Ca)*h.va/8E3;h.Ca=q;if(0>h.ha)return!0;f>h.Cm?(x=q,a=0):10<a&&1E4<q-x?(z(1,q,f),x=q,a=0):a++;if(f>h.Bm)return z(-2,q,f),d=Math.max(h.Ld,20*h.va/8E3),h.ha>d&&(h.ha=d),!0;f>h.kg&&z(p>h.kg?-2:-1,q,f);f=h.Jm;f||(f=h.Jm={},f.X=0,f.ia=f.Na=q-1E5);p=d.length()-b.b.gc;var n=(p+(b.b.Dc-b.b.gc)-1)/(b.b.Dc-b.b.gc)>>0,r;for(r=0;r<n;r++){if(r==n-1){var u=p%(b.b.Dc-b.b.gc);0==u&&(u=b.b.Dc-b.b.gc)}else u=b.b.Dc-b.b.gc;var w=new c.a.g;w.N(d.h(0,b.b.gc));w.N(d.h(b.b.gc+r*(b.b.Dc-b.b.gc),u));h.ha-=w.length();f.X+=
w.length();u=new c.a.g;u.f(w.length());u.N(w.h(0,1));u.m(r>>8&255|(r==n-1?128:0));u.m(r&255);u.N(w.h(3,14));u.N(b.Z.Qf(w));u.D(b.crypto.M(w.h(21),h.aa));this.j.send(u.i())}d=Math.max(h.Ld,20*h.va/8E3);h.ha>d&&(h.ha=d);1E4<q-f.Na>>>0?(f.ia=q,f.X=0):3E3<q-f.ia&&(f.rate=0,0<f.X&&(f.tick=q,f.rate=8E3*f.X/(q-f.ia)>>0,h.Da("video_send_rate2,"+f.rate)),f.ia=q,f.X=0);f.Na=q;this.V();return!0};this.nt=function(d,q,f,p,n,r){if(!I||0>q)return!0;var u=b.a.A(),w=h.P[q],G=this.j.bufferedAmount,v=G-aa;aa=G;g+=.1*
(G-g);w.ha+=(u-w.Ca)*w.zb/8E3;w.Ca=u;if(0>w.ha)return!0;G>h.Cm?(x=u,a=0):10<a&&1E4<u-x?(z(1,u,G),x=u,a=0):a++;if(G>h.Bm)return z(-2,u,G),d=Math.max(h.Ld,w.yj,20*w.zb/8E3),w.ha>d&&(w.ha=d),!0;G>h.kg&&z(v>h.kg?-2:-1,u,G);G=w.stat;G||(G=w.stat={},G.X=0,G.ia=G.Na=u-1E5);G.channel=q;w.ha-=d.length()+8;G.X+=d.length()+8;v=new c.a.g;v.f(d.length()+8);v.m(b.o.dt(q));v.N(d.h(1,16));v.N(b.Z.Qf(d));v.f(f);n||(p|=2147483648);r||(p|=1073741824);v.f(p);v.D(b.crypto.M(d.h(21),h.aa));this.j.send(v.i());d=Math.max(h.Ld,
w.yj,20*w.zb/8E3);w.ha>d&&(w.ha=d);1E4<u-G.Na>>>0?(G.ia=u,G.X=0):3E3<u-G.ia&&(G.rate=0,0<G.X&&(G.tick=u,G.rate=8E3*G.X/(u-G.ia)>>0,h.Da("appdata_send_rate2(channel "+q+"),"+G.rate)),G.ia=u,G.X=0);G.Na=u;this.V();return!0};var g=0,aa=0,d=1,q=b.a.A()};y.Ic=function(h){function n(p){var n=new c.a.g,u=new y.$r(h,p,n,function(){new H(p,n)},function(){b.a.log("MRP_TCPMedia_Notify: connection with mcu relay proxy fails");f.disconnect=function(){}});this.disconnect=function(){u.disconnect()}}function H(c,
n){var p=null;var r=new y.Lb(h.vd,h.dd,c,n,function(){b.a.log("successfully notify mcu relay about using tcp for media");c.onclose=c.onerror=function(){f.disconnect()};c.onmessage=function(){};f.disconnect=function(){p&&(clearTimeout(p),p=null);b.o.I(c)};p=setTimeout(function(){p=null;b.o.I(c);f.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about using tcp for media");f.disconnect=function(){}});this.disconnect=function(){r.disconnect()}}var f=this;var A=h.ca.Tb;var u=
h.ca.port;b.a.log("trying to notify mcu relay "+A+":"+u+" about using tcp for media");var z=new y.he(A,u,function(b){new n(b)},function(){b.a.log("MRP_TCPMedia_Notify: cannot connect to mcu relay");f.disconnect=function(){}});this.disconnect=function(){z.disconnect()}};y.Jc=function(h){function n(p){var n=new c.a.g,u=new y.as(h,p,n,function(){new H(p,n)},function(){b.a.log("NotifyMCURelaySessionIndex: connection with mcu relay proxy fails");f.disconnect=function(){}});this.disconnect=function(){u.disconnect()}}
function H(c,n){var p=null;var r=new y.Lb(h.vd,h.dd,c,n,function(){b.a.log("successfully notify mcu relay about the session index");c.onclose=c.onerror=function(){f.disconnect()};c.onmessage=function(){};f.disconnect=function(){p&&(clearTimeout(p),p=null);b.o.I(c)};p=setTimeout(function(){p=null;b.o.I(c);f.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about the session index");f.disconnect=function(){}});this.disconnect=function(){r.disconnect()}}var f=this;var A=h.ca.Tb;
var u=h.ca.port;b.a.log("trying to notify mcu relay "+A+":"+u+" about the session index");var z=new y.he(A,u,function(b){new n(b)},function(){b.a.log("NotifyMCURelaySessionIndex: cannot connect to mcu relay");f.disconnect=function(){}});this.disconnect=function(){z.disconnect()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var J=window.W,F=b.protocol=b.protocol||{};F.Os=function(c,y,h){var n=this,H=(h.length+499)/500>>0,f=0,A=4E6/(48E3<c.xb?48E3:c.xb)>>0;1E3<A&&(A=1E3);n.fa=new Worker("worker/worker_interval.js");n.fa.onmessage=function(){c.Xk&&(n.fa&&(n.fa.terminate(),n.fa=null),n.disconnect=function(){});var u=b.Z.us(b.b.pj,h.subarray(500*f,500*f+500),y,f|H<<16);b.Z.ts(u);f++;f==H&&(f=0)};n.fa.postMessage({command:"set",delay:A});n.disconnect=function(){n.fa&&(n.fa.terminate(),n.fa=null);n.disconnect=
function(){}}};F.Ms=function(b,y,h){function c(){A.disconnect=function(){}}function H(p){var n=new J.a.g;if(b.sa){var r=new F.Ns(b,p,n,function(){f(p,n)},function(){c();h()});A.disconnect=function(){r.disconnect();c()}}else f(p,n)}function f(f,p){var n=new J.a.g("S");n.f(b.ta);n.f(b.G);f.send(n.i());var r=new F.Lb(b.bb,b.ea,f,p,function(){c();y(f,p)},function(){c();h()});A.disconnect=function(){r.disconnect();c()}}var A=this;if(b.sa){var u=b.ca.Tb;var z=b.ca.port}else u=b.ba,z=b.oa;var p=new F.he(u,
z,function(b){H(b)},function(){c();h()});this.disconnect=function(){p.disconnect();c()}};F.Ls=function(c,y,h,n,H,f,A,u){function z(){p.disconnect=function(){}}var p=this,r=null;r=new F.Ms(c,function(r){function w(){D();F=setTimeout(function(){F=null;b.o.I(r);a?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, setTimeout2"):(a=!0,z(),f())},g?1E4:6E4)}function D(){null!=F&&(clearTimeout(F),F=null)}function x(){p.fa&&(p.fa.terminate(),p.fa=null)}p.j=r;var a=!1,g=!1,F=null;
p.fa=null;r.onclose=r.onerror=function(){a?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, onclose"):(a=!0,x(),D(),b.o.I(r),g?(z(),f()):(z(),u&&u()))};var d=new J.a.g;h&&(d.f(-1),d.f(h.length),d.D(b.crypto.M(h,c.aa)));d.H(n);if(1==y)d.f(0),r.send(d.i()),g=!0,w();else{d.f(H.length);r.send(d.i());var q=0;p.fa=new Worker("worker/worker_interval.js");p.fa.onmessage=function(){if(!r.bufferedAmount){var a=b.a.A();500<b.a.A()-Q&&(A(q/H.length),Q=b.a.A());var f;for(f=0;100>
f;f++){var h=512;512>H.length-q&&(h=H.length-q);var n=H.subarray(q,q+h);d.clear();d.D(b.crypto.M(n,c.aa));r.send(d.i());q+=h;if(q>=H.length){g=!0;A(1);w();p.fa&&(p.fa.terminate(),p.fa=null);break}if(20<b.a.A()-a)break}}};p.fa.postMessage({command:"set",delay:10});var Q=b.a.A()-1E3;p.disconnect=function(){a?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, disconnect"):(a=!0,x(),D(),b.o.I(r),z(),u&&u())}}},function(){z();u&&u()});p.disconnect=function(){r&&r.disconnect();
z()}};F.Js=function(c,y,h,n,H,f){function A(){p.disconnect=function(){}}function u(b){var n=new J.a.g;if(c.sa){var a=new F.Ks(c,y,h,b,n,function(){z(b,n)},function(b){H(b)},function(){A();f()});p.disconnect=function(){a.disconnect();A()}}else z(b,n)}function z(h,r){if(c.sa){if(c.F==b.b.R){var a=new J.a.g("R");a.f(c.ta);a.f(c.G)}else a=new J.a.g("r"),a.f(c.ta),a.f(c.Tf);h.send(a.i());A();n(h,r)}else if(c.F==b.b.R){a=new J.a.g("R");a.f(c.ta);a.f(c.G);h.send(a.i());var g=new F.Lb(c.bb,c.ea,h,r,function(){A();
n(h,r)},function(){A();f()});p.disconnect=function(){g.disconnect();A()}}else c.F==b.b.Aa&&(a=new J.a.g("r"),a.f(c.ta),a.f(c.Tf),h.send(a.i()),g=new F.Lb(c.bb,c.ea,h,r,function(){A();n(h,r)},function(){A();f()}),p.disconnect=function(){g.disconnect();A()})}var p=this;if(c.sa){var r=c.ca.Tb;var D=c.ca.port}else r=c.ba,D=c.oa;var w=new F.he(r,D,function(b){u(b)},function(){A();f()});this.disconnect=function(){w.disconnect();A()}};F.Is=function(c,y,h,n,H,f){function A(){b.a.log(2,"info, error occurs downloading slide index "+
y);0==E.xa&&(E.xa=-1);z();f&&f()}function u(){b.a.log(5,"info, succeeds downloading slide index "+y);z();n()}function z(){q.disconnect=function(){};q.index=-1;q.V.terminate();b.a.log(5,"info, finish(could be success, failure, stop, etc.) downloading slide index "+y)}function p(){D();if(!c.sa||c.F!=b.b.R||E.Xe||E.ih||E.tm)I();else if(G++,3<G)A();else{b.a.log("the hash of slide "+y+" hasn't been received yet, request the hash and try download again later...");var a=new J.a.g;a.m(c.K);a.f(c.xg);a.f(1);
a.f(y);c.j.send(a.i());Q=setTimeout(p,2E3);q.disconnect=w}}function r(){q.V.onmessage&&(q.V.onmessage=null,q.V.postMessage({command:"clear"}))}function D(){Q&&(clearTimeout(Q),Q=null)}function w(){D();z()}function I(){D();!E.ra||E.ka<E.ra?(Y=new F.Js(c,y,R,aa,H,function(){A()}),q.disconnect=x):(g(),q.disconnect=a)}function x(){Y&&Y.disconnect();z()}function a(){r();z()}function g(){ba=!0;R.ra=E.ra;R.Ca=b.a.A()-1E3;R.oe=0;R.ng=E.ra;U=function(){r();u()};B=function(){r();A()};q.V.onmessage=d;q.V.postMessage({command:"set",
delay:20})}function aa(a,g){function e(){f();m=setTimeout(function(){m=null;b.o.I(a);n?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, setTimeout"):(n=!0,k(),r(),q.v.terminate(),A())},6E4)}function f(){null!=m&&(clearTimeout(m),m=null)}function k(){q.v.onmessage&&(q.v.onmessage=null,q.v.postMessage({command:"clear"}))}function N(){n=!0;f();k();r();q.v.terminate();b.o.I(a);u()}function C(){p()}function p(){n?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, quit"):
(n=!0,f(),k(),r(),q.v.terminate(),Z=b.o.Y,b.o.I(a),A())}q.j=a;var m=null,n=!1;q.v=new Worker("worker/worker_timeout.js");q.v.onmessage=null;var v=!1;b.a.log(5,"info, connected with MCU downloading slide index "+y);a.onclose=a.onerror=function(){f();v?ba=!0:n?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onclose"):(n=!0,k(),r(),q.v.terminate(),Z=b.o.Y,b.o.I(a),A())};a.onmessage=function(a){f();v?a.data.byteLength>E.ra-E.ka?p():(E.data.set(new Uint8Array(a.data),
E.ka),E.ka+=a.data.byteLength,n?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage0"):E.ka<E.ra&&e()):(a=new J.a.g(a.data),g.D(a),n?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage"):(e(),q.v.onmessage||(b.a.A(),Z())))};var w=new J.a.g;E.ka&&(E.ka&511&&(E.ka&=-512),w.f(-1),w.f(E.ka));w.f(y);a.send(w.i());Z=function(){if(!(4>g.length())){var a=R.ra=E.ra=g.c(0);R.Ca=b.a.A()-1E3;if(0==a)Z=b.o.Y,E.data=new Uint8Array(a),
E.xa=1,N();else if(0>a)E.xa=3,p();else{v=!0;Z=b.o.Y;if(!E.data){if(a>b.Z.Ph()){E.xa=4;p();return}if(c.wa+a>b.Z.Ph())if(h)b.Z.it(y,a);else{p();return}try{E.data=new Uint8Array(a)}catch(ka){E.data=null;E.xa=4;p();return}c.wa+=a;E.ka=E.ka||0;E.gb=E.gb||0}U=N;B=C;q.V.onmessage=d;q.V.postMessage({command:"set",delay:20});R.vj||(R.oe=0,R.ng=a);g.shift(4);a=g.length();a>E.ra-E.ka?p():a&&(E.data.set(new Uint8Array(g.i()),E.ka),E.ka+=a,g.shift(a))}}};e();0!=g.length()&&(k(),b.a.A(),Z());q.disconnect=function(){n?
b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, disconnect"):(n=!0,f(),k(),r(),q.v.terminate(),b.o.I(a),z())}}function d(){var a=U,d=B,e=E.ka;E.ka!=E.ra&&(e&=-512);var g=b.a.A(),q;for(q=0;1E6>q;q++){var f=e-E.gb;if(0==f){ba&&d();break}512<f&&(f=512);var h=b.crypto.w(E.data.subarray(E.gb,E.gb+f),c.aa);E.data.set(new Uint8Array(h.i()),E.gb);E.gb+=f;if(E.gb==E.ra){if(c.sa&&!b.o.xt(E.hash,E.data,c.aa)){b.a.log("Alert! mrp slide download index="+y+" has mismatched hash!");
E.xa=2;d();break}E.xa=1;a();break}500<b.a.A()-R.Ca&&(H((E.gb+R.oe)/R.ng),R.Ca=b.a.A());if(20<b.a.A()-g)break}}var q=this,Q=null,U=null,B=null;q.V=new Worker("worker/worker_interval.js");q.V.onmessage=null;var ba=!1,Z=b.o.Y,Y=null,R={},E=c.$[y];-1==E.xa&&(E.xa=0);b.a.log(5,"info, request to download slide index "+y);this.index=y;var G=0;p()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var J=window.W,F=b.protocol=b.protocol||{},c=b.Wb=b.Wb||{};F.Rk=function(b,c,y,f){function h(){z.disconnect=function(){}}function n(p,n){var r=new J.a.g("@");r.f(c);r.H(b.da?b.Qa:b.O);p.send(r.i());var u=new F.Lb(0,b.B,p,n,function(){h();y(p,n)},function(){h();f()});z.disconnect=function(){u.disconnect();h()}}var z=this,p=new F.he(b.ba,b.port,function(b){var c=new J.a.g;n(b,c)},function(){h();f()});this.disconnect=function(){p.disconnect();h()}};F.Sr=function(h,n,y){function f(){A.disconnect=
function(){}}var A=this,u=null,z=b.o.Y;u=new F.Rk(h,3,function(p,r){function u(){A.v.onmessage&&(A.v.onmessage=null,A.v.postMessage({command:"clear"}))}function w(){var d=b.a.A()-H;20<d||9<=g?(500<d&&b.a.log("info, check_im handler depth="+g+",use "+d+"ms"),A.v.onmessage||(A.v.onmessage=function(){A.v.onmessage=null;if(r.length()){g=0;H=b.a.A();var d=r.length();z();if(a){var c=r.length();c&&c!=d||(r.clear(),p.onclose())}}},A.v.postMessage({command:"set"}))):(g++,z())}function F(){x?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, quit"):
(x=!0,u(),A.v.terminate(),z=b.o.Y,b.o.I(p),f(),y&&y())}A.j=p;var x=!1;A.v=new Worker("worker/worker_timeout.js");A.v.onmessage=null;var a=!1,g=0,H=0;p.onclose=p.onerror=function(){if(r.length())if(a=!0,x)b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose,alt");else{if(A.v.onmessage)return;g=0;H=b.a.A();var d=r.length();z();var c=r.length();if(c&&c!=d)return}x?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose"):(x=!0,u(),A.v.terminate(),
z=b.o.Y,b.o.I(p),f(),y&&y())};p.onmessage=function(a){a=new J.a.g(a.data);r.D(a);x?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onmessage"):A.v.onmessage||(g=0,H=b.a.A(),z())};z=function(){function a(a){if(!(12>a.length||(k=new J.a.g(a),k.L(a.length-1)))){v=k.c(8);E=k.c(0);var e=12;switch(v){case b.b.Yi:e=16;case b.b.$i:var d=a.slice(e).indexOf("\x00");if(-1==d)return;var g=a.slice(e+d+1).indexOf("\x00");if(-1==g)return;var c=a.slice(e+d+g+2).indexOf("\x00");if(e+d+
g+c+3!=a.length||d>=b.b.Ya<<1||500<=g||5E3<=c)return;G=(y==b.b.np?a.substr(e,d)+": ":"")+a.substr(e+d+1,g);break;case b.b.Ig:case b.b.Vi:e=16,v=v==b.b.Ig?b.b.Gg:b.b.Hg;case b.b.Gg:case b.b.Hg:d=a.slice(e).indexOf("\x00");if(e+d+1!=a.length||d>=b.b.Ya<<1)return;G=a.substr(e,d);break;case b.b.Wi:e=16;d=a.slice(e).indexOf("\x00");if(-1==d)return;g=a.slice(e+d+1).indexOf("\x00");if(e+d+g+2!=a.length||d>=b.b.Ya<<1||g>=b.b.Ya<<1)return;G=a.substr(e,d)+": "+a.substr(e+d+1,g);break;case b.b.Zi:case b.b.Xi:e=
20;d=a.slice(e).indexOf("\x00");if(e+d+1!=a.length||5E3<=d)return;G=a.substr(e,d);break;default:return}return{ut:E,tt:v,text:G}}}var g=r.length();if(!(1>g))if(!r.L(0))A.disconnect(),f(),n&&n();else if(!(13>g)){var p=r.c(9);if(0>p||p>=b.b.Ya<<2)F();else if(!(g<13+p+4)){var u=r.c(13+p);if(0>u||u>=b.b.Ya<<1)F();else if(!(g<13+p+4+u+4)){var x=r.c(17+p+u);if(0>x||13334<=x)F();else if(!(g<13+p+4+u+4+x)){var y=r.c(1),z=r.c(5)>>>0,D=b.crypto.w(r.h(13,p),h.B).u(),H=b.crypto.w(r.h(13+p+4,u),h.B).u();g=b.crypto.w(r.h(13+
p+4+u+4,x),h.B).u();p=13+p+4+u+4+x;var E=0,G="",v=0;if(35==g.charCodeAt(0)){if(v=b.b.Fg,u=b.a.Gb(g.slice(1)),12<=u.length){var k=new J.a.g(u);E=k.c(0);k.L(u.length-1)||(g=u.slice(12).indexOf("\x00"),12+g+1==u.length&&(G=""+k.c(8)+"("+u.substr(12,g)+")"))}}else g=a(b.a.Gb(g)),E=g.ut,v=g.tt,G=g.text;c.$j&&c.$j(h,A,y,z,D,H,E,v,G);r.shift(p);w()}}}}};0!=r.length()&&(u(),g=0,H=b.a.A(),z());A.disconnect=function(){x?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, disconnect"):
(x=!0,u(),A.v.terminate(),b.o.I(p),f())}},function(){f();y&&y()});A.disconnect=function(){u&&u.disconnect();f()}};F.Sk=function(h,n,y){function f(){u.connected=!1;A();y&&y()}function A(){u.disconnect=function(){}}var u=this;this.connected=!1;this.Fh=this.Eh=0;this.sm=this.Ef=this.Me=!1;this.nb=this.Ea=0;var z=h.da,p=null,r=b.o.Y;p=new F.Rk(h,z?2:1,function(p,n){function y(){u.v.onmessage&&(u.v.onmessage=null,u.v.postMessage({command:"clear"}))}function x(){var a=b.a.A()-Q;20<a||9<=q?(500<a&&b.a.log("info, check_msg handler depth="+
q+",use "+a+"ms"),u.v.onmessage||(u.v.onmessage=function(){u.v.onmessage=null;if(n.length()){q=0;Q=b.a.A();var a=n.length();r();if(d){var g=n.length();g&&g!=a||(n.clear(),p.onclose())}}},u.v.postMessage({command:"set"}))):(q++,r())}function a(){function d(){if(h.J!=b.b.pa)g();else{var e=n.length();if(!(43>e)){var d=b.crypto.w(n.h(0,43),h.B);var f=d.c(35),q=d.c(39);if(0>f||f>=b.b.Ya||0>q||q>=b.b.Ya)g();else if(!(e<43+f+q+4)){var k=b.crypto.w(n.h(43,f+q+4),h.B);if(c.Td){var p=d.h(0,23);var m=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(p);
e=d.c(23);var v=4294967296*(k.c(f+q)>>>0)+(d.c(27)>>>0);d=d.c(31);m=m?new Date(m[1],m[2]-1,m[3],m[4],m[5],0)/1E3:0;var y=f?k.h(0,f):"";k=q?k.h(f,q):"";c.Td(h,u,!1,0,e,v,d,m,y,"",k,p)}n.shift(43+f+q+4);Q++;Q==G&&(r=a,c.Ub&&c.Ub(h,u),u.nb=0,u.Ea=1);x()}}}}function f(){if(h.J!=b.b.pa)g();else{var e=u.dc?32:36;var d=n.length();if(!(d<e)){var f=b.crypto.w(n.h(0,e),h.B);var q=f.c(24),k=f.c(28),p=0;if(0>q||q>=b.b.Ya||0>k||k>=b.b.Ng)g();else{if(!u.dc&&(p=f.c(32),0>p||p>=b.b.Ya)){g();return}if(!(d<e+q+k+p+
4)){var m=b.crypto.w(n.h(e,q+k+p+4),h.B);if(c.Td){var v=p,y=f.h(8,23);var w=/(\d\d\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/.exec(y);d=f.c(0);var B=4294967296*(m.c(q+k+v)>>>0)+(f.c(4)>>>0);f=f.c(20);w=w?new Date(w[1],w[2]-1,w[3],w[4],w[5],0)/1E3:0;var E=q?m.h(0,q):"";var z=k?m.h(q,k):"";m=v?m.h(q+k,v):"";c.Td(h,u,!!u.dc,u.dc?G:Q,d,B,f,w,E,z,m,y)}n.shift(e+q+k+p+4);Q++;if(u.dc||Q==G)r=a,c.Ub&&c.Ub(h,u),u.nb=0,u.Ea=1;x()}}}}}function q(){if(h.J!=b.b.pa)g();else if(!(n.length()<23+b.b.Ya+16)){var e=b.crypto.w(n.h(0,
23+b.b.Ya+16),h.B);if(c.Td){var d=e.h(0,23),f=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(d);var q=f?new Date(f[1],f[2]-1,f[3],f[4],f[5],0)/1E3:0;f=b.b.Ya;var k=e.h(23,f);var p=k.indexOf("\x00");var m=e.c(23+f);var v=4294967296*(e.c(23+f+12)>>>0)+(e.c(23+f+4)>>>0);e=e.c(23+f+8);k=-1==p?k:k.slice(0,p);c.Td(h,u,!0,0,m,v,e,q,k,"","",d)}n.shift(23+b.b.Ya+16);r=a;c.Ub&&c.Ub(h,u);u.nb=0;u.Ea=1;x()}}function p(){if(h.J!=b.b.pa)g();else{var e=n.length(),d=Math.min(512,u.ra-u.ka);e<d||(e=b.crypto.w(n.h(0,
d),h.B).i(),u.data.set(new Uint8Array(e),u.ka),u.ka+=d,n.shift(d),u.ka==u.ra?(r=a,c.yf&&c.yf(h,u,0),u.Ea=1):c.Ud&&(d=b.a.A(),500<d-u.Ca&&(e=u.ka/u.ra*100>>>0,e!=u.V&&(u.V=e,u.nb=e,c.Ud(h,u)),u.Ca=d)),x())}}if(h.J!=b.b.pa)g();else{var y=n.length();if(!(1>y)){switch(n.L(0)){case 122:if(5>y)return;var w=n.c(1);switch(w){case 24:if(13>y)return;u.Eh=n.c(5);u.Fh=n.c(9);n.shift(13);break;case 64:if(9>y)return;w=n.c(5);if(200!=w){b.a.log(3,"checkmessage, unknown JNR password type "+w);g();return}if(17>y)return;
u.Me=!!n.c(9);u.Ef=!!n.c(13);n.shift(17);break;case 9:var Q=0;if(9>y)return;var G=n.c(5);n.shift(9);G?r=d:(c.Ub&&c.Ub(h,u),u.Ea=1);break;case 27:Q=0;if(9>y)return;G=n.c(5);n.shift(9);G?r=f:(c.Ub&&c.Ub(h,u),u.Ea=1);break;case 75:u.sm=!0;n.shift(5);break;default:b.a.log(3,"checkmessage, unknown extension command "+w);g();return}break;case 33:if(5>y)return;w=n.c(1);switch(w){case 12:if(9>y)return;w=n.c(5);if(0>w||1E4<=w){g();return}if(0==w)c.pk&&c.pk();else{if(y<9+w)return;c.Sd&&c.Sd(b.crypto.w(n.h(9,
w),h.B).u())}u.Ea=1;n.shift(9+w);break;case 5:if(9>y)return;w=n.c(5);if(0>w||4096<=w){g();return}if(0==w)c.Af&&c.Af(h,u,""),n.shift(9+w);else{if(y<9+w+4)return;var v=n.c(9+w);if(0>v||1E4<=v){g();return}if(y<9+w+4+v)return;y="";w&&(y=b.crypto.w(n.h(9,w),h.B).u());var k="";v&&(k=b.crypto.w(n.h(9+w+4,v),h.B).u());n.shift(9+w+4+v);c.Af&&c.Af(h,u,y,k)}u.Ea=1;break;case 10:if(9>y)return;c.rk&&c.rk(h,u,n.c(5));u.Ea=1;n.shift(9);break;case 11:if(9>y)return;w=n.c(5);v=z?4096:256E4;if(0>w||w>=v){g();return}v=
"";if(w){if(y<9+w)return;v=b.crypto.w(n.h(9,w),h.B).u()}z&&!v?c.sk&&c.sk():c.Ok&&c.Ok(h,u,v);n.shift(9+w);u.Ea=1;break;case 7:case 8:if(9>y)return;(y=7==w?c.Nr:c.Mr)&&y(h,u,n.c(5));n.shift(9);u.Ea=1;break;case 9:if(9>y)return;u.nb=n.c(5);c.Ud&&c.Ud(h,u);n.shift(9);break;case 13:if(9>y)return;c.lk&&c.lk(h,u,n.c(5));n.shift(9);u.Ea=1;break;default:b.a.log(3,"checkmessage, unknown playback command "+w);g();return}break;case 48:switch(u.dc){case 19:if(6>y)return;if(w=n.c(2)){c.Vd&&c.Vd(h,u,w);n.shift(6);
u.nb=0;u.Ea=1;break}if(10>y)return;if(w=n.c(6)){c.Vd&&c.Vd(h,u,w);n.shift(10);u.nb=0;u.Ea=1;break}if(14>y)return;h.da?(G=n.c(10),n.shift(14),r=f):(n.shift(10),r=q);break;case 18:if(2>y)return;w=n.L(1);if(48!=w){c.yf&&c.yf(h,u,w);n.shift(2);u.nb=0;u.Ea=1;break}if(14>y)return;u.ra=4294967296*(n.c(10)>>>0)+(n.c(2)>>>0);u.data=new Uint8Array(u.ra);u.ka=0;u.V=0;u.Ca=b.a.A()-1E3;n.shift(14);r=p;break;case 17:if(14>y)return;h.da?(G=n.c(10),n.shift(14),r=f):(n.shift(10),r=q);break;default:b.a.log(3,"checkmessage, quit thread: process init command,unknown request type "+
u.dc);g();return}break;default:b.a.log(3,"checkmessage, quit thread: unknown command "+n.u(1));g();return}x()}}}function g(){w?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, quit"):(u.nb=0,w=!0,y(),u.v.terminate(),r=b.o.Y,b.o.I(p),f())}u.j=p;u.connected=!0;var w=!1;u.v=new Worker("worker/worker_timeout.js");u.v.onmessage=null;var d=!1,q=0,Q=0;p.onclose=p.onerror=function(){if(n.length())if(d=!0,w)b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose,alt");
else{if(u.v.onmessage)return;q=0;Q=b.a.A();var a=n.length();r();var g=n.length();if(g&&g!=a)return}w?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose"):(w=!0,y(),u.v.terminate(),r=b.o.Y,b.o.I(p),f())};p.onmessage=function(a){a=new J.a.g(a.data);n.D(a);w?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onmessage"):u.v.onmessage||(q=0,Q=b.a.A(),r())};r=a;0!=n.length()&&(y(),q=0,Q=b.a.A(),r());u.disconnect=function(){w?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, disconnect"):
(u.nb=0,w=!0,y(),u.v.terminate(),b.o.I(p),u.connected=!1,A())}},function(){f()});u.disconnect=function(){p&&p.disconnect();A()}};var y=F.Sk;y.prototype._thread_status=function(b){if("undefined"===typeof b)return this.Ea;this.Ea=b};y.prototype._cache_item=function(b){if("undefined"===typeof b)return this.jr;this.jr=b};y.prototype._progress=function(b){if("undefined"===typeof b)return this.nb;this.nb=b};y.prototype._buffer=function(b){if("undefined"===typeof b)return this.buffer;this.buffer=b};y.prototype._buffer_offset=
function(b){if("undefined"===typeof b)return this.kc;this.kc=b};y.prototype._buffer_pointer=function(b){if("undefined"===typeof b)return this.Ia;this.Ia=b};y.prototype._buffer_end=function(b){if("undefined"===typeof b)return this.Qb;this.Qb=b};y.prototype._buffer_busy=function(b){if("undefined"===typeof b)return this.nf;this.nf=b};y.prototype._data=function(b){if("undefined"===typeof b)return this.data;this.data=b};y.prototype._connected=function(){return this.connected};y.prototype._busy=function(){return!this.Ea};
y.prototype._diskquota=function(){return this.Eh};y.prototype._diskusage=function(){return this.Fh};y.prototype._jn_bEnableWebOfficeEx=function(){return this.Ef};y.prototype._jn_bEnableJNRPassword=y.prototype.Tq=function(){return this.Me};y.prototype._m_bToArchive=function(){return this.sm}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function J(){return""+a.hc+"."+a.ic+"."+a.Og+" built on 08/15/2020"}function F(){a.xd="";a.lm="";a.ke="";a.F=b.b.R;a.ID=!1;a.We="";a.IF="";a.DD=!1;a.Pe=!1;a.oh={};a.va=a.Qc=a.xb=a.Sf=1E7;a.Se=0;a.Le=0;a.Tc=0;a.GD=!0;a.ee=-1;a.ED=!1;a.$d=!1;a.LD=!1;a.sh=!1;a.js=!1;a.MD=!1;a.Oe=!1;a.je=null;a.Wf=0;a.Vf=0;a.ge="";a.Dh=[]}function c(){this.Xc=0}function y(){this.ec="";this.dg=[];this.xa=0}function h(){}function n(){}function H(d,c){function q(f){d[f].Ac=null;d[f].Bd?b.a.log(["joinnet connecting to backup mcu ",
d[f].ba,",",d[f].oa,"..."].join("")):c&&0==f?b.a.log(["joinnet connecting to (switched) primary mcu ",d[f].ba,",",d[f].oa,"..."].join("")):b.a.log(["joinnet connecting to primary mcu ",d[f].ba,",",d[f].oa,"..."].join(""));d[f].Cd=new b.protocol.hm(a.hc,a.ic,a,d,f,function(){d[f].pd=!0;if(d[f].Mb)a:{var q;for(q=0;q<d.length;q++){if(!d[q].pd||!d[q].Mb)break a;var r=d[q].Vs;var k=d[q].Mb}y&&(clearTimeout(y),y=null);b.a.log("joinnet connecting to mcu fails");!r&&a.Oe?(g.Nc&&g.Nc(!1),a.pc=!1):a.sa?(b.a.log("using relay fails, clear relay setting and retry connect......"),
a.sa=!1,H(d,c)):(g.Ka&&g.vb(k),g.Xl&&g.Xl(),a.pc=!1)}else 0==f?(y&&(clearTimeout(y),y=null),n(0),u=0,new b.protocol.Qe(a.hc,a.ic,d[0],d[0].ba,d[0].oa,p)):y||h()})}function h(){y=null;var g;for(g=0;g<d.length;g++)if(d[g].pd&&!d[g].Mb){n(g);u=g;new b.protocol.Qe(a.hc,a.ic,d[g],d[g].ba,d[g].oa,p);break}}function n(b){var a;for(a=0;a<d.length;a++)d[a].Ac?(clearTimeout(d[a].Ac),d[a].Ac=null):d[a].pd?a==b||d[a].Mb||d[a].j.close():d[a].Cd&&d[a].Cd.disconnect&&d[a].Cd.disconnect()}function p(q){if(q)1<d.length?
(c=0,b.a.log(["connection to mcu ",d[u].ba,d[u].oa," fails during key exchange, but we'd like to try other entries"].join("")),d.splice(u,1),H(d,c)):(a.pc=!1,3==q?a.Oe&&(g.Nc?g.Nc(!1):g.Ka&&g.vb(b.b.tp)):2!=q&&a.Oe&&(g.Nc?g.Nc(!1):g.Ka&&g.vb(b.b.up)));else{q=u;a.fe=d[q].fe;a.Xf=d[q].Xf;a.wd=d[q].wd;a.bb=d[q].bb;a.Ne=d[q].Ne;a.vd=d[q].vd;a.Rc=d[q].Rc;a.Vc=d[q].Vc;a.Bh=d[q].Bh;var h=b.o.hg(a.Vc);a.GF=h.lb;a.HF=h.Eb;h=b.o.hg(a.Bh);a.EF=h.lb;a.FF=h.Eb;a.ag=d[q].ag;a.$f=d[q].$f;a.Yf=d[q].Yf;a.hd=d[q].hd;
a.ea=d[q].ea;a.aa=d[q].aa;a.dd=d[q].dd;a.yc=d[q].yc;a.j=d[q].j;a.Ed=d[q].Ed;a.ba=d[q].ba;a.oa=d[q].oa;a.Qs=d[q].Bd;b.a.log(["joinnet connected with mcu ",a.ba,",",a.oa].join(""));q=a.j;if(a.Ne){h=new x.a.g("4");q.send(h.i());a.F==b.b.R&&12==a.ge.length&&(b.a.log("send reconnect name."),h.clear(),h.f(16),h.f(b.protocol.Sm),h.D(b.crypto.M(a.ge,a.ea)),q.send(h.i()));a.Oe&&(a.je&&(b.a.log("send reconnect ticket."),h.clear(),h.f(4+a.Aq),h.f(b.protocol.Tm),h.D(b.crypto.M(a.je.u(),a.ea)),q.send(h.i())),
a.F===b.b.R&&(a.Wf||a.Vf)&&(b.a.log("send meeting identity info: meeting_type="+a.Wf+",random_id="+a.Vf),h.clear(),h.f(12),h.f(b.protocol.Qm),h.f(a.Wf),h.f(a.Vf),q.send(h.i())));a.gm&&(b.a.log("send make recording request."),h.clear(),h.f(4),h.f(b.protocol.Pm),q.send(h.i()));a.sa&&(h.clear(),4==a.ca.Hb.length?(h.f(12),h.f(b.protocol.Um),h.Am(a.ca.Hb)):(h.f(24),h.f(b.protocol.hi),h.N(a.ca.Hb)),h.f(a.ca.port),q.send(h.i()));if(a.Lm&&a.ba.length){var n=b.a.pb(a.ba);var k=n.length;h.clear();h.f(4+k);
h.f(b.protocol.gi);h.N(n);q.send(h.i())}h.clear();h.f(7);h.f(b.protocol.fi);h.N("WEB");q.send(h.i());b.o.vendor&&20>=b.o.vendor.length&&(h.clear(),h.f(4+b.o.vendor.length),h.f(b.protocol.ii),h.N(b.o.vendor),q.send(h.i()));a.ke&&(n=a.ke,k=n.length,h.clear(),h.f(4+k),h.f(b.protocol.Rm),h.N(n),q.send(h.i()),b.a.ne("send player_name "+a.ke+" to mcu"));h.clear();h.f(0);q.send(h.i())}a.sh?(h=new x.a.g("3"),h.gg(a.We),k=0,a.ph=a.Lc,a.qh=a.ud,a.Lc&&(k|=1),a.ud&&(k|=2),a.Mc=!1,k|=8,a.rc&&(k|=16),k|=32,g.Zb&&
!g.Zb()?(a.Uf=1,k|=64):a.Uf=0,h.m(k)):(h=a.F!=b.b.R?15==a.ib?new x.a.g("4"):5==a.ib&&a.Zf?new x.a.g("5"):new x.a.g("1"):4==a.ib&&a.ie?new x.a.g("6"):new x.a.g("0"),15==a.ib?(h.gg(a.We),h.gg(a.lm)):a.F!=b.b.R?(n=b.a.pb(a.Ma),k=n.length,h.f(k),k&&h.D(b.crypto.M(n,a.ea)),a.$d&&(k=b.crypto.$c(a.ac),h.f(20),h.D(b.crypto.M(k,a.ea)),5==a.ib&&a.Zf&&(n=b.a.pb(a.Zf),k=n.length,h.f(k),k&&h.D(b.crypto.M(n,a.ea))))):(h.m(0),n=b.a.pb(a.Ma),k=n.length,h.f(k),k&&h.D(b.crypto.M(n,a.ea)),a.$d&&(95==a.Ma.charCodeAt(0)?
-2!=a.fe?(k=a.Ve.length,h.f(k),k&&h.D(b.crypto.M(a.Ve,a.ea)),b.a.ne("**, Guest name is "+a.Ve+" (utf branch)")):(k=a.Ue.length,h.f(k),k&&h.D(b.crypto.M(a.Ue,a.ea)),b.a.ne("**, Guest name is "+a.Ue+" (multibyte branch)")):(k=b.crypto.$c(a.ac),h.f(20),h.D(b.crypto.M(k,a.ea)))),k=0,a.ph=a.Lc,a.qh=a.ud,a.Lc&&(k|=1),a.ud&&(k|=2),a.Mc=!1,k|=8,a.rc&&(k|=16),k|=32,g.Zb&&!g.Zb()?(a.Uf=1,k|=64):a.Uf=0,h.m(k),a.$d&&4==a.ib&&a.ie&&(n=b.a.pb(a.ie),k=n.length,h.f(k),k&&h.D(b.crypto.M(n,a.ea)))));q.send(h.i());
f()}}var u,r;g.Ka&&g.Ka(b.b.op);for(r=0;r<d.length;r++)d[r].Ac=setTimeout(q,500*r,r),d[r].Mb=b.b.Jg;var y=setTimeout(h,5E3);a.disconnect=function(){n(-1);a.pc=!1}}function f(){function d(){fa=null;var e=b.a.A()-a.de>>>0,c=e;e&2147483648&&(c=-e>>>0);var f=c/1E3/60>>>0;c-=6E4*f;var q=f/60>>>0;f=("0000"+(f-60*q)).slice(-2);e&2147483648?f=["-",q,":",f].join(""):(f=["",q,":",f].join(""),c=6E4-c);!(e&2147483648||a.ee&2147483648)&&0<a.ee&&864E3>a.ee&&(e=(a.ee+59)/60>>>0,q=e/60>>>0,f+=" / "+q+":"+("0000"+
(e-60*q)).slice(-2));a.vr=f;g.am&&g.am();fa=setTimeout(d,c+200)}function q(){f();J=setTimeout(function(){J=null;if(!a.C||a.pc)ka=0,q();else if(ka++,3<=ka)b.a.log("disconnect, local timeout"),C();else{var e=new x.a.g;e.m(a.vg);e.N("0");ia.send(e.i());q()}},2E4)}function f(){null!=J&&(clearTimeout(J),J=null)}function z(){a.v.onmessage&&(a.v.onmessage=null,a.v.postMessage({command:"clear"}))}function B(e){if(m.length()){var d=b.a.A()-aa;20<d||9<=la?(500<d&&b.a.log("info, jnkernel handler("+e+") depth="+
la+",use "+d+"ms"),a.v.onmessage||(a.v.onmessage=function(){a.v.onmessage=null;F()},a.v.postMessage({command:"set"}))):(la++,ha())}}function D(){if(a.Hd||a.hf)b.a.log(a.Hd?"disconnect, remote close":"disconnect, error"),C()}function F(){var a=m.length();if(a){la=0;aa=b.a.A();ha();var e=m.length();e&&e!=a||D()}else D()}function H(){O=new x.a.g(m);var d=m.L(0);switch(d){case a.K:if(!(5>m.length()))if(d=m.c(1),0<=d&&d<=a.Fp)ta[d]();else b.a.log(["disconnect, unknown command extension[",d,"]"].join("")),
C();break;case a.Id:G();break;case a.bn:5>m.length()||(k(-2,m.c(1)),m.shift(5),P=O,B("COMMAND_FLIP"));break;case a.wg:5>m.length()||(d=m.c(1),a.za=d,a.F==b.b.R&&a.Tc&&g.Ib(0),d!=a.G?a.Ja&&(a.Ja=!1):(a.ub=!1,a.Ja||(g.Yb&&g.Yb(),a.Ja=!0)),b.a.log(["data sender change to ",d,"; internal ",a.ua,",",a.za,"; ",a.qa,",",a.Ja].join("")),g.Kf&&g.Kf(d),m.shift(5),P=O,B("COMMAND_DATA_SENDER"));break;case a.vg:2>m.length()||(48==m.L(1)&&(d=new x.a.g,d.m(a.vg),d.N("1"),a.j.send(d.i())),m.shift(2),P=O,B("COMMAND_ALIVE_PACKET"));
break;case a.Bg:if(!(5>m.length())){d=m.c(1);var c=a.ua,f=a.za;!(0<=c)||a.U[c]&&a.U[c].He||(c=-1);!(0<=f)||a.U[f]&&a.U[f].He||(f=-1);var q=g.jc();a.ua=d;a.za=d;a.ub=!1;a.F==b.b.R&&a.Tc&&g.Ib(0);var h=g.jc();d==a.G&&-1!=a.G?a.qa||(g.Yb&&g.Yb(),a.qa=!0,a.Ja=!0,a.th(q,h)):d!=a.G&&(g.be&&g.be(-1),a.qa=!1,a.Ja=!1);b.a.log(["token holder change to ",d,"; internal ",a.ua,",",a.za,"; ",a.qa,",",a.Ja].join(""));g.tl&&g.tl(d,c,f);g.Kf&&g.Kf(d);m.shift(5);P=O;B("COMMAND_TOKEN_UPDATE")}break;case a.gn:M();break;
case a.ad:if(!(5>m.length()))if(d=m.c(1),0<=d&&d<=a.yq)ua[d]();else b.a.log(["disconnect, unknown playback command [",d,"]"].join("")),C();break;case a.vi:a:if(d=m.length(),!(5>d)){c=m.c(1);if(1==c)g.Gl&&g.Gl(),m.shift(5);else if(2==c){if(13>d)break a;g.Yk&&g.Yk(m.c(5),m.c(9));m.shift(13)}else{b.a.log(["disconnect, unknown tutor command ",c].join(""));C();break a}P=O;B("COMMAND_TUTOR")}break;case a.en:E();break;case a.Ym:L(0);break;case a.li:5>m.length()||(d=m.c(1),0<=d&&d<a.$.length&&(a.$[d].Xe=
!0,a.$[d].data&&(a.wa-=a.$[d].data.length,a.$[d].data=null),g.Rl&&g.Rl(d)),m.shift(5),P=O,B("COMMAND_DELETE_SLIDE"));break;case a.ki:5>m.length()||(d=m.c(1),0<=d&&d<a.$.length&&(a.$[d].dg=[],g.ce&&g.ce(1,d)),m.shift(5),P=O,B("COMMAND_CLEAR_MARK"));break;case a.$m:5>m.length()||(d=m.c(1),g.Ml&&g.Ml(d),m.shift(5),P=O,B("COMMAND_DEFAULT_VIDEO_COMMAND"));break;case a.Kn:a.Xb=!0;m.shift(1);P=O;B("COMMAND_TOKEN_OWNER_NOTIFY");break;case a.ti:a.ub&&(a.ub=!1,g.ks());m.shift(1);P=O;B("COMMAND_SKIP_QUESTION");
break;case a.mi:b.a.log("quitsession: user is disconnected by owner");A();g.Ka&&g.vb(b.b.sp);m.shift(1);P=O;B("COMMAND_DISCONNECT");break;case a.zn:c=m.length();9>c||(d=m.c(5),0>d||600<=d?(b.a.log("disconnect, COMMAND_QUESTION_REQUEST invalid len"),C()):c<9+d||(c=m.c(1),c!=a.za&&a.G==g.Fe()&&g.Zk&&g.Zk(c),m.shift(9+d),P=O,B("COMMAND_QUESTION_REQUEST")));break;case a.Dn:e();break;case a.Mn:v();break;case a.si:b.a.log("quitsession: meeting is over");A();a.Ah&&g.ae&&g.ae(a.Ah,"",-1);g.Ka&&g.vb(b.b.xp);
m.shift(1);P=O;B("COMMAND_SESSION_END");break;default:b.a.log(["disconnect, unknown command[",d,"/0x",d.toString(16),"]"].join("")),C()}}function I(){var b=m.length();if(!(9>b)){var e=m.c(1);if(e==a.nn||e==a.mn){if(21>b)return;m.shift(21)}else m.shift(9);P=O;B("Command_MulticastStartAddrEx,"+e)}}function E(){var e;var c=m.length();if(!(2>c)){var f=e=m.L(1);if(48==e){if(a.F!=b.b.Zo&&a.F!=b.b.Eq){if(a.F==b.b.R){if(102>c)return;a.G=m.c(2);a.ta=m.c(6);b.a.log(["my ssrc is ",a.G,", session_index is ",
a.ta].join(""));a.xb=m.c(10);a.xb>b.b.dj&&(a.xb=b.b.dj);1E4>a.xb&&(a.xb=1E4);b.a.log(["max bandwidth is ",a.xb].join(""));a.va=a.xb;g.Nf&&g.Nf();g.Ib(0);c=m.c(98);e=b.crypto.w(m.h(38,20),a.ea);f=b.crypto.w(m.h(58,40),a.ea);a.Gm={ja:e.u(),key:f.u()};a.aa=b.crypto.Wg(a.hd,a.Gm);a.de=b.a.A()-(c>>>0)>>>0;c=(new x.a.g(x.random.ya(4))).Nb();b.a.log(["statistics log anchor ",c].join(""));a.Da(["==================== ",c," ====================\n\n\n"].join(""));a.Da(["connected with mcu ",a.ba,",",a.oa].join(""));
a.Da(["info: meeting session,ssrc=",a.G,",session_index=",a.ta].join(""));c=new x.a.g;c.f(0);c.f(a.G);c.f(a.ta);c.N(a.yc.key);c.N(a.yc.ja);a.je=c;m.shift(102)}else{if(18>c)return;a.G=-1;a.Tf=m.c(2);a.ta=m.c(6);a.xb=0;c=new x.a.g;c.f(1);c.f(a.Tf);c.f(a.ta);c.N(a.yc.key);c.N(a.yc.ja);a.je=c;m.shift(18)}a.lF=a.ta;a.F==b.b.R&&a.sa&&(a.Jc&&(a.Jc.disconnect(),a.Jc=null),a.Jc=new b.protocol.Jc(a));a.FD=!0;a.C=!0;a.pc=!1;a.La=-1;a.ua=-1;a.za=-1;a.wb=-1;a.Te=0;a.Pe=!1;a.mh();a.F==b.b.R&&d();g.Yb&&g.Yb();g.Ka&&
g.Ka(b.b.pp);a.$d&&a.F==b.b.R&&a.Ma&&1<=a.Ma.length&&95!=a.Ma.charCodeAt(0)&&(a.js=!0)}P=O;B("COMMAND_INITIAL_INFO")}else{e==b.b.jp&&a.F==b.b.R&&a.ge&&g.ae&&g.ae(a.ge,"",-1);if(e>b.b.lp||e<b.b.hp)b.a.log("disconnect, COMMAND_INITIAL_INFO return unknown error: "+e),e=b.b.Jg;else if(e==b.b.$o)a.F!=b.b.R?e=b.b.wp:e=b.b.mf+e-256;else{if(e==b.b.Ti){if(10>c)return;e=m.c(2);c=m.c(6);g.Gf&&g.Gf(b.b.Ti,e,c);N();g.hb&&g.hb();return}if(e==b.b.Si){if(10>c)return;e=m.c(2);c=m.c(6);g.Gf&&g.Gf(b.b.Si,e,c);N();g.hb&&
g.hb();return}if(e==b.b.Ui){if(e=b.b.mf+e-256,4==a.ib||5==a.ib)a.ac=a.Uc=""}else e=b.b.mf+e-256}f!=b.b.kp&&g.Ka&&g.vb(e);N();g.hb&&g.hb()}}}function G(){var e;var d=m.length();if(!(2>d)){var c=new h,f=m.L(1);if(f==b.b.Cp||f==b.b.Kg){var q=(e=f==b.b.Kg)?8:0;if(26>d)return;var k=m.c(22);if(0>k){b.a.log("disconnect, COMMAND_MARK.stroke invalid size");C();return}if(d<26+8*k+q)return;c.rm=m.c(2);c.V=m.c(6);c.Ga=m.c(10);c.xm=m.c(14);c.vt=m.c(18);c.Xc=r(c.Ga);c.Fc=f;c.Pj=new Int32Array(k);c.Sj=new Int32Array(k);
for(d=0;d<k;d++)c.Pj[d]=m.c(26+8*d),c.Sj[d]=m.c(8*d+30);e?(c.ob=m.c(26+8*k),c.nd=m.c(8*k+30),c.qd=c.uf=0):c.ob=100;m.shift(26+8*k+q)}else if(f==b.b.Dp||f==b.b.Lg){q=(e=f==b.b.Lg)?8:0;if(38>d)return;k=m.c(34);if(0>k||2048<k){b.a.log("disconnect, COMMAND_MARK.text invalid length");C();return}if(d<38+k+q)return;c.rm=m.c(2);c.V=m.c(6);c.Ga=m.c(10);c.xm=m.c(14);c.Nm=m.c(18);c.Xo=m.c(22);c.Om=m.c(26);c.Mm=m.c(30);c.Xc=r(c.Ga);c.Fc=f;c.mp=b.crypto.w(m.h(38,k),a.aa).u();e?(c.ob=m.c(38+k),c.nd=m.c(38+k+4),
c.qd=c.uf=0):c.ob=100;m.shift(38+k+q)}else if(f==b.b.cj){if(34>d)return;k=m.c(30);if(0>k){b.a.log("disconnect, COMMAND_MARK.move invalid size");C();return}if(d<34+4*k)return;c.V=m.c(2);c.Ga=m.c(6);c.qd=m.c(10);c.uf=m.c(14);c.wt=m.c(18);c.ob=m.c(22);c.nd=m.c(26);c.Xc=r(c.Ga);c.Fc=f;c.om=new Int32Array(k);for(d=0;d<k;d++)c.om[d]=m.c(34+4*d);m.shift(34+4*k)}else if(f==b.b.bj){if(30>d)return;k=m.c(26);if(0>k){b.a.log("disconnect, COMMAND_MARK.customized invalid size");C();return}if(d<30+k+4)return;c.V=
m.c(2);c.Ga=m.c(6);c.qd=m.c(10);c.uf=m.c(14);c.ob=m.c(18);c.kt=m.c(22);c.rx=k;c.Xc=r(c.Ga);c.Fc=f;c.yt=m.h(30,k);c.nd=m.c(30+k);m.shift(30+k+4)}else{b.a.log("disconnect, COMMAND_MARK invalid mark type");C();return}0<=c.V&&c.V<a.$.length&&(a.$[c.V].dg.push(c),g.ce&&g.ce(0,c.V,c));P=O;B("COMMAND_MARK")}}function v(){var e=m.length();if(!(2>e)){var d=m.L(1);if(65==d||97==d){if(11>e)return;var f=m.c(7);if(0>f||128<=f){b.a.log("disconnect, COMMAND_USER_UPDATE invalid userid length");C();return}if(e<11+
f+4)return;var q=m.c(11+f);if(0>q||128<=q){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username length");C();return}if(e<11+f+4+q+4)return;var k=m.c(11+f+4+q);if(0>k||128<=k){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username(2) length");C();return}var h=!1;97==d&&(h=!0);if(e<11+f+4+q+4+k+(h?8:0))return;e=m.c(3);0<=e&&e<b.b.Ha&&(d=new c,d.gd=m.L(2),d.nd=e,d.qd=m.h(11,f),d.ai=m.h(11+f+4,q),d.He=!0,d.V=0,d.ob=0,h&&(d.V=m.c(11+f+4+q+4+k),d.ob=m.c(11+f+4+q+4+k+4)),d.um=0,d.vm=0,d.Xc=0,d.Hh=
0,d.cg=0,d.Ih=new Uint8Array(250),d.Ze=null,d.Fc=0,a.U[e]=d,g.Yb&&g.Yb(),g.bl&&g.bl(e));m.shift(11+f+4+q+4+k+(h?8:0))}else if(68==d||100==d){if(6>e)return;e=m.c(2);0<=e&&e<b.b.Ha&&(a.U[e]&&(a.U[e].He=!1,a.U[e].Ze=null),g.il&&g.il(e,100==d));m.shift(6)}else{b.a.log("disconnect, COMMAND_USER_UPDATE invalid type");C();return}P=O;B("COMMAND_USER_UPDATE")}}function k(b,e){-1!=a.Jb&&g.Cb&&g.Cb(1,a.Jb);a.Jb=e;a.G!=g.jc()&&(-1!=a.Jb&&g.Cb&&g.Cb(2,a.Jb),a.G!=b&&g.Cb&&g.Cb(0,a.Jb))}function e(){var e=m.length();
if(!(9>e)){var d=m.c(5),c=0;var f=0;if(-1==d){if(13>e)return;f=m.c(9);if(0>=f||4E3<f){b.a.log("disconnect, COMMAND_SLIDE_INFO invalid property len");C();return}if(e<13+f+4)return;d=m.c(13+f);c=4+f+4}if(0>d||d>b.b.gj)b.a.log("disconnect, COMMAND_SLIDE_INFO invalid name len"),C();else if(!(e<9+c+d+4)){e=new y;e.Ga=m.c(1);e.Db=m.h(9+c,d);e.Xe=m.c(9+c+d);if(c)for(e.bc=b.crypto.w(m.h(13,f),a.aa),e.Ad=e.bc.u(),f=0;f<e.bc.length();f++)if(!e.bc.L(f)){e.Ad=e.bc.h(0,f);e.ec=e.bc.h(f+1);var q;for(q=f+1;q<e.bc.length();q++)if(!e.bc.L(q)){e.ec=
e.bc.h(f+1,q-(f+1));break}break}e.ec||(e.ec=b.o.bt(e.Db));b.a.endsWith(e.Db,"blank page")&&(e.ih=!0,e.xa=1);e.V&&(e.Db=b.a.Yg("[Deleted]"+b.a.Ab(e.Db),b.b.gj));a.ds(e,a.$.length);e.index=a.$.length;a.$.push(e);q=g.jc();a.F==b.b.R&&-1!=q&&q!=a.G&&e.index==a.Jb&&1==e.xa&&(f=new x.a.g,f.m(a.K),f.f(a.Ag),f.f(1),f.f(e.index),f.f(q),f.f(b.b.oj),a.j.send(f.i()));e.Kh=0;if(e.bc)for(f=a.$.length-2;0<=f;f--){var k=a.$[f];if(k.Ad==e.Ad&&k.bc&&k.ec==e.ec&&k.Ga==e.Ga){e.Kh=k.Kh+1;break}}g.$k&&g.$k(e);!a.sa||a.F!=
b.b.R||e.Xe||e.ih||e.tm||(f=new x.a.g,f.m(a.K),f.f(a.xg),f.f(1),f.f(e.index),a.j.send(f.i()));a.G!=q&&a.F==b.b.R||-1!=(g.If?g.If():-1)||(e=a.Hj(),a.Jb=e,g.Cb&&g.Cb(0,e),a.F==b.b.R&&g.uh(e));m.shift(9+c+d+4);P=O;B("COMMAND_SLIDE_INFO")}}}function L(e){var d=e?4:0,c=e?8:0;2==e&&(c+=12);var f=m.length();if(!(f<9+d)){var q=m.c(1+d);if(0>q||2048<=q)b.a.log("disconnect, Command_ChatText invalid len"),C();else if(!(f<9+q+c)){f=m.c(5+d);d=b.crypto.w(m.h(9+d,q),a.aa).u();if(g.Ba){var k;b.Z.Wq()==b.b.R&&(k=
b.a.A()-a.de>>0);if(e){var h=m.c(13+q);if(2==e){k=m.c(17+q);var L=b.a.mr(m.c(25+q),m.c(21+q))}g.Ba(h,-1,f,d,r(h),k,L)}else g.Ba(-1,-1,f,d,0,k)}m.shift(9+q+c);P=O;B("ChatText,"+e)}}}function M(){var a=m.L(0);b.a.log(["not support command[",a,"/0x",a.toString(16),"]"].join(""));C()}function N(){f();null!=ma&&(clearTimeout(ma),ma=null);z();a.v.terminate();fa&&(clearTimeout(fa),fa=null);a.Sa&&(a.Sa.disconnect(),a.Sa=null);a.Ic&&(a.Ic.disconnect(),a.Ic=null);a.Jc&&(a.Jc.disconnect(),a.Jc=null);a.Pa&&(a.Pa.disconnect(),
a.Pa=null);a.zc&&(a.zc.disconnect(),a.zc=null);a.Zc&&(a.Zc.disconnect(),a.Zc=null);ha=b.o.Y;b.o.I(ia);a.C=!1;a.qa=!1;a.Xb=!1;a.Ja=!1;a.ub=!1;a.La=-1;a.ua=-1;a.za=-1;a.wb=-1;a.Te=0;a.pc=!1;a.Pe=!1;a.oh={};a.Pc=0}function C(){b.o.qm(P,m);N();g.hb&&g.hb();g.Nc&&g.Nc(!0)}var ia=a.j;a.Hd=a.hf=!1;var m=a.Ed,O=new x.a.g,P=new x.a.g,J=null;a.v=new Worker("worker/worker_timeout.js");a.v.onmessage=null;var ha=b.o.Y,ka=0,la=0,aa=0,ma=null,fa=null,ta=[function(){if(!(9>m.length())){a.Re=m.c(5);if(a.F==b.b.R){u();
var e=new x.a.g;e.m(a.K);e.f(a.ri);e.f(a.Zd?1:0);a.j.send(e.i());a.sa&&(e=new x.a.g,e.m(a.K),e.f(a.xg),4==a.ca.Hb.length?(e.f(2),e.Am(a.ca.Hb)):(e.f(3),e.N(a.ca.Hb)),e.gt(),e.Dd(a.ca.port),e.f(a.Rc),a.j.send(e.i()))}else a.F==b.b.Aa&&(u(),e=new x.a.g,e.m(a.ad),e.f(10),e.f(a.Zd?1:0),a.j.send(e.i()));m.shift(9);P=O;B("COMMAND_EXTENSION_MAX_SUPPORT")}},function(){if(!(9>m.length())){var b=m.c(5);g.dl&&g.dl(b);m.shift(9);P=O;B("COMMAND_END_QUESTION_REQUEST_EX")}},function(){if(!(17>m.length())){var b=
m.c(5),e=m.c(9),d=m.c(13);if(0<=e&&e<a.$.length){var c=a.$[e].dg;c&&0<=d&&d<c.length&&c[d].Ga==b&&(b=c[d],c.splice(d,1),g.ce&&g.ce(2,e,b))}m.shift(17);P=O;B("COMMAND_UNDO_MARK_EX")}},M,M,function(){m.shift(5);P=O;B("COMMAND_PROLONG_MEETING_EX")},function(){if(!(6>m.length())){var b=m.L(5);0==b?g.Oc&&g.Oc(a.zh,1):1==b?g.Of&&g.Of(a.zh):2==b&&g.Oc&&g.Oc(a.zh,2);m.shift(6);P=O;B("COMMAND_WAIT_MESSAGE_EX")}},function(){var a=m.length();if(!(9>a)){var e=m.c(5);if(0>e||1E3<=e)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len1"),
C();else if(!(a<9+e+4)){var d=m.c(9+e);if(0>d||128<=d)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len2"),C();else if(!(a<9+e+4+d)){a=m.h(9,e);var c=m.h(9+e+4,d);g.ml&&g.ml(a,c);m.shift(9+e+4+d);P=O;B("COMMAND_SHADOW_JOIN_REQUEST_EX")}}}},M,M,I,function(){9>m.length()||(a.ee=m.c(5)>>>0,fa&&clearTimeout(fa),fa=setTimeout(d,0),m.shift(9),P=O,B("COMMAND_FULL_DURATION_EX"))},function(){var b=new x.a.g("Q");b.f(a.G);b.f(3);b.N("Yes");a.j.send(b.i());a.qa||a.ub||a.qc||a.Ja||(a.ub=!0);m.shift(5);
P=O;B("COMMAND_FORCE_ASK_QUESTION_EX")},function(){9>m.length()||(m.shift(9),P=O,B("COMMAND_RATE_CONTROL_EX"))},function(){b.a.log("quitsession: user is overwritten by another connection");A();g.Ka&&g.vb(b.b.Bp);m.shift(1);P=O;B("COMMAND_USER_OVERWRITE_EX")},M,M,M,M,M,function(){if(!(13>m.length())){var a=m.c(9);if(0>a||a>b.b.ij)b.a.log("disconnect, COMMAND_JTBROWSING_EX invalid url len"),C();else{for(var e=m.c(5),d=m.h(13,a),c=0;c<d.length;c++)if(0===d.charCodeAt(c)){d=d.slice(0,c);break}g.nl&&g.nl(e,
d);m.shift(13+a);P=O;B("COMMAND_JTBROWSING_EX")}}},function(){9>m.length()||(m.shift(9),P=O,B("COMMAND_TCPMEDIA_EX"))},function(){if(!(9>m.length())){var b=m.c(5);g.ol&&g.ol(b);m.shift(9);P=O;B("COMMAND_JTBROWSING_MODE_EX")}},function(){if(!(33>m.length())){var b=m.c(5);var a=m.c(9);var e=m.c(13);var d=m.c(17);var c=m.c(21);var f=m.c(25);var q=m.c(29);g.Hf&&g.Hf(b,a,e,d,c,f,q);m.shift(33);P=O;B("COMMAND_FOCUS_POINTER_EX")}},M,function(){if(!(10>m.length())){var b=m.L(5),a=m.c(6);if(0>a||128<=a)C();
else{var e=m.h(10,a);0==b?g.Oc&&g.Oc(e,1):1==b?g.Of&&g.Of(e):2==b&&g.Oc&&g.Oc(e,2);m.shift(10+a);P=O;B("COMMAND_WAIT_MESSAGE_2_EX")}}},function(){if(!(6>m.length())){var e=m.L(5);1==e?(e=a.F,a.F=b.b.Aa,a.sa?(b.a.log("Warning: mcu relay doesn't support playback, quit this session now..."),C()):(e!=b.b.Aa&&g.fl&&g.fl(),m.shift(6),P=O,B("COMMAND_THIRDPARTY_MODE_EX"))):3==e?(g.Ka&&g.vb(b.b.rp),N(),g.hb&&g.hb()):4==e?(g.Ka&&g.vb(b.b.qp),N(),g.hb&&g.hb()):(b.a.log("disconnect, COMMAND_THIRDPARTY_MODE_EX invalid mode"),
C())}},M,function(){9>m.length()||(0==m.c(5)?(b.a.log("prompt the user for sharejnr or thirdparty password"),g.Mf&&g.Mf(15==a.ib?1:0),m.shift(9),P=O,B("COMMAND_USERINFO2_DIRECTAUTH_EX")):(b.a.log("disconnect, COMMAND_USERINFO2_DIRECTAUTH_EX invalid auth type"),C()))},function(){var e=m.length();if(!(9>e)){var c=m.c(5);if(0==c){if(13>e)return;a.ee=m.c(9)>>>0;fa&&clearTimeout(fa);fa=setTimeout(d,0)}g.Ka&&g.vb(c?b.b.zp:b.b.Ap);m.shift(0==c?13:9);P=O;B("COMMAND_PREPARATIONMODE_EX")}},function(){9>m.length()||
(g.Ka&&g.vb(b.b.yp),m.shift(9),P=O,B("COMMAND_TERMINATION_WARNING_EX"))},M,function(){9>m.length()||(a.dm=m.c(5),g.Il&&g.Il(),m.shift(9),P=O,B("COMMAND_RECORDING_STATUS_EX"))},function(){if(!(13>m.length())){var e=m.c(5),d=m.c(9);0<=e&&e<b.b.Ha&&a.U[e]&&(a.U[e].um=d,g.Ul&&g.Ul(e));m.shift(13);P=O;B("COMMAND_VIDEOSENDING_STATUS_EX")}},function(){g.Ka&&g.vb(b.b.vp);m.shift(5);P=O;B("COMMAND_UNKNOWN_RECORDING_EX")},function(){var e=m.length();if(!(17>e)){var d=m.c(5);if(1==d){if(21>e)return;d=m.c(9);
var c=m.c(13);e=m.c(17);0<=c&&c<b.b.Ha&&g.Hl&&g.Hl(c,d,e);m.shift(21)}else if(0==d){d=m.c(9);c=m.c(13);e=0>d||d>=a.$.length?b.b.Dq:1==a.$[d].xa?b.b.oj:0==a.$[d].xa&&a.Pa&&a.Pa.index==d?b.b.Bq:b.b.Cq;var f=new x.a.g;f.m(a.K);f.f(a.Ag);f.f(1);f.f(d);f.f(c);f.f(e);a.j.send(f.i());m.shift(17)}else{b.a.log("disconnect, COMMAND_POLL_SLIDEDOWNLOAD_EX invalid command");C();return}P=O;B("COMMAND_POLL_SLIDEDOWNLOAD_EX")}},M,function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(d==a.rq){if(17>e)return;a.Rf=
m.c(9);a.Sc=m.c(13);b.a.log(["Participant Channnel, video ",a.Rf,", audio ",a.Sc].join(""));a.Sc=Math.min(a.Sc,b.b.cd);a.Rf=Math.min(a.Rf,b.b.Ob);m.shift(17)}else if(d==a.mq){if(13>e)return;a.Df=m.c(9);b.a.log(["discussion mode is now ",a.Df].join(""));m.shift(13)}else if(d==a.nj||d==a.wq)if(a.F==b.b.Aa){if(17>e)return;m.shift(17)}else a.rh=d==a.nj?!0:!1,m.shift(9);else if(d==a.vq){if(21>e)return;var c=m.c(9);e=m.c(13);d=m.c(17);-1!=e&&d==b.b.pq&&(0>e||e>=b.b.Ob||(a.jb[e]=c));m.shift(21)}else if(d==
a.sq||d==a.xq){if(17>e)return;e=m.c(13);0>e||e>=b.b.Ob||(a.jb[e]=-1);m.shift(17)}else if(d==a.De||d==a.oq){if(17>e)return;c=m.c(9);e=m.c(13);0>e||e>=b.b.cd||(d==a.De?b.a.log("user "+c+" becomes a speaker at channel "+e):b.a.log("speaker channel "+e+" is reset"),a.$b[e]=d==a.De?c:-1,a.F==b.b.R&&a.Tc&&g.Ib(0),c==a.G&&-1!=a.G&&(a.qc=d==a.De,a.qc&&(a.ub=!1)),g.ul&&g.ul(c,d==a.De,e));m.shift(17)}else if(d==a.tq){if(17>e)return;if(m.c(13)){if(21>e)return;c=m.c(17);if(0>c||c>b.b.Ha){b.a.log("disconnect, PARTICIPANT_VIDEO_QUERY_VIEWER invalid count");
C();return}if(e<21+c)return;m.shift(21+c)}else m.shift(17)}else{b.a.log("disconnect, COMMAND_PARTICIPANT_VIDEO_EX invalid command");C();return}P=O;B("COMMAND_PARTICIPANT_VIDEO_EX")}},function(){var a=m.length();if(!(9>a)){var e=m.c(5);if(1==e)g.Pl&&g.Pl(),m.shift(9);else if(2==e){if(17>a)return;g.al&&g.al(m.c(9),m.c(13));m.shift(17)}else{b.a.log(["disconnect, unknown poll command ",e].join(""));C();return}P=O;B("COMMAND_TOKEN_HOLDER_POLL_EX")}},function(){var e=m.length();if(!(9>e)){var d=m.c(5);
1==d?(b.a.log("JoinNet is set to use mcu relay, however the MCU doesn't accept mcu relay"),m.shift(9),a.lh.port=0,setTimeout(function(){g.os();g.ss()},0)):2==d?33>e||(e=m.c(9),0<=e&&e<a.$.length&&(a.$[e].hash=m.h(13,20),a.$[e].tm=!0),m.shift(33),P=O,B("COMMAND_MCU_RELAY_EX")):(b.a.log("disconnect, COMMAND_MCU_RELAY_EX invalid command"),C())}},function(){if(!(9>m.length())){a.wd=b.crypto.w(m.h(5,4),a.ea).c(0)>>>0;var e=a.bb;a.bb=b.a.A()-a.wd;(5E3<e-a.bb||-5E3>e-a.bb)&&b.a.log(["got mcu clock sync - server tick = ",
a.wd," diff = ",a.bb].join(""));m.shift(9);P=O;B("COMMAND_SYNC_CLOCK_EX")}},M,M,M,function(){var e=m.length();if(!(21>e)){if(1==m.c(13)){if(25>e)return;var d=m.c(17);if(0>d||2048<=d){b.a.log("disconnect, COMMAND_PRIVATE_CHAT_TEXT_EX invalid len");C();return}if(e<25+d)return;e=b.crypto.w(m.h(25,d),a.aa).u();var c=e.indexOf("__command: dummypassword ");-1!=c&&(e=e.slice(0,c+25)+"*");var f=m.c(5);c=m.c(9);var q=m.c(21),k=b.a.A()-a.de>>0;g.Ba&&g.Ba(f,c,q,e,r(f),k);m.shift(25+d)}else m.shift(21);P=O;B("COMMAND_PRIVATE_CHAT_TEXT_EX")}},
function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(d==a.un){if(13>e)return;a.vs=m.c(9);m.shift(13)}else if(d==a.tn){if(57>e)return;d=m.c(29);if(0>d||d>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");C();return}a.P[d]=a.P[d]||new n;a.P[d].active=1;a.P[d].bC=0;a.P[d].type=m.c(9);a.P[d].WF=m.c(21);a.P[d].Hr=m.h(37,4)+m.h(43,2)+m.h(47,2)+m.h(49,8);a.P[d].Oj=b.a.kr(a.P[d].Hr);a.P[d].jt=m.c(33);a.P[d].ym=m.c(25);a.P[d].jd=m.c(13);a.P[d].yj=m.c(17)>>>0;a.P[d].bG=0;a.P[d].Km=null;a.P[d].Ca=
b.a.A();a.P[d].ha=a.Ld;0>=a.P[d].jd&&(a.P[d].jd=1);a.P[d].zb=a.P[d].jd;g.Ff&&g.Ff(d);g.Ib(0);var c=a.P[d].Oj;"E5AF1A56-E29C-4BA6-839A-24C2F30EED02"==c?c="Shared Desktop{"+c+"}":"4FC0606A-DA4A-423F-A830-AC5D9853C201"==c&&(c="Remote Control{"+c+"}");a.Da("appdata_new_channel,"+d+","+c+",max_rate="+a.P[d].jd+",ssrc="+a.P[d].ym);g.Lf&&g.Lf(0,a.P[d].jt,d);m.shift(57)}else if(d==a.sn){if(17>e)return;d=m.c(9);b.a.log(-2,"appdata channel errorcode="+d);(d==b.b.gp||d==b.b.fp||d==b.b.ep||d==b.b.cp||d==b.b.bp||
d==b.b.ap)&&g.Lf&&g.Lf(d,m.c(13),-1);m.shift(17)}else if(d==a.pi){if(17>e)return;d=m.c(9);if(0>d||d>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");C();return}if(!a.P[d].active){b.a.log("disconnect, COMMAND_PLUGIN_EX inactive channel got static data");C();return}c=m.c(13);if(0>c||c>a.Mg){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size");C();return}if(e<17+c)return;e=b.crypto.w(m.h(17,c),a.aa).u();a.P[d].Km=e;g.Fl&&g.Fl(0,d,e);m.shift(17+c)}else if(d==a.oi){if(13>e)return;d=m.c(9);
if(0>d||d>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");C();return}if(!a.P[d]||!a.P[d].active){b.a.log("disconnect, COMMAND_PLUGIN_EX channel not active");C();return}a.P[d].active=0;b.a.log(-2,"appdata channel "+d+" close");g.Cl&&g.Cl(0,d);m.shift(13)}else if(d==a.rn){if(21>e)return;c=m.c(17);if(0>c||c>a.Mg){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size2");C();return}if(e<21+c)return;m.shift(21+c)}else{b.a.log("disconnect, COMMAND_PLUGIN_EX invalid command");C();return}P=
O;B("COMMAND_PLUGIN_EX")}},M,M,M,function(){17>m.length()||(a.BF=m.c(5),a.CF=m.c(9),a.DF=m.c(13),m.shift(17),P=O,B("COMMAND_RECORDING_FILEVERSION_EX"))},function(){a.wb=-1;a.La=a.ua=a.za=-1;g.vl&&g.vl();m.shift(5);P=O;B("COMMAND_END_OF_RECORDINGFILE_EX")},function(){b.a.log("warning: server is going to be shut down!");g.Ll&&g.Ll();m.shift(5);P=O;B("COMMAND_SERVER_SHUTDOWN_EX")},function(){var e=m.length();if(!(17>e)){var d=m.c(13);if(0>d||d>a.fj)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid size"),
C();else if(!(e<17+d))if(e=m.c(5),0>e||e>=b.b.Fb)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid channel"),C();else{if(a.P[e]&&a.P[e].active){var c=m.c(9),f=b.crypto.w(m.h(17,d),a.aa).u();g.Dl&&g.Dl(f,e,c)}m.shift(17+d);P=O;B("COMMAND_PLUGIN_CONTROL_DATA_EX")}}},function(){9>m.length()||(m.shift(9),P=O,B("COMMAND_DISABLE_UTF8_EX"))},function(){if(!(9>m.length())){a.hs=m.c(5)&1?!0:!1;b.a.log("The network initialization has finished");for(var e=["audio codec preference [count: ",a.Yd.length,
"] is:"],d=0;d<a.Yd.length;d++){var c=a.Yd[d];e.push(" 0x",c.toString(16),"(",b.o.Vg(c),")")}b.a.log(e.join(""));e=["video codec preference [count: ",a.le.length,"] is:"];for(d=0;d<a.le.length;d++)c=a.le[d],e.push(" 0x",c.toString(16),"(",b.o.Vg(c),")");b.a.log(e.join(""));a.me||b.a.log("webrtc, this MCU doesn't support webrtc, or is not correctly configured, or lacks valid license");(c=b.Z.ys())&&b.a.log("the meetingid is "+c);g.Jf&&g.Jf();g.Zb&&w()&&(c=g.Zb(),a.Uf||!c)&&(b.a.log("update audio status upon start of meeting"),
p(c?1:0));m.shift(9);P=O;B("COMMAND_SIP_CAP_EX")}},function(){if(!(13>m.length())){var e=m.c(5),d=m.c(9);0<=e&&e<b.b.Ha&&a.U[e]&&(a.U[e].Xc=d);m.shift(13);P=O;B("COMMAND_TEXT_CODEPAGE_EX")}},function(){L(1)},function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(1==d){if(13>e)return;var c=m.c(9);if(0>c||1E3<=c){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len");C();return}if(e<13+c+4)return;d=m.c(13+c);e=b.crypto.w(m.h(13,c),a.aa).u();b.a.log("ssrc "+d+" request sip client "+e);0<=d&&d<
b.b.Ha&&a.U[d]&&g.Jl&&g.Jl(d,a.U[d].ai,e);m.shift(17+c)}else if(3==d){if(13>e)return;c=m.c(9);if(0>c||1E3<=c){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len2");C();return}if(e<13+c+4+4)return;d=m.c(13+c);var f=m.c(17+c);e=b.crypto.w(m.h(13,c),a.aa).u();b.a.log("sip client "+e+" of ssrc "+d+" change status to "+f);g.Zl&&g.Zl(d,e,f);m.shift(21+c)}else if(10==d){if(13>e)return;c=m.c(9);if(0>c||1E3<=c){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len3");C();return}if(e<13+c+4+4)return;
d=m.c(13+c);f=m.c(17+c);if(0>f||1E3<=f){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len4");C();return}if(e<13+c+4+4+f)return;e=b.crypto.w(m.h(13,c),a.aa).u();var q=b.crypto.w(m.h(21+c,f),a.aa).u();b.a.log("sip client "+e+" of ssrc "+d+" is updated to "+q);g.$l&&g.$l(d,e,q);m.shift(21+c+f)}else{b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid command");C();return}P=O;B("COMMAND_SIP_CLIENT_EX")}},function(){a.Wk=!0;b.a.log("this meeting adopts all questioners mode");m.shift(5);P=O;B("COMMAND_ALL_QUESTIONER_EX")},
function(){9>m.length()||(a.em=m.c(5),b.a.log(["this meeting let ",a.em?"token holder":"coordinator"," accept uninvited guest"].join("")),m.shift(9),P=O,B("COMMAND_HOLDER_ACCEPT_GUEST_EX"))},M,function(){if(!(53>m.length())){var b=m.c(5);var a=m.c(9);var e=m.c(13);var d=m.c(17);var c=m.c(21);var f=m.c(25);var q=m.c(29);g.Hf&&g.Hf(b,a,e,d,c,f,q);m.shift(53);P=O;B("COMMAND_NEW_FOCUS_POINTER_EX")}},M,function(){if(!(13>m.length())){var b=m.c(5),a=m.c(9);g.Ol&&g.Ol(b,a);m.shift(13);P=O;B("COMMAND_SYNC_FULL_SCREEN_EX")}},
function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(200==d){if(17>e)return;a.Me=m.c(9);a.Ef=m.c(13);m.shift(17)}else{if(a.F==b.b.Aa)0==d||1==d?(b.a.log("prompt the user for jnr password"),g.Mf&&g.Mf(2)):(b.a.log("too many tries to provide the correct jnr password"),g.Ka&&g.vb(b.b.mf+b.b.Ui-256));else if(101==d||100==d)g.Pf&&g.Pf(d-100),a.fh=d-100;else if(1==d||0==d)g.Pf&&g.Pf(d),a.fh=d;m.shift(9)}P=O;B("COMMAND_JNR_PASSWORD_EX")}},I,I,I,M,function(){var a=m.length();if(!(9>a)){var e=m.c(5);0>e||
512<=e?(b.a.log("disconnect, COMMAND_JOINNET_AUTO_UPDATE_EX invalid len"),C()):a<9+e||(m.shift(9+e),P=O,B("COMMAND_JOINNET_AUTO_UPDATE_EX"))}},function(){if(!(9>m.length())){var e=m.c(5),d=e&1?1:0;e=e&2?1:0;(d||e)&&b.a.log(["joinnet has restriction ",d&&e?"disable_upload_file,disable_save_slide":d?"disable_upload_file":"disable_save_slide"].join(""));a.cm=d;a.bm=e;m.shift(9);P=O;B("COMMAND_JOINNET_RESTRICTION_EX")}},function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(0>d||32<d)b.a.log("disconnect, COMMAND_AUDIO_PREFERENCE_EX invalid codec count"),
C();else if(!(e<9+4*d)){a.es=d;a.Yd=[];for(e=0;e<d;e++)a.Yd.push(m.c(9+4*e));m.shift(9+4*d);P=O;B("COMMAND_AUDIO_PREFERENCE_EX")}}},function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(0>d||32<d)b.a.log("disconnect, COMMAND_VIDEO_PREFERENCE_EX invalid codec count"),C();else if(!(e<9+4*d)){a.Rs=d;a.le=[];for(e=0;e<d;e++)a.le.push(m.c(9+4*e));m.shift(9+4*d);P=O;B("COMMAND_VIDEO_PREFERENCE_EX")}}},function(){a.nm=!0;b.a.log("joinnet token holder video set to TRUE");m.shift(5);P=O;B("COMMAND_HOLDER_VIDEO_EX")},
function(){9>m.length()||(a.Tc=m.c(5),b.a.log(["total av bandwidth is set to ",a.Tc].join("")),m.shift(9),P=O,B("COMMAND_TOTAL_AV_BANDWIDTH_EX"))},function(){a.mm=!0;a.F==b.b.R?(b.a.log("The recording file of this meeting will be archived by the system administrator. (Recording is enforced and 'pause recordng' is disabled)"),g.Wl&&g.Wl()):b.a.log("The server turns on archiving");m.shift(5);P=O;B("COMMAND_ARCHIVE_RECORDING_EX")},function(){var e=m.length();if(!(17>e)){var d=m.c(13);if(0>=d||1E6<d)b.a.log("disconnect, COMMAND_SELF_PICTURE_EX invalid file size"),
C();else if(!(e<17+d)){e=m.c(5);var c=m.c(9);if(a.U[e])if(a.U[e].Ze)b.a.log("download self picture for ssrc "+e+" fails. file already exist");else{var f=b.crypto.w(m.h(17,d),a.aa).i();a.Hm(e,new Uint8Array(f),c)}m.shift(17+d);P=O;B("COMMAND_SELF_PICTURE_EX")}}},function(){if(!(9>m.length())){var e=m.c(5);a.Xk=!0;e?b.a.log("upload self picture abort due to error at server"):b.a.log("upload self picture completely");m.shift(9);P=O;B("COMMAND_SPIC_NOTIFY_EX")}},function(){if(!(10>m.length())){var e=
m.c(5),d=m.L(9);0<=e&&e<b.b.Ha&&a.U[e]&&(a.U[e].gd=d&1?a.U[e].gd|1:a.U[e].gd&254,a.U[e].gd=d&2?a.U[e].gd|2:a.U[e].gd&253,g.el&&g.el(e,d&1,d&2),b.a.log("ssrc["+e+"]'s a/v cap to "+(d&1?1:0)+","+(d&2?1:0)));m.shift(10);P=O;B("COMMAND_CHANGE_CAP_EX")}},function(){b.a.log("the meeting does not request recording");m.shift(5);P=O;B("COMMAND_JOINNET_NO_RECORDING_EX")},function(){if(!(9>m.length())){var e=m.c(5),d=g.jc();a.La=e;b.a.log(["controller change to ",e].join(""));g.sl&&g.sl();a.th(d,g.jc());m.shift(9);
P=O;B("COMMAND_CONTROLLER_UPDATE_EX")}},function(){if(!(9>m.length())){var e=m.c(5),d=g.jc();a.Kb=e;b.a.log(["control flag change to 0x",e.toString(16),"(",b.o.zj(e),")"].join(""));a.th(d,g.jc());g.rl&&g.rl(e);m.shift(9);P=O;B("COMMAND_MEETING_CONTROL_EX")}},function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(0==d){if(13>e)return;a.vh=m.c(9);a.vh&&b.a.log("The server support file conversion");m.shift(13)}else if(1==d){if(13>e)return;e=a.Pc;a.Pc=m.c(9);b.a.log(["The JoinNet has ",a.Pc," conversion ongoing at the server"].join(""));
e!=a.Pc&&g.gl&&g.gl();m.shift(13)}else if(2==d){if(21>e)return;e=m.c(17);if(0>e||1E3<=e){b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid len");C();return}a.Pc=m.c(9);d=m.c(13);var c=m.h(21,e);b.a.log(["The JoinNet has ",a.Pc," conversion ongoing at the server"].join(""));b.a.log(["The conversion of file ",c," has error ",d].join(""));g.hl&&g.hl(c,d);m.shift(21+e)}else{b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid command");C();return}P=O;B("COMMAND_FILE_CONVERSION_EX")}},function(){5>
m.length()||(g.ll&&g.ll(),m.shift(5),P=O,B("COMMAND_FORCE_SYNC_EX"))},function(){if(!(13>m.length())){var b=m.c(5),a=m.c(9);g.Nl&&g.Nl(b,a);m.shift(13);P=O;B("COMMAND_SWAP_SLIDE_EX")}},function(){if(!(13>m.length())){var b=m.c(5),a=m.c(9);g.pl&&g.pl(b,a);m.shift(13);P=O;B("COMMAND_MOVE_SLIDE_EX")}},function(){9>m.length()||(a.fm=m.c(5),b.a.log(["this meeting let ",a.fm?"token holder":"coordinator"," end meeting"].join("")),m.shift(9),P=O,B("COMMAND_HOLDER_END_MEETING_EX"))},function(){if(!(13>m.length())){var a=
m.c(5),e=m.c(9);-1==e?b.a.log("ssrc "+a+" stops ForceSingleAudio"):b.a.log("ssrc "+a+" starts ForceSingleAudio of ssrc "+e);m.shift(13);P=O;B("COMMAND_FORCE_SINGLE_AUDIO_EX")}},function(){13>m.length()||(a.Wf=m.c(5),a.Vf=m.c(9),m.shift(13),P=O,B("COMMAND_MEETING_INFO_EX"))},function(){9>m.length()||(a.wb=m.c(5),b.a.log(["assistant change to ",a.wb].join("")),g.ql&&g.ql(),m.shift(9),P=O,B("COMMAND_ASSIGN_ASSISTANT_EX"))},function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(0>d||30<=d)b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len"),
C();else if(!(e<9+d+4)){var c=m.c(9+d);0>c||128<=c?(b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len2"),C()):e<9+d+4+c||(a.ge=a.Ah=m.h(9,d),a.Ps=m.h(9+d+4,c),g.ae&&g.ae(a.Ah,a.Ps,a.G),m.shift(9+d+4+c),P=O,B("COMMAND_RECONNECT_NAME_EX"))}}},function(){13>m.length()||(k(m.c(5),m.c(9)),m.shift(13),P=O,B("COMMAND_FLIP_SLIDE_EX"))},function(){9>m.length()||(a.Te=m.c(5),b.a.log(["opus preferred bitrate is ",a.Te].join("")),m.shift(9),P=O,B("COMMAND_OPUS_EX"))},function(){L(2)},M,function(){var e=
m.length();if(!(9>e)){var d=m.c(5);0>d||1E3<=d?(b.a.log("disconnect, COMMAND_WEBRTC_SIGNAL_SERVER_EX invalid length"),C()):e<9+d||(a.me=b.crypto.w(m.h(9,d),a.aa).u(),b.a.log(["webrtc, signal server url is ",a.me].join("")),m.shift(9+d),P=O,B("COMMAND_WEBRTC_SIGNAL_SERVER_EX"))}},function(){if(!(10>m.length())){var e=m.c(5),d=m.L(9);0<=e&&e<b.b.Ha&&a.U[e]&&(a.U[e].vm=d,g.Vl&&g.Vl(e));b.a.log(5,["webrtc, ssrc ",e," change status to ",d].join(""));m.shift(10);P=O;B("COMMAND_WEBRTC_NOTIFICATION_EX")}},
function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(0>d||1E4<=d)b.a.log("disconnect, COMMAND_WEBRTC_TURN_SERVER_EX invalid length"),C();else if(!(e<9+d)){e=b.crypto.w(m.h(9,d),a.aa).u();try{var c=JSON.parse(e);b.a.isArray(c)&&(10<c.length&&(c.length=10),a.Ch=c)}catch(K){}a.Ch.length?b.a.log("joinnet received turn server information from MCU"):b.a.log("joinnet received turn server information from MCU, but no valid entry found");m.shift(9+d);P=O;B("COMMAND_WEBRTC_TURN_SERVER_EX")}}},M,function(){var e=
m.length();if(!(9>e)){var d=m.c(5);0>d||d>b.b.hj?(b.a.log("disconnect, COMMAND_MEETINGID_NOTIFICATION_EX invalid length"),C()):e<9+d||(a.im=b.crypto.w(m.h(9,d),a.aa).u(),m.shift(9+d),P=O,B("COMMAND_MEETINGID_NOTIFICATION_EX"))}},M],ua=[function(){a.cs();a.nh();g.Zb&&!g.Zb()&&w()&&(b.a.log("update audio status upon restart of playback"),p(0));m.shift(5);P=O;B("PLAYBACK_NOTIFICATION_RESTART")},function(){function e(){if(!(412>m.length())){var b=m.h(20,128),e=b.indexOf("\x00");a.Dh.push(-1==e?b:b.slice(0,
e));m.shift(412);h++;h==d&&(ha=H);P=O;B("PLAYBACK_NOTIFICATION_MEETING_INFO,2")}}if(!(83>m.length())){var d=m.lc(79);if(0>d||d>=b.b.Ha)b.a.log("disconnect, PLAYBACK_NOTIFICATION_MEETING_INFO invalid usernum"),C();else{a.rc=!0;a.Mc=!0;var c=m.lc(23),f=m.lc(27),q=m.lc(19),k=[("0000"+m.lc(43)).slice(-2),":",("0000"+m.lc(47)).slice(-2)," ",m.lc(35),"/",m.lc(39),"/",m.lc(31)].join("");g.wl&&g.wl(c,f,q,k);g.Jf&&g.Jf();g.Zb&&!g.Zb()&&w()&&(b.a.log("update audio status upon start of playback"),p(0));m.shift(83);
a.Dh=[];var h=0;0!=d?ha=e:P=O;B("PLAYBACK_NOTIFICATION_MEETING_INFO")}}},function(){if(!(9>m.length())){var b=m.c(5);g.Bl&&g.Bl(b);m.shift(9);P=O;B("PLAYBACK_NOTIFICATION_TICK")}},function(){if(!(9>m.length())){var a=m.c(5);0==a?b.a.log("the server start to decrypt the recording file"):1==a?b.a.log("the server finish decrypting the recording file"):b.a.log("the server encounter error during decrypting the recording file");g.yl&&g.yl(a);m.shift(9);P=O;B("PLAYBACK_NOTIFICATION_DECRYPTION_STATUS")}},
function(){if(!(9>m.length())){var b=m.c(5);g.xl&&g.xl(b);m.shift(9);P=O;B("PLAYBACK_NOTIFICATION_DECRYPTION_PROGRESS")}},M,function(){var e=m.length();if(!(9>e)){var d=m.c(5);if(0>d||1E6<=d)b.a.log("disconnect, PLAYBACK_NOTIFICATION_PROPERTY invalid size"),C();else if(!(e<9+d)){e=b.crypto.w(m.h(9,d),a.aa).u();if(window.DOMParser){var c=new DOMParser;try{var f=c.parseFromString(e,"text/xml");g.zl&&g.zl(f)}catch(xa){}}m.shift(9+d);P=O;B("PLAYBACK_NOTIFICATION_PROPERTY")}}},M,M,M,M];ia.onclose=function(){f();
a.Hd=!0;a.v.onmessage||F()};ia.onerror=function(){f();a.hf=!0;a.v.onmessage||F()};ia.onmessage=function(e){ka=0;f();e=new x.a.g(e.data);m.D(e);ma||q();a.v.onmessage||(la=0,aa=b.a.A(),ha())};ka=0;(function(){ma=setTimeout(function(){ma=null;null==J&&q()},6E4)})();ha=H;m.length()&&(z(),la=0,aa=b.a.A(),ha());a.disconnect=N}function A(){a.disconnect&&(a.disconnect(),g.hb&&g.hb(),a.disconnect=null)}function u(){a.Pe=!0;if(a.sa)a.Ic&&(a.Ic.disconnect(),a.Ic=null),a.Ic=new b.protocol.Ic(a);else{var d=new x.a.g;
d.m(a.K);d.f(a.Hn);d.f(1);a.j.send(d.i())}a.Sa&&(a.Sa.disconnect(),a.Sa=null);a.Sa=new b.protocol.Sa(a)}function z(d,c,f,g,h){if(a.Pa){if(a.Pa.index==d)return;a.Pa.disconnect();a.Pa=null}a.C?a.Pa=new b.protocol.Is(a,d,c,f,g,h):setTimeout(function(){h&&h()},0)}function p(d){if(!a.C||!w())return 1;var c=new x.a.g;c.m(a.K);c.f(a.ji);c.f(d?1:0);a.j.send(c.i());b.a.log("request audio "+(d?"On":"Off"))}function r(d){return 0<=d&&d<b.b.Ha&&a.U[d]?a.U[d].Xc:0}function D(){return a.qa||a.Ja||a.qc}function w(){return a.Re>=
a.ji?!0:!1}function I(){return a.Re>=a.ni?!0:!1}var x=window.W,a={hc:1,ic:41,Og:0,wa:0};b.a.log("hmtg jnkernel version "+J());var g=b.jnkernel=b.Z=b.Z||{};g.version=g.version=J;a.$b=new Int32Array(b.b.cd);a.jb=new Int32Array(b.b.Ob);a.P=[];F();a.disconnect=null;a.Ma="";a.pc=!1;a.AF=2;a.Cm=5E3;a.kg=2E4;a.Bm=2E5;a.rc=!0;a.Zd=!1;a.Mc=!1;a.G=-1;a.Aq=72;a.en=48;a.bn=65;a.Ym=67;a.wg=68;a.li=69;a.ki=71;a.Kn=73;a.ti=74;a.mi=75;a.Id=77;a.zn=81;a.Dn=83;a.Bg=84;a.Mn=85;a.si=88;a.$m=70;a.vg=66;a.vi=116;a.ad=
33;a.xo=86;a.gn=118;a.K=122;a.Mt=0;a.an=1;a.Ln=2;a.xn=3;a.fu=4;a.mu=5;a.cw=6;a.su=7;a.on=8;a.tu=9;a.eu=10;a.Rt=11;a.Pt=12;a.nu=13;a.Pu=14;a.pn=15;a.Qu=16;a.Ju=17;a.Wm=18;a.Gt=19;a.hn=20;a.Hn=21;a.jn=22;a.cn=23;a.Kt=24;a.bw=25;a.Ku=26;a.Ou=27;a.Nu=28;a.lu=29;a.Hu=30;a.ri=31;a.An=32;a.wo=33;a.Mu=34;a.Ag=35;a.iu=36;a.kf=37;a.ui=38;a.xg=39;a.Gu=40;a.It=42;a.Ht=43;a.yn=44;a.zg=45;a.$t=46;a.ju=47;a.yg=48;a.pu=49;a.Lt=50;a.ru=51;a.qn=52;a.Jt=53;a.uu=54;a.Jn=55;a.Iu=56;a.Bn=57;a.Dt=58;a.St=59;a.Zt=60;a.gu=
61;a.Yt=62;a.Gn=63;a.fn=64;a.nn=65;a.du=66;a.mn=67;a.cu=68;a.Vt=69;a.Xt=70;a.Ft=71;a.aw=72;a.Ut=73;a.Lu=74;a.Et=75;a.qu=76;a.En=77;a.Xm=78;a.Wt=79;a.Zm=80;a.kn=81;a.Nt=82;a.dn=83;a.Fn=84;a.ln=85;a.Tt=86;a.Qt=87;a.bu=88;a.Vm=89;a.ou=90;a.Ot=91;a.hu=92;a.In=93;a.ji=94;a.dw=95;a.yo=96;a.ew=97;a.Ii=98;a.au=99;a.ni=100;a.Fp=100;a.rq=0;a.iz=1;a.nj=2;a.wq=3;a.uq=4;a.vq=5;a.sq=6;a.qq=7;a.xq=8;a.hz=9;a.lq=10;a.nq=11;a.De=12;a.oq=13;a.gz=14;a.fz=15;a.mq=16;a.tq=17;a.wn=1;a.pi=2;a.oi=3;a.tn=4;a.sn=5;a.vn=6;
a.rn=7;a.un=8;a.ku=9;a.vz=0;a.sz=1;a.xz=2;a.qz=3;a.pz=4;a.wz=5;a.uz=6;a.rz=7;a.oz=8;a.nz=9;a.yq=10;a.Mg=65536;a.fj=8192;a.Cu=1;a.Cn=2;a.Du=3;a.vu=4;a.xu=5;a.wu=6;a.Au=7;a.Bu=8;a.yu=9;a.Eu=10;a.zu=11;a.Fu=12;a.bs=function(b){b=b.split(",");if(2!=b.length)return{};var a=parseInt(b[1].trim());if(!a)return{};b[0]=b[0].trim();if(0==b[0].length)return{};var d=x.a.er(b[0]);null==d&&(d="");return{Tb:b[0],Hb:d,port:a}};a.Da=function(d){if(a.F==b.b.R){var c=(new Date).toString().replace(/(GMT.*)/,""),f=b.a.A()-
a.de,g=f>>>0;f>>=0;var h=g;g&2147483648&&(h=-g>>>0);var n=h/1E3/60>>>0;h=n/60>>>0;n=("0000"+(n-60*h)).slice(-2);b.a.sj("hmtg_log_stat","hmtg_log_stat_first_idx","hmtg_log_stat_count","hmtg_log_stat_size","hmtg_log_stat_item_",b.a.Hp,b.a.Ip,b.a.br+":"+c+(g&2147483648?["(-",h,":",n,",",f,") "].join(""):["(",h,":",n,",",f,") "].join(""))+d)}};a.JF=function(d){a.Da(b.a.Ab(d))};a.Hj=function(){var b;for(b=0;b<a.$.length;b++)if(!a.$[b].Xe)return b;return-1};a.th=function(b,c){c!=b&&g.be&&g.be(-1);c==a.G&&
-1!=a.G&&b!=c&&(b=g.If?g.If():-1,-1!=a.Jb&&g.Cb&&g.Cb(1,a.Jb),-1==b?(b=a.Hj(),g.Cb&&g.Cb(0,b),g.uh(b)):g.uh(b))};a.mh=function(){var b;for(b=0;b<a.$.length;b++){var c=a.Kc[b];c&&c.data&&(a.wa-=c.data.length);a.Kc[b]=a.$[b]}a.$=[]};a.Vk=function(){var b;for(b=0;b<a.Kc.length;b++){var c=a.Kc[b];c.data&&(a.wa-=c.data.length)}a.Kc=[]};a.ds=function(b,c){if(!(b.xa||a.Kc.length<=c)){var d=!1;c=a.Kc[c];c.data&&(c.Ga==b.Ga?c.Db==b.Db||c.Db&&0==c.Db.indexOf("[Deleted]")&&c.Db.slice(9)==b.Db?(b.data=c.data,
b.ka=c.gb,b.gb=c.gb,b.ra=c.ra,b.xa=c.xa,b.hash=c.hash,b.Us=c.Us,c.data=null):d=!0:d=!0,d&&a.Vk())}};a.cs=function(){g.ps();a.La=-1;a.ua=-1;a.za=-1;a.wb=-1;b.a.log("reset participant video channel status in jn_PlaybackRestart");var d;for(d=0;d<b.b.cd;d++)a.$b[d]=-1;for(d=0;d<b.b.Ob;d++)a.jb[d]=-1;a.wb=-1;a.La=-1;b.a.log("init controller to -1 (playback restart)");a.rc=!0;a.Mc=!0;d=a.U;for(var c in d)d.hasOwnProperty(c)&&(d[c].He=!1,d[c].Ze=null);a.mh();g.Al&&g.Al()};a.nh=function(){a.mF=b.a.A()};a.Hm=
function(d,c,f){function g(a,c){function f(){b.a.log("download self picture for ssrc "+d+" fails. error in loading image")}try{if(5E7<a.length){f();return}var g=new Blob([a],{type:c});var h=window.URL.createObjectURL(g)}catch(k){f();return}var n=new Image;n.addEventListener("load",function(){window.URL.revokeObjectURL(h);n.width&&n.height?(q&&(q.Ze=n),b.Z.Kl&&b.Z.Kl(d),b.a.log("download self picture for ssrc "+d+" completely")):b.a.log("download self picture for ssrc "+d+" fails. zero image size")},
!1);n.addEventListener("error",function(){window.URL.revokeObjectURL(h);f()},!1);n.src=h}var q=a.U[d],h="";1==f?(h="image/bmp",(f=b.Z.ls())?new f("unzip",c,function(b){g(b,h)},function(){b.a.log("download self picture for ssrc "+d+" fails. error in unzipping")}):b.a.log("download self picture for ssrc "+d+" fails. cannot unzip")):(2==f?h="image/gif":3==f?h="image/jpeg":4==f&&(h="image/png"),g(c,h))};a.U={};a.Xb=!1;a.qa=!1;a.Ja=!1;a.rh=!1;a.qc=!1;a.Df=!1;a.ub=!1;a.G=-1;a.ua=-1;a.za=-1;a.La=-1;a.Kb=
0;a.wb=-1;a.Sh=[];for(var aa=0;aa<b.b.Fb;aa++)a.Sh.push({});a.$=[];a.Kc=[];a.wa=0;a.Pe=!1;for(aa=0;aa<b.b.cd;aa++)a.$b[aa]=-1;for(aa=0;aa<b.b.Ob;aa++)a.jb[aa]=-1;c.prototype._m_jn_major=function(){return this.V};c.prototype._m_jn_minor=function(){return this.ob};c.prototype._szRealName=function(){return this.ai};c.prototype._cap=function(){return this.gd};c.prototype._bLogged=function(){return this.He};c.prototype._m_spic_img=function(){return this.Ze};c.prototype._m_iVideoSendingStatus=function(){return this.um};
c.prototype._m_iWebRTCStatus=function(){return this.vm};y.prototype._m_iSource=function(){return this.Ga};y.prototype._index=function(){return this.index};y.prototype._m_szName=function(){return this.Db};y.prototype._is_blank_page=function(){return this.ih};y.prototype._m_bDeleted=function(){return this.Xe};y.prototype._downloaded=function(){return this.xa};y.prototype._data=function(){return this.data};y.prototype._mark_array=function(){return this.dg};y.prototype._m_szGroup=function(){return this.Ad};
y.prototype._m_iGroupIndex=function(){return this.Kh};y.prototype._m_szOwnerName=function(){return this.ec};y.prototype._group_id=function(){return""+this.Ad+this.ec+this.Ga};y.prototype._is_active=function(){return a.G==g.jc()&&a.F==b.b.R?!1:this.index==a.Jb};h.prototype._m_iColor=function(){return this.rm};h.prototype._m_iIndex=function(){return this.V};h.prototype._m_iSource=function(){return this.Ga};h.prototype._m_nPenWidth=function(){return this.xm};h.prototype._m_iShape=function(){return this.vt};
h.prototype._m_codepage=function(){return this.Xc};h.prototype._m_byMarkType=function(){return this.Fc};h.prototype._ax=function(){return this.Pj};h.prototype._ay=function(){return this.Sj};h.prototype._m_zoom=function(){return this.ob};h.prototype._m_iID=function(){return this.nd};h.prototype._m_offset_x=function(){return this.qd};h.prototype._m_offset_y=function(){return this.uf};h.prototype._m_rect_left=function(){return this.Nm};h.prototype._m_rect_top=function(){return this.Xo};h.prototype._m_rect_right=
function(){return this.Om};h.prototype._m_rect_bottom=function(){return this.Mm};h.prototype._m_szContent=function(){return this.mp};h.prototype._m_move_type=function(){return this.wt};h.prototype._id_array=function(){return this.om};h.prototype._m_iCustomizedMarkType=function(){return this.kt};h.prototype._m_pCustomizedMarkData=function(){return this.yt};n.prototype._guid_str=function(){return this.Oj};n.prototype._active=function(){return this.active};n.prototype._static_data=function(){return this.Km};
n.prototype._stat=function(){return this.stat};n.prototype._data_rate_threshold=function(){return this.jd};n.prototype._jn_tokens=n.prototype.Xq=function(){if(0<this.ha)return this.ha;var a=b.a.A();this.ha+=(a-this.Ca)*this.zb/8E3;this.Ca=a;return this.ha};n.prototype._data_rate=function(b){if("undefined"===typeof b)return this.zb;a.C&&(this.zb=b,g.Ib(0))};g.it=function(d,c){function f(d,c){var f=a.$[d];!f.data||c&&!b.a.endsWith(f.Db,".jzf")||(a.wa-=f.data.length,f.data=null,f.ka=0,f.gb=0,f.xa=0,
f.ra=0,g.Sl&&g.Sl(d))}var q=b.Z.Ph();if(!(a.wa+c<=q)){var h,n=a.$.length,p=Math.max(n-1-d,d);for(h=p;0<h;h--){var r=d-h;if(0<=r&&(f(r,!0),a.wa+c<=q))return;r=d+h;if(r<n&&(f(r,!0),a.wa+c<=q))return}for(h=p;0<h;h--){r=d-h;if(0<=r&&(f(r,!1),a.wa+c<=q))break;r=d+h;if(r<n&&(f(r,!1),a.wa+c<=q))break}}};g.Ph=function(){return g.Yl?1048576*g.Yl():536870912};g._memory_usage=g.KB=function(){return a.wa};g._cipher_name=g.Rq=function(){return a.hd};g._duration_str=g.LA=function(){return a.vr};g._jn_bConnected=
g.rj=function(){return a.C};g._jn_bConnecting=g.VA=function(){return a.pc};g._jn_UserArray=g.PA=function(){return a.U};g._jn_ssrc_index=g.AB=function(){return a.G};g._jn_iSessionIndex=g.tB=function(){return a.ta};g._jn_dwSessionStartTick=g.gB=function(){return a.de};g._jn_iWorkMode=g.Wq=function(){return a.F};g._jn_szUserID=g.BB=function(){return a.Ma};g._jn_codetype=g.bB=function(){return a.ib};g._jn_opus_preferred_bitrate=g.yB=function(){return a.Te};g._jn_audio_codec_array=g.QA=function(){return a.Yd};
g._jn_video_codec_array=g.GB=function(){return a.le};g._jn_SlideArray=g.OA=function(){return a.$};g._jn_iActiveSlideIndex=g.hB=function(){return a.Jb};g._jn_bTokenOwner=g.aB=function(){return a.Xb};g._jn_bTokenHolder=g.$A=function(){return a.qa};g._jn_bDataSender=g.WA=function(){return a.Ja};g._jn_iSize_w=g.vB=function(){return a.xh};g._jn_iSize_h=g.uB=function(){return a.wh};g._jn_bPreferenceQuestioner=g.Uq=function(){return a.rc};g._jn_iAssistant=g.jB=function(){return a.wb};g._jn_iTokenHolder=
g.wB=function(){return a.ua};g._jn_iController=g.kB=function(){return a.La};g._jn_iControlFlag=g.Vq=function(){return a.Kb};g._jn_iDataSender=g.lB=function(){return a.za};g.is_talker=g.gC=function(b){if(0>b)return!1;if(b==a.ua||b==a.za)return!0;for(var d=0;d<a.Sc;d++)if(b==a.$b[d])return!0;return!1};g.is_questioner=g.eC=function(b){if(0>b||b==a.ua)return!1;if(b==a.za)return!0;for(var d=0;d<a.Sc;d++)if(b==a.$b[d])return!0;return!1};g.is_speaker=g.fC=function(b){if(0>b)return!1;for(var d=0;d<a.Sc;d++)if(b==
a.$b[d])return!0;return!1};g._jn_iParticipantVideoSsrc=g.rB=function(){return a.jb};g._jn_iParticipantAudioSsrc=g.qB=function(){return a.$b};g._jn_iAdjustedMaxBandwidth=g.iB=function(){return a.Qc};g._jn_iMaxBandwidth=g.nB=function(){return a.xb};g._jn_tokens=g.Xq=function(){if(0<a.ha)return a.ha;var d=b.a.A();a.ha+=(d-a.Ca)*a.va/8E3;a.Ca=d;return a.ha};g._jn_auto_download_all=g.SA=function(){return a.fs};g._jn_auto_download_next=g.TA=function(){return a.gs};g._jnj_opus_preferred_bitrate=g.JB=function(){return a.Ss};
g._stat_video=g.NB=function(){return a.Jm};g._stat_audio=g.MB=function(){return a.Im};g._codec2str=g.KA=function(){return b.o.Vg};g._jn_bPreferenceQuestioner=g.Uq=function(){return a.rc};g._jn_bPreferenceBothVideo=g.XA=function(){return a.Zd};g._jn_bRecvVideo=g.ZA=function(){return a.Mc};g._jn_iMaxParticipantAudio=g.oB=function(){return a.Sc};g._jn_bQuestionRequest=g.YA=function(){return a.ub};g._jn_iControlFlag=g.Vq=function(){return a.Kb};g._jn_conversion_support=g.dB=function(){return a.vh};g._jn_conversion_count=
g.cB=function(){return a.Pc};g._jn_disable_upload_file=g.fB=function(){return a.cm};g._jn_disable_save_slide=g.eB=function(){return a.bm};g._sync_ssrc=g.jc=function(){return a.Kb&b.b.Eg?a.La:a.ua};g._is_sync_ssrc=g.qj=function(){var d=a.Kb&b.b.Eg?a.La:a.ua;return-1!=a.G&&a.G==d};g._q_ssrc=g.Fe=function(){return a.Kb&b.b.Oi?a.La:a.ua};g._fullscreen_ssrc=g.MA=function(){return a.Kb&b.b.Qi?a.La:a.ua};g._tab_ssrc=g.Yq=function(){return a.Kb&b.b.Ri?a.La:a.ua};g._poll_ssrc=g.LB=function(){return a.Kb&b.b.uw?
a.La:a.ua};g._jn_iRecordingStatus=g.sB=function(){return a.dm};g._jn_to_archive=g.DB=function(){return a.mm};g._jn_plugin_data=g.zB=function(){return a.P};g._has_jnr_password=g.NA=function(){return a.fh};g._jn_bEnableJNRPassword=g.Tq=function(){return a.Me};g._jn_user_record=g.FB=function(){return a.Dh};g._jn_bAudioCap=g.UA=function(){return a.Lc};g._jn_webrtc_signal_server_url=g.IB=function(){if(!a.me)return"";var d=b.crypto.$c(a.yc.ja.slice(0,16));d=d.Nb().slice(0,32);var c=b.crypto.$c(a.Gm.ja.slice(0,
16));c=(""+a.ta+"a"+c.Nb()).slice(0,36);return a.me+"?peerName="+a.G+"&roomId="+c+"&hash="+d};g._jn_webrtc_check_auth=g.HB=function(d){var c=b.crypto.$c(a.yc.key.slice(0,16));c=c.Nb().slice(0,32);return c==d};g._jn_is_webrtc_supported=g.xB=function(){return!!a.me};g._jn_turn_server_array=g.EB=function(){return a.Ch};g._jn_audio_rate=g.RA=function(b){if("undefined"===typeof b)return a.Le;a.C&&(a.Le=b,g.Ib(0))};g._jn_iMaxVideoBitrate=g.pB=function(b){if("undefined"===typeof b)return a.Sf;a.C&&(a.Sf=
b,g.Ib(0))};g._jn_iMaxAppdataBitrate=g.mB=function(b){if("undefined"===typeof b)return a.Se;a.C&&(a.Se=b,g.Ib(0))};g._jn_targetrate=g.CB=function(d){if("undefined"===typeof d)return a.va;a.va!=d&&a.C&&(b.a.log("JoinNet set target rate "+a.va+" -> "+d),a.va=d,g.Ib(0))};g.jn_command_Reset=g.AE=function(){a.F=b.b.R;a.$=[];a.Kc=[];a.wa=0};g.jn_command_CallbackReady=g.RD=function(){var a=b.Z;a.jl=a.jn_callback_ErrorReport;a.ls=a.jn_callback_decompress;a.Yl=a.jn_callback_memory_threshold;a.Xl=a.jn_callback_fail_to_connect;
a.Ka=a.jn_callback_UpdateStatus;a.vb=a.jn_callback_UpdateStatus_MessageBox;a.Gf=a.jn_callback_ErrorWrongVersion;a.Nc=a.jn_callback_DisconnectFromMCU;a.bl=a.jn_callback_AddUser;a.il=a.jn_callback_DeleteUser;a.hb=a.jn_callback_EventQuitSession;a.kl=a.jn_callback_EventStartSession;a.$k=a.jn_callback_AddSlideTitle;a.Ba=a.jn_callback_ChatText;a.Jf=a.jn_callback_NetInitFinish;a.nl=a.jn_callback_JointBrowsing;a.am=a.jn_callback_update_duration_str;a.wl=a.jn_callback_PlaybackInitStat;a.Bl=a.jn_callback_PlaybackTickUpdate;
a.Al=a.jn_callback_PlaybackRestart;a.fl=a.jn_callback_ChangeWorkMode;a.cl=a.jn_callback_AudioPacketRecved;a.Tl=a.jn_callback_VideoPacketRecved;a.Ql=a.jn_callback_UnknownMediaAlert;a.If=a.jn_callback_GetSelectedSlideIndex;a.Cb=a.jn_callback_FlipSlide;a.ce=a.jn_callback_mark_event;a.Hf=a.jn_callback_FocusPointer;a.Rl=a.jn_callback_UpdateDeletedSlideTitle;a.Sl=a.jn_callback_UpdateReleasedSlideTitle;a.tl=a.jn_callback_NewTokenHolder;a.Kf=a.jn_callback_NewDataSender;a.ql=a.jn_callback_NewAssistant;a.sl=
a.jn_callback_NewController;a.rl=a.jn_callback_NewControlFlag;a.ul=a.jn_callback_ParticipantVideoSpeakerStatus;a.Nf=a.jn_callback_VideoBitrateChanged;a.Ff=a.jn_callback_AppdataBitrateChanged;a.Zk=a.jn_callback_AddQuestion;a.dl=a.jn_callback_CancelQuestion;a.ml=a.jn_callback_JoinRequest;a.Jl=a.jn_callback_SIPJoinRequest;a.Zl=a.jn_callback_sipclient_status_update;a.$l=a.jn_callback_sipclient_transfer_update;a.ks=a.jn_callbackQuestionSkipped;a.gl=a.jn_callback_ConversionCount;a.hl=a.jn_callback_ConversionResult;
a.el=a.jn_callback_ChangeCapability;a.Gl=a.jn_callback_PollRequest;a.Yk=a.jn_callback_AddPollResult;a.Pl=a.jn_callback_TokenHolderPollRequest;a.al=a.jn_callback_AddTokenHolderPollResult;a.Oc=a.jn_callback_LeaveMessage;a.Of=a.jn_callback_WaitForResponse;a.ol=a.jn_callback_JointBrowsingMode;a.Ol=a.jn_callback_SyncFullScreen;a.Ll=a.jn_callback_ServerShutdown;a.Mf=a.jn_callback_PromptPassword;a.ae=a.jn_callback_ReconnectName;a.Kl=a.jn_callback_SelfPictureReady;a.ll=a.jn_callback_ForceSync;a.Nl=a.jn_callback_SwapSlide;
a.pl=a.jn_callback_MoveSlide;a.be=a.jn_callback_ResetSlidePolling;a.Hl=a.jn_callback_PollSlideDownloadResult;a.Il=a.jn_callback_RecordingStatusNotification;a.Wl=a.jn_callback_archive_recording;a.Pf=a.jn_callback_jnr_password_status;a.Lf=a.jn_callback_PlugInRequestChannelResponse;a.Cl=a.jn_callback_PlugInCloseChannelResponse;a.Fl=a.jn_callback_PlugInSetStaticDataResponse;a.Dl=a.jn_callback_PlugInControlChannelData;a.El=a.jn_callback_PlugInPacketRecved;a.Ul=a.jn_callback_VideoSendingStatusNotification;
a.yl=a.jn_callback_PlaybackJNRDecryptionStatus;a.xl=a.jn_callback_PlaybackJNRDecryptionProgress;a.Ml=a.jn_callback_SetDefaultPlaybackVideo;a.Yb=a.jn_callback_ForceIFrame;a.zl=a.jn_callback_PlaybackJNRPropertyReady;a.Zb=a.jn_callback_IsRecvingAudio;a.Vl=a.jn_callback_WebRTCStatusNotification;a.vl=a.jn_callback_PlaybackEndOfFile};g.jn_command_read_jnj=g.eF=function(d){a.mh();a.Vk();a.nh();var c=d.entries;F();a.Bs=c.portm>>>0;a.Cs=(c.portm2||0)>>>0;a.jm=c.ip;a.km=c.backupip||"";a.xh=c.size_w||320;a.wh=
c.size_h||240;8>a.xh&&(a.xh=8);8>a.wh&&(a.wh=8);a.fs=c.auto_download_all;a.gs="undefined"===typeof c.auto_download_next?!0:c.auto_download_next>>0;a.Ss="undefined"===typeof c.opus_preferred_bitrate?0:c.opus_preferred_bitrate>>0;a.We=c.userinfo||"";a.jm=c.ip;a.km=c.backupip||"";var f=a.ib=c.codetype||0;a.lh=a.bs(c.use_relay||"");a.gm=c.make_recording||0;if(0==f)b.a.log("no code type found in .jnj file");else{if(4==f||5==f){a.Ma=a.sc=(c.userid||"").slice(0,127);if(!a.sc)return b.a.log("no userid is specified in .jnj file"),
!1;if((d=c.owner_passwd||"")&&b.a.localStorage[d]){var g=b.a.qe(b.a.localStorage[d]);"undefined"!==g&&g.time&&"string"===typeof g.value&&(g=b.crypto.w(g.value,b.crypto.gf).u(),a.xd=g.slice(0,99),b.a.sd||b.a.localStorage.removeItem(d))}a.zh=(c.username||"").slice(0,127);a.Zf=(c.playback_filename||"").slice(0,23);a.ie=(c.invite_ticket||"").slice(0,255);a.$d=!0;a.ac=a.Uc="";if(5!=f||a.Zf)4==f?(a.ie?(a.Ma=("_"+a.sc).slice(0,127),a.Ue=a.Ve="Invited Guest"):a.xd?(a.Ma=a.sc,a.Uc=b.a.ff(a.xd,b.b.ej),a.ac=
a.Uc,a.xd=""):(a.Ma=("_"+a.sc).slice(0,127),a.Ue=a.Ve="Guest"),a.F=b.b.R):(a.xd&&(a.Ma=a.sc,a.Uc=b.a.ff(a.xd,b.b.ej),a.ac=a.Uc,a.xd=""),a.F=b.b.Aa);else return b.a.log("no jnr is specified in playback jnj file"),!1;return!0}if(13==f||15==f){a.We=b.a.ff(c.userinfo||"",b.b.Kp);a.Ma=a.sc=(c.userid||"").slice(0,127);if(0==a.We.length)return b.a.log("no userinfo is specified in .jnj file"),!1;a.ke=b.a.ff(c.player_name||"",128);a.ke.length&&b.a.ne(["found player_name ",a.ke," in jnj"].join(""));15==f?((d=
c.owner_passwd||"")&&b.a.localStorage[d]&&(g=b.a.qe(b.a.localStorage[d]),"undefined"!==g&&g.time&&"string"===typeof g.value&&(g=b.crypto.w(g.value,b.crypto.gf).u(),a.lm=g.slice(0,99),b.a.sd||b.a.localStorage.removeItem(d))),a.$d=!0,a.sh=!1,a.F=b.b.Aa):(a.sh=!0,a.F=c.action?b.b.Aa:b.b.R);a.ac=a.Uc="";return!0}}return!1};g.jn_command_initconnectmedia=g.ss=function(d){a.Qs=!1;a.C=!1;a.HD=!1;a.Xk=!1;a.Xb=!1;a.qa=!1;a.Ja=!1;a.rh=!1;a.qc=!1;a.Df=!1;a.ub=!1;a.de=b.a.A();a.va=a.Qc=a.xb=a.Sf=1E7;a.Se=0;a.Le=
0;a.Tc=0;a.G=-1;a.ua=-1;a.za=-1;a.La=-1;a.Kb=0;a.wb=-1;a.Sh=[];for(var c=0;c<b.b.Fb;c++)a.Sh.push({});a.Pe=!1;for(c=0;c<b.b.cd;c++)a.$b[c]=-1;for(c=0;c<b.b.Ob;c++)a.jb[c]=-1;a.U={};a.Eh=-1;a.Fh=-1;a.Te=0;a.Rf=-1;a.Sc=-1;a.fe=-3;a.Ne=!1;a.vs=-1;a.kF=-2;a.hs=!1;a.Wk=!1;a.em=0;a.fm=0;a.Me=!1;a.Ef=!1;a.nm=!1;a.cm=a.bm=0;a.es=0;a.Yd=[];a.Rs=0;a.le=[];a.mm=!1;a.fh=!1;a.vh=0;a.Pc=0;a.dm=1;a.Zc&&(a.Zc.disconnect(),a.Zc=null);a.me="";a.Ch=[];a.im="";a.Lc=a.ud=!1;g.kl&&g.kl();a.Oe=d||!1;a.KD=!1;a.pc=!0;a.sa=
!1;a.lh.port?a.F==b.b.Aa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):(a.ca=a.lh,a.sa=!0,b.a.log(["using one time mcu relay ",a.ca.Tb,",",a.ca.port].join(""))):a.JD&&a.ca.port&&(a.F==b.b.Aa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):b.a.log(["using mcu relay ",a.ca.Tb,",",a.ca.port].join("")));a.Re=0;a.Xf=0;c=b.o.Uh(a.jm,a.km,a.Bs,a.Cs);d=c.Nh;c=c.$h;a.gm&&
a.sa&&(b.a.log("make recording cannot use relay, clear relay setting and try to directly connect......"),a.sa=!1);H(d,c)};g.jn_command_QuitConnection=g.os=function(){a.disconnect&&(b.a.log("disconnect, user(or a reconnection) quit connection"),A())};g.jn_command_OwnerResponse=g.gE=function(b,c){var d=new x.a.g;d.m(a.K);d.f(a.on);d.H(b);d.f(c);a.j.send(d.i());return 0};g.jn_command_SendChatText=g.BE=function(d,c){if(!a.C)return 1;if(b.a.startsWith(c,"__command:")){if(b.a.startsWith(c,"__command: swap ")){d=
c.slice(16);c=d.indexOf(" ");if(-1==c)return g.Ba&&g.Ba(-1,-1,1,"syntax:",0),g.Ba&&g.Ba(-1,-1,1,"__command: swap m n",0),0;g.qs(parseInt(d),parseInt(d.slice(c+1)))}else if(b.a.startsWith(c,"__command: move ")){d=c.slice(16);c=d.indexOf(" ");if(-1==c)return g.Ba&&g.Ba(-1,-1,1,"syntax:",0),g.Ba&&g.Ba(-1,-1,1,"__command: move index target_pos",0),0;g.ms(parseInt(d),parseInt(d.slice(c+1)))}else g.Ba&&g.Ba(-1,-1,1,"list of commands:",0),g.Ba&&g.Ba(-1,-1,1,"__command: swap m n",0),g.Ba&&g.Ba(-1,-1,1,"__command: move index target_pos",
0);return 0}if(c.length>=b.b.Jp)return 1;if(-1==d)return a.C?(d=new x.a.g("C"),d.f(c.length),c.length&&d.D(b.crypto.M(c,a.aa)),a.j.send(d.i()),c=0):c=1,c;var f=new x.a.g;f.m(a.K);f.f(a.yn);f.f(d);f.f(c.length);c.length&&f.D(b.crypto.M(c,a.aa));a.j.send(f.i());return 0};g.jn_command_UpdateTextCodePage=g.UE=function(c){if(!a.C||a.F!=b.b.R)return 1;var d=new x.a.g;d.m(a.K);d.f(a.Jn);d.f(c);a.j.send(d.i());return 0};g.jn_command_WebOfficeSetVisitorName=g.bF=function(b){a.Ue=a.Ve=b};g.jn_command_WebOfficeSetOwnerPassword=
g.aF=function(b){a.Ma=a.sc;a.Uc=b;a.ac=a.Uc};g.jn_command_PlaybackPlay=g.mE=function(){if(!a.C||a.F!=b.b.Aa)return 1;var c=new x.a.g;c.m(a.ad);c.f(9);a.j.send(c.i());return 0};g.jn_command_PlaybackPause=g.lE=function(){if(!a.C||a.F!=b.b.Aa)return 1;var c=new x.a.g;c.m(a.ad);c.f(7);a.j.send(c.i());return 0};g.jn_command_PlaybackRandomAccess=g.nE=function(c){if(!a.C||a.F!=b.b.Aa)return 1;var d=new x.a.g;d.m(a.ad);d.f(8);d.f(c);a.j.send(d.i());a.nh();return 0};g.jn_command_PlaybackRequestRepeat=g.oE=
function(c){if(!a.C||a.F!=b.b.Aa)return 1;var d=new x.a.g;d.m(a.ad);d.f(c?6:5);a.j.send(d.i());return 0};g.jn_command_PlaybackSetSpeed=g.pE=function(c){if(!a.C||a.F!=b.b.Aa||!I())return 1;var d=new x.a.g;d.m(a.K);d.f(a.ni);d.f(c);a.j.send(d.i());return 0};g.jn_command_TCPMedia=g.OE=u;g.jn_command_UnknownMedia=g.rs=function(c,f,h){h=h?h:"";if(!a.oh[c+h]){a.oh[c+h]=!0;b.a.log("unknown media type "+c+h+" from ssrc "+f+", alert user");var d;a.U[f]?d=a.U[f].ai:d="ssrc"+f;g.Ql&&g.Ql(c,d,h)}};g.jn_command_write_timestamp_given=
g.us=function(b,c,f,g){var d=new x.a.g;d.m(b);d.f(g);d.f(f);d.f(a.G);d.f(a.ta);d.f(0);d.D(new x.a.g(c));return d};g.jn_command_generate_auth_data=g.Qf=function(c){var d=b.a.A()-a.bb,f=new x.a.g;f.f(d);d=""+String.fromCharCode(f.L(0)^c.L(4));d+=String.fromCharCode(f.L(1)^c.L(8));d+=String.fromCharCode(f.L(2)^c.L(12));d+=String.fromCharCode(f.L(3)^c.L(16));return d=b.crypto.M(d,a.ea).u()};g.jn_command_send_audio_pkt=g.fF=function(b){return a.Sa&&g.ws()?a.Sa.mt(b):!0};g.jn_command_send_video_pkt=g.hF=
function(b){return a.Sa&&g.xs()?a.Sa.pt(b):!0};g.jn_command_send_plugin_pkt=g.gF=function(b,c,f,g,h,n){return a.Sa?a.Sa.nt(b,c,f,g,h,n):!0};g.jn_command_send_spic_pkt=g.ts=function(b){return a.Sa?a.Sa.ot(b):!0};g.jn_command_AskQuestion=g.OD=function(){if(a.C&&!(a.qa||a.ub||a.qc||a.Ja)){var b=new x.a.g("Q");b.f(a.G);b.f(3);b.N("Yes");a.j.send(b.i());a.ub=!0}};g.jn_command_simulate_disconnect=g.iF=function(){b.a.log("simulate network disconnection");var c=new x.a.g("H");a.j.send(c.i())};g.jn_command_RefreshSlide=
g.wE=function(b){a.C&&(a.Pa&&(a.Pa.disconnect(),a.Pa=null),b=a.$[b],b.data&&(a.wa-=b.data.length),b.data=null,b.ka=0,b.gb=0,b.xa=0,b.ra=0)};g.jn_command_DownloadSlide=g.WD=function(b,a,c,f){z(b,!1,a,c,f)};g.jn_command_DownloadSlideEx=g.XD=function(b,a,c,f){z(b,!0,a,c,f)};g.jn_command_StopSlideDownload=g.ps=function(){a.Pa&&(a.Pa.disconnect(),a.Pa=null)};g.jn_command_UploadSlide=g.XE=function(c,f,g,h,n,p,r){a.zc&&(a.zc.disconnect(),a.zc=null);a.C?a.zc=new b.protocol.Ls(a,c,f,g,h,n,p,r):setTimeout(function(){r&&
r()},0)};g.jn_command_StopSlideUpload=g.ME=function(){a.zc&&(a.zc.disconnect(),a.zc=null)};g.jn_command_UploadSelfPicture=g.WE=function(c,f){a.Zc||1E6<f.length||(a.Zc=new b.protocol.Os(a,c,f))};g.jn_command_FlipSlide=g.uh=function(b){if(a.C){var c=new x.a.g("A");c.f(b);a.j.send(c.i());-1!=b&&g.ns(b)}};g.jn_command_PollSlideDownload=g.ns=function(b){g.be&&setTimeout(function(){g.be(b)},0);a.Th&&clearTimeout(a.Th);a.Th=setTimeout(function(){a.Th=null;if(a.C){var c=new x.a.g;c.m(a.K);c.f(a.Ag);c.f(0);
c.f(b);a.j.send(c.i())}},1E3)};g.jn_command_FocusPointer=g.$D=function(b,c,f,g,h,n,p){var d=new x.a.g;d.m(a.K);d.f(a.cn);d.f(b);d.f(c);d.f(f);d.f(g);d.f(h);d.f(n);d.f(p);a.j.send(d.i())};g.jn_command_SendNewStroke=g.FE=function(c,f,g,h,n,p){if(a.C){var d=new x.a.g;d.m(a.Id);d.m(b.b.Kg);d.f(f);d.f(c);d.f(a.G);d.f(g);d.f(h);d.f(n.length);for(c=0;c<n.length;c++)d.f(n[c]),d.f(p[c]);d.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i())}};g.jn_command_SendNewText=
g.GE=function(c,f,g,h,n,p,r,u){if(a.C&&!(2048<=u.length)){var d=new x.a.g;d.m(a.Id);d.m(b.b.Lg);d.f(f);d.f(c);d.f(a.G);d.f(g);d.f(h);d.f(n);d.f(h+p);d.f(n+r);d.f(u.length);u.length&&d.D(b.crypto.M(u,a.aa));d.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i())}};g.jn_command_SendMarkMove=g.EE=function(c,f,g,h,n){if(a.C){var d=new x.a.g;d.m(a.Id);d.m(b.b.cj);d.f(c);d.f(f);d.f(g);d.f(h);d.f(100);d.f(n.length);for(c=0;c<n.length;c++)d.f(n[c]);b.a.debug_mark_delay?
setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i())}};g.jn_command_SendImageMark=g.DE=function(c,f,g,h,n,p,r,u,y){if(a.C){var d=1==f?8:4;if(5E5<d+u.length)return 1;var q=new x.a.g;q.m(a.Id);q.m(b.b.bj);q.f(c);q.f(g);q.f(h);q.f(r);q.f(f);q.f(d+u.length);4!=f&&(q.Dd(g+n),q.Dd(h+p));5!=f&&q.Yc(y);q.D(new x.a.g(u));b.a.debug_mark_delay?setTimeout(function(){a.j.send(q.i())},1E3*b.a.debug_mark_delay):a.j.send(q.i())}};g.jn_command_ConvertCustomizedData=g.TD=function(b,a,c,
f,g,h,n){var d=new x.a.g;4!=b&&(d.Dd(a+f),d.Dd(c+g));5!=b&&d.Yc(n);d.D(new x.a.g(h));return d.h(0)};g.jn_command_ChangeCapability=g.SD=function(b,c){!a.C||!!a.ph==!!b&&!!a.qh==!!c||(a.Lc=b,a.ud=c,b=new x.a.g,b.m(a.K),b.f(a.Xm),c=0,a.ph=a.Lc,a.qh=a.ud,a.Lc&&(c|=1),a.ud&&(c|=2),b.m(c),a.j.send(b.i()))};g.jn_command_AdjustVideoBitrate=g.Ib=function(c){var d,f=a.va,h=a.Qc,n=a.xb;if(a.Tc){var p=1;a.za!=a.ua&&p++;for(d=0;d<b.b.cd;d++)-1!=a.$b[d]&&p++;n=Math.min(a.Tc/p,n)}n=Math.min(a.Sf+a.Le,n)>>0;a.Qc=
n>>0;p=a.va;if(c){f=p;var r=a.va/20;r=Math.max(3E3,r);r+=500*Math.random();p+=r*c>>0;p=Math.max(f>>1,p);p=Math.min(f<<1,p)}p=Math.min(n-a.Le,p);p=Math.max(b.b.Lp,p);a.va=p;if(f!=a.va||h!=a.Qc)f!=a.va&&a.C&&(a.Da("rate control, targetrate "+f+" -> "+a.va),a.F==b.b.R&&b.a.log("rate control, targetrate "+f+" -> "+a.va)),h!=a.Qc&&a.C&&(a.Da("max bandwidth "+h+" -> "+a.Qc),a.F==b.b.R&&b.a.log("max bandwidth "+h+" -> "+a.Qc)),g.Nf&&g.Nf();for(d=0;d<b.b.Fb;d++)a.P[d]&&a.P[d].active&&(r=a.P[d].jd/20,r=Math.max(3E3,
r),r+=500*Math.random(),p=a.P[d].zb,p+=r*c>>0,f=a.P[d].jd,a.Se&&(f=Math.min(a.Se,f)>>0),p=Math.min(f,p),p=Math.max(1E3,p),p=Math.max(a.P[d].zb>>1,p),p=Math.min(a.P[d].zb<<1,p),a.P[d].zb!=p&&(a.C&&a.Da("appdata channel "+d+", data rate "+a.P[d].zb+" -> "+p),a.P[d].zb=p,g.Ff&&g.Ff(d)))};g.jn_command_UpdatePreference=g.TE=function(b){if(a.C&&(!b||!a.rc)&&(b||a.rc)){a.rc=b;var c=new x.a.g;c.m(a.K);c.f(a.xn);c.f(a.G);c.f(b?1:0);a.j.send(c.i())}};g.jn_command_UpdateBothVideoPreference=g.SE=function(c){if(a.C&&
(!c||!a.Zd)&&(c||a.Zd)){a.Zd=c;var d=new x.a.g;a.F==b.b.R?(d.m(a.K),d.f(a.ri)):(d.m(a.ad),d.f(10));d.f(c?1:0);a.j.send(d.i())}};g.jn_command_RequestVideo=g.zE=function(b){if(a.C&&(!b||!a.Mc)&&(b||a.Mc)){a.Mc=b;var c=new x.a.g;c.m(a.xo);c.f(b?1:0);a.j.send(c.i())}};g.jn_command_ParticipantVideoRequest=g.iE=function(c){for(var d,f=d=-1,g=0;g<b.b.Ob;g++){if(a.jb[g]==c){d=g;break}-1==a.jb[g]&&(f=g)}if(a.F==b.b.R){if(!a.C)return 1;if(-1!=d)return 0;d=new x.a.g;d.m(a.K);d.f(a.kf);d.f(a.uq);d.f(c);a.j.send(d.i())}else if(a.F==
b.b.Aa){if(!a.C)return 1;if(-1!=d)return 0;-1==f&&(d=new x.a.g,d.m(a.K),d.f(a.yg),d.f(a.jb[0]),d.f(0),a.j.send(d.i()),f=0);d=new x.a.g;d.m(a.K);d.f(a.yg);d.f(c);d.f(1);a.j.send(d.i());0<=c&&c<b.b.Ha&&(a.jb[f]=c)}return 0};g.jn_command_ParticipantVideoStop=g.jE=function(c){var d;if(!a.C)return 1;var f=-1;for(d=0;d<b.b.Ob;d++)if(a.jb[d]==c){f=d;break}if(-1==f)return 0;a.F==b.b.R?(d=new x.a.g,d.m(a.K),d.f(a.kf),d.f(a.qq),d.f(c),a.j.send(d.i()),a.jb[f]=-1):a.F==b.b.Aa&&(a.jb[f]=-1,d=new x.a.g,d.m(a.K),
d.f(a.yg),d.f(c),d.f(0),a.j.send(d.i()));return 0};g.jn_command_ParticipantVideoAssignSpeaker=g.hE=function(c){if(!a.C)return 1;if(a.G!=g.Fe())return 0;if(a.F==b.b.R){b.a.log("assign speaker to ssrc "+c);var d=new x.a.g;d.m(a.K);d.f(a.kf);d.f(a.lq);d.f(c);a.j.send(d.i())}return 0};g.jn_command_ParticipantVideoStopSpeaker=g.kE=function(c){if(!a.C)return 1;var d=g.Fe();if(c!=a.G&&a.G!=d)return 0;a.F==b.b.R&&(b.a.log("stop speaker ssrc "+c),d=new x.a.g,d.m(a.K),d.f(a.kf),d.f(a.nq),d.f(c),a.j.send(d.i()));
return 0};g.jn_command_GiveoutToken=g.bE=function(c){if(!a.C)return 1;if(c!=a.G&&!a.qa)return 0;b.a.log("change token to "+c+" - giveout token");var d=new x.a.g;d.m(a.Bg);d.f(c);a.j.send(d.i());return 0};g.jn_command_GiveoutToken2=g.cE=function(c,f){var d;if(!a.C)return 1;if(c!=a.G&&a.qa||!a.qa&&0==a.G&&c==a.G||!a.qa&&a.G==a.wb&&c==a.G||a.Kb&b.b.Pi&&!a.qa&&a.G==a.La&&c==a.G){if("undefined"==typeof f){f=[];var g={};g[c]=1;a.za==a.ua||g[a.za]||(g[a.za]=1,f.push(a.za));var h=a.$b;for(d=0;d<h.length;d++)-1==
h[d]||g[h[d]]||(g[h[d]]=1,f.push(h[d]));a.qa&&!g[a.G]&&f.push(a.G)}g=new x.a.g;if(f.length)for(g.m(a.K),g.f(a.pn),g.f(c),g.f(f.length),d=0;d<f.length;d++)g.f(f[d]);else g.m(a.Bg),g.f(c);a.j.send(g.i());b.a.log("change token to "+c+" - "+(a.qa?"holder":0==a.G?"owner":a.G==a.wb?"assistant":"controller")+" GiveoutToken2"+(f.length?" with question ["+f.toString()+"]":""))}return 0};g.jn_command_AllowQuestion=g.ND=function(c){if(!a.C)return 1;if(a.G==g.Fe()){var d=new x.a.g;d.m(a.wg);d.f(c);a.j.send(d.i());
b.a.log("set datasender to "+c)}return 0};g.jn_command_SkipQuestion=g.LE=function(b){if(!a.C)return 1;if(a.G==g.Fe()){var c=new x.a.g;c.m(a.ti);c.f(b);a.j.send(c.i())}return 0};g.jn_command_EndQuestion=g.YD=function(){if(!a.C)return 1;var b=new x.a.g;b.m(a.wg);b.f(-1);a.j.send(b.i());return 0};g.jn_command_EndQuestionRequest=g.ZD=function(){if(!a.C)return 1;var b=new x.a.g;b.m(a.K);b.f(a.an);b.f(a.G);a.j.send(b.i());a.ub=!1;return 0};g.jn_command_Disconnect=g.VD=function(b){if(!a.C)return 1;var c=
new x.a.g;c.m(a.mi);c.f(b);a.j.send(c.i());return 0};g.jn_command_BanUserID=g.QD=function(b){if(!a.C||!a.Xb&&a.G!=a.wb)return 1;var c=new x.a.g;c.m(a.K);c.f(a.Wm);c.f(b);a.j.send(c.i());return 0};g.jn_command_SetController=g.IE=function(c){if(!a.C||!a.Xb&&!a.qa&&a.G!=a.La)return 1;var d=new x.a.g;d.m(a.K);d.f(a.Zm);d.f(c);a.j.send(d.i());b.a.log((a.Xb?"owner":a.qa?"holder":"controller")+" change controller to "+c);return 0};g.jn_command_AssignAssistant=g.PD=function(b){if(!a.C||!a.Xb&&a.G!=a.wb)return 1;
var c=new x.a.g;c.m(a.K);c.f(a.Vm);c.f(b);a.j.send(c.i());return 0};g.jn_command_TerminateSession=g.PE=function(){if(!a.C)return 1;var b=new x.a.g;b.m(a.si);a.j.send(b.i());return 0};g.jn_command_SetControlFlag=g.HE=function(c){if(!a.C||!a.Xb&&!a.qa&&a.G!=a.La)return 1;var d=new x.a.g;d.m(a.K);d.f(a.kn);d.f(c);a.j.send(d.i());b.a.log([a.Xb?"owner":a.qa?"holder":"controller"," change control flag to 0x",c.toString(16),"(",b.o.zj(c),")"].join(""));return 0};g.jn_command_DeleteSlide=g.UD=function(b){if(!a.C)return 1;
var c=new x.a.g;c.m(a.li);c.f(b);a.j.send(c.i());return 0};g.jn_command_SendClearMarking=g.CE=function(c){if(!a.C)return 1;var d=new x.a.g;d.m(a.ki);d.f(c);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i());return 0};g.jn_command_UndoMark=g.RE=function(c){if(!a.C)return 1;var d=new x.a.g;d.m(a.K);d.f(a.Ln);d.f(a.G);d.f(c);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i());return 0};g.jn_command_GlobalUndoMark=
g.dE=function(c,f){if(!a.C)return 1;var d=new x.a.g;d.m(a.Id);d.N("u");d.f(c);d.f(f);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i());return 0};g.jn_command_PollResult=g.uE=function(b,c){if(!a.C)return 1;var d=new x.a.g;1==b?d.m(a.vi):(d.m(a.K),d.f(a.ui));d.f(2);d.f(c);a.j.send(d.i());return 0};g.jn_command_TokenHolderPoll=g.QE=function(){if(!a.C)return 1;var b=new x.a.g;b.m(a.K);b.f(a.ui);b.f(1);a.j.send(b.i());return 0};g.jn_command_UserContinue=
g.$E=function(){var b=new x.a.g;b.f(1);a.j.send(b.i())};g.jn_command_UserCancel=g.ZE=function(){var c=new x.a.g;c.f(0);a.j.send(c.i());b.a.log("user choose not to continue");setTimeout(function(){A()},1E3)};g.jn_command_JointBrowsingMode=g.fE=function(b){if(!a.C)return 1;var c=new x.a.g;c.m(a.K);c.f(a.jn);c.f(b);a.j.send(c.i());return 0};g.jn_command_SyncFullScreen=g.NE=function(b,c){if(!a.C)return 1;var d=new x.a.g;d.m(a.K);d.f(a.Gn);d.f(b);d.f(c);a.j.send(d.i());return 0};g.jn_command_ProvidePassword=
g.vE=function(c){c=b.crypto.$c(c);var d=new x.a.g;d.f(20);d.D(b.crypto.M(c,a.ea));a.j.send(d.i())};g.jn_command_JointBrowsing=g.eE=function(c,f){if(!(f.length>=b.b.ij)){var d=new x.a.g;d.m(a.K);d.f(a.hn);d.f(c);d.H(f);a.j.send(d.i())}};g.jn_command_ForceSync=g.aE=function(){if(!a.C)return 1;var b=new x.a.g;b.m(a.K);b.f(a.dn);a.j.send(b.i())};g.jn_command_SetRecordingStatus=g.KE=function(b){if(!a.C)return 1;var c=new x.a.g;c.m(a.K);c.f(a.An);c.f(b);a.j.send(c.i())};g.jn_command_PlugInSetRecvingPrio=
g.sE=function(c,f){if(0>c||c>b.b.Fb||!a.C)return 1;var d=new x.a.g;d.m(a.K);d.f(a.zg);d.f(a.vn);d.f(c);d.f(f);a.j.send(d.i());a.Da("appdata_set_recv_prio(channel "+c+") "+f)};g.jn_command_SwapSlide=g.qs=function(b,c){if(!a.C)return 1;var d=new x.a.g;d.m(a.K);d.f(a.Fn);d.f(b);d.f(c);a.j.send(d.i())};g.jn_command_MoveSlide=g.ms=function(b,c){if(!a.C)return 1;var d=new x.a.g;d.m(a.K);d.f(a.ln);d.f(b);d.f(c);a.j.send(d.i())};g.jn_command_RequestPlugInChannel=g.yE=function(c,f,h,n){if(!a.C||a.F!=b.b.R||
g.Yq()!=a.G)return 1;var d=new x.a.g;d.m(a.K);d.f(a.zg);d.f(a.wn);d.f(h);d.f(c);d.f(0);d.f(0);d.f(n);d.N(f);a.j.send(d.i())};g.jn_command_PlugInSetStaticData=g.tE=function(c,f){if(0>c||c>b.b.Fb||!a.C||a.F!=b.b.R||f.length>a.Mg)return 1;var d=new x.a.g;d.m(a.K);d.f(a.zg);d.f(a.pi);d.f(c);d.f(f.length);f.length&&d.D(b.crypto.M(f,a.aa));a.j.send(d.i())};g.jn_command_PlugInCloseChannel=g.qE=function(c){if(0>c||c>b.b.Fb||!a.C||a.F!=b.b.R||a.P[c].ym!=a.G)return 1;var d=new x.a.g;d.m(a.K);d.f(a.oi);d.f(c);
a.j.send(d.i())};g.jn_command_PlugInControlChannelSend=g.rE=function(c,f,g,h,n){if(0>c||c>b.b.Fb||!a.C||n.length>a.fj)return 1;var d=new x.a.g;d.m(a.K);d.f(a.qn);d.f(c);d.f(f);d.f(h);d.f(n.length);n.length&&d.D(b.crypto.M(n,a.aa));d.f(g);a.j.send(d.i())};g.jn_command_SetJNRPassword=g.JE=function(c){if(!a.C||27<c.length)return 1;var d=new x.a.g;d.m(a.K);d.f(a.fn);d.f(c.length);c.length&&d.D(b.crypto.M(c,a.aa));a.j.send(d.i())};g.jn_command_UpdateVideoSendingStatus=g.VE=function(c){if(!a.C||a.F!=b.b.R)return 1;
var d=new x.a.g;d.m(a.K);d.f(a.wo);d.f(c?1:2);a.j.send(d.i())};g.jn_command_UseReconnectName=g.YE=function(b){a.ge=b&&12==b.length?b:""};g.jn_command_sipclient_response=g.jF=function(c,f,g){if(!a.C||a.F!=b.b.R)return 1;var d=new x.a.g;d.m(a.K);d.f(a.Bn);d.f(a.Cn);d.f(f.length);f.length&&d.D(b.crypto.M(f,a.aa));d.f(c);d.f(g);a.j.send(d.i())};g.jn_command_RequestAudio=g.xE=p;g.jn_command_WebRTCStatusNotification=g.dF=function(b){if(!a.C)return 1;var c=new x.a.g;c.m(a.K);c.f(a.yo);c.m(b);a.j.send(c.i())};
g.jn_command_WebRTCMediaStatusNotification=g.cF=function(b,c,f){if(!(a.C&&a.Re>=a.Ii))return 1;var d=new x.a.g;d.m(a.K);d.f(a.Ii);d.m(b);d.f(c);d.m(f);a.j.send(d.i())};g.jn_info_GetUserTextCodePage=g.oF=r;g.jn_info_GetWebOfficeVisitorTargetID=g.qF=function(){return 4!=a.ib||a.ie||95!=a.Ma.charCodeAt(0)?"":a.sc};g.jn_info_GetWebOfficeOwnerTargetID=g.pF=function(){return 5!=a.ib||a.ac?"":a.sc};g.jn_info_IsWOOwnerWrongPassword=g.yF=function(){var b=!a.je&&5==a.ib&&!a.ac;return!a.je&&4==a.ib&&!a.ie&&
95!=a.Ma.charCodeAt(0)&&!a.ac||b?a.Ma:""};g.jn_info_IsSlideSameGroup=g.wF=function(b,c){b=a.$[b];c=a.$[c];return b.Ad==c.Ad&&b.ec==c.ec&&b.Ga==c.Ga?!0:!1};g.jn_info_IsSlideDownloading=g.vF=function(){return a.Pa&&-1!=a.Pa.index};g.jn_info_CanSendAudio=g.ws=function(){return a.qa||a.Ja||a.qc||a.Df};g.jn_info_CanSendVideo=g.xs=function(){return a.qa||a.Ja||a.qc&&a.rh};g.jn_info_IsTalker=g.xF=D;g.jn_info_CanAddMark=g.nF=function(){return a.Re>=a.In?D()||b.Z.qj():a.Ja||a.qc||b.Z.qj()};g.jn_info_HasMyPicture=
g.rF=function(){return!!a.Zc};g.jn_info_joinnet_token_holder_video=g.zF=function(){return!!a.nm};g.jn_info_IsAllQuestionerMeeting=g.sF=function(){return a.Wk};g.jn_info_IsNoAudioSupportedByMCU=g.tF=w;g.jn_info_IsPlaybackSpeedSupportedByMCU=g.uF=I;g.jn_info_GetMMCMeetingID=g.ys=function(){return a.im}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function J(){return""+v.hc+"."+v.ic+"."+v.Og+" built on 04/10/2020"}function F(){if(!b.a.sd){var a=Date.now(),c;for(c in b.a.localStorage)if(b.a.localStorage.hasOwnProperty(c)&&0==c.indexOf("hmtg_temp_autodelete_")){var d=b.a.qe(b.a.localStorage[c]);("undefined"===d||!d.time||!d.value||6E4<a-d.time)&&b.a.localStorage.removeItem(c)}}}function c(a){y(a);a.J=b.b.To;k.T&&k.T(a);a.we=setTimeout(function(){a.we=null;36E3>a.od&&(a.od+=a.od+1);U(a)},1E3*a.od);b.a.log(6,["schedule to retry connecting ",
a.od," seconds later for ",a.l].join(""))}function y(b){null!=b.we&&(clearTimeout(b.we),b.we=null)}function h(a,c,d,f){if(!a.cb[c]){var e=b.a.A(),g=new z;g.eh=c;g.V=d;g.se="";g.mb={};g.mb[d]=e-6E4;g.count=1;"undefined"===typeof g.mb[f]&&(g.count++,g.mb[f]=e-6E4);n(a,g);a.cb[c]=g;a.yd++;k.Ra&&k.Ra(a,c)}}function n(b,a){if(128<=a.se.length+(" - "+a.count+"()").length)a.$a=a.se;else{a.$a=a.se+" - "+a.count+"(";if(!(128<=a.$a.length+4)){var e=1,c;for(c in a.mb)if(a.mb.hasOwnProperty(c)){var d=k.Uk(b,
c);if(e)if(e=0,128<=a.$a.length+d.length+(1==a.count?1:5)){a.$a+="...";break}else a.$a+=d;else if(128<=a.$a.length+1+d.length+(1==a.count?1:5)){a.$a+=",...";break}else a.$a+=","+d}}a.$a+=")"}}function H(){}function f(){this.hh=function(){this.zd={};this.kb={};this.na=[];this.Ye=[];this.cc=[];this.cb={};this.yd=0;this.eg=[];this.Qh=[];this.gh=this.Ua="";this.bi=[]};this.od=0;this.we=null;this.hh();this.Fc=this.ob=this.Oa="";this.V={};this.nd={};this.qd={}}function A(){}function u(){}function z(){}
function p(){for(var a=[],c=0;c<v.la.length;c++){var d=v.la[c],f={};f.office_name=d.Oa;f.homepage=d.ga;f.visitor_folded=d.ye;f.share_file_folded=d.df;f.event_folded=d.Od;f.publish_file_folded=d.bf;f.pgc_folded=d.re;f.noncontact_folded=d.pe;f.guest=d.S;d.S||(f.last_status=d.bg,f.userid=d.O,(f.saved_password=d.Fd)&&(f.password=b.crypto.M(d.password,b.crypto.gf).u()));a.push(f)}b.a.localStorage.hmtg_wbl=JSON.stringify(a)}function r(b,a,c,d){var e;for(e=0;e<v.la.length;e++){var f=v.la[e];if(f.S==b&&f.ga==
c&&(b||a==f.O)){f.bg=d;break}}}function D(a){a.S&&(a.Rb=1);a.J=b.b.zo;var e=G.a.at(a.ga),c=a.Mj=""+b.a.A()+Date.now()+(new G.a.g(G.random.ya(8))).Nb();e&&e.path&&"/raw/"==e.path.toLowerCase()?w(c,a,e.host,"",e.port,0):(k.Wj&&k.Wj(c,a,a.ga,w),a.disconnect=function(){a.Mj=""+b.a.A()+Date.now()+(new G.a.g(G.random.ya(8))).Nb();a.J=b.b.ze;k.T&&k.T(a);b.a.log("sign out for "+a.l)})}function w(a,c,d,f,g,h){a==c.Mj&&(c.disconnect=function(){},"undefined"===typeof d?(c.Ej?k.s&&k.s(c,b.b.Sp):k.s&&k.s(c,b.b.Qp),
c.J=b.b.Do,k.T&&k.T(c),b.a.log(["download jnj fail for ",c.l].join(""))):d&&g?(b.a.log(2,["getmcuinfo for ",c.ga,": ip=",d,",backupip=",f,",port=",g,",port2=",h].join("")),c.Hb=d,c.cr=f,c.port=g,c.port2=h,d=b.o.Uh(d,f,g,h),a=d.Nh,d=d.$h,c.J=b.b.Ji,k.T&&k.T(c),I(c,a,d)):(k.s&&k.s(c,b.b.eq),c.J=b.b.Lo,k.T&&k.T(c),b.a.log(["download jnj invalid for ",c.l].join(""))))}function I(a,d,f){function e(e){d[e].Ac=null;d[e].Bd?b.a.log(["msgr connecting to backup mcu ",d[e].ba,",",d[e].oa,"..."].join("")):f&&
0==e?b.a.log(["msgr connecting to (switched) primary mcu ",d[e].ba,",",d[e].oa,"..."].join("")):b.a.log(["msgr connecting to primary mcu ",d[e].ba,",",d[e].oa,"..."].join(""));d[e].Cd=new b.protocol.hm(v.hc,v.ic,null,d,e,function(){d[e].pd=!0;d[e].Mb?h():0==e?(L&&(clearTimeout(L),L=null),m(0),p=0,a.J=b.b.Ni,k.T&&k.T(a),new b.protocol.Qe(v.hc,v.ic,d[0],d[0].ba,d[0].oa,n)):L||g()})}function g(){L=null;var e;for(e=0;e<d.length;e++)if(d[e].pd&&!d[e].Mb){m(e);p=e;a.J=b.b.Ni;k.T&&k.T(a);new b.protocol.Qe(v.hc,
v.ic,d[e],d[e].ba,d[e].oa,n);break}}function h(){var e;for(e=0;e<d.length;e++)if(!d[e].pd||!d[e].Mb)return;L&&(clearTimeout(L),L=null);a.Ie&&k.s&&k.s(a,b.b.Rp);a.J=b.b.Eo;k.T&&k.T(a);a.Fj&&(a.Ie=0,c(a),a.disconnect=function(){y(a)})}function m(b){var a;for(a=0;a<d.length;a++)d[a].Ac?(clearTimeout(d[a].Ac),d[a].Ac=null):d[a].pd?a==b||d[a].Mb||d[a].j.close():d[a].Cd&&d[a].Cd.disconnect&&d[a].Cd.disconnect()}function n(e){if(e)1<d.length?(f=0,b.a.log(["connection to mcu ",d[p].ba,",",d[p].oa," fails during key exchange, but we'd like to try other entries"].join("")),
d.splice(p,1),I(a,d,f)):(a.Ie&&k.s&&k.s(a,b.b.jj),a.J=b.b.Ki,k.T&&k.T(a));else{e=p;var c=d[e].Ne;a.Ws=d[e].Vc;var g=b.o.hg(a.Ws);a.cf=g.lb;a.Yh=g.Eb;a.qt=g.ef;a.LF=d[e].ag;a.KF=d[e].$f;a.hd=d[e].hd;a.B=d[e].ea;a.j=d[e].j;a.Ed=d[e].Ed;a.ba=d[e].ba;a.port=d[e].oa;a.Lm=d[e].Bd;e=a.j;if(c){c=new G.a.g("4");e.send(c.i());if(a.Lm&&d[0].ba.length){g=b.a.pb(d[0].ba);var h=g.length;c.clear();c.f(4+h);c.f(b.protocol.gi);c.N(g);e.send(c.i())}c.clear();c.f(7);c.f(b.protocol.fi);c.N("WEB");e.send(c.i());b.o.vendor&&
20>=b.o.vendor.length&&(c.clear(),c.f(4+b.o.vendor.length),c.f(b.protocol.ii),c.N(b.o.vendor),e.send(c.i()));c.clear();c.f(0);e.send(c.i())}x(a)}}var p,q;for(q=0;q<d.length;q++)d[q].Ac=setTimeout(e,500*q,q),d[q].Mb=b.b.Jg;var L=setTimeout(g,5E3);a.disconnect=function(){m(-1);a.J=b.b.ze;k.T&&k.T(a);b.a.log("sign out for "+a.l)}}function x(e){function f(){e.v.onmessage||(e.v.onmessage=function(){e.v.onmessage=null;u()},e.v.postMessage({command:"set"}))}function g(){q();oa=setTimeout(function(){oa=null;
e.j!=ea&&(b.a.log("!!!Info, need take care of this(3)!!!"),k.s&&k.s(e,99993));qa++;if(3<=qa)b.o.I(ea),b.a.log(["time out(try again) for ",e.l].join("")),e.Ie=0,e.we||c(e);else{var a=new G.a.g;a.m(v.wi);a.N("0");ea.send(a.i());g()}},2E4)}function q(){null!=oa&&(clearTimeout(oa),oa=null)}function p(){e.v.onmessage&&(e.v.onmessage=null,e.v.postMessage({command:"clear"}))}function r(a){if(t.length()&&!e.Ec){var c=b.a.A()-ra;20<c||9<=na?(500<c&&b.a.log("info, jmkernel handler("+a+") depth="+na+",use "+
c+"ms"),f()):(na++,da())}}function m(){e.Gc||!e.Hd&&!e.hf||(b.a.log([e.Hd?"peer close for ":"recv error(try again) for ",e.l].join("")),e.Ie=0,K(),c(e))}function u(){if(!e.Ec){var a=t.length();if(a){na=0;ra=b.a.A();da();var c=t.length();c&&c!=a||m()}else m()}}function x(){S=new G.a.g(t);var a=t.L(0);if(0<=a&&a<=v.Ep)return va[a]();b.a.log(["unknown command[",a,"/0x",a.toString(16),"] for ",e.l].join(""));K(b.b.Li)}function w(){var a=t.L(0);k.s&&k.s(e,b.b.lj);b.a.log(["unknown(unsupported) command[",
a,"/0x",a.toString(16),"] for ",e.l].join(""));K(b.b.Li)}function B(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[OFFICE_JNJ?,200] for "+e.l),K(b.b.bd);else if(!(a<5+c)){var d=t.L(0),f="",g=0;if(d==v.Gi||d==v.Cg){if(a<5+c+4)return;g=t.c(5+c);if(0>g||128<=g){k.s&&k.s(e,b.b.Fa);b.a.log("wrong jnj len[OFFICE_JNJ?,500] for "+e.l);K(b.b.fb);return}if(a<5+c+4+g)return;f=t.h(5+c+4,g);g=4+g}a=b.crypto.w(t.h(5,c),e.B).u();d==v.Cg&&(e.zm=0);e.da||d==v.Ai||
(a=k.Tr(a,e.password));d==v.Cg?k.ek&&k.ek(e,f):d==v.Qn?(b.a.log("exceed diskquota, "+e.l),k.ck&&k.ck(e)):d==v.Gi?k.hk&&k.hk(e,a,f):d==v.Ai?k.Sd&&k.Sd(a,!0):k.Sd&&k.Sd(a);t.shift(5+c+g);T=S;r("COMMAND_US_OFFICE_JNJ_PLUS")}}}function D(){var a=t.length();if(!(6>a)){var c=t.c(2);if(0>c||128<=c)k.s&&k.s(e,b.b.Ce),b.a.log("recv error[JOIN_REQUEST_ERROR,200] for "+e.l),K(b.b.Bc);else if(!(a<6+c+4)){var d=t.c(6+c);if(0>d||128<=d)k.s&&k.s(e,b.b.Fa),b.a.log("wrong username len[JOIN_REQUEST_ERROR,500] for "+
e.l),K(b.b.fb);else{var f=t.L(1),g=t.h(6,c),h=t.h(6+c+4,d);if(t.L(0)==v.eo){if(a<6+c+4+d+4)return;a=t.c(6+c+4+d)>>>0;k.Pr&&k.Pr(e,g,h,f,a);t.shift(6+c+4+d+4)}else{if(a<6+c+4+d)return;f!=b.b.Lq&&k.Or&&k.Or(e,g,h,f);t.shift(6+c+4+d)}T=S;r("COMMAND_US_JOIN_REQUEST_ERROR_PLUS")}}}}function E(){var a=t.length();if(!(17>a)){var c=t.c(13);if(0>c||128<=c)k.s&&k.s(e,b.b.Fa),b.a.log("wrong username len[VISITOR_SESSION,200] for "+e.l),K(b.b.fb);else if(!(a<17+c)){var d=t.c(1);a=t.c(5);var f=t.c(9),g=t.h(17,
c);if(t.L(0)==v.Fi)d?(1==d||2==d)&&k.Ik&&k.Ik(e,g,d):k.Ur(e);else{var h=!1;if(d)h={},h.visitor_name=g,h.start_tick=f,h.iSessionIndex=a,e.Ye.push(h),h=!0,k.Pk&&k.Pk(e,g);else for(g=0;g<e.Ye.length;g++)if(d=e.Ye[g],d.iSessionIndex==a&&d.start_tick==f){e.Ye.splice(g,1);h=!0;break}h&&k.Mk&&k.Mk(e)}t.shift(17+c);T=S;r("COMMAND_US_VISITOR_SESSION")}}}function F(){var a=t.length();if(!(5>a)){var c=t.c(1);0>c||128<=c?(b.a.log("wrong peer id len[ShortTyping 500] for "+e.l),K()):a<5+c||(a=t.h(5,c),k.Jk&&k.Jk(e,
a),t.shift(5+c),T=S,r("COMMAND_US_SHORT_TYPING"))}}function H(){var a="",c=0;var d=t.length();if(!(5>d)){var f=t.c(1);if(0>f||128<=f)k.s&&k.s(e,b.b.Fa),b.a.log("wrong username len[WEBRTC_SIGNAL,200] for "+e.l),K(b.b.fb);else if(!(d<5+f+4)){var g=t.c(5+f);if(0>g||1E4<=g)k.s&&k.s(e,b.b.Fa),b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,300] for "+e.l),K(b.b.lf);else if(!(d<5+f+4+g)){var h=t.L(0);if(h==v.Hi){if(d<5+f+4+g+4)return;var m=t.c(9+f+g);if(0>m||128<=m){k.s&&k.s(e,b.b.Fa);b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,400] for "+
e.l);K(b.b.lf);return}if(d<5+f+4+g+4+m+4)return}d=t.h(5,f);if(h==v.Hi)h=t.c(13+f+g+m),c=8+m,a=t.h(13+f+g,m),k.Ke(e,h,d,a);else{if(m=ba(e,d))a=m.username;a||(a=d)}m=b.crypto.w(t.h(5+f+4,g),e.B).u();k.Qk&&k.Qk(e,m,d,a);t.shift(9+f+g+c);T=S;r("COMMAND_US_WEBRTC_SIGNAL")}}}}function I(){var a="",c="",d="",f=0;var g=t.length();if(!(5>g)){var h=t.c(1);if(0>h||128<=h)k.s&&k.s(e,b.b.Fa),b.a.log("wrong username len[SHORT_MESSAGE?,200] for "+e.l),K(b.b.fb);else if(!(g<5+h+4)){var m=t.c(5+h);if(0>m||500<=m)k.s&&
k.s(e,b.b.Be),b.a.log("wrong short message len[SHORT_MESSAGE?,500] for "+e.l),K(b.b.Ae);else if(!(g<5+h+4+m+4)){var n=t.c(5+h+4+m);if(0>n||100<=n)k.s&&k.s(e,b.b.Np),b.a.log("wrong homepage len[SHORT_MESSAGE?,800] for "+e.l),K(b.b.Dg);else{var q=t.L(0),p=5+h+4+m+4+n;if(q!=v.po){if(g<p+4)return;var L=t.c(p);if(0>L||5E3<=L){k.s&&k.s(e,b.b.Be);b.a.log("wrong short message2 len[SHORT_MESSAGE?,1100] for "+e.l);K(b.b.Ae);return}a=b.crypto.w(t.h(p+4,L),e.B).u();p+=4+L;if(q==v.Ei||q==v.Ci||q==v.Bi){if(g<p+
4)return;L=t.c(p);if(0>L||128<=L){k.s&&k.s(e,b.b.Be);b.a.log("wrong param->guest user name len[SHORT_MESSAGE?,1400] for "+e.l);K(b.b.Ae);return}c=t.h(p+4,L);p+=4+L;if(q==v.Ci||q==v.Bi){if(g<p+4)return;f=t.c(p);p+=4}}}g=t.h(5,h);L=b.crypto.w(t.h(5+h+4,m),e.B).u();h=t.h(5+h+4+m+4,n);if(m=ba(e,g))d=m.username;d||(d=g);k.Gk&&k.Gk(e,q,L,a,g,h,c,f,d);t.shift(p);T=S;r("COMMAND_US_SHORT_MESSAGE_PLUS")}}}}}function J(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)k.s&&k.s(e,b.b.Ce),b.a.log("wrong target userid len in short message failure[MESSAGE_FAILURE?,200] for "+
e.l),K(b.b.Bc);else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||500<=d)k.s&&k.s(e,b.b.Be),b.a.log("wrong short message len[MESSAGE_FAILURE?,500] for "+e.l),K(b.b.Ae);else if(!(a<5+c+4+d+4)){var f=t.c(5+c+4+d);if(0>f||5E3<=f)k.s&&k.s(e,b.b.Be),b.a.log("wrong short message2 len[MESSAGE_FAILURE?,800] for "+e.l),K(b.b.Ae);else if(!(a<5+c+4+d+4+f)){a=t.h(5,c);var g=b.crypto.w(t.h(5+c+4,d),e.B).u();var h=b.crypto.w(t.h(5+c+4+d+4,f),e.B).u();k.Hk&&k.Hk(e,a,g,h,t.L(0));t.shift(5+c+4+d+4+f);T=S;r("COMMAND_US_SHORT_MESSAGE_FAILURE_PLUS")}}}}}
function Q(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[JoinGroup2 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[JoinGroup2 500] for "+e.l),K();else if(!(a<5+c+4+d+4)){var f=t.c(5+c+4+d);if(0>f||500<=f)b.a.log("wrong user name len[JoinGroup2 800] for "+e.l),K();else if(!(a<5+c+4+d+4+f+8)){if(a=t.h(5,c))if(61!=a.charCodeAt(0))k.td(e,a);else{var g=t.h(5+c+4,d),h=t.c(5+c+4+d+4+f+4)>>>0,m=e.cb[a];if(m&&m.count==
h&&"undefined"===typeof m.mb[g]){h=t.h(5+c+4+d+4,f);var p=t.c(5+c+4+d+4+f);m.mb[g]=b.a.A()-6E4;m.count++;n(e,m);e.da&&k.Ke(e,p,g,h);k.Bb&&k.Bb(e,a,g,h)}else k.td(e,a),k.Wd&&k.Wd(e,a),m&&(delete e.cb[a],e.yd--);k.Ra&&k.Ra(e,a)}t.shift(5+c+4+d+4+f+8);T=S;r("COMMAND_US_JOIN_GROUP2_PLUS")}}}}}function R(){var a=t.length();if(!(13>a)){var c=t.c(9);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[MMC_JOIN_REQUEST_JNJ?,200] for "+e.l),K(b.b.bd);else if(!(a<13+c)){a=t.c(1)>>>0;var d=t.c(5),f=t.h(13,
c);0==d&&c&&(f=b.crypto.w(f,e.B).u());k.kk&&k.kk(e,a,d,f);t.shift(13+c);T=S;r("COMMAND_US_MMC_JOIN_REQUEST_JNJ_PLUS")}}}function U(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[SHARE_FILE,200] for "+e.l),K(b.b.bd);else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||100<=d)k.s&&k.s(e,b.b.kj),b.a.log("wrong homepage len[SHARE_FILE,500] for "+e.l),K(b.b.Dg);else if(!(a<5+c+4+d+4)){var f=t.c(5+c+4+d);if(0>f||128<=f)k.s&&k.s(e,b.b.Fa),b.a.log("wrong owner name len[SHARE_FILE,800] for "+
e.l),K(b.b.fb);else if(!(a<5+c+4+d+4+f+4)){var g=t.c(5+c+4+d+4+f);if(0>g||128<=g)k.s&&k.s(e,b.b.Fa),b.a.log("wrong title len[SHARE_FILE,1100] for "+e.l),K(b.b.fb);else{var h=t.L(0)==v.io?4:0;if(!(a<5+c+4+d+4+f+4+g+8+h+4)){var m=t.c(5+c+4+d+4+f+4+g+8+h);if(0>m||128<=m)k.s&&k.s(e,b.b.Fa),b.a.log("wrong subject len[SHARE_FILE,1600] for "+e.l),K(b.b.fb);else if(!(a<5+c+4+d+4+f+4+g+8+h+4+m)){a={};a.jnj=t.h(5,c);a.owner_homepage=t.h(5+c+4,d);a.owner_name=t.h(5+c+4+d+4,f);a.title=t.h(5+c+4+d+4+f+4,g);a.duration=
t.c(5+c+4+d+4+f+4+g);a.share_type=t.c(5+c+4+d+4+f+4+g+4);var n=0;h&&(n=t.c(5+c+4+d+4+f+4+g+8));a.recv_tick=b.a.time()-n;a.subject=t.h(5+c+4+d+4+f+4+g+8+h+4,m);a.read=0;aa(e,a);k.Vb(e);k.gk&&k.gk(e,a);t.shift(5+c+4+d+4+f+4+g+8+h+4+m);T=S;r("COMMAND_US_SHARE_FILE_PLUS")}}}}}}}}function Y(a){a.Ec&&(a.xj&&a.xj(),a.Ec=!1,a.ci=null);a.Rh&&(a.Rh.stop(),a.Rh=null);a.Wa&&(clearTimeout(a.Wa),a.Wa=null);a.wc&&(a.wc.stop(),a.wc=null);a.Gc&&(clearTimeout(a.Gc),a.Gc=null,b.a.log("quit() stop delayed disconnect for "+
a.l))}function K(a){b.o.qm(T,t);q();y(e);p();e.v.terminate();da=b.o.Y;Y(e);e.J=a||b.b.Bo;k.T&&k.T(e);b.o.I(e.j);k.wf&&k.wf(e)}function Z(a){if(e.Gc)b.a.log("disconnect() found delayed disconnect in progress for "+e.l);else if(e.Wa||e.wc)b.a.log("disconnect() start delayed disconnect for "+e.l),e.Gc=setTimeout(function(){e.Gc=null;b.a.log("disconnect() execute delayed disconnect for "+e.l);Z(a)},1E3),e.Wa&&(clearTimeout(e.Wa),e.Wa=null,d(e));else return q(),y(e),p(),e.v.terminate(),da=b.o.Y,Y(e),e.J=
a||b.b.ze,k.T&&k.T(e),b.o.I(e.j),b.a.log("sign out for "+e.l),k.wf&&k.wf(e),!0}var ea=e.j;e.Hd=e.hf=!1;var t=e.Ed,S=new G.a.g,T=new G.a.g,oa=null;e.v=new Worker("worker/worker_timeout.js");e.v.onmessage=null;var da=b.o.Y,qa=0,sa=0,na=0,ra=0;e.ci=function(){f()};var va=[function(){var a=t.length();if(!(2>a)){switch(t.L(1)){case b.b.Nq:k.s&&k.s(e,b.b.Xp);e.J=b.b.lf;break;case b.b.Gq:k.s&&k.s(e,b.b.Op);e.J=b.b.Co;break;case b.b.Pq:k.s&&k.s(e,b.b.$p);e.J=b.b.Go;break;case b.b.Oq:e.S||(e.af=1);k.s&&k.s(e,
b.b.Yp);e.J=b.b.Fo;break;case b.b.Hq:k.s&&k.s(e,b.b.aq);e.J=b.b.Ho;break;case b.b.Fq:k.s&&k.s(e,b.b.Pp);e.J=b.b.Ao;break;case b.b.Iq:e.S||(e.af=1);if(10>a)return;var c=t.c(2),d=t.c(6);if(0>d||1E4<=d){k.s&&k.s(e,b.b.jj);b.a.log("recv error[INIT_INFO,300] for for "+e.l);K(b.b.Ki);return}if(a<10+d)return;a=t.h(10,d);k.Cf&&k.Cf(e,c,a);e.J=b.b.Io;t.shift(8+d);break;case b.b.Mq:k.s&&k.s(e,b.b.cq);e.J=b.b.Jo;break;case b.b.Kq:k.s&&k.s(e,b.b.bq);e.J=b.b.Mo;break;case b.b.Jq:k.s&&k.s(e,b.b.fq);e.J=b.b.Ko;
break;default:k.s&&k.s(e,b.b.Wy),e.J=b.b.Oo}t.shift(2);b.a.log("init info quit for for "+e.l);K(e.J)}},w,function(){k.s&&k.s(e,b.b.gq);t.shift(1);T=S;b.a.log("being overwritten for "+e.l);Z(b.b.No)},function(){k.s&&k.s(e,b.b.hq);t.shift(1);T=S;b.a.log("being removed for "+e.l);Z(b.b.Po)},B,B,B,D,w,w,w,B,B,function(){function a(b,a,e,c){if(b.S||!b.Rb||a==(b.da?b.Qa:b.O))return!1;var d,f=!1;for(d=0;d<b.na.length;d++){var g=b.na[d],h;for(h=0;h<g.m_pContactArray.length;h++){var m=g.m_pContactArray[h];
if(m.id==a){m.name!=e&&(m.name=e,f=!0);m.pm!=c&&(m.pm=c,f=!0);break}}}f&&k.Vb(b)}var c,d,f=t.length();if(!(13>f)){var g=t.c(1);var h=t.c(5),m=t.c(9);if(0>m||128<=m)k.s&&k.s(e,b.b.Ce),b.a.log("wrong userid len[STATUS_CHANGE,200] for "+e.l),K(b.b.Bc);else if(!(f<13+m+4)){var n=t.c(13+m);if(0>n||128<=n)k.s&&k.s(e,b.b.Fa),b.a.log("wrong username len[STATUS_CHANGE,500] for "+e.l),K(b.b.Bc);else if(!(f<13+m+4+n+16)){f=t.c(13+m+4+n);var p=t.c(13+m+4+n+4),q=t.c(13+m+4+n+8),L=t.c(13+m+4+n+12);if(0>L||128<=
L)k.s&&k.s(e,b.b.Fa),b.a.log("wrong personal_info len[STATUS_CHANGE,900] for "+e.l),K(b.b.Bc);else{var C=t.h(13,m),M=t.h(13+m+4,n),u=t.h(13+m+4+n+16,L);M||(b.a.log(1,"office "+e.ga+", username is empty for userid "+C+", reset it using userid"),M="EmptyName_status("+C+")".slice(0,127));var N=0,v;if(e.da){g=c=d=0;if(v=e.zd[C]){if(c=v.status,g=v.Ta,M!=v.username&&(d=1),M!=v.username||u!=v.Ua)N=1}else v=new A,N=1,e.zd[C]=v;v.status=h;v.Ta=f;v.lb=p;v.Eb=q;v.O=C;v.username=M;v.Ua=u;N&&(N=a(e,C,M,u));d&&
k.kh(e,C);k.Xd&&k.Xd(e,v);e.og&&e.Qa!=C&&(c==b.b.Pb||!c&&!g)&&h!=b.b.Pb&&(h||f)&&k.nk&&k.nk(e,C)}else{v=e.kb[g];v||(v=new A,e.kb[g]=v,N=1);d=0;c=v.status;g=v.Ta;M!=v.username&&(d=1);if(M!=v.username||u!=v.Ua)N=1;v.status=h;v.Ta=f;v.lb=p;v.Eb=q;v.O=C;v.username=M;v.Ua=u;N&&(N=a(e,C,M,u));d&&k.kh(e,C);k.Xd&&k.Xd(e,v);e.og&&e.O!=C&&(c==b.b.Pb||!c&&!g)&&h!=b.b.Pb&&(h||f)&&k.mk&&k.mk(e,C)}k.zf&&k.zf(e,v);t.shift(13+m+4+n+16+L);T=S;r("COMMAND_US_STATUS_CHANGE")}}}}},function(){if(!(5>t.length())){var a=
t.c(1);0<=a&&a<b.b.Ha&&e.kb&&e.kb[a]&&(e.kb[a].status=0,e.kb[a].Ta=0,e.kb[a].O&&(k.Xd&&k.Xd(e,e.kb[a]),k.zf&&k.zf(e,e.kb[a])));t.shift(5);T=S;r("COMMAND_US_STATUS_REMOVE")}},w,function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[INVITE,200] for "+e.l),K(b.b.bd);else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||100<=d)k.s&&k.s(e,b.b.kj),b.a.log("wrong homepage len[INVITE,500] for "+e.l),K(b.b.Dg);else if(!(a<5+c+4+d+4)){var f=t.c(5+c+4+d);if(0>f||128<=
f)k.s&&k.s(e,b.b.Ce),b.a.log("wrong userid len[INVITE,800] for "+e.l),K(b.b.Bc);else if(!(a<5+c+4+d+4+f)){a=b.crypto.w(t.h(5,c),e.B).u();var g=t.h(5+c+4,d),h=t.h(5+c+4+d+4,f);k.dk&&k.dk(e,a,h,g);t.shift(5+c+4+d+4+f);T=S;r("COMMAND_US_INVITE")}}}}},B,function(){var a=t.length();if(!(5>a)){var c=t.c(1);e.mg&&!e.S&&3==e.Ta&&e.Ta!=c&&(e.Xa==b.b.Pb&&k.Wr(e.mg,e),e.mg=0);e.Ta=c;if(!e.da&&e.Ta){if(9>a)return;c=t.c(5);if(0>c||1E4<=c){k.s&&k.s(e,b.b.ed);b.a.log("wrong jnj len[OFFICE_STATUS,300] for "+e.l);
K(b.b.bd);return}if(a<9+c)return;e.SF=b.crypto.w(t.h(9,c),e.B).u();t.shift(4+c)}k.T&&k.T(e);t.shift(5);T=S;r("COMMAND_US_OFFICE_STATUS")}},function(){k.Zr(e,!1);t.shift(1);T=S;r("COMMAND_US_UPDATE_PROFILE")},function(){var a=t.length();if(!(33>a)){e.Xs=t.c(1);e.tr=t.c(5);e.ur=t.c(9);e.PF=t.c(13);e.wm=t.c(17);e.OF=t.c(21);e.RF=t.c(25);var c=t.c(29);if(0>c||128<=c)k.s&&k.s(e,b.b.Fa),b.a.log("wrong username len[VIEW_PROFILE,200] for "+e.l),K(b.b.fb);else if(!(a<33+c+4)){var d=e.username;e.username=t.h(33,
c);var f=t.c(33+c);if(0>f||f>=b.b.Gp)k.s&&k.s(e,b.b.Up),b.a.log("wrong email len[VIEW_PROFILE,500] for "+e.l),K(b.b.Ro);else if(!(a<33+c+4+f+8)){e.Xg=t.h(33+c+4,f);var g=t.c(33+c+4+f+4);if(0>g||1E4<=g)k.s&&k.s(e,b.b.ed),b.a.log("recv error[VIEW_PROFILE,900] for "+e.l),K(b.b.bd);else if(!(a<33+c+4+f+8+g)){b.crypto.w(t.h(33+c+4+f+8,g),e.B).u();if(e.da)e.rf=0;else{if(a<33+c+4+f+8+g+4)return;e.rf=t.c(33+c+4+f+8+g);t.shift(4)}e.zm=1;e.di||e.wm&&k.fk&&k.fk(e,e.wm);e.di=1;d!=e.username&&b.Wb.kh(e,e.da?e.Qa:
e.O);k.Nk&&k.Nk(e);t.shift(33+c+4+f+8+g);T=S;r("COMMAND_US_VIEW_PROFILE")}}}}},function(){b.a.log("server shutdown, "+e.l);k.Ek&&k.Ek(e);e.Wa&&(clearTimeout(e.Wa),e.Wa=null,d(e));t.shift(1);T=S;r("COMMAND_US_SERVER_SHUTDOWN")},function(){sa||(sa=1);e.og=1;k.T&&k.T(e);k.yk&&k.yk(e);t.shift(1);T=S;r("COMMAND_US_STATUS_INITED")},w,E,E,function(){5>t.length()||(e.rt=t.c(1),e.S||(e.af=0),t.shift(5),T=S,r("COMMAND_US_SIP_CAP"))},function(){if(!(2>t.length())){if(48==t.L(1)){var b=new G.a.g;b.m(v.wi);b.N("1");
ea.send(b.i())}t.shift(2);T=S;r("COMMAND_US_ALIVE")}},function(){e.da=1;k.T&&k.T(e);t.shift(1);T=S;r("COMMAND_US_MMC_FLAG")},function(){var a=t.length();if(!(9>a)){var c=t.c(5);0>c||1E4<=c?(k.s&&k.s(e,b.b.Wp),b.a.log("wrong len[MMC_INTERNAL_ERROR,200] for "+e.l),K(b.b.lf)):a<9+c||((a=t.c(1))&&k.Cf&&k.Cf(e,a,t.h(9,c)),t.shift(9+c),T=S,r("COMMAND_US_MMC_INTERNAL_ERROR"))}},function(){var a=t.length();if(!(5>a)){var c=t.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.Vp),b.a.log("wrong userid len[MMC_INTERNAL_ID,200] for "+
e.l),K(b.b.Bc)):a<5+c+4||(a=t.c(5+c),0>a||128<=a?(k.s&&k.s(e,b.b.Fa),b.a.log("wrong mmc username len[MMC_INTERNAL_ID,500] for "+e.l),K(b.b.fb)):(e.Qa=b.crypto.w(t.h(5,c),e.B).u(),e.QF=b.crypto.w(t.h(5+c+4,a),e.B).u(),t.shift(5+c+4+a),T=S,r("COMMAND_US_MMC_INTERNAL_ID")))}},w,function(){var a=t.length();if(!(13>a)){var c=t.c(9);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[INVITE_JNJ_GENERATION,200] for "+e.l),K(b.b.bd);else if(!(a<13+c)){a=t.c(1)>>>0;var d=t.c(5),f=t.h(13,c);!d&&f.length&&
(f=b.crypto.w(f,e.B).u());k.bk&&k.bk(e,a,d,f);t.shift(13+c);T=S;r("COMMAND_US_INVITE_JNJ_GENERATION")}}},D,R,function(){var a=t.length();if(!(13>a)){var c=t.c(9);if(0>c||500<=c)k.s&&k.s(e,b.b.Zp),b.a.log("wrong jnj len[QUERY_URL_MMC,200] for "+e.l),K(b.b.So);else if(!(a<13+c)){a=t.c(1)>>>0;var d=t.c(5),f=t.h(13,c);0==d&&c&&(f=b.crypto.w(f,e.B).u());k.xk&&k.xk(e,a,d,f);t.shift(13+c);T=S;r("COMMAND_US_QUERY_URL_MMC")}}},I,w,w,w,I,I,function(){var a=t.length();if(!(5>a)){var c=t.c(1);0>c||128<=c?(k.s&&
k.s(e,b.b.Ce),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+e.l),K(b.b.Bc)):a<5+c||(e.tf=b.crypto.w(t.h(5,c),e.B).u(),t.shift(5+c),T=S,r("COMMAND_US_GUEST_USER_ID"))}},J,w,function(){var a=t.length();if(!(5>a)){var c=t.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.Fa),b.a.log("wrong user name len in invite failure[INVITE_FAILURE,200] for "+e.l),K(b.b.fb)):a<5+c||(k.ak&&k.ak(e,t.h(5,c)),t.shift(5+c),T=S,r("COMMAND_US_INVITE_FAILURE"))}},w,w,function(){function a(){var a=t.length();if(!(16>a)){var c=
t.c(12);if(0>c||c>b.b.hj)b.a.log("wrong meeting id len in update event list[UpdateEventList,300] for "+e.l),K();else if(!(a<16+c+4)){var g=t.c(16+c);if(0>g||g>=b.b.Ng)b.a.log("wrong title len in update event list[UpdateEventList,600] for "+e.l),K();else if(!(a<16+c+4+g+4)){var h=t.c(16+c+4+g);if(0>h||128<=h)b.a.log("wrong owner id len in update event list[UpdateEventList,900] for "+e.l),K();else if(!(a<16+c+4+g+4+h+4)){var m=t.c(16+c+4+g+4+h);if(0>m||128<=m)b.a.log("wrong owner name len in update event list[UpdateEventList,1200] for "+
e.l),K();else if(!(a<16+c+4+g+4+h+4+m+4)){a={};a.start_time=t.c(0);a.duration=t.c(4);a.advance_time=t.c(8);a.meeting_id=b.crypto.w(t.h(16,c),e.B).u();a.title=b.crypto.w(t.h(16+c+4,g),e.B).u();a.owner_id=b.crypto.w(t.h(16+c+4+g+4,h),e.B).u();a.owner_name=b.crypto.w(t.h(16+c+4+g+4+h+4,m),e.B).u();a.invited=t.c(16+c+4+g+4+h+4+m);a:{var n,p=e.eg;for(n=0;n<p.length;n++)if(a.start_time<p[n].start_time){p.splice(n,0,a);break a}p.splice(n,0,a)}t.shift(16+c+4+g+4+h+4+m+4);f++;f==d&&(da=x,v.Br||(e.eg=[]),k.Kk&&
k.Kk(e));T=S;r("COMMAND_US_UPDATE_EVENT_LIST,2")}}}}}}if(!(9>t.length())){var c=b.crypto.w(t.h(1,8),e.B),d=c.c(0);if(0>d||200<d)b.a.log("too many events in the event list for "+e.l),K();else{e.Ys=c.c(4);e.Ts=b.a.time();t.shift(9);e.eg=[];var f=0;d?da=a:T=S;r("COMMAND_US_UPDATE_EVENT_LIST")}}},w,J,function(){var c=t.length();if(!(5>c)){var d=t.c(1);if(0>d||5E8<=d)k.s&&k.s(e,b.b.Tp),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+e.l),K(b.b.Qo);else if(!(c<5+d)){if(0==d)b.a.log("receive client_info for "+
e.l+": [Empty]"),e.Rb=1;else{c=b.crypto.w(t.h(5,d),e.B);var f=c.u();b.a.log("receive client_info for "+e.l+": "+d+","+b.a.Ab(c.u()));e.Rh=new a(e,f)}t.shift(5+d);T=S;r("COMMAND_US_CLIENT_INFO")}}},function(){if(!(5>t.length())){var b=e.Xh;e.Xh=t.c(1);b!=e.Xh&&k.qk&&k.qk(e);t.shift(5);T=S;r("COMMAND_US_IM_LOG")}},w,B,U,function(){var a=t.length();if(!(5>a)){var c=t.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.Fa),b.a.log("wrong user name len in share file failure[SHARE_FILE_FAILURE,200] for "+e.l),K(b.b.fb)):
a<5+c||(k.Fk&&k.Fk(e,t.h(5,c)),t.shift(5+c),T=S,r("COMMAND_US_SHARE_FILE_FAILURE"))}},function(){function a(){var a=t.length();if(!(8>a)){var g=t.c(4);if(0>g||4096<=g)b.a.log("wrong blackbox data len in update publish_file list[UpdatePublishFileList,300] for "+e.l),K();else if(!(a<8+g+4)){var h=t.c(8+g);if(0>h||h>=b.b.Ng)b.a.log("wrong title len in update publish_file list[UpdatePublishFileList,600] for "+e.l),K();else if(!(a<8+g+4+h+4)){var m=t.c(8+g+4+h);if(0>m||128<=m)b.a.log("wrong owner name len in update publish_file list[UpdatePublishFileList,900] for "+
e.l),K();else if(!(a<8+g+4+h+4+m)){a={};a.duration=t.c(0);a.blackbox_data=b.crypto.w(t.h(8,g),e.B).u();a.title=b.a.Ab(b.crypto.w(t.h(8+g+4,h),e.B).u());a.owner_name=b.a.Ab(b.crypto.w(t.h(8+g+4+h+4,m),e.B).u());var n=/(.+)\/([^\/]+)/.exec(a.title);n&&(a.title=n[2],a.group=n[1]);c(a);t.shift(8+g+4+h+4+m);f++;f==d&&(da=x,k.Lk&&k.Lk(e));T=S;r("COMMAND_US_UPDATE_PUBLISH_FILE_LIST,2")}}}}}function c(b){var a,c=e.Qh;for(a=0;a<c.length;a++)if(c[a].group){if(b.group){if(b.group.toLowerCase()<c[a].group.toLowerCase()){c.splice(a,
0,b);return}if(!(b.group.toLowerCase()>c[a].group.toLowerCase())&&b.title.toLowerCase()<c[a].title.toLowerCase()){c.splice(a,0,b);return}}}else{if(b.group){c.splice(a,0,b);return}if(b.title.toLowerCase()<c[a].title.toLowerCase()){c.splice(a,0,b);return}}c.splice(a,0,b)}if(!(5>t.length())){var d=b.crypto.w(t.h(1,4),e.B).c(0);if(0>d||200<d)b.a.log("too many publish_files in the publish_file list for "+e.l),K();else{t.shift(5);e.Qh=[];var f=0;d?da=a:T=S;r("COMMAND_US_UPDATE_PUBLISH_FILE_LIST")}}},w,
R,J,I,I,w,function(){if(!(5>t.length())){var b=t.c(1);e.Nj=b&1?1:0;e.zt=b&2?1:0;e.yr=b&4?1:0;e.OB=b&8?0:1;e.tj=b&16?1:0;t.shift(5);T=S;r("COMMAND_US_INIT_INFO")}},function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[CreateGroup 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[CreateGroup 500] for "+e.l),K();else if(!(a<5+c+4+d)){if(a=t.h(5,c))if(61!=a.charCodeAt(0))k.td(e,a);else{var f=t.h(5+c+4,d),g=e.da?e.Qa:
e.O;h(e,a,g,f);k.Bb&&k.Bb(e,a,g,e.username);f!=g&&k.Bb&&k.Bb(e,a,f,k.Uk(e,f));k.xf&&k.xf(e,a,f)}t.shift(5+c+4+d);T=S;r("COMMAND_US_CREATE_GROUP")}}}},function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[CreateGroup2 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[CreateGroup2 500] for "+e.l),K();else if(!(a<5+c+4+d+4)){var f=t.c(5+c+4+d);if(0>f||128<=f)b.a.log("wrong user name len[CreateGroup2 800] for "+e.l),
K();else if(!(a<5+c+4+d+4+f+4)){if(a=t.h(5,c))if(61!=a.charCodeAt(0))k.td(e,a);else{var g=t.h(5+c+4,d),m=t.h(5+c+4+d+4,f);k.Ke(e,t.c(5+c+4+d+4+f),g,m);var n=e.da?e.Qa:e.O;h(e,a,g,n);k.Bb&&k.Bb(e,a,n,e.username);g!=n&&k.Bb&&k.Bb(e,a,g,m);k.xf&&k.xf(e,a,g)}t.shift(5+c+4+d+4+f+4);T=S;r("COMMAND_US_CREATE_GROUP2")}}}}},w,function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupMessage2 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[GroupMessage2 500] for "+
e.l),K();else if(!(a<5+c+4+d+4)){var f=t.c(5+c+4+d);if(0>f||500<=f)b.a.log("wrong short message len[GroupMessage2 800] for "+e.l),K();else if(!(a<5+c+4+d+4+f+4)){var g=t.c(5+c+4+d+4+f);if(0>g||5E3<=g)b.a.log("wrong short message2 len[GroupMessage2 1100] for "+e.l),K();else if(!(a<5+c+4+d+4+f+4+g+4)){if(a=t.h(5,c)){var h=t.h(5+c+4,d),m=t.c(5+c+4+d+4+f+4+g)>>>0,n=e.cb[a];n&&n.count==m&&"undefined"!==typeof n.mb[h]?(m=b.crypto.w(t.h(5+c+4+d+4,f),e.B).u(),n=b.crypto.w(t.h(5+c+4+d+4+f+4,g),e.B).u(),k.Xj&&
k.Xj(e,a,m,n,h)):(k.td(e,a),k.Wd&&k.Wd(e,a),n&&(delete e.cb[a],e.yd--,k.Ra&&k.Ra(e,a)))}t.shift(5+c+4+d+4+f+4+g+4);T=S;r("COMMAND_US_GROUP_MESSAGE2")}}}}}},w,function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[LeaveGroup2 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[LeaveGroup2 500] for "+e.l),K();else if(!(a<5+c+4+d+4)){if(a=t.h(5,c)){var f=e.cb[a];if(f){var g=t.h(5+c+4,d),h=t.c(5+c+4+d)>>>0;1234567890==
h||h!=f.count||"undefined"===typeof f.mb[g]?(1234567890!=h&&k.td(e,a),k.Wd&&k.Wd(e,a),delete e.cb[a],e.yd--):(delete f.mb[g],f.count--,n(e,f),k.jk&&k.jk(e,a,g));k.Ra&&k.Ra(e,a)}}t.shift(5+c+4+d+4);T=S;r("COMMAND_US_LEAVE_GROUP2")}}}},w,Q,function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong peer id len[CreateGroupFail 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[CreateGroupFail 500] for "+e.l),K();else if(!(a<5+c+4+d+
4)){a=t.h(5,c);var f=t.h(5+c+4,d),g=t.c(5+c+4+d);k.Uj&&k.Uj(e,a,f,g);t.shift(5+c+4+d+4);T=S;r("COMMAND_US_CREATE_GROUP_FAIL")}}}},function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[JoinGroupFail 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[JoinGroupFail 500] for "+e.l),K();else if(!(a<5+c+4+d+4)){if(a=t.h(5,c)){var f=t.h(5+c+4,d),g=t.c(5+c+4+d);k.ik&&k.ik(e,a,f,g)}t.shift(5+c+4+d+4);T=S;r("COMMAND_US_JOIN_GROUP_FAIL")}}}},
function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupMessageFail 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||500<=d)b.a.log("wrong user name len[GroupMessageFail 800] for "+e.l),K();else if(!(a<5+c+4+d+4)){var f=t.c(5+c+4+d);if(0>f||5E3<=f)b.a.log("wrong user name len[GroupMessageFail 1100] for "+e.l),K();else if(!(a<5+c+4+d+4+f+4)){var g=3<e.cf||3==e.cf&&23<=e.Yh;a=t.h(5+c+4,d);var h=t.h(5+c+4+d+4,f);g&&(a&&(a=b.crypto.w(a,e.B).u()),
h&&(h=b.crypto.w(h,e.B).u()));g=t.c(5+c+4+d+4+f);k.Yj&&k.Yj(e,"",a,h,g);t.shift(5+c+4+d+4+f);T=S;r("COMMAND_US_GROUP_MESSAGE_FAIL")}}}}},w,w,B,function(){var a=t.length();if(!(17>a)){var c=t.c(13);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileRequest 200] for "+e.l),K();else if(!(a<17+c+4)){var d=t.c(17+c);if(0>d||1E3<=d)b.a.log("wrong file name len[SendFileRequest 500] for "+e.l),K();else{var f=17+c+4+d,g=t.c(5),h;var m=h="";if(2==g||1==g){if(a<f+4)return;h=t.c(f);if(0>h||128<=h){b.a.log("wrong len[SendFileRequest 800] for "+
e.l);K();return}f+=4+h;if(a<f+4)return;h=t.h(f-h,h);m=t.c(f);if(0>m||100<=m){b.a.log("wrong len[SendFileRequest 1100] for "+e.l);K();return}f+=4+m;if(a<f)return;m=t.h(f-m,m)}var n="";var p=0;if(0==g||1==g){if(a<f+4)return;n=t.c(f);if(0>n||128<=n){b.a.log("wrong len[SendFileRequest 1400] for "+e.l);K();return}f+=4+n+4;if(a<f)return;n=t.h(f-n-4,n);p=t.c(f-4)}a=t.c(1)>>>0;var q=t.c(9)>>>0,L=t.h(17,c);c=t.h(17+c+4,d);2!=g&&k.Ke(e,p,L,n);k.Bk&&k.Bk(e,a,g,q,L,n,c,h,m,p);t.shift(f);T=S;r("COMMAND_US_SENDFILE_REQUEST")}}}},
function(){var a=t.length();if(!(25>a)){var c=t.c(21);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileAction 200] for "+e.l),K();else if(!(a<25+c)){a=t.c(1)>>>0;var d=t.c(5),f=t.c(9),g=t.c(13),h=t.c(17),m=t.h(25,c);k.Ak&&k.Ak(e,g,h,f,a,d,m);t.shift(25+c);T=S;r("COMMAND_US_SENDFILE_ACTION")}}},function(){var a=t.length();if(!(17>a)){var c=t.c(13);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileSend 200] for "+e.l),K();else if(!(a<17+c)){var d=t.c(5)>>>0,f=d>>>30,g=d&536870911;if(0>=g||4096<g||
3==f)b.a.log("wrong peer id len[SendFileSend 400] for "+e.l),K();else if(!(a<17+c+g)){a=t.c(1)>>>0;var h=t.c(9),m=t.h(17,c),n=b.crypto.w(t.h(17+c,g),e.B).u();k.Ck&&k.Ck(e,d,h,n,a,f,m);t.shift(17+c+g);T=S;r("COMMAND_US_SENDFILE_SEND")}}}},w,U,w,function(){var a=t.length();if(!(5>a)){var c=t.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.Fa),b.a.log("wrong userid len[USERNAME,200] for "+e.l),K(b.b.fb)):a<5+c||(e.username=b.crypto.w(t.h(5,c),e.B).u(),t.shift(5+c),T=S,r("COMMAND_US_USERNAME"))}},w,w,function(){var a=
t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupTyping2 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[GroupTyping2 500] for "+e.l),K();else if(!(a<5+c+4+d+4)){if(a=t.h(5,c)){var f=t.h(5+c+4,d),g=t.c(5+c+4+d)>>>0;k.Zj&&k.Zj(e,a,f,g)}t.shift(5+c+4+d+4);T=S;r("COMMAND_US_GROUP_TYPING2")}}}},F,F,w,Q,w,w,w,w,function(){var a=t.length();if(!(9>a)){var c=t.c(5);0>c||512<=c?(b.a.log("wrong peer id len[ServerLogError 200] for "+
e.l),K()):a<9+c||(a=t.c(1),k.Bf&&k.Bf(e,a,t.h(9,c)),t.shift(9+c),T=S,r("COMMAND_US_SERVER_LOG_ERROR"))}},function(){var a=t.length();if(!(17>a)){var c=t.c(5);if(0>c||512<=c)b.a.log("wrong peer id len[ServerLogData 200] for "+e.l),K();else if(!(a<17+c)){var d=t.c(13);if(0>d||1E4<=d)b.a.log("wrong peer id len[ServerLogData 400] for "+e.l),K();else if(!(a<17+c+d)){a=t.c(1);var f=t.c(9),g=t.h(17,c),h=b.crypto.w(t.h(17+c,d),e.B).u();-1!=h.indexOf("\x00")?k.Bf&&k.Bf(e,a,g):k.Dk&&k.Dk(e,a,g,f,h);t.shift(17+
c+d);T=S;r("COMMAND_US_SERVER_LOG_DATA")}}}},w,function(){function a(){var a=t.length();if(!(8>a)){var c=t.c(0),d=t.c(4);if(0>d||128<=d)b.a.log("wrong id len[PGCAnnounce 1300] for "+e.l),K();else if(!(a<8+d+4)){var g=t.h(8,d),m=t.c(8+d);if(0>m||128<=m)b.a.log("wrong name len[PGCAnnounce 1600] for "+e.l),K();else if(!(a<8+d+4+m)){k.Ke(e,c,g,t.h(8+d+4,m));M[g]||(u++,M[g]=C-6E4);t.shift(8+d+4+m);v++;if(v==L&&(da=x,f&&!e.cb[f])){a=new z;a.eh=f;a.V=h;a.se=p;a.mb=M;a.count=u;if(q){var N=e.da?e.Qa:e.O;a.mb[N]=
C-6E4;a.count++}n(e,a);e.cb[f]=a;e.yd++;q&&k.Bb&&k.Bb(e,f,N,e.username);k.Ra&&k.Ra(e,f)}T=S;r("COMMAND_US_PGC_ANNOUNCE,2")}}}}var c=t.length();if(!(5>c)){var d=t.c(1);if(0>d||128<=d)b.a.log("wrong group id len[PGCAnnounce 200] for "+e.l),K();else if(!(c<5+d+4)){var f=t.h(5,d),g=t.c(5+d);if(0>g||128<=g)b.a.log("wrong owner id len[PGCAnnounce 500] for "+e.l),K();else if(!(c<5+d+4+g+4)){var h=t.h(5+d+4,g),m=t.c(5+d+4+g);if(0>m||128<=m)b.a.log("wrong pgc name len[PGCAnnounce 800] for "+e.l),K();else if(!(c<
5+d+4+g+4+m+8)){var p=t.h(5+d+4+g+4,m),q=t.c(5+d+4+g+4+m),L=t.c(5+d+4+g+4+m+4)>>>0;t.shift(5+d+4+g+4+m+8);if(0>L||1E5<=L)b.a.log("wrong size[PGCAnnounce 1100] for "+e.l),K();else{var C=b.a.A(),M={},u=0,v=0;0!=L?da=a:T=S;r("COMMAND_US_PGC_ANNOUNCE")}}}}}},function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||128<=c)b.a.log("wrong group id len[RenamePgc 200] for "+e.l),K();else if(!(a<5+c+4)){var d=t.c(5+c);if(0>d||128<=d)b.a.log("wrong name len[RenamePgc 500] for "+e.l),K();else if(!(a<5+c+4+
d+4)){var f=t.c(5+c+4+d);if(0>f||128<=f)b.a.log("wrong srcid len[RenamePgc 800] for "+e.l),K();else if(!(a<5+c+4+d+4+f)){if(a=t.h(5,c)){var g=t.h(5+c+4,d),h=t.h(5+c+4+d+4,f),m=e.cb[a];m?(m.se=g,n(e,m),k.zk&&k.zk(e,a,g,h),k.Ra&&k.Ra(e,a)):k.td(e,a)}t.shift(5+c+4+d+4+f);T=S;r("COMMAND_US_PGC_RENAME")}}}}},function(){var a=t.length();if(!(9>a)){var c=t.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineJoin 200] for "+e.l),K();else if(!(a<9+c+4)){var d=t.c(9+c);if(0>d||128<=d)b.a.log("wrong name len[OfflineJoin 500] for "+
e.l),K();else if(!(a<9+c+4+d)){if(a=t.h(9,c)){var f=t.c(1),g=t.h(9+c+4,d);k.uk&&k.uk(e,f,a,g)}t.shift(9+c+4+d);T=S;r("COMMAND_US_OFFLINE_JOIN_GROUP2")}}}},function(){var a=t.length();if(!(9>a)){var c=t.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineLeave 200] for "+e.l),K();else if(!(a<9+c+4)){var d=t.c(9+c);if(0>d||128<=d)b.a.log("wrong name len[OfflineLeave 500] for "+e.l),K();else if(!(a<9+c+4+d)){if(a=t.h(9,c)){var f=t.c(1),g=t.h(9+c+4,d);k.vk&&k.vk(e,f,a,g)}t.shift(9+c+4+d);T=S;r("COMMAND_US_OFFLINE_LEAVE_GROUP2")}}}},
function(){var a=t.length();if(!(9>a)){var c=t.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineGroupMessage 200] for "+e.l),K();else if(!(a<9+c+4)){var d=t.c(9+c);if(0>d||128<=d)b.a.log("wrong name len[OfflineGroupMessage 500] for "+e.l),K();else if(!(a<9+c+4+d+4)){var f=t.c(9+c+4+d);if(0>f||500<=f)b.a.log("wrong name len[OfflineGroupMessage 800] for "+e.l),K();else if(!(a<9+c+4+d+4+f+4)){var g=t.c(9+c+4+d+4+f);if(0>g||5E3<=g)b.a.log("wrong name len[OfflineGroupMessage 1100] for "+e.l),K();
else if(!(a<9+c+4+d+4+f+4+g)){if(a=t.h(9,c)){var h=t.c(1),m=t.h(9+c+4,d),n=t.h(9+c+4+d+4,f),p=t.h(9+c+4+d+4+f+4,g);if(3<e.cf||3==e.cf&&23<=e.Yh)n&&(n=b.crypto.w(n,e.B).u()),p&&(p=b.crypto.w(p,e.B).u());k.tk&&k.tk(e,h,a,m,n,p)}t.shift(9+c+4+d+4+f+4+g);T=S;r("COMMAND_US_OFFLINE_GROUP_MESSAGE2")}}}}}},function(){var a=t.length();if(!(9>a)){var c=t.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflinePgcRename 200] for "+e.l),K();else if(!(a<9+c+4)){var d=t.c(9+c);if(0>d||128<=d)b.a.log("wrong name len[OfflinePgcRename 500] for "+
e.l),K();else if(!(a<9+c+4+d+4)){var f=t.c(9+c+4+d);if(0>f||128<=f)b.a.log("wrong name len[OfflinePgcRename 800] for "+e.l),K();else if(!(a<9+c+4+d+4+f)){if(a=t.h(9,c)){var g=t.c(1),h=t.h(9+c+4,d),m=t.h(9+c+4+d+4,f);k.wk&&k.wk(e,g,a,h,m)}t.shift(9+c+4+d+4+f);T=S;r("COMMAND_US_OFFLINE_PGC_RENAME")}}}}},w,H,H,function(){var a=t.length();if(!(5>a)){var c=t.c(1);if(0>c||1E4<=c)k.s&&k.s(e,b.b.Fa),b.a.log("wrong username len[TURN_SERVER,100] for "+e.l),K(b.b.fb);else if(!(a<5+c)){a=b.crypto.w(t.h(5,c),
e.B).u();try{var d=JSON.parse(a);b.a.isArray(d)&&(10<d.length&&(d.length=10),e.bi=d)}catch(ya){}e.bi.length?b.a.log("msgr received turn server information from MCU for "+e.l):b.a.log("msgr received turn server information from MCU, but no valid entry found, for "+e.l);t.shift(5+c);T=S;r("COMMAND_US_TURN_SERVER")}}},w];ea.onclose=function(){e.j!=ea&&(b.a.log("!!!Info, need take care of this(1)!!!"),k.s&&k.s(e,99991));q();e.Hd=!0;e.v.onmessage||u()};ea.onerror=function(){e.j!=ea&&(b.a.log("!!!Info, need take care of this(2)!!!"),
k.s&&k.s(e,99992));q();e.hf=!0;e.v.onmessage||u()};ea.onmessage=function(a){qa=0;q();a=new G.a.g(a.data);t.D(a);g();e.v.onmessage||e.Ec||(na=0,ra=b.a.A(),da())};var ca=new G.a.g("U");ea.send(ca.i());if(e.S){ca.clear();ca.f(0);var ja=e.tf?e.tf.length:0;ca.f(ja);ja&&ca.D(b.crypto.M(e.tf,e.B))}else ca.clear(),ja=e.O?e.O.length:0,ca.f(ja),ja&&ca.D(b.crypto.M(e.O,e.B)),ja=e.password?e.password.length:0,ca.f(ja),ja&&ca.D(b.crypto.M(e.password,e.B));ea.send(ca.i());e.od=0;e.S||(e.Xa?e.Zg?v.Jj||(e.Zg=0,e.Xa=
b.b.Kd):e.Xa==b.b.Kd&&v.Jj&&(e.Zg=1,e.Xa=b.b.mj):e.Xa=v.ab,ca.clear(),ca.m(v.Di),ca.f(e.Xa),ca.m(v.ao),ca.f(b.a.time()),ea.send(ca.i()));e.Fj=1;e.disconnect=Z;b.a.log(1,["msgr connection is established for ",e.l].join(""));b.a.log(2,["msgr connection param for ",e.l,": param->addr=[",e.ba,"],port=",e.port].join(""));e.Ej=!0;e.J=b.b.pa;k.T&&k.T(e);qa=sa=e.og=0;g();da=x;t.length()&&(p(),na=0,ra=b.a.A(),da())}function a(a,c){var e=this;a.Rb=1;e.stop=function(){};if(window.DOMParser){var d=new DOMParser;
try{var f=d.parseFromString(c.replace(/\n/g,"&#10;"),"text/xml")}catch(ha){return}try{var h=f.getElementsByTagName("ci")[0];if(h)if(h.getAttribute("compression")){var k=h.getAttribute("size");if(!(k&&1E9<k)){var n=b.Wb.Rr;if(n){var p=b.a.Gb(h.childNodes[0].nodeValue);n=n();var q=new n("zlib_decompress",b.a.Zh(p),function(c){e.stop=function(){};var d=new DOMParser;try{var f=d.parseFromString(b.a.uj(c).replace(/\n/g,"&#10;"),"text/xml")}catch(wa){return}g(a,f)},function(){e.stop=function(){}});a.Rb=
0;e.stop=function(){a.Rb=1;q.stop();e.stop=function(){}}}else a.Rb=0}}else g(a,f)}catch(ha){}}}function g(a,b){var c=!1;a.Rb=1;try{var e=b.getElementsByTagName("ci")[0];if(!e)return;var d;(d=e.getAttribute("office_name"))&&100>d.length&&(a.Oa=d);(d=e.getAttribute("personal_info"))&&128>d.length&&(a.Ua=d);(d=e.getAttribute("im_font"))&&256>d.length&&(a.gh=d);d=e.getAttribute("im_style");a.vf=d?d>>>0:0;var f,g,h=e.getElementsByTagName("contactgroup");for(f=0;f<(h?h.length:0);f++)if(b={},d=h[f].getAttribute("groupname")){var n=
!1;for(g=0;g<a.na.length;g++){var p=a.na[g];if(p.m_szGroupName==d){n=!0;break}else if(d.toLowerCase()<p.m_szGroupName.toLowerCase())break}if(!n){a.na.splice(g,0,b);b.m_szGroupName=d;d=h[f].getAttribute("contact_folded");b.contact_folded=d?d>>>0:0;b.m_pContactArray=[];var q,L=h[f].getElementsByTagName("contact");for(q=0;q<(L?L.length:0);q++)if((d=L[q].getAttribute("userid"))&&128>d.length&&(a.S||!E(a,d))){var r={};n=!1;for(g=0;g<b.m_pContactArray.length;g++)if(d==b.m_pContactArray[g].id){n=!0;break}else if(d<
b.m_pContactArray[g].id)break;if(!n){b.m_pContactArray.splice(g,0,r);r.id=d;var u=ba(a,d);d=L[q].getAttribute("username");r.name=d&&128>d.length?d:r.id;d=L[q].getAttribute("pm");r.pm=d&&128>d.length?d:"";u&&(u.username&&u.username!=r.name&&(r.name=u.username,c=!0),u.Ua&&u.Ua!=r.pm&&(r.pm=u.Ua,c=!0))}}}}if((d=e.getElementsByTagName("share_file"))&&d.length){var v=d[0].getElementsByTagName("file");for(f=0;f<(v?v.length:0);f++){var w=v[f];e={};if((d=w.getAttribute("jnj"))&&1E4>d.length&&(e.jnj=d,(d=
w.getAttribute("username"))&&128>d.length&&(e.owner_name=d,(d=w.getAttribute("homepage"))&&100>d.length&&(e.owner_homepage=d,(d=w.getAttribute("title"))&&128>d.length)))){e.title=d;if(d=w.getAttribute("subject")){if(!(128>d.length))continue;e.subject=d}else e.subject="";d=w.getAttribute("duration");null!=d&&(e.duration=d>>>0,d=w.getAttribute("share_type"),null==d||0>d||2<d||(e.share_type=d>>>0,d=w.getAttribute("tick"),null!=d&&(e.recv_tick=d>>>0,d=w.getAttribute("read"),e.read=null==d?1:d>>>0,aa(a,
e))))}}}}catch(ta){return}k.Yr(a);k.Tk();k.Xr(a);c&&k.Vb(a);k.T&&k.T(a);k.Tj&&k.Tj(a)}function aa(a,b){var c=b.owner_name,e=b.subject||b.title,d=/(.+)\/([^\/]+)$/.exec(e);d?(b.name=d[2],b.group=c+" - "+d[1],b.group2=b.owner_name+" - "+d[1]):(b.name=e,b.group=c+" ",b.group2=b.owner_name+" ");c=a.cc;for(a=0;a<c.length;a++){if(b.group<c[a].group){c.splice(a,0,b);return}if(!(b.group.toLowerCase()>c[a].group.toLowerCase())&&b.name.toLowerCase()<c[a].name.toLowerCase()){c.splice(a,0,b);return}}c.splice(a,
0,b)}function d(a){function c(c){var e=this,d=new n("zlib_compress",b.a.Zh(c),0,function(d){e.stop=function(){};d='<ci size="'+c.length+'" compression="1">'+b.a.oc(b.a.uj(d))+"</ci>";var f=d.length,g=new G.a.g;g.m(v.xi);g.f(f);f&&g.D(b.crypto.M(d,a.B));a.j.send(g.i());b.a.log("save client_info for "+a.l+": "+f+","+d);a.wc=null},function(){a.wc=null});e.stop=function(){d.stop();e.stop=function(){}}}a.wc&&(a.wc.stop(),a.wc=null);var e="<ci",d=b.a.At;a.Oa&&(e+=' office_name="'+d(a.Oa)+'"');a.Ua&&(e+=
' personal_info="'+d(a.Ua)+'"');a.gh&&(e+=' im_font="'+d(a.gh)+'"');a.vf&&(e+=' im_style="'+a.vf+'"');e+=">\n";var f;if(a.na.length)for(f=0;f<a.na.length;f++){e+="<contactgroup";var g=a.na[f];e+=' groupname="'+d(g.m_szGroupName)+'" contact_folded="'+(g.contact_folded?1:0)+'">\n';var h;for(h=0;h<g.m_pContactArray.length;h++){var k=g.m_pContactArray[h];e+='<contact userid="'+d(k.id)+'" username="'+d(k.name);k.pm&&(e+='" pm="'+d(k.pm));e+='"/>\n'}e+="</contactgroup>\n"}if(a.cc.length){e+="<share_file>\n";
for(f=0;f<a.cc.length;f++)g=a.cc[f],e+='<file duration="'+g.duration+'" share_type="'+g.share_type+'" tick="'+g.recv_tick+'" jnj="'+d(g.jnj)+'" username="'+d(g.owner_name)+'" homepage="'+d(g.owner_homepage)+'" title="'+d(g.title),g.read||(e+='" read="'+g.read),g.subject&&(e+='" subject="'+g.subject),e+='"/>\n';e+="</share_file>\n"}e+="</ci>";d=e.length;var n=b.Wb.Qr();500<d&&n?a.wc=new c(e):(f=new G.a.g,f.m(v.xi),f.f(d),d&&f.D(b.crypto.M(e,a.B)),a.j.send(f.i()),b.a.log("save client_info for "+a.l+
": "+d+","+b.a.Ab(e)))}function q(a){a&&a.disconnect&&a.disconnect()}function Q(a){a.hh();a.xr=0;a.ft=0;a.Rb=a.S?1:0;a.TB=0;a.di=0;a.da=0;a.Nj=0;a.zt=0;a.rt=0;a.tj=0}function U(a){if(!a.Gc)if(b.a.log("just in case that the existing connection is still alive, prepare to sign out existing connection before reconnection for "+a.l),q(a),Q(a),a.Fj){b.a.log("start quick reconnection for "+a.l);a.disconnect=function(){};var c=b.o.Uh(a.Hb,a.cr,a.port,a.port2),e=c.Nh;c=c.$h;a.J=b.b.Ji;k.T&&k.T(a);I(a,e,c)}else b.a.log("start complete reconnection for "+
a.l),a.disconnect=function(){},D(a)}function B(a,c){b.a.localStorage.hmtg_msgr_g_us_status=JSON.stringify(a);v.ab=a;for(var e=0,d=0;d<v.Sb.length;d++){var f=v.Sb[d];if(!(c&&c!=f||f.S)&&f.Xa!=a&&(e=1,r(f.S,f.O,f.ga,a),f.Zg=0,f.Xa=a,f.jh=1,c||(f.mg=0),f.J==b.b.pa)){k.T&&k.T(f);var g=new G.a.g;g.m(v.Di);g.f(f.Xa);f.j.send(g.i())}}e&&p()}function ba(a,b){if(a.da)return a.zd[b];a=a.kb;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];if(e.O==b)return e}return null}function Z(a,c,d,f,g,h,k){a.f(c);d.da?
a.f(h):(a.f(23),a.D(b.crypto.M(g,d.B)));k||f.j.send(a.i())}function Y(a,b){return b.S!=a.S||a.ga!=b.ga||!a.S&&a.O!=b.O?!1:!0}function R(a,b){if(!a.S&&b==(a.da?a.Qa:a.O))return!1;for(var c=0;c<a.na.length;c++)for(var e=a.na[c],d=0;d<e.m_pContactArray.length;d++)if(b==e.m_pContactArray[d].id)return!0;return!1}function E(a,b){return b==(a.da?a.Qa:a.O)}var G=window.W,v={hc:1,ic:25,Og:1};b.a.log("hmtg jmkernel version "+J());var k=b.jmkernel=b.Wb=b.Wb||{};k.version=k.version=J;v.hv=0;v.Gv=1;v.Av=2;v.Ev=
3;v.Gi=4;v.Cg=5;v.Ai=6;v.mv=7;v.Yn=8;v.Di=9;v.Zn=10;v.uv=11;v.Vu=12;v.Rv=13;v.Tv=14;v.Uu=15;v.Un=16;v.Qn=17;v.vv=18;v.Xv=19;v.uo=20;v.Kv=21;v.Sv=22;v.yi=23;v.$v=24;v.Fi=25;v.Ov=26;v.wi=27;v.pv=28;v.qv=29;v.rv=30;v.co=31;v.zi=32;v.eo=33;v.sv=34;v.Dv=35;v.po=36;v.Wn=37;v.Ru=38;v.Fv=39;v.qo=40;v.Ei=41;v.ev=42;v.Mv=43;v.Vn=44;v.iv=45;v.fv=46;v.av=47;v.Wv=48;v.bo=49;v.Su=50;v.xi=51;v.gv=52;v.ko=53;v.Cv=54;v.oo=55;v.Lv=56;v.Yv=57;v.fo=58;v.tv=59;v.Nv=60;v.Bi=61;v.Ci=62;v.Hv=63;v.Tu=64;v.Wu=65;v.Xu=66;v.Sn=
67;v.bv=68;v.$n=69;v.ov=70;v.Xn=71;v.jv=72;v.Yu=73;v.lv=74;v.cv=75;v.$u=76;v.Pv=77;v.Qv=78;v.mo=79;v.lo=80;v.no=81;v.Uv=82;v.io=83;v.to=84;v.Zv=85;v.Zu=86;v.Tn=87;v.dv=88;v.ro=89;v.so=90;v.Rn=91;v.kv=92;v.ho=93;v.ao=94;v.Pn=95;v.On=96;v.Jv=97;v.Iv=98;v.Nn=99;v.Bv=100;v.jo=101;v.xv=102;v.yv=103;v.wv=104;v.zv=105;v.nv=106;v.vo=107;v.Hi=108;v.Vv=109;v.Ep=109;v.Sb=[];v.la=[];v.ab=b.a.qe(b.a.localStorage.hmtg_msgr_g_us_status);"undefined"===v.ab&&(v.ab=b.b.Kd);v.ab!=b.b.Kd&&v.ab!=b.b.iq&&v.ab!=b.b.jq&&
v.ab!=b.b.mj&&v.ab!=b.b.Pb&&(v.ab=b.b.Kd);v.Jj=0;v.Br=!0;v.Y=function(){};H.prototype._g_us_status=function(a){if("undefined"===typeof a)return v.ab;v.ab=a};v.Ar=new H;f.prototype._blocking=function(a){this.Ec&&b.a.log(-1,"alert, _blocking, should not occur, need investigation for "+this.l);this.Ec=!0;this.xj=a};f.prototype._unblocking=function(){this.Ec||b.a.log(-1,"alert, _unblocking, should not occur, need investigation for "+this.l);this.Ec=!1;this.ci&&this.ci()};f.prototype._homepage=function(){return this.ga};
f.prototype._guest=function(){return this.S};f.prototype._userid=function(){return this.O};f.prototype._my_id=function(){return this.da?this.Qa:this.O};f.prototype._connection_status=function(){return this.J};f.prototype._us_status=function(a){if("undefined"===typeof a)return this.Xa;this.Xa=a};f.prototype._office_status=function(){return this.Ta};f.prototype._mmc_messenger=function(){return this.da};f.prototype._server_version_major=function(){return this.cf};f.prototype._server_version_minor=function(){return this.Yh};
f.prototype._server_version_subminor=function(){return this.qt};f.prototype._personal_info=function(a){if("undefined"===typeof a)return this.Ua;this.Ua=a};f.prototype._office_name=function(a){if("undefined"===typeof a)return this.Oa;this.Oa=a};f.prototype._name_or_homepage=function(){return this.Oa?this.Oa:this.ga};f.prototype._name_or_homepage2=function(){return this.Oa?this.Oa:(this.S?"guest":this.username)+" @ "+this.ga};f.prototype._name_or_homepage3=function(){return this.Oa?this.Oa:"["+(this.S?
"guest":this.username)+" @ "+this.ga+"]"};f.prototype._quit=function(){return this.Va};f.prototype._internal_id=function(){return this.Qa};f.prototype._m_pContactGroupArray=function(){return this.na};f.prototype._client_info_loaded=function(){return this.Rb};f.prototype._noncontact_folded=function(a){if("undefined"===typeof a)return this.pe;this.pe=a};f.prototype._m_p_mmc_user_hash=function(){return this.zd};f.prototype._m_User=function(){return this.kb};f.prototype._user_status_inited=function(){return this.og};
f.prototype._user_info_ever_recvd=function(){return this.di};f.prototype._disk_usage=function(){return this.ur};f.prototype._username=function(a){if("undefined"===typeof a)return this.username;this.username=a};f.prototype._to_restore_status=function(){return this.mg};f.prototype._im_style_flag=function(a){if("undefined"===typeof a)return this.vf;this.vf=a};f.prototype._ngclass=function(a){if("undefined"===typeof a)return this.ob;this.ob=a};f.prototype._ngstyle=function(a){if("undefined"===typeof a)return this.Fc;
this.Fc=a};f.prototype._imstyle=function(a){if("undefined"===typeof a)return this.V;this.V=a};f.prototype._file_transfer_cap=function(){return this.yr};f.prototype._group_im_cap=function(){return this.Nj};f.prototype._password=function(a){if("undefined"===typeof a)return this.password;this.password=a};f.prototype._password_error=function(a){if("undefined"===typeof a)return this.af;this.af=a};f.prototype._ever_connected=function(){return this.Ej};f.prototype._server_im_log=function(){return this.Xh};
f.prototype._share_file_folded=function(){return this.df};f.prototype._old_psf_folded=function(){return this.nd};f.prototype._m_pShareFileArray=function(){return this.cc};f.prototype._publish_file_count=function(){return this.ft};f.prototype._publish_file_folded=function(){return this.bf};f.prototype._old_publish_folded=function(){return this.qd};f.prototype._mmc_publish_file_array=function(){return this.Qh};f.prototype._visitor_folded=function(a){if("undefined"===typeof a)return this.ye;this.ye=
a};f.prototype._m_pVisitorArray=function(){return this.Ye};f.prototype._event_count=function(){return this.xr};f.prototype._event_folded=function(a){if("undefined"===typeof a)return this.Od;this.Od=a};f.prototype._mmc_event_array=function(){return this.eg};f.prototype._mcu_tick=function(){return this.Ys};f.prototype._local_tick=function(){return this.Ts};f.prototype._allow_group_im_force_leave=function(){return this.tj};f.prototype._email=function(a){if("undefined"===typeof a)return this.Xg;this.Xg=
a};f.prototype._deny_message=function(a){if("undefined"===typeof a)return this.rf;this.rf=a};f.prototype._jnj_ip=function(){return this.ba};f.prototype._port=function(){return this.port};f.prototype._profile_up_to_date=function(){return this.zm};f.prototype._max_outconnection=function(){return this.Xs};f.prototype._disk_quota=function(){return this.tr};f.prototype._pgc_folded=function(a){if("undefined"===typeof a)return this.re;this.re=a};f.prototype._m_pPgcHash=function(){return this.cb};f.prototype._m_PgcCount=
function(){return this.yd};f.prototype._cipher_name=f.prototype.Rq=function(){return this.hd};f.prototype._turn_server_array=function(){return this.bi};A.prototype._status=function(a){if("undefined"===typeof a)return this.status;this.status=a};A.prototype._office_status=function(){return this.Ta};A.prototype._username=function(){return this.username};A.prototype._personal_info=function(){return this.Ua};A.prototype._userid=function(){return this.O};A.prototype._major=function(){return this.lb};A.prototype._minor=
function(){return this.Eb};A.prototype._is_offline=function(){return 0==this.status&&0==this.Ta||this.status==b.b.Pb};u.prototype._saved_password=function(){return this.Fd};z.prototype._pgc_name=function(){return this.se};z.prototype._full_name=function(){return this.$a};z.prototype._group_id=function(){return this.eh};z.prototype._owner_id=function(){return this.V};z.prototype._count=function(){return this.count};z.prototype._member_hash=function(){return this.mb};k.jm_command_CallbackReady=k.oC=
function(){var a=b.Wb;a.Qr=a.jm_callback_compress;a.Rr=a.jm_callback_decompress;a.Wj=a.jm_callback_GetMcuInfo;a.T=a.jm_callback_UpdateConnectionStatus;a.s=a.jm_callback_ShowError;a.Xd=a.jm_callback_UpdateUser;a.Vj=a.jm_callback_DeleteConnectionParam;a.Sd=a.jm_callback_LaunchJoinNet;a.Ek=a.jm_callback_ServerShutdown;a.ck=a.jm_callback_JnjExceedDiskQuota;a.Cf=a.jm_callback_ShowMMCError;a.Gk=a.jm_callback_ShortMessage;a.dk=a.jm_callback_JnjInvite;a.hk=a.jm_callback_JnjVisit;a.ek=a.jm_callback_JnjNewMessage;
a.fk=a.jm_callback_JnjNewMessageCount;a.Nk=a.jm_callback_UserInfoUpdated;a.bk=a.jm_callback_InviteJnjGeneration;a.kk=a.jm_callback_MMCJnjGeneration;a.xk=a.jm_callback_QueryURLMMC;a.Bk=a.jm_callback_SendFileRequest;a.tk=a.jm_callback_OfflineGroupMessage;a.Xj=a.jm_callback_GroupMessage;a.gk=a.jm_callback_JnjShareFile;a.Hk=a.jm_callback_ShortMessageFailure;a.ak=a.jm_callback_InviteFailure;a.Fk=a.jm_callback_ShareFileFailure;a.Yj=a.jm_callback_GroupMessageFail;a.zf=a.jm_callback_NotifyIMStatusChange;
a.Bf=a.jm_callback_ServerLogError;a.Dk=a.jm_callback_ServerLogData;a.wf=a.jm_callback_DisconnectGroupConversationWindow;a.yk=a.jm_callback_ReconnectGroupConversationWindow;a.$j=a.jm_callback_IMNewItem;a.Td=a.jm_callback_MsgNewItem;a.Ub=a.jm_callback_MessageEndOfFile;a.pk=a.jm_callback_NotifyPlaybackResult;a.Af=a.jm_callback_NotifyShareResult;a.rk=a.jm_callback_NotifyUnshareResult;a.sk=a.jm_callback_NotifyViewRecordResult;a.Nr=a.jm_callback_NotifyJnrPasswordResult;a.Mr=a.jm_callback_NotifyChangeTitleResult;
a.Ud=a.jm_callback_NotifyChangeFileProgress;a.lk=a.jm_callback_NotifyJeditorResult;a.yf=a.jm_callback_NotifyDownloadResult;a.Vd=a.jm_callback_NotifyUploadResult;a.Ok=a.jm_callback_ViewRecord;a.Kk=a.jm_callback_UpdateEventList;a.Lk=a.jm_callback_UpdatePublishFileList;a.Tj=a.jm_callback_ClientInfoLoaded;a.Ra=a.jm_callback_UpdatePgc;a.Mk=a.jm_callback_UpdateVisitor;a.Ik=a.jm_callback_ShowTalkToError;a.Pk=a.jm_callback_VisitorSessionAlert;a.Ak=a.jm_callback_SendFileAction;a.Ck=a.jm_callback_SendFileSend;
a.Zj=a.jm_callback_GroupTyping;a.Jk=a.jm_callback_TypingIn;a.nk=a.jm_callback_NotifyOnlineAlertMMC;a.mk=a.jm_callback_NotifyOnlineAlert;a.Bb=a.jm_callback_JoinGroup;a.jk=a.jm_callback_LeaveGroup;a.Wd=a.jm_callback_StopPgc;a.xf=a.jm_callback_InitPgc;a.uk=a.jm_callback_OfflineJoin;a.vk=a.jm_callback_OfflineLeave;a.wk=a.jm_callback_OfflinePgcRename;a.zk=a.jm_callback_RenamePgc;a.Uj=a.jm_callback_CreateGroupFail;a.ik=a.jm_callback_JoinGroupFail;a.qk=a.jm_callback_NotifyServerIMLogChange;a.Qk=a.jm_callback_WebRTCSignal};
k.jm_command_ReadWBL=k.UC=function(){F();v.la=[];var a=[];b.a.localStorage.hmtg_wbl&&"string"===typeof b.a.localStorage.hmtg_wbl&&b.a.localStorage.hmtg_wbl.length&&(a=b.a.qe(b.a.localStorage.hmtg_wbl),"undefined"===a?a=[]:b.a.isArray(a)||(a=[]));for(var c=0;c<a.length;c++){var d=a[c],f=new u;f.Oa="string"===typeof d.office_name?d.office_name:"";f.ga="string"===typeof d.homepage?d.homepage:"";f.ye=!!d.visitor_folded;f.df=!!d.share_file_folded;f.Od=!!d.event_folded;f.bf=!!d.publish_file_folded;f.re=
!!d.pgc_folded;f.pe=!!d.noncontact_folded;f.S=!!d.guest;d.guest||(f.bg=d.last_status,f.O="string"===typeof d.userid?d.userid:"",f.Fd=!!d.saved_password,d.saved_password&&(d.password&&"string"===typeof d.password||(d.password=""),f.password=b.crypto.w(d.password,b.crypto.gf).u()));v.la.push(f)}};k.jm_command_WriteWBL=k.Tk=p;k.jm_command_ReorderWBL=k.aD=function(a){var b=[],c,d=!1;for(c=0;c<a.length;c++){var e;a:{for(e=0;e<v.la.length;e++)if(Y(a[c].pointer,v.la[e]))break a;e=-1}-1!=e&&(e!=c&&(d=!0),
b.push(v.la[e]))}d&&(v.la=b,k.Tk())};k.jm_command_AddWebOffice=k.lC=function(a,c,d,f,g){var e=0,h;for(h=0;h<v.la.length;h++){var k=v.la[h];if(k.S==c&&k.ga==a&&(c||f==k.O)){e=1;k.lr=1;k.S=c;k.Fd=d;c||(k.O=f,d&&(k.password=g));break}}e||(k=new u,k.lr=1,k.bg=b.b.Kd,k.ga=a,k.S=c,!c&&(k.O=f,k.Fd=d)&&(k.password=g),v.la.push(k))};k.jm_command_UpdateWebOfficeLastStatus=k.qD=r;k.jm_command_SignInOffice=k.jD=function(a,c,d,g,h){for(var e=0,m=null,n=0;n<v.Sb.length;n++)if(m=v.Sb[n],m.ga==d&&(a&&m.S||!m.S&&
!a&&m.O==g)){e=1;break}if(e){e=m;if(1E4>e.J){if(e.S)return;if(e.password==h){v.ab=c;e.Xa!=c&&(e.J==b.b.pa?B(c,e):(e.Xa=c,e.jh=1));return}b.a.log("add office and force existing connection to sign out for "+e.l)}q(e);e.S||(v.ab=e.Xa=c,e.jh=1,e.password=h);e.J=b.b.ze;U(e)}else e=new f,e.Ie=!0,e.J=b.b.Mi,e.S=a,e.S||(v.ab=e.Xa=c,e.jh=1,e.O=g,e.password=h,e.username=g),e.ga=d,v.Sb.push(e),e.l=(e.S?"guest":e.O)+" @ homepage "+e.ga,b.a.log(1,["signin, start thread for ",e.l].join("")),k.T&&k.T(e),D(e)};k.jm_command_SignOutOffice=
k.kD=q;k.jm_command_ReconnectOffice=k.VC=U;k.jm_command_RemoveOffice=k.XC=function(a){a&&a.disconnect&&a.disconnect();a&&(a.Va=!0);var b=v.Sb.indexOf(a);-1!=b&&v.Sb.splice(b,1);k.Vj&&k.Vj(a)};k.jm_command_ConnectAllOffice=k.tC=function(a){for(var c=0;c<v.la.length;c++){var d=v.la[c],e=new f;e.J=b.b.Mi;e.S=d.S;e.ye=d.ye;e.df=d.df;e.Od=d.Od;e.bf=d.bf;e.re=d.re;e.pe=d.pe;e.Xa=d.bg;e.Oa=d.Oa;e.ga=d.ga;d.S||(e.O=d.O,d.Fd?e.password=d.password:(e.password="",e.af=1),e.username=e.O);v.Sb.push(e);e.l=(e.S?
"guest":e.O)+" @ homepage "+e.ga;a&&(d.S||d.Fd)?(b.a.log(1,"init, start thread for "+e.l),D(e)):e.J=b.b.ze;k.T&&k.T(e)}};k.jm_command_FindWebOffice=k.DC=function(a){for(var b,c=0;c<v.la.length;c++)if(b=v.la[c],Y(a,b))return b;return null};k.jm_command_CreateDummyOffice=k.uC=function(a,b){var c=new f;c.S=!1;c.O=a;c.ga=b;return c};k.jm_command_RemoveWebOffice=k.ZC=function(a){a=v.la.indexOf(a);-1!=a&&v.la.splice(a,1)};k.jm_command_UpdateWebOfficeFoldStatus=k.pD=function(a,b,c){var d;for(d=0;d<v.la.length;d++){var e=
v.la[d];if(Y(a,e)){0==b?e.ye=c:2==b?e.pe=c:3==b?e.Od=c:4==b?e.df=c:5==b?e.bf=c:6==b&&(e.re=c);break}}};k.jm_command_UpdateWebOfficeName=k.Yr=function(a){var b;for(b=0;b<v.la.length;b++){var c=v.la[b];if(Y(a,c)){c.Oa=a.Oa;break}}};k.jm_command_UpdateWebOfficeProfile=k.rD=function(a){var b;for(b=0;b<v.la.length;b++){var c=v.la[b];if(Y(a,c)){c.password=a.password;break}}};k.jm_command_LaunchOffice=k.Ur=function(a){var b=new G.a.g;b.m(v.Zn);a.j.send(b.i())};k.jm_command_AppendDefaultPassword=k.Tr=function(a,
c){if(!c)return a;F();var d="hmtg_temp_autodelete_"+(new G.a.g(G.random.ya(20))).Nb();c={time:Date.now(),value:b.crypto.M(c,b.crypto.gf).u()};b.a.localStorage[d]=JSON.stringify(c);a+="\nowner_passwd="+d+"\n";b.a.sd||setTimeout(function(){b.a.localStorage.removeItem(d)},6E4);return a};k.jm_command_AppendPlayerName=k.mC=function(a,c){if(c.S)return a;var d=c.username;d?(d+=" @ "+c.ga,d=b.a.ff(d,128)):d="Guest";return a+("\nplayer_name="+d+"\n")};k.jm_command_Base64HashPassword=k.nC=function(a){var c=
b.crypto.$c(a.password);a=b.crypto.M(c,a.B);return b.a.oc(a)};k.jm_command_Visit=k.uD=function(a,c){if(!a.Va&&a.J==b.b.pa){var d=new G.a.g;d.m(v.Yn);d.H(c);a.j.send(d.i());return!0}};k.jm_command_SetStatus=k.Wr=B;k.jm_command_MMCVisit=k.MC=function(a,c,d,f,g){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;e.m(v.co);e.f(c);e.H(d);c=g?1:0;e.f(c);c||e.H(f);a.j.send(e.i());return!0}};k.jm_command_MMCRequestInviteUserJnj=k.LC=function(a,b,c,d,f){var e=new G.a.g;e.m(a==b?v.Wn:v.zi);e.f(c);e.H(a==b?d:f);a.j.send(e.i())};
k.jm_command_RequestInviteUserJnj=k.bD=function(a,b,c,d){b=new G.a.g;b.m(v.zi);b.f(c);b.H(d);a.j.send(b.i())};k.jm_command_InviteUser=k.GC=function(a,c,d,f,g){a.Va||!a.Ta&&!a.da||(b.a.ne("inviting user '"+f+"'(name: '"+g+"') @ '"+c.ga+"', invitor '"+(a.da?a.Qa:a.O)+"'(name: '"+a.username+"') @ '"+a.ga+"'"),g=new G.a.g,g.m(v.Un),g.H(f),g.H(a.ga),g.H(a.da?a.username:a.O),a=d.length,g.f(a),a&&g.D(b.crypto.M(d,c.B)),c.j.send(g.i()))};k.jm_command_InviteGuest=k.FC=function(a,c,d,f,g){if(!a.Va&&(a.Ta||
a.da)){b.a.ne("inviting guest "+g+" @ '"+c.ga+"', invitor '"+(a.da?a.Qa:a.O)+"'(name: '"+a.username+"') @ '"+a.ga+"'");var e=new G.a.g;e.m(v.Vn);e.H(f);e.H(a.ga);e.H(a.da?a.username:a.O);a=d.length;e.f(a);a&&e.D(b.crypto.M(d,c.B));e.H(g);c.j.send(e.i())}};k.jm_command_SendMessage=k.eD=function(a,c,d,f,g,h,k,n){var e=new G.a.g;c?(e.m(v.Sn),e.H(c),k=d.length,e.f(k),k&&e.D(b.crypto.M(d,a.B)),k=f.length,e.f(k),k&&e.D(b.crypto.M(f,a.B))):(c=g||a.S,e.m(c?v.Ei:v.qo),e.H(k),k=d.length,e.f(k),k&&e.D(b.crypto.M(d,
a.B)),k=f.length,e.f(k),k&&e.D(b.crypto.M(f,a.B)),e.H(a.S?a.tf:a.da?a.Qa:a.O),e.H(n),c&&e.H(h));a.j.send(e.i())};k.jm_command_SendWebRTCSignal=k.fD=function(a,c,d){var e=new G.a.g;e.m(v.vo);e.H(d);d=c.length;e.f(d);d&&e.D(b.crypto.M(c,a.B));a.j.send(e.i())};k.jm_command_ParamFindUser=k.Vr=ba;k.jm_command_DownloadServerLog=k.BC=function(a,c,d,f,g,h,k){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;e.m(v.Pn);e.f(c);e.f(f);e.f(g);e.N(h);e.f(k);e.H(d);a.j.send(e.i());return!0}};k.jm_command_DeleteServerLog=k.zC=
function(a,c,d,f){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;e.m(v.On);e.f(c);e.f(f);e.H(d);a.j.send(e.i());return!0}};k.jm_command_DecodeServerLogLine=k.vC=function(a){var c={};if(35==a.charCodeAt(0)){c.text_type=b.b.Fg;a=b.a.Gb(a.slice(1));var d=new G.a.g(a)}else a=b.a.Gb(a),d=new G.a.g(a),c.text_type=d.c(8);if(d.L(a.length-1))return null;c.tick=d.c(0);var e=12;switch(c.text_type){case b.b.Yi:c.delay=d.c(12),e=16;case b.b.$i:var f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");
if(-1==d)return null;var g=a.slice(e+f+d+2).indexOf("\x00");if(e+f+d+g+3!=a.length||256<=f||500<=d||5E3<=g)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);c.s3=a.substr(e+f+d+2,g);break;case b.b.Ig:case b.b.Vi:c.delay=d.c(12),e=16;case b.b.Gg:case b.b.Hg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||256<=f)return null;c.s1=a.substr(e,f);break;case b.b.Wi:c.delay=d.c(12);e=16;f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");if(e+f+d+2!=a.length||256<=f||256<=
d)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);break;case b.b.Zi:case b.b.Xi:c.delay=d.c(12);c.size=d.c(16)>>>0;e=20;f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||5E3<=f)return null;c.s3=a.substr(e,f);break;case b.b.Fg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||500<=f)return null;c.s3=""+d.c(8)+" ("+a.substr(e,f)+")";break;default:return null}return c};k.jm_command_CheckIM=k.rC=function(a,c,d){return new b.protocol.Sr(a,c,d)};k.jm_command_CheckMsg=k.sC=function(a,c,d){return new b.protocol.Sk(a,
0,d)};k.jm_command_Playback=k.TC=function(a,c,d,f){var e=new G.a.g;a.da?(e.f(1),e.f(f),c.Ea=0,c.j.send(e.i())):(e.m(v.ko),e.D(b.crypto.M(d,a.B)),a.j.send(e.i()))};k.jm_command_Delete=k.wC=function(a,b,c,d){var e=new G.a.g;Z(e,2,a,b,c,d)};k.jm_command_MarkRead=k.NC=function(a,b,c,d){var e=new G.a.g;Z(e,6,a,b,c,d)};k.jm_command_MarkUnread=k.OC=function(a,b,c,d){var e=new G.a.g;Z(e,7,a,b,c,d)};k.jm_command_MMCPlaybackSharedFile=k.KC=function(a,c,d){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;e.m(v.fo);e.f(c);
e.H(d);a.j.send(e.i());return!0}};k.jm_command_MMCEditProfile=k.JC=function(a,c){if(!a.Va&&a.J==b.b.pa){var d=new G.a.g;d.m(v.yi);d.f(c);a.j.send(d.i());return!0}};k.jm_command_JoinEvent=k.IC=function(a,c,d,f,g,h){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;e.m(v.bo);e.f(c);e.H(d);e.H(f);e.f(g?1:0);g||e.H(h);a.j.send(e.i());return!0}};k.jm_command_UpdatePersonalInfo=k.Xr=function(a){var b=new G.a.g;b.m(v.to);b.H(a.Ua);a.j.send(b.i())};k.jm_command_SpeedupClientInfo=k.lD=function(){var a;for(a=0;a<v.Sb.length;a++){var b=
v.Sb[a];!b.S&&b.Wa&&(clearTimeout(b.Wa),b.Wa=null,d(b))}};k.jm_command_TouchClientInfo=k.Vb=function(a){a.Rb&&!a.Gc&&(a.Wa&&clearTimeout(a.Wa),a.Wa=setTimeout(function(){a.Wa=null;d(a)},6E4))};k.jm_command_RemoveShareFile=k.YC=function(a,b){b=a.cc.indexOf(b);-1!=b&&(a.cc.splice(b,1),k.Vb(a))};k.jm_command_RemoveAllShareFile=k.WC=function(a,b){var c;for(c=a.cc.length-1;0<=c;c--)a.cc[c].group==b&&a.cc.splice(c,1);k.Vb(a)};k.jm_command_UpdateUserInfo=k.Ke=function(a,b,c,d){var e;if(a.da){if(e=a.zd[c])return;
e=new A;a.zd[c]=e}else{if(e=a.kb[b])return;e=new A;a.kb[b]=e}e.status=0;e.Ta=0;e.lb=0;e.Eb=0;e.O=c;e.username=d;e.Ua=""};k.jm_command_TalkToVisitor=k.mD=function(a,c,d,f){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;e.m(v.Fi);e.f(c);e.f(d);e.H(f);a.j.send(e.i());return!0}};k.jm_command_SendFileAction=k.dD=function(a,c,d,f,g,h,k){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;e.m(v.lo);e.f(c);e.f(d);e.f(f);e.f(g);e.f(h);e.H(k);a.j.send(e.i());return!0}};k.jm_command_NotifyFileTransfer=k.PC=function(a,c,d,f,g,h,
k,n,p){if(!a.Va&&a.J==b.b.pa){k&&(c|=2147483648);var e=new G.a.g;e.m(v.ho);e.f(c);e.f(d);e.f(g);e.H(h);e.H(f);k&&(e.H(n),e.H(p));a.j.send(e.i());return!0}};k.jm_command_Typing=k.nD=function(a,c,d,f){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;c?(e.m(v.Tn),e.H(c)):(e.m(f?v.so:v.ro),e.H(d));a.j.send(e.i());return!0}};k.jm_command_PgcUsernameChange=k.kh=function(a,b){var c=a.cb,d={},e;for(e in c)if(c.hasOwnProperty(e)){var f=a.cb[e];"undefined"!==typeof f.mb[b]&&(n(a,f),d[e]||(k.Ra&&k.Ra(a,e),d[e]=1))}};
k.jm_command_RequestSendFile=k.cD=function(a,c,d,f,g,h,k,n,p){if(!a.Va&&a.J==b.b.pa){var e=new G.a.g;e.m(v.mo);e.f(c);e.f(d);e.f(f);e.H(g);e.H(h);k&&(e.H(n),e.H(p));a.j.send(e.i());return!0}};k.jm_command_FileSend=k.CC=function(a,c,d,f,g,h,k){if(!a.Va&&a.J==b.b.pa){var e=d.length;e=e|f<<30|(c?1:0)<<29;c=new G.a.g;c.m(v.no);c.f(g);c.f(e);c.f(h);c.H(k);c.D(b.crypto.M(d,a.B));a.j.send(c.i());return!0}};k.jm_command_AddPerson=k.kC=function(a,b,c,d){var e=new G.a.g;e.m(b?v.Xn:v.Nn);e.H(b?b:c);e.H(d);a.j.send(e.i())};
k.jm_command_LeaveGroup=k.td=function(a,b){var c=new G.a.g;c.m(v.$n);c.H(b);a.j.send(c.i())};k.jm_command_PgcRemove=k.RC=function(a,b){b=b.eh;delete a.cb[b];a.yd--;k.Ra&&k.Ra(a,b)};k.jm_command_PgcRename=k.SC=function(a,b,c){var d=new G.a.g;d.m(v.jo);d.H(b);d.H(c);a.j.send(d.i())};k.jm_command_ForceLeaveGroup=k.EC=function(a,b,c){var d=new G.a.g;d.m(v.Rn);d.H(b);d.H(c);a.j.send(d.i())};k.jm_command_ViewProfile=k.Zr=function(a){var b=new G.a.g;b.m(v.uo);b.f(0);a.j.send(b.i())};k.jm_command_Share=k.hD=
function(a,c,d,f,g,h,k,n,p,q){var e=new G.a.g;Z(e,9,a,c,d,f,!0);d=new G.a.g;d.f(k?n:0);k=21;p&&(p=b.crypto.$c(b.a.pb(q)),d.D(p),k=1);for(p=0;p<k;p++)d.m(0);e.D(b.crypto.M(d,a.B));g==a&&h?e.H(h):e.f(0);c.j.send(e.i())};k.jm_command_Unshare=k.oD=function(a,b,c,d){var e=new G.a.g;Z(e,12,a,b,c,d)};k.jm_command_ViewRecord=k.tD=function(a,b,c,d){var e=new G.a.g;Z(e,15,a,b,c,d)};k.jm_command_ChangeTitle=k.qC=function(a,c,d,f,g){var e=new G.a.g;Z(e,11,a,c,d,f,!0);e.f(g.length);g.length&&e.D(b.crypto.M(g,
a.B));c.j.send(e.i())};k.jm_command_ChangeJNRPassword=k.pC=function(a,c,d,f,g,h){var e=new G.a.g;Z(e,10,a,c,d,f,!0);e.f(g.length);g.length&&e.D(b.crypto.M(g,a.B));e.f(h.length);h.length&&e.D(b.crypto.M(h,a.B));c.j.send(e.i())};k.jm_command_ShareFileToUser=k.iD=function(a,c,d,f,g,h,k,n,p,q,r){if(c.J==b.b.pa)return a=new G.a.g,a.m(v.oo),a.H(d),a.H(h),a.H(g),a.H(q),a.H(f),a.H(k),a.f(p),a.f(r),a.H(n),c.j.send(a.i()),!0};k.jm_command_ParseViewRecord=k.QC=function(a){var b=new G.a.g(a),c=b.c(12);return 0>
c||128<=c||c+16>a.length?null:[c,b.h(16,c),b.c(0),b.c(8),b.c(4)]};k.jm_command_AddContactGroup=k.jC=function(a,b){var c={},d,e=!1;for(d=0;d<a.na.length;d++){var f=a.na[d];if(f.m_szGroupName==b){e=!0;break}else if(b.toLowerCase()<f.m_szGroupName.toLowerCase())break}e||(a.na.splice(d,0,c),c.m_szGroupName=b,c.contact_folded=0,c.m_pContactArray=[],k.Vb(a))};k.jm_command_RenameContactGroup=k.$C=function(a,b,c){var d,e=!1;for(d=0;d<a.na.length;d++){var f=a.na[d];if(f==b){a.na.splice(d,1);e=!0;break}}if(e){b.m_szGroupName=
c;e=!1;for(d=0;d<a.na.length;d++)if(f=a.na[d],f.m_szGroupName==c){e=!0;break}else if(c.toLowerCase()<f.m_szGroupName.toLowerCase())break;e||(a.na.splice(d,0,b),k.Vb(a))}};k.jm_command_DeleteContactGroup=k.yC=function(a,b){var c,d=!1;for(c=0;c<a.na.length;c++)if(a.na[c]==b){a.na.splice(c,1);d=!0;break}d&&k.Vb(a)};k.jm_command_AddContact=k.iC=function(a,b,c,d){var e={},f,g=!1;for(f=0;f<b.m_pContactArray.length;f++)if(c==b.m_pContactArray[f].id){g=!0;break}else if(c<b.m_pContactArray[f].id)break;g||
(b.m_pContactArray.splice(f,0,e),e.id=c,(b=ba(a,c))?(e.name=b.username||d,e.pm=b.Ua):(e.name=d,e.pm=""),k.Vb(a))};k.jm_command_DeleteContact=k.xC=function(a,b,c){var d,e=!1;for(d=0;d<b.m_pContactArray.length;d++)if(c==b.m_pContactArray[d].id){b.m_pContactArray.splice(d,1);e=!0;break}else if(c<b.m_pContactArray[d].id)break;e&&k.Vb(a)};k.jm_command_SetGroup=k.gD=function(a,b,c,d,f){var e=new G.a.g;Z(e,16,a,b,c,d,!0);e.H(f);b.j.send(e.i())};k.jm_command_Jeditor=k.HC=function(a,b,c,d,f){b.dc=17;var e=
new G.a.g;Z(e,17,a,b,c,d,!0);e.H(f);b.j.send(e.i())};k.jm_command_Download=k.AC=function(a,b,c,d){b.dc=18;var e=new G.a.g;Z(e,18,a,b,c,d,!0);b.j.send(e.i())};k.jm_command_Upload=k.sD=function(a,c,d){function e(){if(1E4<c.Ia&&!c.nf&&c.kc+c.Qb<d.size){var e=Math.min(d.size,c.kc+c.Ia+2E4),f=new FileReader;f.onload=function(a){c.buffer&&(c.buffer.set(c.buffer.slice(c.Ia,c.Qb)),c.buffer.set(new Uint8Array(a.target.result),c.Qb-c.Ia),c.Qb=c.Qb-c.Ia+a.target.result.byteLength,c.kc+=c.Ia,c.Ia=0,c.nf=!1)};
f.onerror=function(){c.buffer&&(c.buffer=null,c.fa&&(c.fa.terminate(),c.fa=null),k.Vd&&k.Vd(a,c,b.b.Qq))};f.readAsArrayBuffer(d.slice(c.kc+c.Qb,e));c.nf=!0}}c.dc=19;var f=new G.a.g;f.f(c.dc);f.f(d.size>>>0);f.f(d.size/4294967296>>>0);f.D(b.crypto.M(c.buffer.slice(0,74),a.B));c.Ia=74;c.j.send(f.i());c.fa=new Worker("worker/worker_interval.js");c.fa.onmessage=function(){if(a.J!=b.b.pa||!c.connected||1!=c.j.readyState)c.connected&&1==c.j.readyState&&c.j.close(),c.nb=0,c.buffer=null,c.fa&&(c.fa.terminate(),
c.fa=null);else if(!c.j.bufferedAmount){var m=b.a.A();if(k.Ud&&500<m-g){var n=(c.kc+c.Ia)/d.size*100>>>0;n!=h&&(h=n,c.nb=n,k.Ud(a,c));g=m}for(n=0;100>n;n++){if(512>c.Qb-c.Ia&&c.Qb+c.kc!=d.size){e();break}var p=Math.min(512,c.Qb-c.Ia);var q=c.buffer.subarray(c.Ia,c.Ia+p);c.Ia+=p;f.clear();f.D(b.crypto.M(q,a.B));c.j.send(f.i());if(c.Ia+c.kc==d.size){c.buffer=null;c.fa&&(c.fa.terminate(),c.fa=null);break}if(20<b.a.A()-m){e();break}}}};c.fa.postMessage({command:"set",delay:10});var g=b.a.A()-1E3,h=0};
k.jm_command_WriteUserProfile=k.vD=function(a){if(a.J==b.b.pa){var c=new G.a.g;c.m(v.yi);c.H(a.username);c.H(a.Xg);var d=a.password?a.password.length:0;c.f(d);d&&c.D(b.crypto.M(a.password,a.B));c.f(a.rf);a.j.send(c.i());return!0}};k.jm_info_GlobalPointer=k.zD=function(){return v.Ar};k.jm_info_TestSameOffice=k.CD=Y;k.jm_info_HaveNonContact=k.AD=function(a){if(a.da){var c=a.zd;for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if((e.status||e.Ta)&&(e.status!=b.b.Pb||e.O==a.Qa)&&a.Qa!=e.O&&!R(a,e.O))return!0}}else for(d in c=
a.kb,c)if(c.hasOwnProperty(d)&&(e=c[d],(e.status||e.Ta)&&(e.status!=b.b.Pb||e.O==a.O)&&a.O!=e.O&&!R(a,e.O)))return!0;return!1};k.jm_info_IsContact=k.BD=R;k.jm_info_CanTargetUserAcceptInvitation=k.wD=function(a,c){return(a=ba(a,c))&&a.status!=b.b.Pb&&0!=a.status&&1<=a.lb?!0:!1};k.jm_info_CheckSelf=k.xD=E;k.jm_info_GetUserName=k.Uk=function(a,b){if(E(a,b))return a.username;var c=k.Vr(a,b);if(c)return c.username;for(c=0;c<a.na.length;c++){var d=a.na[c],e;for(e=0;e<d.m_pContactArray.length;e++){var f=
d.m_pContactArray[e];if(f.id==b)return f.name}}return b};k.jm_info_GetOfficeCount=k.yD=function(){return v.la.length}})(window.hmtg);
