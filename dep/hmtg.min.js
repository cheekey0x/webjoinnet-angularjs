"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,m,e){var p=null;"undefined"===typeof e&&(e=["web","flash"]);var g=!1,a=null,d;for(d in e){var c=e[d];try{if("flash"===c||"both"===c){if(null===m[0])throw{message:"Flash local storage not available."};p=b.apply(this,m);g="flash"===c}if("web"===c||"both"===c)m[0]=window.localStorage,p=b.apply(this,m),g=!0}catch(h){a=h}if(g)break}if(!g)throw a;return p}function F(b,m){E(b,m,null)}function c(b,m,e){var p=q(b,m);if(null!==p&&e in p){delete p[e];e=!0;for(var g in p){e=!1;break}e&&
(p=null);E(b,m,p)}}function y(b,m,e){b=q(b,m);null!==b&&(b=e in b?b[e]:null);return b}function g(b,m,e,g){var p=q(b,m);null===p&&(p={});p[e]=g;E(b,m,p)}function q(b,m){if(!b)throw{message:"WebStorage not available."};m=b.getItem(m);if(b.jh)if(null===m.ng){if(m.error)throw m.error;m=null}else m=m.ng;null!==m&&(m=JSON.parse(e.Ib(m)));return m}function E(b,m,g){if(!b)throw{message:"WebStorage not available."};null===g?b=b.removeItem(m):(g=e.nc(JSON.stringify(g)),b=b.setItem(m,g));if("undefined"!==typeof b&&
!0!==b.ng)throw b.error;}var e=b.a=b.a||{};"undefined"!==typeof window.V&&window.V.bf?(e.bf=window.V.bf,"function"===typeof setImmediate?e.setImmediate=setImmediate:e.setImmediate=e.bf):"function"===typeof setImmediate?(e.setImmediate=setImmediate,e.bf=function(b){return setImmediate(b)}):(e.setImmediate=function(b){setTimeout(b,0)},e.bf=e.setImmediate);e.isArray=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)};e.Jr=function(b){return"undefined"!==typeof ArrayBuffer&&
b instanceof ArrayBuffer};var D=[];"undefined"!==typeof Int8Array&&D.push(Int8Array);"undefined"!==typeof Uint8Array&&D.push(Uint8Array);"undefined"!==typeof Uint8ClampedArray&&D.push(Uint8ClampedArray);"undefined"!==typeof Int16Array&&D.push(Int16Array);"undefined"!==typeof Uint16Array&&D.push(Uint16Array);"undefined"!==typeof Int32Array&&D.push(Int32Array);"undefined"!==typeof Uint32Array&&D.push(Uint32Array);"undefined"!==typeof Float32Array&&D.push(Float32Array);"undefined"!==typeof Float64Array&&
D.push(Float64Array);e.Kr=function(b){for(var p=0;p<D.length;++p)if(b instanceof D[p])return!0;return!1};e.g=function(b){this.data="";this.read=0;if("string"===typeof b)this.data=b;else if(e.Jr(b)||e.Kr(b)){b=new Uint8Array(b);try{this.data=String.fromCharCode.apply(null,b)}catch(I){for(var p=0;p<b.length;++p)this.o(b[p])}}else b instanceof e.g&&(this.data=b.data,this.read=b.read)};e.g.prototype.length=function(){return this.data.length-this.read};e.g.prototype.Lr=function(){return 0>=this.length()};
e.g.prototype.o=function(b){this.data+=String.fromCharCode(b)};e.g.prototype.bh=function(b,m){b=String.fromCharCode(b);for(var p=this.data;0<m;)m&1&&(p+=b),m>>>=1,0<m&&(b+=b);this.data=p};e.g.prototype.K=function(b){this.data+=b};e.g.prototype.Bm=function(b){this.data+=b.split("").reverse().join("")};e.g.prototype.H=function(b){this.f(b.length);this.data+=b};e.g.prototype.ig=function(b){b=e.qb(b);this.f(b.length);this.data+=b};e.g.prototype.ft=function(){this.data+=String.fromCharCode(0)+String.fromCharCode(0)};
e.g.prototype.f=function(b){this.data+=String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};e.g.prototype.Fd=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)};e.g.prototype.Zc=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>24&255)};e.g.prototype.D=function(b){this.data+=b.ya()};e.g.prototype.Kj=function(){return this.data.charCodeAt(this.read++)};
e.g.prototype.getInt32=function(){var b=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return b};e.g.prototype.c=function(b){return this.data.charCodeAt(this.read+b)<<24^this.data.charCodeAt(this.read+b+1)<<16^this.data.charCodeAt(this.read+b+2)<<8^this.data.charCodeAt(this.read+b+3)};e.g.prototype.kc=function(b){return this.data.charCodeAt(this.read+b+3)<<24^this.data.charCodeAt(this.read+
b+2)<<16^this.data.charCodeAt(this.read+b+1)<<8^this.data.charCodeAt(this.read+b)};e.g.prototype.Pd=function(b){return this.data.charCodeAt(this.read+b)<<8^this.data.charCodeAt(this.read+b+1)};e.g.prototype.Er=function(){var b=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return b};e.g.prototype.ya=function(b){if(b){b=Math.min(this.length(),b);var p=this.data.slice(this.read,this.read+b);
this.read+=b}else 0===b?p="":(p=0===this.read?this.data:this.data.slice(this.read),this.clear());return p};e.g.prototype.u=function(b){return"undefined"===typeof b?this.data.slice(this.read):this.data.slice(this.read,this.read+b)};e.g.prototype.h=function(b,m){return"undefined"===typeof m?this.data.slice(this.read+b):this.data.slice(this.read+b,this.read+b+m)};e.g.prototype.L=function(b){return this.data.charCodeAt(this.read+b)};e.g.prototype.compact=function(){0<this.read&&(this.data=this.data.slice(this.read),
this.read=0);return this};e.g.prototype.shift=function(b){this.read+=b;1024<this.data.length&&(4096<this.read||this.read>this.data.length>>1)&&(this.data=this.data.slice(this.read),this.read=0)};e.g.prototype.clear=function(){this.data="";this.read=0;return this};e.g.prototype.truncate=function(b){b=Math.max(0,this.length()-b);this.data=this.data.substr(this.read,b);this.read=0;return this};e.g.prototype.i=function(){for(var b=new ArrayBuffer(this.data.length-this.read),m=new Uint8Array(b),e=0,g=
this.read;g<this.data.length;++g,++e)m[e]=this.data.charCodeAt(g);return b};e.g.prototype.Pb=function(){for(var b="",m=this.read;m<this.data.length;++m){var e=this.data.charCodeAt(m);16>e&&(b+="0");b+=e.toString(16)}return b};e.g.prototype.toString=function(){return e.Ab(this.u())};e.createBuffer=function(b,m){void 0!==b&&"utf8"===(m||"raw")&&(b=e.qb(b));return new e.g(b)};e.Fj=function(){for(var b=String.fromCharCode(0),m=64,e="";0<m;)m&1&&(e+=b),m>>>=1,0<m&&(b+=b);return e};e.$F=function(b,m,e){for(var p=
"",g,a="",d=0,c=0;0<e;--e,++d)g=b.charCodeAt(d)^m.charCodeAt(d),10<=c&&(p+=a,a="",c=0),a+=String.fromCharCode(g),++c;return p+a};e.Hc=function(b){var p="",e=0;b.length&1&&(e=1,p+=String.fromCharCode(parseInt(b[0],16)));for(;e<b.length;e+=2)p+=String.fromCharCode(parseInt(b.substr(e,2),16));return p};e.Vg=function(b){return e.createBuffer(b).Pb()};e.bC=function(b){return String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};var w=[62,
-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];e.nc=function(b,m){if(window.btoa)return btoa(b);for(var p="",e="",g,a,d,c=0;c<b.length;)g=b.charCodeAt(c++),a=b.charCodeAt(c++),d=b.charCodeAt(c++),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g>>2),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((g&
3)<<4|a>>4),isNaN(a)?p+="==":(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((a&15)<<2|d>>6),p+=isNaN(d)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d&63)),m&&p.length>m&&(e+=p.substr(0,m)+"\r\n",p=p.substr(m));return e+p};e.Bj=function(b,m){for(var p="",e="",g,a,d,c=0;c<b.length;)g=b.charCodeAt(c++),a=b.charCodeAt(c++),d=b.charCodeAt(c++),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(g>>2),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((g&
3)<<4|a>>4),isNaN(a)?p+="==":(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((a&15)<<2|d>>6),p+=isNaN(d)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(d&63)),m&&p.length>m&&(e+=p.substr(0,m)+"\r\n",p=p.substr(m));return e+p};e.Ib=function(b){if(window.atob)try{return atob(b)}catch(T){try{if(b.length)return atob(b.slice(0,-1))}catch(h){}}b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var p="",e,g,c,a,d=0;d<b.length;)e=w[b.charCodeAt(d++)-43],
g=w[b.charCodeAt(d++)-43],c=w[b.charCodeAt(d++)-43],a=w[b.charCodeAt(d++)-43],p+=String.fromCharCode(e<<2|g>>4),64!==c&&(p+=String.fromCharCode((g&15)<<4|c>>2),64!==a&&(p+=String.fromCharCode((c&3)<<6|a)));return p};e.Aj=function(b){return e.Ib(b.replace(/[-|_]/g,function(b){return"-"==b?"+":"/"}))};e.qb=function(b){try{return unescape(encodeURIComponent(b))}catch(m){return b}};e.Ab=function(b){try{return decodeURIComponent(escape(b))}catch(m){return b}};e.rr=function(b){var p;return p=e.Ib(b.rr(e.nc(p)).ng)};
e.Ir=function(b){b=b.Ir(e.nc(void 0)).ng;return null===b?null:e.Ib(b)};e.setItem=function(b,m,e,c,r){H(g,arguments,r)};e.getItem=function(b,m,e,g){return H(y,arguments,g)};e.removeItem=function(b,m,e,g){H(c,arguments,g)};e.RB=function(b,m,e){H(F,arguments,e)};e.$s=function(b){var m=/\/\/\[.+\]:/.test(b)?/^(https?):\/\/\[(.+)\]:?(\d*)(.*)$/g:/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;m.lastIndex=0;m=m.exec(b);if(b=null===m?null:{zr:b,scheme:m[1],host:m[2],port:m[3],path:m[4]})b.Ke=b.host,b.port?80!=
b.port&&"http"===b.scheme?b.Ke+=":"+b.port:443!=b.port&&"https"===b.scheme&&(b.Ke+=":"+b.port):"http"===b.scheme?b.port=80:"https"===b.scheme&&(b.port=443),b.zr=b.scheme+"://"+b.Ke;return b};var B=null;e.Gr=function(b){function m(b){var m={};b=b.split("&");for(var e=0;e<b.length;e++){var a=b[e].indexOf("=");if(0<a){var d=b[e].substring(0,a);a=b[e].substring(a+1)}else d=b[e],a=null;d in m||(m[d]=[]);d in Object.prototype||null===a||m[d].push(unescape(a))}return m}"undefined"===typeof b?(null===B&&
("undefined"===typeof window?B={}:B=m(window.location.search.substring(1))),b=B):b=m(b);return b};e.Zs=function(b){var m=b,g="",p=b.indexOf("?");0<p&&(m=b.substring(0,p),g=b.substring(p+1));b=m.split("/");0<b.length&&""===b[0]&&b.shift();p=""===g?{}:e.Gr(g);return{bt:m,gt:g,path:b,query:p}};e.GF=function(b){var m=e.Zs(b),g={path:m.bt,query:m.gt,Fr:function(b){return"undefined"===typeof b?m.path:m.path[b]},Sd:function(b,e){"undefined"===typeof b?b=m.query:(b=m.query[b])&&"undefined"!==typeof e&&(b=
b[e]);return b},$B:function(b,e){return(b=g.Sd(b))?b[b.length-1]:e}};return g};e.FF=function(){};e.WF=function(b,e,g){if("object"===typeof b&&null!==b)for(var m=0,p=e.length;m<p;){var a=e[m++];if(m==p)b[a]=g;else{var d=a in b;if(!d||d&&"object"!==typeof b[a]||d&&null===b[a])b[a]={};b=b[a]}}};e.Fr=function(b,e,g){for(var m=0,c=e.length,a=!0;a&&m<c&&"object"===typeof b&&null!==b;){var d=e[m++];(a=d in b)&&(b=b[d])}return a?b:g};e.UB=function(b,e){if("object"===typeof b&&null!==b)for(var m=0,g=e.length;m<
g;){var c=e[m++];if(m==g)delete b[c];else{if(!(c in b)||"object"!==typeof b[c]||null===b[c])break;b=b[c]}}};e.Lr=function(b){for(var e in b)if(b.hasOwnProperty(e))return!1;return!0};e.format=function(b){var e=/%./g,g,c,p=0,a=[];for(c=0;g=e.exec(b);)switch(c=b.substring(c,e.lastIndex-2),0<c.length&&a.push(c),c=e.lastIndex,g=g[0][1],g){case "s":case "o":p<arguments.length?a.push(arguments[p++ +1]):a.push("<?>");break;case "%":a.push("%");break;default:a.push("<%"+g+"?>")}a.push(b.substring(c));return a.join("")};
e.vf=function(b,e,g,c){var m=isNaN(e=Math.abs(e))?2:e;e=void 0===g?",":g;c=void 0===c?".":c;g=0>b?"-":"";var a=parseInt(b=Math.abs(+b||0).toFixed(m),10)+"",d=3<a.length?a.length%3:0;return g+(d?a.substr(0,d)+c:"")+a.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+c)+(m?e+Math.abs(b-a).toFixed(m).slice(2):"")};e.XB=function(b){return b=1073741824<=b?e.vf(b/1073741824,2,".","")+" GiB":1048576<=b?e.vf(b/1048576,2,".","")+" MiB":1024<=b?e.vf(b/1024,0)+" KiB":e.vf(b,0)+" bytes"};e.er=function(b){return-1!==b.indexOf(".")?
e.fr(b):-1!==b.indexOf(":")?e.gr(b):null};e.fr=function(b){b=b.split(".");if(4!==b.length)return null;for(var g=e.createBuffer(),c=0;c<b.length;++c){var p=parseInt(b[c],10);if(isNaN(p))return null;g.o(p)}return g.ya()};e.gr=function(b){var g=0;b=b.split(":").filter(function(a){0===a.length&&++g;return!0});for(var c=2*(8-b.length+g),p=e.createBuffer(),r=0;8>r;++r)if(b[r]&&0!==b[r].length){var a=e.Hc(b[r]);2>a.length&&p.o(0);p.K(a)}else p.bh(0,c),c=0;return p.ya()};e.OB=function(b){return 4===b.length?
e.hr(b):16===b.length?e.ir(b):null};e.hr=function(b){if(4!==b.length)return null;for(var e=[],g=0;g<b.length;++g)e.push(b.charCodeAt(g));return e.join(".")};e.ir=function(b){if(16!==b.length)return null;for(var g=[],c=[],p=0,r=0;r<b.length;r+=2){for(var a=e.Vg(b[r]+b[r+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var d=c[c.length-1],B=g.length;d&&B===d.end+1?(d.end=B,d.end-d.start>c[p].end-c[p].start&&(p=c.length-1)):c.push({start:B,end:B})}g.push(a)}0<c.length&&(b=c[p],0<b.end-b.start&&(g.splice(b.start,
b.end-b.start+1,""),0===b.start&&g.unshift(""),7===b.end&&g.push("")));return g.join(":")};e.WB=function(b,g){function c(b,r,h){if(0===r){var d=Math.floor(b.reduce(function(a,b){return a+b},0)/b.length);e.zj=Math.max(1,d);URL.revokeObjectURL(a);g(null,e.zj)}else m(h,function(a,d){b.push(p(h,d));c(b,r-1,h)})}function m(b,e){for(var d=[],v=[],g=0;g<b;++g){var c=new Worker(a);c.addEventListener("message",function(a){v.push(a.data);if(v.length===b){for(a=0;a<b;++a)d[a].terminate();e(null,v)}});d.push(c)}for(g=
0;g<b;++g)d[g].postMessage(g)}function p(a,b){for(var d=[],v=0;v<a;++v)for(var e=b[v],g=d[v]=[],c=0;c<a;++c)if(v!==c){var m=b[c];(e.te>m.te&&e.te<m.Cj||m.te>e.te&&m.te<e.Cj)&&g.push(c)}return d.reduce(function(a,b){return Math.max(a,b.length)},0)}"function"===typeof b&&(g=b,b={});b=b||{};if("cores"in e&&!b.update)return g(null,e.zj);var a=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(){for(var a=Date.now(),b=a+4;Date.now()<b;);self.postMessage({te:a,Cj:b})})}.toString(),
")()"],{type:"application/javascript"}));c([],5,16)}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(e,p,m,q,A){function r(){if(q)for(var a=0;4>a;++a)P[a]=E.getInt32();else for(a=0;4>a;++a)P[a]=N[a]^E.getInt32();F(w,P,C,q);if(q){for(a=0;4>a;++a)X.f(N[a]^C[a]);N=P.slice(0)}else{for(a=0;4>a;++a)X.f(C[a]);N=C}}function a(){F(w,P,C,!1);for(var a=0;2>a;++a)P[a]=P[2+a],P[2+a]=E.getInt32();for(a=0;2>a;++a){var b=P[2+a]^C[a];q||(P[2+a]=b);X.f(b)}}function d(){F(w,P,C,!1);for(var a=0;4>a;++a)P[a]=E.getInt32();for(a=0;4>a;++a)X.f(P[a]^C[a]),P[a]=C[a]}function D(){F(w,P,C,!1);for(var a=
3;0<=a;--a)if(4294967295===P[a])P[a]=0;else{++P[a];break}for(a=0;4>a;++a)X.f(E.getInt32()^C[a])}var h=null;g||y();A=(A||"CBC").toUpperCase();if("string"===typeof e&&(16===e.length||24===e.length||32===e.length))e=b.a.createBuffer(e);else if(b.a.isArray(e)&&(16===e.length||24===e.length||32===e.length)){var v=e;e=b.a.createBuffer();for(var z=0;z<v.length;++z)e.o(v[z])}if(!b.a.isArray(e)){v=e;e=[];var B=v.length();if(16===B||24===B||32===B)for(B>>>=2,z=0;z<B;++z)e.push(v.getInt32())}if(!b.a.isArray(e)||
4!==e.length&&6!==e.length&&8!==e.length)return h;v=-1!==["CFB","OFB","CTR"].indexOf(A);var G="CBC"===A,w=c(e,q&&!v),I=16,E,X,P,C,N,x;h={hg:null};if("CBC"===A)var n=r;else if("CFB"===A)n=a,I=8;else if("OFB"===A)n=d;else if("CTR"===A)n=D;else throw{message:'Unsupported block cipher mode of operation: "'+A+'"'};h.update=function(a){for(x||E.D(a);E.length()>=I||0<E.length()&&x;)n()};h.finish=function(a){var b=!0,f=E.length()%I;if(!q)if(a)b=a(I,E,q);else if(G){var d=E.length()===I?I:I-E.length();E.bh(d,
d)}b&&(x=!0,h.update());q&&(G&&(b=0===f),b&&(a?b=a(I,X,q):G&&(d=X.length(),d=X.L(d-1),16<d?b=!1:X.truncate(d))));!G&&!a&&0<f&&X.truncate(I-f);return b};h.start=function(a,d){null===a&&(a=N.slice(0));if("string"===typeof a&&16===a.length)a=b.a.createBuffer(a);else if(b.a.isArray(a)&&16===a.length){var f=a;a=b.a.createBuffer();for(var t=0;16>t;++t)a.o(f[t])}b.a.isArray(a)||(f=a,a=Array(4),a[0]=f.getInt32(),a[1]=f.getInt32(),a[2]=f.getInt32(),a[3]=f.getInt32());E=b.a.createBuffer();X=d||b.a.createBuffer();
N=a.slice(0);P=Array(4);C=Array(4);x=!1;h.hg=X;if(-1!==["CFB","OFB","CTR"].indexOf(A)){for(t=0;4>t;++t)P[t]=N[t];N=null}};null!==p&&h.start(p,m);return h}function F(b,e,g,c){var m=b.length/4-1;if(c){var p=w[0];var a=w[1];var d=w[2];var I=w[3];var h=E}else p=D[0],a=D[1],d=D[2],I=D[3],h=q;var v=e[0]^b[0];var z=e[c?3:1]^b[1];var B=e[2]^b[2];e=e[c?1:3]^b[3];for(var G=3,aa=1;aa<m;++aa){var y=p[v>>>24]^a[z>>>16&255]^d[B>>>8&255]^I[e&255]^b[++G];var F=p[z>>>24]^a[B>>>16&255]^d[e>>>8&255]^I[v&255]^b[++G];
var X=p[B>>>24]^a[e>>>16&255]^d[v>>>8&255]^I[z&255]^b[++G];e=p[e>>>24]^a[v>>>16&255]^d[z>>>8&255]^I[B&255]^b[++G];v=y;z=F;B=X}g[0]=h[v>>>24]<<24^h[z>>>16&255]<<16^h[B>>>8&255]<<8^h[e&255]^b[++G];g[c?3:1]=h[z>>>24]<<24^h[B>>>16&255]<<16^h[e>>>8&255]<<8^h[v&255]^b[++G];g[2]=h[B>>>24]<<24^h[e>>>16&255]<<16^h[v>>>8&255]<<8^h[z&255]^b[++G];g[c?1:3]=h[e>>>24]<<24^h[v>>>16&255]<<16^h[z>>>8&255]<<8^h[B&255]^b[++G]}function c(b,g){b=b.slice(0);for(var c,p=1,A=b.length,r=4*(A+6+1),a=A;a<r;++a)c=b[a-1],0===
a%A?(c=q[c>>>16&255]<<24^q[c>>>8&255]<<16^q[c&255]<<8^q[c>>>24]^e[p]<<24,p++):6<A&&4===a%A&&(c=q[c>>>24]<<24^q[c>>>16&255]<<16^q[c>>>8&255]<<8^q[c&255]),b[a]=b[a-A]^c;if(g){c=w[0];p=w[1];A=w[2];var d=w[3],D=b.slice(0);r=b.length;a=0;for(var h=r-4;a<r;a+=4,h-=4)if(0===a||a===r-4)D[a]=b[h],D[a+1]=b[h+3],D[a+2]=b[h+2],D[a+3]=b[h+1];else for(var v=0;4>v;++v)g=b[h+v],D[a+(3&-v)]=c[q[g>>>24]]^p[q[g>>>16&255]]^A[q[g>>>8&255]]^d[q[g&255]];b=D}return b}function y(){g=!0;e=[0,1,2,4,8,16,32,64,128,27,54];for(var b=
Array(256),c=0;128>c;++c)b[c]=c<<1,b[c+128]=c+128<<1^283;q=Array(256);E=Array(256);D=Array(4);w=Array(4);for(c=0;4>c;++c)D[c]=Array(256),w[c]=Array(256);var m=0,I=0;for(c=0;256>c;++c){var A=I^I<<1^I<<2^I<<3^I<<4;A=A>>8^A&255^99;q[m]=A;E[A]=m;var r=b[A];var a=b[m];var d=b[a];var y=b[d];r=r<<24^A<<16^A<<8^A^r;d=(a^d^y)<<24^(m^y)<<16^(m^d^y)<<8^m^a^y;for(var h=0;4>h;++h)D[h][m]=r,w[h][A]=d,r=r<<24|r>>>8,d=d<<24|d>>>8;0===m?m=I=1:(m=a^b[b[b[a^y]]],I^=b[b[I]])}}var g=!1,q,E,e,D,w;b.Za=b.Za||{};b.Za.ve=
function(b,e,g,c){return H(b,e,g,!1,c)};b.Za.or=function(b,e){return H(b,null,null,!1,e)};b.Za.ue=function(b,e,g,c){return H(b,e,g,!0,c)};b.Za.nr=function(b,e){return H(b,null,null,!0,e)};b.Za.Sq=function(b){g||y();return c(b,!1)};b.Za.Zq=F})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(B,p){"string"!==typeof B||8!==B.length&&24!==B.length||(B=b.a.createBuffer(B));var m=F(B),I=1,A=0,r=0,a=!1,d=null,T=null,h=32===m.length?3:9;var v=3===h?[0,32,2]:[0,32,2,62,30,-2,64,96,2];var z=null;return z={start:function(h,e){h?("string"===typeof h&&8===h.length&&(h=b.a.createBuffer(h)),I=1,A=h.getInt32(),r=h.getInt32()):I=0;a=!1;d=b.a.createBuffer();T=e||b.a.createBuffer();z.hg=T},update:function(b){for(a||d.D(b);8<=d.length()||0<d.length()&&a;){var z=A,B=r;b=(z>>>4^B)&
252645135;B^=b;z^=b<<4;b=(z>>>16^B)&65535;B^=b;z^=b<<16;b=(B>>>2^z)&858993459;z^=b;B^=b<<2;b=(B>>>8^z)&16711935;z^=b;B^=b<<8;b=(z>>>1^B)&1431655765;B^=b;z^=b<<1;z=z<<1|z>>>31;B=B<<1|B>>>31;for(var Z=0;Z<h;Z+=3){for(var F=v[Z+1],X=v[Z+2],P=v[Z];P!=F;P+=X){var C=B^m[P],N=(B>>>4|B<<28)^m[P+1];b=z;z=B;B=b^(y[C>>>24&63]|q[C>>>16&63]|e[C>>>8&63]|w[C&63]|c[N>>>24&63]|g[N>>>16&63]|E[N>>>8&63]|D[N&63])}b=z;z=B;B=b}z=z>>>1|z<<31;B=B>>>1|B<<31;b=(z>>>1^B)&1431655765;B^=b;z^=b<<1;b=(B>>>8^z)&16711935;z^=b;B^=
b<<8;b=(B>>>2^z)&858993459;z^=b;B^=b<<2;b=(z>>>16^B)&65535;B^=b;z^=b<<16;b=(z>>>4^B)&252645135;B^=b;z^=b<<4;1===I&&(A=d.getInt32(),r=d.getInt32(),z^=A,B^=r,p&&(A=z,r=B));T.f(z);T.f(B)}},finish:function(){var b=d.length()%8;b||(b=8);a=!0;z.update();T.truncate(8-b);return!0}}}function F(b){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],g=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,
67109121,68157696,68157697],c=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],A=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],r=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],d=[0,268435456,524288,268959744,2,268435458,
524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],q=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],h=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],v=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],z=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,
1056800,1056768,1056800],D=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],G=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],w=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],B=8<b.length()?3:1,y=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],P=0,C,N=0;N<B;N++){var x=b.getInt32(),n=b.getInt32();C=(x>>>4^n)&252645135;n^=C;x^=C<<4;C=(n>>>-16^x)&65535;
x^=C;n^=C<<-16;C=(x>>>2^n)&858993459;n^=C;x^=C<<2;C=(n>>>-16^x)&65535;x^=C;n^=C<<-16;C=(x>>>1^n)&1431655765;n^=C;x^=C<<1;C=(n>>>8^x)&16711935;x^=C;n^=C<<8;C=(x>>>1^n)&1431655765;n^=C;x^=C<<1;C=x<<8|n>>>20&240;x=n<<24|n<<8&16711680|n>>>8&65280|n>>>24&240;n=C;for(var f=0;f<E.length;f++){E[f]?(x=x<<2|x>>>26,n=n<<2|n>>>26):(x=x<<1|x>>>27,n=n<<1|n>>>27);x&=-15;n&=-15;var t=e[x>>>28]|g[x>>>24&15]|c[x>>>20&15]|A[x>>>16&15]|r[x>>>12&15]|a[x>>>8&15]|d[x>>>4&15],O=q[n>>>28]|h[n>>>24&15]|v[n>>>20&15]|z[n>>>
16&15]|D[n>>>12&15]|G[n>>>8&15]|w[n>>>4&15];C=(O>>>16^t)&65535;y[P++]=t^C;y[P++]=O^C<<16}}return y}var c=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,
16778240,16778240,0,65540,66560,0,16842756],y=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,
-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],g=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,
134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],q=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],E=[256,
34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,
524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],e=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,
541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],D=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,
0,2099202,69206016,2048,67108866,67110912,2048,2097154],w=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,
266240,4160,4160,262208,268435456,268701696];b.lc=b.lc||{};b.lc.ve=function(b,e,g){b=H(b,!0);b.start(e,g);return b};b.lc.or=function(b){return H(b,!0)};b.lc.ue=function(b,e,g){b=H(b,!1);b.start(e,g);return b};b.lc.nr=function(b){return H(b,!1)}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,c,y){for(var e,g,w,q,p,m,I,A,r=y.length();64<=r;){g=b.rb;w=b.sb;q=b.tb;p=b.ub;m=b.Td;for(A=0;16>A;++A)e=y.getInt32(),c[A]=e,I=p^w&(q^p),e=(g<<5|g>>>27)+I+m+1518500249+e,m=p,p=q,q=w<<30|w>>>2,w=g,g=e;for(;20>A;++A)e=c[A-3]^c[A-8]^c[A-14]^c[A-16],e=e<<1|e>>>31,c[A]=e,I=p^w&(q^p),e=(g<<5|g>>>27)+I+m+1518500249+e,m=p,p=q,q=w<<30|w>>>2,w=g,g=e;for(;32>A;++A)e=c[A-3]^c[A-8]^c[A-14]^c[A-16],e=e<<1|e>>>31,c[A]=e,I=w^q^p,e=(g<<5|g>>>27)+I+m+1859775393+e,m=p,p=q,q=w<<30|w>>>2,w=g,
g=e;for(;40>A;++A)e=c[A-6]^c[A-16]^c[A-28]^c[A-32],e=e<<2|e>>>30,c[A]=e,I=w^q^p,e=(g<<5|g>>>27)+I+m+1859775393+e,m=p,p=q,q=w<<30|w>>>2,w=g,g=e;for(;60>A;++A)e=c[A-6]^c[A-16]^c[A-28]^c[A-32],e=e<<2|e>>>30,c[A]=e,I=w&q|p&(w^q),e=(g<<5|g>>>27)+I+m+2400959708+e,m=p,p=q,q=w<<30|w>>>2,w=g,g=e;for(;80>A;++A)e=c[A-6]^c[A-16]^c[A-28]^c[A-32],e=e<<2|e>>>30,c[A]=e,I=w^q^p,e=(g<<5|g>>>27)+I+m+3395469782+e,m=p,p=q,q=w<<30|w>>>2,w=g,g=e;b.rb+=g;b.sb+=w;b.tb+=q;b.ub+=p;b.Td+=m;r-=64}}var F=b.Id=b.Id||{};b.gb=b.gb||
{};b.gb.He=b.gb.He||{};b.gb.Id=b.gb.He.sha1=F;var c=null,y=!1;F.create=function(){y||(c=String.fromCharCode(128),c+=b.a.Fj(),y=!0);var g=null,q=b.a.createBuffer(),E=Array(80),e={algorithm:"sha1",dr:64,sr:20,yb:0,start:function(){e.yb=0;q=b.a.createBuffer();g={rb:1732584193,sb:4023233417,tb:2562383102,ub:271733878,Td:3285377520};return e}};e.start();e.update=function(c,w){"utf8"===w&&(c=b.a.qb(c));e.yb+=c.length;q.K(c);H(g,E,q);(2048<q.read||0===q.length())&&q.compact();return e};e.digest=function(){var D=
e.yb,w=b.a.createBuffer();w.K(q.u());w.K(c.substr(0,64-(D+8)%64));w.f(D>>>29&255);w.f(D<<3&4294967295);D={rb:g.rb,sb:g.sb,tb:g.tb,ub:g.ub,Td:g.Td};H(D,E,w);w=b.a.createBuffer();w.f(D.rb);w.f(D.sb);w.f(D.tb);w.f(D.ub);w.f(D.Td);return w};return e}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,e,c){for(var p,m,w,A,r,a,d,D=c.length();64<=D;){m=b.rb;w=b.sb;A=b.tb;r=b.ub;for(d=0;16>d;++d)e[d]=c.Er(),p=r^w&(A^r),p=m+p+E[d]+e[d],a=q[d],m=r,r=A,A=w,w+=p<<a|p>>>32-a;for(;32>d;++d)p=A^r&(w^A),p=m+p+E[d]+e[g[d]],a=q[d],m=r,r=A,A=w,w+=p<<a|p>>>32-a;for(;48>d;++d)p=w^A^r,p=m+p+E[d]+e[g[d]],a=q[d],m=r,r=A,A=w,w+=p<<a|p>>>32-a;for(;64>d;++d)p=A^(w|~r),p=m+p+E[d]+e[g[d]],a=q[d],m=r,r=A,A=w,w+=p<<a|p>>>32-a;b.rb=b.rb+m&4294967295;b.sb=b.sb+w&4294967295;b.tb=b.tb+A&4294967295;
b.ub=b.ub+r&4294967295;D-=64}}function F(){y=String.fromCharCode(128);y+=b.a.Fj();g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];q=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];E=Array(64);for(var c=0;64>c;++c)E[c]=Math.floor(4294967296*Math.abs(Math.sin(c+1)));e=
!0}var c=b.Qh=b.Qh||{};b.gb=b.gb||{};b.gb.He=b.gb.He||{};b.gb.Qh=b.gb.He.md5=c;var y=null,g=null,q=null,E=null,e=!1;c.create=function(){e||F();var c=null,g=b.a.createBuffer(),q=Array(16),p={algorithm:"md5",dr:64,sr:16,yb:0,start:function(){p.yb=0;g=b.a.createBuffer();c={rb:1732584193,sb:4023233417,tb:2562383102,ub:271733878};return p}};p.start();p.update=function(e,w){"utf8"===w&&(e=b.a.qb(e));p.yb+=e.length;g.K(e);H(c,q,g);(2048<g.read||0===g.length())&&g.compact();return p};p.digest=function(){var e=
p.yb,w=b.a.createBuffer();w.K(g.u());w.K(y.substr(0,64-(e+8)%64));w.Zc(e<<3&4294967295);w.Zc(e>>>29&255);e={rb:c.rb,sb:c.sb,tb:c.tb,ub:c.ub};H(e,q,w);w=b.a.createBuffer();w.Zc(e.rb);w.Zc(e.sb);w.Zc(e.tb);w.Zc(e.ub);return w};return p}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){(b.vc=b.vc||{}).create=function(H){function F(b){if(32<=g.uc[0].yb)return c(),b();g.Yh(32-g.uc[0].yb<<5,function(e,q){if(e)return b(e);g.sf(q);c();b()})}function c(){var e=b.gb.Id.create();e.update(g.uc[0].digest().ya());g.uc[0].start();for(var c=1,q=1;32>q;++q)c=31===c?2147483648:c<<2,0===c%g.Em&&(e.update(g.uc[q].digest().ya()),g.uc[q].start());c=e.digest().ya();e.start();e.update(c);e=e.digest().ya();g.key=g.gc.eh(c);g.xc=g.gc.fh(e);++g.Em;g.sd=0;g.time=+new Date}function y(e){var c=
null;if("undefined"!==typeof window){var g=window.crypto||window.msCrypto;g&&g.getRandomValues&&(c=function(b){return g.getRandomValues(b)})}var q=b.a.createBuffer();if(c)for(;q.length()<e;){var p=Math.max(1,Math.min(e-q.length(),65536)/4),m=new Uint32Array(Math.floor(p));try{for(c(m),p=0;p<m.length;++p)q.f(m[p])}catch(I){}}if(q.length()<e)for(c=Math.floor(65536*Math.random());q.length()<e;)for(p=16807*(c&65535),c=16807*(c>>16),p+=(c&32767)<<16,p+=c>>15,p=(p&2147483647)+(p>>31),c=p&4294967295,p=0;3>
p;++p)m=c>>>(p<<3),m^=Math.floor(256*Math.random()),q.o(String.fromCharCode(m&255));return q.ya(e)}var g={gc:H,key:null,xc:null,time:null,Em:0,sd:0};H=H.gb;for(var q=Array(32),E=0;32>E;++E)q[E]=H.create();g.uc=q;g.kg=0;g.Jj=function(c,q){function e(r){if(r)return q(r);if(A.length()>=c)return q(null,A.ya(c));1048576<=g.sd&&(r=+new Date,null===g.time||100<r-g.time)&&(g.key=null);if(null===g.key)return F(e);r=B(g.key,g.xc);g.sd+=r.length;A.K(r);g.key=m(B(g.key,p(g.xc)));g.xc=I(B(g.key,g.xc));b.a.setImmediate(e)}
if(!q)return g.Dr(c);var B=g.gc.B,p=g.gc.Pj,m=g.gc.eh,I=g.gc.fh,A=b.a.createBuffer();e()};g.Dr=function(e){for(var q=g.gc.B,w=g.gc.Pj,B=g.gc.eh,p=g.gc.fh,m=b.a.createBuffer();m.length()<e;){if(1048576<=g.sd){var I=+new Date;if(null===g.time||100<I-g.time)g.key=null}null===g.key&&(32<=g.uc[0].yb||g.sf(g.kt(32-g.uc[0].yb<<5)),c());I=q(g.key,g.xc);g.sd+=I.length;m.K(I);g.key=B(q(g.key,w(g.xc)));g.xc=p(q(g.key,g.xc))}return m.ya(e)};g.Yh=function(b,c){try{c(null,y(b))}catch(w){c(w)}};g.kt=y;g.sf=function(b){for(var c=
b.length,e=0;e<c;++e)g.uc[g.kg].update(b.substr(e,1)),g.kg=31===g.kg?0:g.kg+1};g.tf=function(b,c){for(var e="",q=0;q<c;q+=8)e+=String.fromCharCode(b>>q&255);g.sf(e)};g.QF=function(b){b===self?g.Yh=function(b,c){function e(b){b=b.data;b.W&&b.W.vc&&(self.removeEventListener("message",e),c(b.W.vc.wr,b.W.vc.u))}self.addEventListener("message",e);self.postMessage({W:{vc:{Ys:b}}})}:b.addEventListener("message",function(c){c=c.data;c.W&&c.W.vc&&g.Yh(c.W.vc.Ys,function(c,e){b.postMessage({W:{vc:{wr:c,u:e}}})})})};
return g}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){b.random&&b.random.ya||function(H){var F={},c=Array(4),y=b.a.createBuffer();F.eh=function(c){var e=b.a.createBuffer(c);c=Array(4);c[0]=e.getInt32();c[1]=e.getInt32();c[2]=e.getInt32();c[3]=e.getInt32();return b.Za.Sq(c)};F.fh=function(c){var e=b.a.createBuffer(c);c=Array(4);c[0]=e.getInt32();c[1]=e.getInt32();c[2]=e.getInt32();c[3]=e.getInt32();return c};F.B=function(e,g){b.Za.Zq(e,g,c,!1);y.f(c[0]);y.f(c[1]);y.f(c[2]);y.f(c[3]);return y.ya()};F.Pj=function(b){++b[3];return b};F.gb=b.gb.Id;
var g=b.vc.create(F);F=null;if("undefined"!==typeof window){var q=window.crypto||window.msCrypto;q&&q.getRandomValues&&(F=function(b){return q.getRandomValues(b)})}if(b.VB||!F){g.tf(+new Date,32);if("undefined"!==typeof navigator){F="";for(var E in navigator)try{"string"==typeof navigator[E]&&(F+=navigator[E])}catch(e){}g.sf(F);F=null}H&&(H().mousemove(function(b){g.tf(b.clientX,16);g.tf(b.clientY,16)}),H().keypress(function(b){g.tf(b.charCode,8)}))}if(b.random)for(E in g)b.random[E]=g[E];else b.random=
g;b.random.ya=function(c,g){return b.random.Jj(c,g)};b.random.YB=function(c){return b.random.Jj(c)}}(null)})(window.W);"undefined"===typeof window.hmtg&&(window.hmtg={});var oa=window.hmtg,k=oa.b=oa.b||{};oa.config=oa.b;k.APP_VERSION=k.hi="";k.NORMAL=k.R=0;k.PLAYBACK=k.Fa=1;k.PLAYER=k.xz=2;k.DOWNLOAD=k.Zo=3;k.UPLOAD=k.Eq=4;k.MTU_SIZE=k.Dc=500;k.TS_SIZE=k.hc=21;k.UTF8_CODEPAGE=k.oA=65001;k.RECORDING_STATUS_NORECORDING=k.Tz=0;k.RECORDING_STATUS_RESUMED=k.Vz=1;k.RECORDING_STATUS_PAUSED=k.Uz=2;k.PARTICIPANT_VIDEO_ERROR_OK=k.pq=0;k.PARTICIPANT_VIDEO_ERROR_FULL=k.iz=1;k.PARTICIPANT_VIDEO_ERROR_NOTSUPPORTED=k.lz=2;
k.PARTICIPANT_VIDEO_ERROR_NOTONLINE=k.kz=3;k.PARTICIPANT_VIDEO_ERROR_NOCAP=k.jz=4;k.PARTICIPANT_AUDIO_ERROR_FULL=k.cz=5;k.PARTICIPANT_AUDIO_ERROR_NOTSUPPORTED=k.dz=6;k.MAX_USER=k.Ha=5E3;k.MAX_USERID=k.oy=128;k.MAX_PASSWORD=k.ej=28;k.MAX_USERNAME=k.Ya=128;k.MAX_USERAUTH=k.Kp=1E4;k.MAX_SESSIONID=k.ly=20;k.MAX_SESSIONID_PL=k.my=500;k.MAX_MEMBERID=k.gy=20;k.MAX_REGION=k.ky=128;k.MAX_URL=k.hj=4096;k.MAX_SLIDENAME=k.gj=600;k.MAX_XML_DATA=k.py=9E3;k.MAX_THIRDPARTY_MEETINGTITLE=k.Pg=512;
k.MAX_THIRDPARTY_MEETINGID=k.Jp=128;k.DEFAULT_MAX_BANDWIDTH=k.vw=24E3;k.BANDWIDTH_FOR_AUDIO=k.At=1E4;k.MAX_BANDWIDTH=k.dj=5E6;k.MIN_BANDWIDTH_FOR_VIDEO=k.Lp=1E4;k.JN_ERROR_BASE=k.qf=2E4;k.JN_GC_ERROR_BASE=k.Ex=25E3;k.JN_PROXY_ERROR_BASE=k.Nx=3E4;k.JN_SLIDE_ERROR_BASE=k.Xx=35E3;var U=k.JN_CODE_BASE=k.tx=5E4;k.JN_PRINTER_DRIVER_BASE=k.Mx=7E4;k.JN_MCU_RELAY_BASE=k.aj=71E3;k.JN_OK=k.Lx=0;k.JN_UNKNOWN_ERROR=k.Lg=U+0;k.JN_RESOLVE_PROXY=k.Vx=U+1;k.JN_CONNECTING_GC=k.ux=U+2;k.JN_BLANK=k.sx=U+3;
k.JN_CONNECT_GC_UNKNOWN_ERROR=k.wx=U+4;k.JN_FAIL_CONNECT_GC=k.Ax=U+5;k.JN_CONNECT_GC_BROKEN=k.vx=U+6;k.JN_CONNECTING_MCU=k.op=U+7;k.JN_FAIL_CONNECT_MCU=k.Ld=U+8;k.JN_NO_SCHEDULE=k.Kx=U+9;k.JN_WRONG_IP_PASSWD=k.cy=U+10;k.JN_WRONG_AUTH_PASSWD=k.by=U+11;k.JN_MEETING_NOT_EXIST2=k.wp=U+12;k.JN_TOOMANY_USER_2=k.Zx=U+13;k.JN_CONNECTION_ESTABLISHED=k.pp=U+14;k.JN_QUESTION_CANCEL_DUE_TRANSFER=k.Qx=U+15;k.JN_YOU_HAVENOT_TOKEN=k.dy=U+16;k.JN_NEW_USER=k.Ix=U+17;k.JN_USER_LEAVE=k.$x=U+18;
k.JN_QUESTION_FINISH=k.Rx=U+19;k.JN_USER_QUESTION_START=k.ay=U+20;k.JN_QUESTION_ACCEPTED=k.Ox=U+21;k.JN_QUESTION_IN_QUEUE=k.Sx=U+22;k.JN_QUESTION_SKIPPED=k.Tx=U+23;k.JN_DISCONNECT_BY_OWNER=k.sp=U+24;k.JN_MEETING_OVER=k.xp=U+25;k.JN_QUESTION_CANCELED=k.Px=U+26;k.JN_USER_OVERWRITE=k.Bp=U+27;k.JN_YOU_HAVE_TOKEN=k.ey=U+28;k.JN_FILE_READ_ERROR=k.Dx=U+29;k.JN_FILE_PAGE_ERROR=k.Cx=U+30;k.JN_NO_MCU=k.Jx=U+31;k.JN_CONNECT_PROXY_NO_CONNECT_MCU=k.xx=U+32;k.JN_MCU_TALK_MISMATCH=k.Hx=U+33;
k.JN_TESTING_AV=k.Yx=U+34;k.JN_FAIL_UDP=k.Bx=U+35;k.JN_CORRUPT_SERVER_PARAMETER=k.yx=U+36;k.JN_DELETE_FILE_OK=k.rp=U+37;k.JN_DELETE_FILE_FAIL=k.qp=U+38;k.JN_JNJ_FILE_READ_ERROR=k.Fx=U+39;k.JN_JNJ_UNKNOWN_CODE_TYPE=k.Gx=U+40;k.JN_JNR_FILE_ERROR=k.vp=U+41;k.JN_MEETING_TERMINATED=k.yp=U+42;k.JN_PREPARATION_MODE=k.zp=U+43;k.JN_PREPARATION_SWITCH_TO_NORMAL=k.Ap=U+44;k.JN_SHARE_DESKTOP_FAIL=k.Wx=U+45;k.JN_REQUEST_DESKTOP_FAIL=k.Ux=U+46;k.JN_DESKTOP_CONFLICT_MCURELAY=k.zx=U+47;
k.JN_EARLY_DISCONNECTION_1=k.tp=U+48;k.JN_EARLY_DISCONNECTION_2=k.up=U+49;k.ERROR_WRONG_USERID=k.lp=255;k.ERROR_WRONG_PASSWD=k.Ui=254;k.ERROR_ALREADY_LOGGED=k.Kw=253;k.ERROR_VERSION=k.mx=252;k.ERROR_PARAMETER=k.Zw=251;k.ERROR_SESSIONID=k.hx=250;k.ERROR_MEETING_NOT_EXIST=k.$o=249;k.ERROR_INTERNAL=k.Sw=248;k.ERROR_FILE_ERROR=k.Pw=247;k.ERROR_TOOMANY_PLAYBACK=k.jx=246;k.ERROR_ILLEGAL_FILE=k.Qw=245;k.ERROR_FILE_WRONG_VERSION=k.Ti=244;k.ERROR_WRONG_PASSWD2=k.nx=243;k.ERROR_TOOMANY_DOWNLOAD=k.ix=242;
k.ERROR_TOOMANY_USER=k.kx=241;k.ERROR_CALL_REJECTED=k.Mw=240;k.ERROR_CALL_NOT_ACCEPTED=k.Lw=239;k.ERROR_JOINNETMODE=k.Uw=238;k.ERROR_USER_NOT_CONTINUE=k.kp=237;k.ERROR_SESSION_CLOSED=k.jp=236;k.ERROR_TOO_MANY_SESSION=k.lx=235;k.ERROR_CAN_NOT_RECORD=k.Nw=234;k.ERROR_MESSAGE_NOT_EXIST=k.Ww=233;k.ERROR_LINE_BUSY=k.Vw=232;k.ERROR_FILE_NEED_HIGHER_VERSION=k.Si=231;k.ERROR_EXCEED_DISK_QUOTA=k.Ow=230;k.ERROR_WRONG_USERINFO2=k.ox=229;k.ERROR_OWNER_IN_PREPARATION_MODE=k.Yw=228;
k.ERROR_PREPARATION_MODE_TOO_LATE=k.gx=227;k.ERROR_ILLEGAL_REQUEST=k.Rw=226;k.ERROR_OUT_OF_MEMORY=k.Xw=225;k.ERROR_INVALID_LICENSE=k.Tw=224;k.ERROR_REQUEST_REJECTED=k.hp=223;k.MRP_ERROR_CONTINUE=k.Cc=1;k["MRP_ERROR_QUITPROGRAM\t"]=k.Oy=2;k.MRP_ERROR_NOTALLOWED=k.Ly=3;k.MRP_ERROR_BUSY=k.Iy=4;k.MRP_ERROR_NOTSUPPORTED=k.My=5;k.MRP_ERROR_CONNECTFAIL=k.Jy=6;k.MRP_ERROR_NOSESSIONGROUP=k.Ky=7;k.MRP_ERROR_SLIDENOTREADY=k.Mp=8;k.MRP_ERROR_ONLY_PRIMARY_PORT=k.Ny=9;k.CONNECTION_STATUS_INIT=k.Mi=1;
k.CONNECTION_STATUS_RESOLVING=k.rw=2;k.CONNECTION_STATUS_CONNECTTING=k.Ji=3;k.CONNECTION_STATUS_SIGN_IN=k.Ni=4;k.CONNECTION_STATUS_CONNECTED=k.pa=5;k.CONNECTION_STATUS_PARSE_HOMEPAGE=k.qw=6;k.CONNECTION_STATUS_DOWNLOAD_JNJ=k.zo=7;k.CONNECTION_STATUS_E_UNKNOWN_ERROR=k.Oo=1E4;k.CONNECTION_STATUS_E_RESOLVING=k.pw=10001;k.CONNECTION_STATUS_E_FAIL_CONNECT=k.Eo=10002;k.CONNECTION_STATUS_E_BROKEN_CONNECT=k.Ki=10003;k.CONNECTION_STATUS_E_INVALID_S_STRING=k.dw=10004;
k.CONNECTION_STATUS_E_NOT_SUPPORTED=k.fw=10005;k.CONNECTION_STATUS_E_WRONG_USERID_LEN=k.Bc=10006;k.CONNECTION_STATUS_E_WRONG_USERNAME_LEN=k.hb=10007;k.CONNECTION_STATUS_E_WRONG_JNJ_LEN=k.cd=10008;k.CONNECTION_STATUS_E_ERROR_PARAMETER=k.pf=10009;k.CONNECTION_STATUS_E_BUSY=k.Co=10010;k.CONNECTION_STATUS_E_INVALID_USERID=k.Go=10011;k.CONNECTION_STATUS_E_INVALID_PASSWORD=k.Fo=10012;k.CONNECTION_STATUS_E_MEMORY_ALLOCATION=k.Ho=10013;k.CONNECTION_STATUS_E_ALREADY_LOGGED=k.Ao=10014;
k.CONNECTION_STATUS_E_OVERWRITTEN=k.No=10015;k.CONNECTION_STATUS_E_USERID_REMOVED=k.Po=10016;k.CONNECTION_STATUS_E_UNKNOWN_COMMAND=k.Li=10017;k.CONNECTION_STATUS_E_WRONG_EMAIL_LEN=k.Ro=10018;k.CONNECTION_STATUS_E_PARSE_HOMEPAGE=k.gw=10019;k.CONNECTION_STATUS_E_DOWNLOAD_JNJ=k.Do=10020;k.CONNECTION_STATUS_E_PARSE_IP_PORT=k.hw=10021;k.CONNECTION_STATUS_E_BREAK_MAIN_LOOP=k.Bo=10022;k.CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=k.Fg=10023;k.CONNECTION_STATUS_E_MULTIPLE_SIGNIN=k.ew=10024;
k.CONNECTION_STATUS_PREPARE_RECONNECT=k.To=10025;k.CONNECTION_STATUS_E_PROXY_CONNECT_FAIL=k.jw=10026;k.CONNECTION_STATUS_E_PROXY_CONNECT_BROKEN=k.iw=10027;k.CONNECTION_STATUS_E_PROXY_NO_AUTH=k.mw=10028;k.CONNECTION_STATUS_E_PROXY_NO_CONNECT=k.nw=10029;k.CONNECTION_STATUS_E_PROXY_NOT_SOCKS5=k.lw=10030;k.CONNECTION_STATUS_E_PROXY_HTTPS_FAIL=k.kw=10031;k.CONNECTION_STATUS_E_PROXY_RESOLVE=k.ow=10032;k.CONNECTION_STATUS_E_MMC_FAILURE=k.Io=10033;k.CONNECTION_STATUS_E_NOT_SUPPORTED2=k.Jo=10034;
k.CONNECTION_STATUS_E_NO_MESSENGER=k.Mo=10035;k.CONNECTION_STATUS_E_NO_LICENSE=k.Ko=10036;k.CONNECTION_STATUS_E_NO_MCU=k.Lo=10037;k.CONNECTION_STATUS_E_WRONG_URL_LEN=k.So=10038;k.CONNECTION_STATUS_E_WRONG_SHORT_MESSAGE_LEN=k.Ae=10039;k.CONNECTION_STATUS_E_SIGNOUT=k.ze=10040;k.CONNECTION_STATUS_E_WRONG_CLIENT_INFO_LEN=k.Qo=10041;k.ONLINE_STATUS_ONLINE=k.Md=1;k.ONLINE_STATUS_BUSY=k.iq=2;k.ONLINE_STATUS_RIGHTBACK=k.jq=3;k.ONLINE_STATUS_AWAY=k.lj=4;k.ONLINE_STATUS_APPEAROFF=k.Rb=5;
k.ONLINE_STATUS_MOBILE=k.az=6;k.ONLINE_STATUS_WEB=k.bz=7;k.ONLINE_STATUS_UNKNOWN=k.kq=999;k.MSGR_ERROR_UNKNOWN_ERROR=k.kq=1;k.MSGR_ERROR_CAN_NOT_PARSE=k.Ty=2;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE1=k.Qy=3;k.MSGR_ERROR_CAN_NOT_DOWNLOAD_JNJ=k.Sp=4;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE2=k.Ry=5;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE3=k.Qp=6;k.MSGR_ERROR_NO_MCU_SERVER=k.eq=7;k.MSGR_ERROR_CAN_NOT_MULTIPLE_CONNECT=k.Sy=8;k.MSGR_ERROR_CAN_NOT_CONNECT_MCU=k.Rp=9;k.MSGR_ERROR_CONNECTION_BROKEN=k.ij=10;
k.MSGR_ERROR_BAD_SERVER_VERSION_STRING=k.Py=11;k.MSGR_ERROR_SERVER_NOT_SUPPORT_MSGR=k.Uy=12;k.MSGR_ERROR_INVALID_USERID_LEN=k.Ce=13;k.MSGR_ERROR_INVALID_USERNAME_LEN=k.Ea=14;k.MSGR_ERROR_INVALID_JNJ_LEN=k.fd=15;k.MSGR_ERROR_INVALID_HOMEPAGE_LEN=k.jj=16;k.MSGR_ERROR_INVALID_PARAMETER=k.Xp=17;k.MSGR_ERROR_ALL_LINE_BUSY=k.Op=18;k.MSGR_ERROR_INVALID_USERID=k.$p=19;k.MSGR_ERROR_INVALID_PASSWORD=k.Yp=21;k.MSGR_ERROR_MEMORY_ALLOCATION=k.aq=22;k.MSGR_ERROR_ALREADY_SIGNIN=k.Pp=23;
k.MSGR_ERROR_MSGR_VERSION_NOT_SUPPORTED=k.cq=24;k.MSGR_ERROR_MSGR_BAD_CONFIGURATION=k.bq=25;k.MSGR_ERROR_NO_MSGR_LICENSE=k.fq=26;k.MSGR_ERROR_OVERWRITTEN=k.gq=27;k.MSGR_ERROR_REMOVED=k.hq=28;k.MSGR_ERROR_INVALID_EMAIL_LEN=k.Up=29;k.MSGR_ERROR_INVALID_MMCERROR_LEN=k.Wp=30;k.MSGR_ERROR_INVALID_INTERNALID_LEN=k.Vp=31;k.MSGR_INVITE_FAILED=k.Wy=32;k.MSGR_ERROR_INVALID_URL_LEN=k.Zp=33;k.MSGR_ERROR_INVALID_SHORT_MESSAGE_LEN=k.Be=34;k.MSGR_CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=k.Np=35;
k.MSGR_ERROR_INVALID_CLIENT_INFO_LEN=k.Tp=36;k.MSGR_ERROR_UNKNOWN_COMMAND=k.kj=37;k.MSGR_ERROR_UNKNOWN_COMMAND=k.kj=37;k.WEBOFFICE_EX_ERROR_SUCCESS=k.FA=0;k.WEBOFFICE_EX_ERROR_INVALID_LICENSE=k.vA=1;k.WEBOFFICE_EX_ERROR_GENERAL_FAILURE=k.sA=2;k.WEBOFFICE_EX_ERROR_OPEN_FILE=k.DA=3;k.WEBOFFICE_EX_ERROR_INVALID_JNR=k.uA=4;k.WEBOFFICE_EX_ERROR_NOT_ALLOW_EDIT=k.CA=5;k.WEBOFFICE_EX_ERROR_FILE_ACCESS=k.Qq=6;k.WEBOFFICE_EX_ERROR_INVALID_PASSWORD=k.wA=7;k.WEBOFFICE_EX_ERROR_SERVER_SHUTDOWN=k.EA=8;
k.WEBOFFICE_EX_ERROR_WRITE_ERROR=k.IA=9;k.WEBOFFICE_EX_ERROR_TOO_LARGE_DATA=k.GA=10;k.WEBOFFICE_EX_ERROR_MEMORY=k.zA=11;k.WEBOFFICE_EX_ERROR_NETWORK_ERROR=k.BA=12;k.WEBOFFICE_EX_ERROR_EXCEED_QUOTA=k.rA=13;k.WEBOFFICE_EX_ERROR_DATE_TOO_NEW=k.pA=14;k.WEBOFFICE_EX_ERROR_MMC_ERROR=k.AA=15;k.WEBOFFICE_EX_ERROR_UNKNOWN_CMD=k.HA=16;k.WEBOFFICE_EX_ERROR_INVALID_CMD=k.tA=17;k.WEBOFFICE_EX_ERROR_JNR_TOONEW=k.yA=18;k.WEBOFFICE_EX_ERROR_JNR_TOOBIG=k.xA=19;k.WEBOFFICE_EX_ERROR_EDIT=k.qA=20;
k.US_ERROR_PARAMETER=k.Nq=255;k.US_ERROR_BUSY=k.Gq=254;k.US_ERROR_WRONG_USERID=k.Pq=253;k.US_ERROR_WRONG_PASSWD=k.Oq=252;k.US_ERROR_ALREADY_LOGGED=k.Fq=251;k.US_ERROR_MEMORY_ALLOCATION=k.Hq=250;k.US_ERROR_NOT_ONLINE=k.lA=249;k.US_ERROR_NOT_JOIN_SELF=k.kA=248;k.US_ERROR_NOT_READY=k.Lq=247;k.US_ERROR_OWNER_NO_RESPONSE=k.nA=246;k.US_ERROR_MMC_FAIL=k.Iq=245;k.US_ERROR_NOT_SUPPORTED=k.Mq=244;k.US_ERROR_MMC_NO_MESSENGER=k.Kq=243;k.US_ERROR_MMC_NO_LICENSE=k.Jq=242;k.US_ERROR_OFFICE_NOT_OPEN=k.mA=241;
k.US_ERROR_MMC_GENERAL=k.Ee=54321;k.US_ERROR_MMC_GENERAL=k.Ee=1;k.US_ERROR_MMC_GENERAL=k.Ee=2;k.US_ERROR_MMC_GENERAL=k.Ee=3;k.US_ERROR_MMC_GENERAL=k.Ee=4;k.US_ERROR_MMC_GENERAL=k.Ee=5;k.DEFAULT_PLAY_SOUND=k.ww=!0;k.DEFAULT_LOG_LEVEL=k.Yo=2;k.DEFAULT_ALERT_ONLINE=k.uw=!0;k.DEFAULT_ALERT_NEWMESSAGE=k.tw=!0;k.DEFAULT_SHOW_OTHER_USER=k.yw=!0;k.DEFAULT_SHOW_OFFLINE_USER=k.xw=!0;k.CONTROLLER_ACCEPT_GUEST=k.Uo=1;k.CONTROLLER_END_MEETING=k.Vo=2;k.CONTROLLER_QUESTION_CONTROL=k.Oi=4;
k.CONTROLLER_POLL=k.Wo=8;k.CONTROLLER_SYNC=k.Gg=16;k.CONTROLLER_RETRIEVE_TOKEN=k.Pi=32;k.CONTROLLER_SYNC_TAB=k.Ri=64;k.CONTROLLER_SYNC_FULLSCREEN=k.Qi=128;k.PLUG_IN_TYPE_BASE=k.zq=128;k.AUDIO_DFLT=k.rg=129;k.AUDIO_G711=k.sg=120;k.AUDIO_ILBC=k.vg=152;k.AUDIO_G726=k.ug=168;k.AUDIO_G726_11=k.lf=184;k.AUDIO_G711_11=k.tg=255;k.AUDIO_OPUS=k.wg=232;k.VIDEO_DFLT=k.Qg=130;k.VIDEO_SPIC=k.oj=4;k.VIDEO_H264=k.Sg=200;k.VIDEO_F264=k.Rg=216;k.VIDEO_MJPG=k.Tg=248;k.VIDEO_VPX=k.Ug=64;k.MEDIA_NONE=k.Dy=0;
k.MEDIA_AUDIO_PCM=k.Cy=1;k.MEDIA_AUDIO_HMAUDIO=k.yy=2;k.MEDIA_VIDEO_HMVIDEO=k.Hy=3;k.MEDIA_AUDIO_ILBC0=k.zy=4;k.MEDIA_AUDIO_ILBC1=k.Ay=5;k.MEDIA_AUDIO_G711_50MS=k.sy=6;k.MEDIA_AUDIO_G711_20MS=k.ry=7;k.MEDIA_AUDIO_G726_16K=k.uy=8;k.MEDIA_AUDIO_G726_24K=k.vy=9;k.MEDIA_AUDIO_G726_32K=k.wy=10;k.MEDIA_AUDIO_G726_40K=k.xy=11;k.MEDIA_AUDIO_G711_11K_89K_40MS=k.qy=14;k.MEDIA_AUDIO_G726_11K_45K_80MS=k.ty=15;k.MEDIA_VIDEO_H264_BASELINE=k.Gy=16;k.MEDIA_VIDEO_F264_BASELINE=k.Ey=18;
k.MEDIA_VIDEO_F264_HIGH=k.Fy=19;k.MEDIA_AUDIO_OPUS=k.By=20;k.SLIDE_DOWNLOAD_STATUS_UNKNOWN=k.Yz=0;k.SLIDE_DOWNLOAD_STATUS_NOTRECEIVED=k.Dq=1;k.SLIDE_DOWNLOAD_STATUS_NOTDOWNLOADED=k.Cq=2;k.SLIDE_DOWNLOAD_STATUS_PARTIALDATA=k.Xz=3;k.SLIDE_DOWNLOAD_STATUS_DOWNLOADING=k.Bq=4;k.SLIDE_DOWNLOAD_STATUS_DOWNLOADED=k.nj=5;k.MARK_STROKE=k.Cp=83;k.MARK_STROKE2=k.Mg=115;k.MARK_TEXT=k.Dp=84;k.MARK_TEXT2=k.Ng=116;k.MARK_MOVE=k.cj=109;k.MARK_CUSTOMIZED=k.bj=99;k.UNDO=k.jA="UNDO";k.MAX_TEXT_LEN=k.ny=512;
k.MAX_LONG_TEXT_LEN=k.Ip=2048;k.MAX_PARTICIPANT_AUDIO_OLD=k.iy=2;k.MAX_PARTICIPANT_VIDEO_OLD=k.jy=6;k.MAX_PARTICIPANT_AUDIO=k.dd=16;k.MAX_PARTICIPANT_VIDEO=k.Qb=16;k.TAB_VIEW_BOARD=k.Zz=0;k.TAB_VIEW_BROWSER=k.$z=1;k.TAB_VIEW_DESKTOP_SHARING=k.aA=2;k.TAB_VIEW_REMOTE_CONTROL=k.bA=3;k.SHOW_MYPICTURE_DELAY=k.Wz=5E3;k.MAX_MYPICTURE_SIZE=k.hy=2E5;k.MYPICTURE_TYPE_BMP=k.Xy=1;k.MYPICTURE_TYPE_GIF=k.Yy=2;k.MYPICTURE_TYPE_JPG=k.Zy=3;k.MYPICTURE_TYPE_PNG=k.$y=4;k.MAX_PLUG_IN_CHANNEL=k.Fb=8;
k.PLUGIN_CHANNEL_TYPE_UDP_1=k.zz=1;k.PLUGIN_CHANNEL_TYPE_TCP_2=k.yz=2;k.DT_CAPTURE_INFO=k.Aw=0;k.DT_CAPTURE_END=k.zw=1;k.DT_SCREEN_DATA=k.Hw=2;k.DT_REQUEST_RECT=k.Gw=3;k.DT_MOUSE_POS=k.Cw=4;k.DT_NULL_DATA=k.Dw=5;k.DT_FRAME_END=k.Bw=6;k.DT_RDC_SIGNAL=k.Fw=7;k.DT_RDC_INPUT=k.Ew=8;k.DT_SCREEN_DATA1=k.Iw=9;k.DT_SCREEN_DATA2=k.Jw=10;k.RDC_CMD_END_CONTROL=k.Kz=0;k.RDC_CMD_REQUEST_CONTROL=k.Nz=1;k.RDC_CMD_ACK_REQUEST_CONTROL=k.Cz=2;k.RDC_CMD_START_CONTROL=k.Rz=3;k.RDC_CMD_DESIRED_BIT_DEPTH=k.Hz=5;
k.RDC_CMD_MAX_BIT_DEPTH=k.Mz=6;k.RDC_CMD_ASSIGN_CONTROL=k.Ez=7;k.RDC_CMD_ACK_ASSIGN_CONTROL=k.Az=8;k.RDC_CMD_SHOW_CONTENT_WHILE_DRAGGING=k.Qz=9;k.RDC_CMD_CONTROL_NOT_SUPPORTED=k.Gz=10;k.RDC_CMD_KEYBOARD_LANG_ID=k.Lz=11;k.RDC_CMD_REQUEST_CONTROL_DENY=k.Oz=12;k.RDC_CMD_DUMMY_MODE_PASSWORD_ERR=k.Jz=13;k.RDC_CMD_DESIRED_GRAYSCALE_DEPTH=k.Iz=14;k.RDC_CMD_REQUEST_MONITOR=k.Pz=15;k.RDC_CMD_ACK_REQUEST_MONITOR=k.Dz=16;k.RDC_CMD_ASSIGN_MONITOR=k.Fz=17;k.RDC_CMD_ACK_ASSIGN_MONITOR=k.Bz=18;
k.RDC_STATUS_WINDOW_SIZEMOVE=k.Sz=128;k.ERROR_PLUGIN_REQUESTCHANNEL_UNKNOWN_TYPE=k.gp=1;k.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_NOTALLOWED=k.fp=2;k.ERROR_PLUGIN_REQUESTCHANNEL_NO_RECORDING=k.ep=3;k.ERROR_PLUGIN_REQUESTCHANNEL_CHANNEL_FULL=k.cp=4;k.ERROR_PLUGIN_SETDATA_CHANNEL_NOT_EXISTED=k.ex=5;k.ERROR_PLUGIN_SETDATA_NOT_OWNER=k.fx=6;k.ERROR_PLUGIN_CLOSECHANNEL_CHANNEL_NOT_EXISTED=k.$w=7;k.ERROR_PLUGIN_CLOSECHANNEL_NOT_OWNER=k.ax=8;k.ERROR_PLUGIN_RECVPRIO_CHANNEL_NOT_EXISTED=k.cx=9;
k.ERROR_PLUGIN_NOT_ENABLED=k.bp=10;k.ERROR_PLUGIN_NOT_ALLOWED=k.ap=11;k.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_FAILED=k.dx=12;k.ERROR_PLUGIN_OLD_RELAY=k.bx=13;k.TYPE_US_SHORT_MESSAGE2=k.fA=40;k.TYPE_US_SHORT_MESSAGE3=k.gA=41;k.TYPE_US_SHORT_MESSAGE_FAILURE=k.hA=43;k.TYPE_US_ASYMMETRICAL_SHORT_MESSAGE=k.cA=50;k.TYPE_US_SHORT_MESSAGE_OFFLINE=k.iA=60;k.TYPE_US_OFFLINE_MESSAGE2=k.dA=61;k.TYPE_US_OFFLINE_MESSAGE3=k.eA=62;k.IM_TARGET_TYPE_PEER=k.rx=1;k.IM_TARGET_TYPE_GUEST=k.qx=2;
k.IM_TARGET_TYPE_GROUP=k.np=3;k.IM_TEXT_TYPE_SEND_TEXT=k.$i=1;k.IM_TEXT_TYPE_RECV_TEXT=k.Yi=2;k.IM_TEXT_TYPE_SEND_FILE=k.Zi=3;k.IM_TEXT_TYPE_RECV_FILE=k.Xi=4;k.IM_TEXT_TYPE_JOIN_GROUP=k.Ig=5;k.IM_TEXT_TYPE_LEAVE_GROUP=k.Jg=6;k.IM_TEXT_TYPE_ERROR=k.Hg=7;k.IM_TEXT_TYPE_OFFLINE_JOIN=k.Kg=8;k.IM_TEXT_TYPE_OFFLINE_LEAVE=k.Vi=9;k.IM_TEXT_TYPE_PGC_RENAME=k.Wi=10;"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(b,f,c){var l=c.length;l=g(0,(b.length>l?b.length:l)*z,0);B(l,b);b=T(f,2);c=T(c,2);P.length!=c.length&&(P=w(c));if(0==(c[0]&1))for(B(P,l),p(l,1);!E(b);){b[0]&1&&d(l,P,c);A(b,2);var t,e;var v=P;var Q=c;for(f=v.length;0<f&&!v[f-1];f--);var m=f>Q.length?2*f:2*Q.length;G.length!=m&&(G=Array(m));p(G,0);for(e=0;e<f;e++){m=G[2*e]+v[e]*v[e];G[2*e]=m&C;m>>=z;for(t=e+1;t<f;t++)m=G[e+t]+2*v[e]*v[t]+m,G[e+t]=m&C,m>>=z;G[e+f]=m}a(G,Q);B(v,G)}else{p(P,0);for(f=c.length;0<f&&!c[f-1];f--);
Q=0;for(v=c.length-1;0<=v;v--)Q=(Q*N+c[v])%N;v=N-F(Q,N);P[f]=1;d(l,P,c);aa.length!=l.length?aa=w(l):B(aa,l);for(f=b.length-1;0<f&!b[f];f--);if(0==b[f])p(l,1);else{for(Q=1<<z-1;Q&&!(b[f]&Q);Q>>=1);for(;;){if(!(Q>>=1)){f--;if(0>f){h(l,n,c,v);break}Q=1<<z-1}h(l,l,c,v);Q&b[f]&&h(l,aa,c,v)}}}return T(l,1)}function F(b,a){for(var f=1,l=0;;){if(1==b)return f;if(0==b)return 0;l-=f*Math.floor(a/b);a%=b;if(1==a)return l;if(0==a)return 0;f-=l*Math.floor(b/a);b%=a}}function c(b,a,f){var l,d=b.length,h=a.length;
for(l=h-1-f;l<d&&0<=l;l++)if(0<b[l])return 1;for(l=d-1+f;l<h;l++)if(0<a[l])return 0;for(l=(d+f<h?d+f:h)-1;l>=f;l--){if(b[l-f]>a[l])return 1;if(b[l-f]<a[l])break}return 0}function y(b,a){var f,l=b.length<a.length?b.length:a.length;for(f=b.length;f<a.length;f++)if(a[f])return 0;for(f=a.length;f<b.length;f++)if(b[f])return 1;for(f=l-1;0<=f;f--){if(b[f]>a[f])return 1;if(b[f]<a[f])break}return 0}function g(b,a,f){a=Math.ceil(a/z)+1;f=Array(f>a?f:a);p(f,b);return f}function q(b,a,f){var l,d,h=b.length;
if(-1==a){for(d=[];;){a=Array(d.length+1);for(l=0;l<d.length;l++)a[l+1]=d[l];a[0]=parseInt(b,10);d=a;var c=b.indexOf(",",0);if(1>c)break;b=b.slice(c+1);if(0==b.length)break}return d.length<f?(a=Array(f),B(a,d),a):d}d=g(0,a*h,0);for(l=0;l<h;l++){c=x.indexOf(b.slice(l,l+1),0);36>=a&&36<=c&&(c-=26);if(c>=a||0>c)break;var t,e,n=d,v=a;if(v){var Q=n.length;for(e=t=0;e<Q;e++){t+=n[e]*v;var m=0;0>t&&(m=-(t>>z),t+=m*N);n[e]=t&C;t=(t>>z)-m}}m=d;m[0]+=c;Q=m.length;for(e=t=0;e<Q&&(t+=m[e],c=0,0>t&&(c=-(t>>z),
t+=c*N),m[e]=t&C,t=(t>>z)-c,t);e++);}for(h=d.length;0<h&&!d[h-1];h--);h=f>h+1?f:h+1;a=Array(h);b=h<d.length?h:d.length;for(l=0;l<b;l++)a[l]=d[l];for(;l<h;l++)a[l]=0;return a}function E(b){var a;if(0!=b[0])return 0;for(a=1;a<b.length;a++)if(b[a])return 0;return 1}function e(b){var a;for(a=0;a<b.length;a++)if(b[a])return 0;return 1}function D(b,a){var f="";X.length!=b.length?X=w(b):B(X,b);if(-1==a){for(a=b.length-1;0<a;a--)f+=b[a]+",";f+=b[0]}else for(;!e(X);)b=A(X,a),f=x.slice(b,b+1)+f;0==f.length&&
(f="0");return f}function w(b){var a=Array(b.length);B(a,b);return a}function B(b,a){var f,l=b.length<a.length?b.length:a.length;for(f=0;f<l;f++)b[f]=a[f];for(f=l;f<b.length;f++)b[f]=0}function p(b,a){var f=a;for(a=0;a<b.length;a++)b[a]=f&C,f>>=z}function m(b,a){var f,l=Math.floor(a/z);if(l){for(f=0;f<b.length-l;f++)b[f]=b[f+l];for(;f<b.length;f++)b[f]=0;a%=z}for(f=0;f<b.length-1;f++)b[f]=C&(b[f+1]<<z-a|b[f]>>a);b[f]>>=a}function I(b,a){var f,l=Math.floor(a/z);if(l){for(f=b.length;f>=l;f--)b[f]=b[f-
l];for(;0<=f;f--)b[f]=0;a%=z}if(a){for(f=b.length-1;0<f;f--)b[f]=C&(b[f]<<a|b[f-1]>>z-a);b[f]=C&b[f]<<a}}function A(b,a){var f,l=0;for(f=b.length-1;0<=f;f--)l=l*N+b[f],b[f]=Math.floor(l/a),l%=a;return l}function r(b,a,f,d){var l;var h=b.length<d+a.length?b.length:d+a.length;var c=b.length;var t=0;for(l=d;l<h;l++)t+=b[l]+f*a[l-d],b[l]=t&C,t>>=z;for(l=h;t&&l<c;l++)t+=b[l],b[l]=t&C,t>>=z}function a(b,a){ba.length!=b.length?ba=w(b):B(ba,b);Y.length!=b.length&&(Y=w(b));var f=Y,l,d;B(b,ba);for(l=a.length;0==
a[l-1];l--);var h=a[l-1];for(d=0;h;d++)h>>=1;d=z-d;I(a,d);I(b,d);for(h=b.length;0==b[h-1]&&h>l;h--);for(p(f,0);!c(a,b,h-l);){var t,e=b,n=a,g=h-l;var v=e.length<g+n.length?e.length:g+n.length;var O=e.length;var Q=0;for(t=g;t<v;t++)Q+=e[t]-n[t-g],e[t]=Q&C,Q>>=z;for(t=v;Q&&t<O;t++)Q+=e[t],e[t]=Q&C,Q>>=z;f[h-l]++}for(--h;h>=l;h--){for(f[h-l]=b[h]==a[l-1]?C:Math.floor((b[h]*N+b[h-1])/a[l-1]);;)if(v=(1<l?a[l-2]:0)*f[h-l],Q=v>>z,v&=C,O=Q+f[h-l]*a[l-1],Q=O>>z,O&=C,Q==b[h]?O==b[h-1]?v>(1<h?b[h-2]:0):O>b[h-
1]:Q>b[h])f[h-l]--;else break;r(b,a,-f[h-l],h-l);if(b[b.length-1]>>z-1&1){e=b;n=a;g=h-l;v=e.length<g+n.length?e.length:g+n.length;O=e.length;Q=0;for(t=g;t<v;t++)Q+=e[t]+n[t-g],e[t]=Q&C,Q>>=z;for(t=v;Q&&t<O;t++)Q+=e[t],e[t]=Q&C,Q>>=z;f[h-l]--}}m(a,d);m(b,d)}function d(b,f,d){var l;G.length!=2*b.length&&(G=Array(2*b.length));p(G,0);for(l=0;l<f.length;l++)f[l]&&r(G,b,f[l],l);a(G,d);B(b,G)}function T(b,a){var f;for(f=b.length;0<f&&!b[f-1];f--);a=Array(f+a);B(a,b);return a}function h(b,a,d,h){var l,c,
t=d.length,e=a.length;f.length!=t&&(f=Array(t));for(p(f,0);0<t&&0==d[t-1];t--);for(;0<e&&0==a[e-1];e--);var n=f.length-1;for(l=0;l<t;l++){var g=f[0]+b[l]*a[0];var v=(g&C)*h&C;var m=g+v*d[0]>>z;g=b[l];for(c=1;c<e-4;)m+=f[c]+v*d[c]+g*a[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+v*d[c]+g*a[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+v*d[c]+g*a[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+v*d[c]+g*a[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+v*d[c]+g*a[c],f[c-1]=m&C,m>>=z,c++;for(;c<e;)m+=f[c]+v*d[c]+g*a[c],f[c-1]=m&C,m>>=z,c++;for(;c<t-4;)m+=f[c]+
v*d[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+v*d[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+v*d[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+v*d[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+v*d[c],f[c-1]=m&C,m>>=z,c++;for(;c<t;)m+=f[c]+v*d[c],f[c-1]=m&C,m>>=z,c++;for(;c<n;)m+=f[c],f[c-1]=m&C,m>>=z,c++;f[c-1]=m&C}if(!y(d,f)){a=f;c=a.length<d.length?a.length:d.length;for(h=l=0;h<c;h++)l+=a[h]-d[h],a[h]=l&C,l>>=z;for(h=c;l&&h<a.length;h++)l+=a[h],a[h]=l&C,l>>=z}B(b,f)}var v=window.W,z,Z,G,aa,ba,Y,X,P;var C=z=0;var N=C+1;var x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-";
for(z=0;1<<z+1>1<<z;z++);z>>=1;C=(1<<z)-1;N=C+1;var n=g(1,1,1);var f=P=X=Y=ba=aa=G=Z=[];b=b.dh=b.mc=b.mc||{};var t=q("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE65381FFFFFFFFFFFFFFFF",16,0),O=q("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AACAA68FFFFFFFFFFFFFFFF",
16,0),J=q("2",10,0);b.str2bigInt=b.rt=function(b,a,f){return q(b,a,f)};b.powMod=b.MF=function(b,a,f){return H(b,a,f)};b.bigInt2str=b.vj=function(b,a){return D(b,a)};b.createKeyPair=b.pr=function(){var b=q((new v.a.g(v.random.ya(10))).Pb(),16,0),a=H(J,b,t);return{Xh:b,lg:a}};b.createKeyPair_2048=b.qr=function(){var b=q((new v.a.g(v.random.ya(20))).Pb(),16,0),a=H(J,b,O);return{Xh:b,lg:a}};b.agreeKey=b.$q=function(b,a){return H(a,b,t)};b.agreeKey_2048=b.ar=function(b,a){return H(a,b,O)};b.generateSharedKey=
b.Cr=function(b,a,f,d,h,c){c=c||128;var l=v.Id.create(),t=new v.a.g;b=D(b,16);b=v.a.Hc(b);var e;if(b.length<c)for(e=0;e<c-b.length;e++)t.K("\x00");t.K(b);b=D(a,16);b=v.a.Hc(b);if(b.length<c)for(e=0;e<c-b.length;e++)t.K("\x00");t.K(b);b=D(f,16);b=v.a.Hc(b);if(b.length<c)for(e=0;e<c-b.length;e++)t.K("\x00");t.K(b);t.K(d);t.K(h);l.update(t.u());l.update("A");a=l.digest();l.start();l.update(t.u());l.update("B");f=l.digest();l.start();l.update(t.u());l.update(f.u());l=l.digest();f.D(l);return{ja:a.u(),
key:f.u()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){c.localStorage=c.localStorage={};c.localStorage.clear=H}var F=window.W,c=b.util=b.a=b.a||{},y=c.app_id=c.br=(new F.a.g(F.random.ya(2))).Pb(),g=c.MAX_LOG_ITEM=c.Gp=5E3,q=c.MAX_LOG_SIZE=c.Hp=5E5,E=0,e=Date.now();c.GetTickCount=c.A=function(){if("undefined"===typeof performance||"undefined"===typeof performance.now){var b=Date.now();b<e&&(E+=e-b);e=b;return b+E>>>0}return performance.now()>>>0};c.time=c.time=function(){return Date.now()/1E3>>>0};c.checkBrowser=c.QB=function(){window.File&&
window.FileReader&&window.FileList&&window.Blob&&window.URL||console.log("File API not supported in this browser");window.localStorage||console.log("Local Storage not supported in this browser");window.Worker||console.log("Worker not supported in this browser");window.WebSocket||console.log("WebSocket not supported in this browser");return""};c.log=c.log=function(e,p){var m=b.a.Yc(c.localStorage.hmtg_log_level);"undefined"===m&&(m=b.b.Yo);0>m&&(m=0);"undefined"===typeof p&&(p=e,e=0);if(!(e>m)){m=
(new Date).toString().replace(/(GMT.*)/,"");if(0>e&&(console.log(m+p),-1!=e))return;c.rj("hmtg_log","hmtg_log_first_idx","hmtg_log_count","hmtg_log_size","hmtg_log_item_",g,q,y+":"+m+p)}};c.add_hmtg_log_item=c.rj=function(b,e,g,p,a,d,q,h){var v=c.localStorage[e]>>0,m=c.localStorage[g]>>0,r=c.localStorage[p]>>0;0==m&&c.localStorage[b]&&c.localStorage[b].length&&(c.localStorage[a+"0"]=c.localStorage[b],m=1,r=c.localStorage[b].length,v=0);c.localStorage[b]="";if(m>d||v>=d)r=m=v=0;m==d&&((b=c.localStorage[a+
v])&&b.length?(r-=b.length,m--,v++,v==d&&(v=0)):r=m=v=0);var A=v+m;for(A>=d&&(A-=d);0!=m&&r+h.length>q;){b=c.localStorage[a+v];if(!b||!b.length){r=m=v=0;break}r-=b.length;m--;v++;v==d&&(v=0)}c.localStorage[a+A]=h;r+=h.length;m++;c.localStorage[e]=v;c.localStorage[g]=m;c.localStorage[p]=r};c.read_hmtg_log=c.NF=function(){var b=c.localStorage.hmtg_log_first_idx>>0,e=c.localStorage.hmtg_log_count>>0;if(e>g||b>=g)return c.Fm(),"";var p=[],r;for(r=0;r<e;r++){var a=b+r;a>=g&&(a-=g);a=c.localStorage["hmtg_log_item_"+
a];if(!a||!a.length)return c.Fm(),"";p.push(a)}return 0==p.length?c.localStorage.hmtg_log:p.join("\n")};c.reset_hmtg_log=c.Fm=function(){c.localStorage.hmtg_log="";c.localStorage.hmtg_log_first_idx=0;c.localStorage.hmtg_log_count=0;c.localStorage.hmtg_log_size=0};c.read_hmtg_log_stat=c.OF=function(){var b=c.localStorage.hmtg_log_stat_first_idx>>0,e=c.localStorage.hmtg_log_stat_count>>0;if(e>g||b>=g)return c.Gm(),"";var p=[],r;for(r=0;r<e;r++){var a=b+r;a>=g&&(a-=g);a=c.localStorage["hmtg_log_stat_item_"+
a];if(!a||!a.length)return c.Gm(),"";p.push(a)}return 0==p.length?c.localStorage.hmtg_log_stat:p.join("\n")};c.reset_hmtg_log_stat=c.Gm=function(){c.localStorage.hmtg_log_stat="";c.localStorage.hmtg_log_stat_first_idx=0;c.localStorage.hmtg_log_stat_count=0;c.localStorage.hmtg_log_stat_size=0};c.logUtf8=c.oe=function(b,e){"undefined"===typeof e?c.log(c.Ab(b)):c.log(b,c.Ab(e))};c.getQuery=c.Sd=function(b){for(var c=window.location.search.slice(1).split("&"),e=0;e<c.length;e++){var g=c[e].split("=");
if(g[0]==b)return g[1]}};c.encodeUtf8Ex=c.Zg=function(b,c){try{for(var e=unescape(encodeURIComponent(b));e.length&&e.length>=c;)b=b.slice(0,b.length-1),e=unescape(encodeURIComponent(b));return e}catch(r){return""}};c.truncateStr=c.ZF=function(b,e){b=c.Zg(b,e);try{return decodeURIComponent(escape(b))}catch(A){return""}};c.truncateStrUtf8=c.hf=function(b,c){try{for(;b.length&&b.length>=c;){var e=decodeURIComponent(escape(b));e=e.slice(0,e.length-1);b=unescape(encodeURIComponent(e))}return b}catch(r){return""}};
c.startsWith=c.startsWith=function(b,c){return b.slice(0,c.length)==c};c.endsWith=c.endsWith=function(b,c){return b.slice(-c.length)==c};c.scroll_to_top=c.TF=function(b){if(b=document.getElementById(b))b.scrollTop=0};c.scroll_to_bottom=c.SF=function(b){if(b=document.getElementById(b))b.scrollTop=b.scrollHeight};c.getExt=c.ZB=function(b){var c=b.lastIndexOf(".");if(-1==c)return"";b=b.slice(c);return 1==b.length||-1!=b.indexOf(" ")?"":b};c.decode64=c.Ib=F.a.Ib;c.encode64=c.nc=F.a.nc;c.decode64_url=
c.Aj=F.a.Aj;c.encode64_url=c.Bj=F.a.Bj;c.encodeUtf8=c.qb=F.a.qb;c.decodeUtf8=c.Ab=F.a.Ab;c.isArray=c.isArray=F.a.isArray;c.array2str=c.tj=function(b){try{var c=String.fromCharCode.apply(null,b)}catch(r){c="";var e;for(e=0;e<b.length;e++)c+=String.fromCharCode(b[e])}return c};c.str2array=c.ai=function(b){for(var c=new Uint8Array(b.length),e=0;e<b.length;e++)c[e]=b.charCodeAt(e);return c};c.calc_guid_descr=c.kr=function(b){b=F.a.Vg(b).toUpperCase();return b.slice(0,8)+"-"+b.slice(8,12)+"-"+b.slice(12,
16)+"-"+b.slice(16,20)+"-"+b.slice(20)};c.parseJSON=c.Yc=function(b){try{return JSON.parse(b)}catch(I){return"undefined"}};c.selectText=c.UF=function(b){if(document.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(b);c.select()}else if(window.getSelection){var e=window.getSelection();c=document.createRange();c.selectNodeContents(b);e.removeAllRanges();e.addRange(c)}};var D=window.onerror,w={},B=c.Sd("alert");c.test_error=c.YF=c.Sd("error")||0;if(c.Sd("show_log")){var p=
document.getElementById("log_report");p&&(p.style.display="")}c.error_array=c.md=[];window.onerror=function(e,g,p,r,a){var d;!window.pb&&g&&a&&a.stack||(d=!0);var m=""+e+g+p+r;w[m]?w[m]++:w[m]=1;var h=w[m];r="Javascript Error("+h+" times), "+e+", location="+g+":"+p+("undefined"!=typeof r?":":"")+r;r=a&&a.stack?r+(",\nstack trace=\n"+a.stack):r+",\nstack trace not supported";var v;if(!d){for(v=0;v<c.md.length;v++)if(m===c.md[v].tag){c.md.splice(v,1);break}c.md.push({tag:m,text:r,time:new Date});100<
c.md.length&&c.md.shift()}if(1==h||10==h||100==h||1E3==h){try{b.a.log((d?"(Log Only)":"")+r)}catch(z){}!d&&B&&(r+="\n------------------------------\nTotal Error: "+c.md.length+"\n",r+=(new Date).toString().replace(/(GMT.*)/,"")+"\n",r+="appid="+y+"\n",r+="Browser Information: "+navigator.userAgent+"\n",b.$&&b.$.version&&(r+="hmtg jnkernel version "+b.$.version()+"\n"),b.Yb&&b.Yb.version&&(r+="hmtg jmkernel version "+b.Yb.version()+"\n"),b.b&&b.b.hi&&(r+="Web JoinNet version "+b.b.hi+"\n"),alert(r))}if(!d){if(d=
document.getElementById("error_report"))d.style.display="";b.$&&b.$.il&&b.$.il()}return D?D(e,g,p):g&&a&&a.stack?!0:!1};window.onerrorWorker=function(b){window.onerror(b.message,b.filename,b.lineno,b.colno,b.error)};c.isPrivateStorage=c.td=!1;if(!window.localStorage||"object"!==typeof window.localStorage||"undefined"!==typeof window.localStorage.hmtg_log&&"string"!==typeof window.localStorage.hmtg_log)c.localStorage=c.localStorage={},c.td=!0;else if(c.localStorage=c.localStorage=window.localStorage,
"undefined"===typeof window.localStorage.hmtg_log)try{c.localStorage.hmtg_log=""}catch(m){c.localStorage=c.localStorage={},c.td=!0,c.localStorage.hmtg_log=""}c.Sd("reset")&&confirm("Are you sure to reset the localStorage?")&&window.localStorage.clear();c.log("Web JoinNet starts");c.td&&(c.localStorage.clear=H,c.log("This browser is using private Storage. The changes of settings cannot be saved if the Web App is closed."));c.log("Browser Information: "+navigator.userAgent);c.calcOffset=c.PB=function(b,
c){var e=0,g=0;if("undefined"!==typeof b.offsetParent){do e+=b.offsetLeft+b.clientLeft,g+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}c.x=e;c.y=g};c.schemeURL=c.RF=function(b){return(b=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*):/.exec(b))&&b[1]?b[1].toLowerCase():""};c.xml_escape=c.zt=function(b){return b.replace(/\&/g,"&amp;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")};c.convert32_64=c.mr=function(b,c){return 0>b>>0?-(4294967296*((b^4294967295)>>>0)+((c^
4294967295)>>>0)+1):4294967296*(b>>>0)+(c>>>0)};c.convert64_32=c.TB=function(b){if(0>b){b=-b;b--;var c=(b/4294967296>>>0^4294967295)>>0;b=(b%4294967296>>>0^4294967295)>>0}else c=b/4294967296>>>0,b=b%4294967296>>>0;return[c,b]}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.m=b.m||{};F.vendor="";F.XF=function(b){for(var c=(new Date).getTime();!((new Date).getTime()-c>b););};F.jg=function(b){if("string"!==typeof b)return{mb:1,Eb:0,gf:0};b=b.split(".");return 2>b.length?{mb:1,Eb:0,gf:0}:3>b.length?{mb:parseInt(b[0].trim()),Eb:parseInt(b[1].trim()),gf:0}:{mb:parseInt(b[0].trim()),Eb:parseInt(b[1].trim()),gf:parseInt(b[2].trim())}};F.Y=function(){};F.I=function(b){b.onopen=b.onclose=b.onerror=b.onmessage=F.Y;b.close()};F.wm=function(c){var y=
"https:"==window.location.protocol?"wss://wvv.":"ws://wvw.",g;try{b.m.ah||(g=new WebSocket(y+c))}catch(q){return}b.m.ah||(g.onopen=function(){g.close()})};F.Wh=function(b,y,g,q){var c=[],e=0;0!=q&&q!=g&&(e=q);q={};q.Z=b;q.ma=g;q.Dd=0;c.push(q);e&&(q={},q.Z=b,q.ma=e,q.Dd=0,c.push(q));b=y.split(",");for(y=0;y<b.length;y++){var D=b[y].trim();if(!(0==D.length||100<=D.length)){for(q=0;q<c.length&&c[q].Z!=D;q++);q==c.length&&20>c.length&&(q={},q.Z=D,q.ma=g,q.Dd=1,c.push(q),e&&20>c.length&&(q={},q.Z=D,q.ma=
e,q.Dd=1,c.push(q)))}}return{bi:0,Ph:c}};F.Hj=function(b){for(var c,g,q,E="",e=b.length(),D=(e+15)/16>>>0,w=0,B=0;B<D-1&&5E3>=74*(B+1)+1;B++){g=q="";for(var p=0;16>p;p++,w++)c=b.L(w),q+=16>c?"0":"",q+=c.toString(16),q+=" ",g+=32>=c?".":b.h(w,1);E+=("0000000"+(16*B).toString(16)).slice(-4)+"h: ";E+=q+"; "+g+"\n"}if(5E3>=74*D+1&&(e-=16*(D-1),0<e)){g=q="";for(p=0;16>p;p++,w++)p<e?(c=b.L(w),q+=16>c?"0":"",q+=c.toString(16),q+=" ",g+=32>=c?".":b.h(w,1)):q+="   ";E+=("0000000"+(16*(D-1)).toString(16)).slice(-4)+
"h: ";E+=q+"; "+g+"\n"}return E};F.om=function(c,y){if(y.length()){var g="\nDisconnect Dump:";c.length()&&(g+="\npre-disconnect log:\n"+F.Hj(c));g+="\nat-disconnect log:\n"+F.Hj(y)+"\n";b.a.log(g)}};F.Wg=function(c){switch(c){case b.b.rg:case b.b.Qg:c="dflt";break;case b.b.vg:c="ilbc";break;case b.b.sg:c="g711";break;case b.b.ug:c="g726";break;case b.b.lf:c="g726 11K";break;case b.b.tg:c="g711 11K";break;case b.b.wg:c="opus";break;case b.b.Sg:c="hm264";break;case b.b.Rg:c="f264";break;case b.b.Tg:c=
"mjpg";break;case b.b.Ug:c="vpx";break;default:c="unknown"}return c};F.yj=function(c){var y="",g=1;c&b.b.Uo&&(y+=(g?"":",")+"ACCEPT_GUEST",g=0);c&b.b.Vo&&(y+=(g?"":",")+"END_MEETING",g=0);c&b.b.Oi&&(y+=(g?"":",")+"QUESTION_CONTROL",g=0);c&b.b.Wo&&(y+=(g?"":",")+"POLL",g=0);c&b.b.Gg&&(y+=(g?"":",")+"SYNC",g=0);c&b.b.Pi&&(y+=(g?"":",")+"RETRIEVE_TOKEN",g=0);c&b.b.Ri&&(y+=(g?"":",")+"SYNC_TAB",g=0);c&b.b.Qi&&(y+=(g?"":",")+"SYNC_FULLSCREEN");return y};F.at=function(c){if(40==c.charCodeAt(0)){var y=c.indexOf(")");
if(-1!=y&&1!=y)return b.a.Zg(b.a.Ab(c.slice(1,y)),b.b.Ya)}return""};F.Cs=function(b){return b.Pd(15)};F.Ds=function(b){return b.Pd(11)};F.Fs=function(b){return b.c(5)};F.Gs=function(b){return b.Pd(9)<<16^b.Pd(13)};F.Ah=function(b){return b.Pd(3)};F.Es=function(b){return b.Pd(1)};F.gd=new Uint8Array(256);F.gd[b.b.rg]=1;F.gd[b.b.vg]=1;F.gd[b.b.sg]=1;F.gd[b.b.ug]=1;F.gd[b.b.lf]=1;F.gd[b.b.wg]=1;F.cC=function(b){return!!F.gd[b]};F.xe=new Uint8Array(256);F.xe[b.b.Qg]=1;F.xe[b.b.Sg]=1;F.xe[b.b.Rg]=1;F.xe[b.b.Tg]=
1;F.xe[b.b.Ug]=1;F.gC=function(b){return!!F.xe[b]};F.ct=function(b){return 8+b<<4};F.Qj=function(c){return(c&143)==b.b.zq};F.dt=function(b){return(b&112)>>4};F.wt=function(c,y,g){var q=y.length;512<q&&(q=512);var E=H.Id.create();E.update(b.crypto.M(y.subarray(0,q),g).u());return E.digest().u()==c}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W;b=b.crypto=b.crypto||{};b.ad=function(){for(var b=H.Id.create(),c=arguments.length,y=0;y<c;++y)b.update(arguments[y]);return b.digest()};b.Xg=function(b,c){var y={};switch(b){case "3des":y.ja=c.ja.slice(0,8);y.ld=H.lc.ve(c.key.slice(0,24),y.ja,null);y.Od=H.lc.ue(c.key.slice(0,24),y.ja,null);break;case "des":y.ja=c.ja.slice(0,8);y.ld=H.lc.ve(c.key.slice(0,8),y.ja,null);y.Od=H.lc.ue(c.key.slice(0,8),y.ja,null);break;case "aes128":y.ja=c.ja.slice(0,16);y.ld=H.Za.ve(c.key.slice(0,
16),y.ja,null,"cfb");y.Od=H.Za.ue(c.key.slice(0,16),y.ja,null,"cfb");break;case "aes192":y.ja=c.ja.slice(0,16);y.ld=H.Za.ve(c.key.slice(0,24),y.ja,null,"cfb");y.Od=H.Za.ue(c.key.slice(0,24),y.ja,null,"cfb");break;case "aes256":y.ja=c.ja.slice(0,16),y.ld=H.Za.ve(c.key.slice(0,32),y.ja,null,"cfb"),y.Od=H.Za.ue(c.key.slice(0,32),y.ja,null,"cfb")}return y};b.jf=b.Xg("aes256",{ja:H.a.Hc("9a46099c65b2988422cb177c159625a4586c353d"),key:H.a.Hc("40142bcd47a450d82a1e4109df9cb37852ca2a4ab6f87e739503d7919d89dd834e077fe123f420d4")});
b.M=function(b,c){if(c&&c.ld){var y=c.ld;y.start(c.ja);y.update(new H.a.g(b));y.finish();return y.hg}console.log(Error("******debug, crypto.crypto_cfb_EncryptData stack trace").stack);return b};b.w=function(b,c){if(c&&c.Od){var y=c.Od;y.start(c.ja);y.update(new H.a.g(b));y.finish();return y.hg}console.log(Error("******debug, crypto.crypto_cfb_DecryptData stack trace").stack);return b}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F="succeeded;continue...;MCU relay proxy is shut down;the request is not allowed;MCU relay proxy is busy;the request is not supported;can not connect to MCU;MCU relay proxy doesn't has group connection to the MCU;MCU relay proxy is downloading this slide;MCU relay proxy only support primary port;unknown".split(";"),c=b.protocol=b.protocol||{};c.Tm=10001;c.Um=10002;c.mf=10003;c.ki=10004;c.ji=10005;c.ii=10006;c.Rm=10007;c.Pm=10008;c.Qm=10009;c.Bt=10010;c.Sm=10011;c.gm=function(c,
g,q,E,e,D){function w(){d.disconnect=function(){}}function B(a){p();Z=setTimeout(function(){Z=null;a&&b.a.log(a);b.a.log(6,"websocket("+Y+") timeout");b.m.I(z);m(b.b.Ld)},6E4)}function p(){null!=Z&&(clearTimeout(Z),Z=null)}function m(a){p();ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, finish"):(E[e].Ob=a,ba=!0,z.onclose=z.onerror=z.onmessage=null,w(),D())}function y(){var a=v.Kj();if(a!=b.b.Cc){if(0>=a||a>=F.length)a=F.length-1;b.a.log("mcu relay proxy failed, error = "+
F[a]);b.m.I(z);m(b.b.aj+a)}else aa=new b.protocol.Re(c,g,E[e],q.ca.Vb,q.ca.port,A)}function A(a){aa=null;a?(b.a.log("mcu relay proxy: dh key exchange fails"),m(b.b.Ld)):(E[e].ed=E[e].ea,E[e].xd=E[e].cb,E[e].Dh=E[e].sc,a=new H.a.g,a.Fd(0),a.Fd(E[e].ma),a.ig(E[e].Z),G=r,B("mcu relay proxy: recv nothing after dh key exchange"),z.send(a.i()),0!=v.length()&&G())}function r(){var d=v.Kj();if(0!=d){if(0>d||d>=F.length)d=F.length-1;E[e].Ts=1;b.a.log("mcu relay proxy failed, error = "+F[d]);b.m.I(z);m(b.b.aj+
d)}else G=a,B(),0!=v.length()&&G()}function a(){var a=q.ca.Jb.length?0:4,d=v.length();if(!(d<4+a)){if(a){a+=v.c(4)==b.protocol.ji?16:4;if(d<4+a)return;q.ca.Jb=v.h(8,a-4)}E[e].Sc=v.getInt32();a&&v.shift(a);b.a.log("mcu relay proxy: established");m(0)}}var d=this;var T=E[e].Z;var h=E[e].ma,v=E[e].Gd=new H.a.g,z,Z=null,G=b.m.Y,aa=null,ba=!1;this.disconnect=function(){};if(q&&q.sa){b.a.log(["connect through mcu relay ",q.ca.Vb,",",q.ca.port].join(""));T=q.ca.Vb;-1!=T.indexOf(":")&&-1==T.indexOf("[")&&
(T="["+T+"]");var Y=T+":"+q.ca.port+"/websocket/"}else-1!=T.indexOf(":")&&-1==T.indexOf("[")&&(T="["+T+"]"),Y=T+":"+h+"/websocket/";G=function(){b.m.I(z);m(b.b.Ld)};try{var X="https:"==window.location.protocol?"wss://":"ws://";this.j=E[e].j=z=new WebSocket(X+Y,"hmtg")}catch(P){this.j=E[e].j=z={};b.a.log("cannot create WebSocket for "+X+Y+". "+P);m(b.b.Ld);return}z.binaryType="arraybuffer";z.onopen=function(){p();if(q&&q.sa){var b=new H.a.g("~");b.f(q.ca.Jb.length?7:8);G=y;B();z.send(b.i());0!=v.length()&&
G()}else m(0)};z.onclose=function(){b.a.log(6,"websocket("+Y+") onclose");b.m.I(z);m(b.b.Ld)};z.onerror=function(){b.a.log(6,"websocket("+Y+") onerror");b.m.I(z);m(b.b.Ld)};z.onmessage=function(a){p();a=new H.a.g(a.data);v.D(a);ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, onmessage"):(B(),G())};B();0!=v.length()&&G();this.disconnect=function(){b.a.log(6,"websocket("+Y+") disconnect");ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, disconnect"):
(b.m.I(z),ba=!0,p(),null!=aa&&(aa.stop(),aa=null),w())}};c.Re=function(c,g,q,E,e,D){function w(a){B();v=setTimeout(function(){b.a.log("disconnect,timeout error in dh key exchange");p(a)},6E4)}function B(){null!=v&&(clearTimeout(v),v=null)}function p(a){a&&b.m.I(r);B();ba?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, finish"):(ba=!0,D(a))}function m(){var d=a.length();if(!(4>d)){var h=a.c(0);if(0>h||4096<h)b.a.log("disconnect, incorrect server public key"),
p(3);else if(!(d<4+h)){d=H.a.Vg(a.h(4,h));d=b.mc.rt(d,16,0);var e=2048==G?b.mc.ar(aa.Xh,d):b.mc.$q(aa.Xh,d);d=b.mc.Cr(aa.lg,d,e,c+"."+g,q.sc,2048==G?256:128);q.yc=d;a.shift(4+h);Z=y;0!=a.length()&&Z()}}}function y(){var d=a.length();if(!(4>d)){var h=a.c(0);if(0>h||4096<h)b.a.log("disconnect, incorrect hostkey key"),p(3);else if(!(d<4+h+4)){var c=a.c(4+h);if(0>c||4096<c)b.a.log("disconnect, incorrect hostkey signature"),p(3);else if(!(d<4+h+4+c)){d=a.h(4,h);var g=H.a.nc(d);b.a.log(["hostkey of ",E,
",",e," is ",g].join(""));g=H.Qh.create();g.update(d);d=g.digest();d=H.a.nc(d.u());b.a.log(["hostkey fingerprint of ",E,",",e," is ",d].join(""));a.shift(4+h+4+c);q.Ye="";q.Xe="";q.bg="";z=1;Z=A;0!=a.length()&&Z()}}}}function A(){for(;;){var c=a.length();if(4>c)break;var e=a.c(0);if(0==e){a.shift(4);q.ba=q.ea;r.onerror=d;r.onmessage=F;r.onclose=h;p(0);break}if(4>e||1024<=e){b.a.log("disconnect, incorrect server parameter(0), len="+e);p(1);break}if(c<4+e)break;a.shift(4);c=e;var g=a.c(0);switch(g){case 10001:g=
a.c(4);if(c!=g+8||0>=g||100<=g){b.a.log(["disconnect, incorrect server parameter(1), len=",c," cipher_len=",g].join(""));p(2);return}c=a.h(8,g);q.jd=c;q.ea=b.crypto.Xg(c,q.yc);if(!q.ea.ld){b.a.log("unknown cipher "+c);p(2);return}b.a.log("got mcu parameter - cipher = "+c);break;case 10002:if(8!=c){b.a.log("disconnect, incorrect server parameter(2), len="+c);p(1);return}q.ag=b.crypto.w(a.h(4,4),q.ea).c(0);b.a.log("got mcu parameter - multicast port: "+q.ag);break;case 10003:if(8!=c){b.a.log("disconnect, incorrect server parameter(3), len="+
c);p(1);return}q.yd=b.crypto.w(a.h(4,4),q.ea).c(0)>>>0;q.cb=b.a.A()-q.yd;b.a.log(["got mcu parameter - server tick = ",q.yd,", diff = ",q.cb].join(""));break;case 10004:var v=a.c(4);if(c!=v+8||0>=v||500<=v){b.a.log(["disconnect, incorrect server parameter(4), len=",c," serial_len=",v].join(""));p(1);return}q.Ye=b.crypto.w(a.h(8,v),q.ea).u();break;case 10008:g=a.c(4);if(c!=g+8||0>=g||100<=g){b.a.log(["disconnect, incorrect server parameter(5), len=",c," licensesource_len=",v].join(""));p(1);return}q.Xe=
b.crypto.w(a.h(8,g),q.ea).u();break;case 10005:if(8!=c){b.a.log("disconnect, incorrect server parameter(6), len="+c);p(1);return}q.ge=b.crypto.w(a.h(4,4),q.ea).c(0);b.a.log("got mcu parameter - utf8 support, codepage = "+q.ge);break;case 10006:if(4!=c){b.a.log("disconnect, incorrect server parameter(7), len="+c);p(1);return}q.Oe=!0;b.a.log("got mcu parameter - mcu accept client parameter");break;case 10007:b.a.log("got mcu parameter - mcu support real time conversion");q.bg="";4!=c&&(q.bg=a.h(4,c-
4));break;default:b.a.log("warning, unknown server parameter type="+g)}a.shift(e)}}var r=q.j,a=q.Gd,d=r.onerror,F=r.onmessage,h=r.onclose,v=null,z=3,Z=b.m.Y,G=0,aa;q.ge=-2;r.onclose=r.onerror=function(){p(3)};r.onmessage=function(d){B();d=new H.a.g(d.data);a.D(d);ba?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, onmessage"):(w(z),Z())};var ba=!1,Y=new H.a.g("!");Y.f(c);Y.f(g);Z=function(){var d=a.length();if(!(4>d)){var h=a.c(0);if(0>h||100<=h)b.a.log("disconnect, recv return error in dh key exchange"),
p(3);else if(!(d<4+h)){q.sc=a.h(4,h);var c=b.m.jg(q.sc);b.a.log(["server version of ",E,",",e," is ",q.sc].join(""));d=new H.a.g;if(3<c.mb||3==c.mb&&23<c.Eb||3==c.mb&&23==c.Eb&&1<=c.gf){G=2048;d.f(4099);d.f(256);aa=b.mc.qr();c=b.mc.vj(aa.lg,16);var g=H.a.Hc(c);c=256-g.length}else G=1024,d.f(128),aa=b.mc.pr(),c=b.mc.vj(aa.lg,16),g=H.a.Hc(c),c=128-g.length;0!=c&&d.bh(0,c);d.K(g);r.send(d.i());a.shift(4+h);Z=m;0!=a.length()&&Z()}}};w(3);r.send(Y.i());0!=a.length()&&Z();this.stop=function(){ba=!0;B()}};
c.ie=function(c,g,q,E){function e(){w.disconnect=function(){}}function y(){null!=B&&(clearTimeout(B),B=null)}var w=this,B=null,p=!1;this.disconnect=function(){};-1!=c.indexOf(":")&&-1==c.indexOf("[")&&(c="["+c+"]");g=c+":"+g+"/websocket/";try{var m="https:"==window.location.protocol?"wss://":"ws://";var I=new WebSocket(m+g,"hmtg")}catch(A){I={};b.a.log("cannot create WebSocket for "+m+g+". "+A);p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, new WebSocket"):(p=!0,e(),
E());return}I.binaryType="arraybuffer";I.onopen=function(){y();p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onopen"):(p=!0,e(),q(I))};I.onclose=I.onerror=function(){y();p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onclose"):(p=!0,b.m.I(I),e(),E())};(function(){y();B=setTimeout(function(){B=null;b.m.I(I);p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, turn_on_timer"):(p=!0,e(),E())},6E4)})();this.disconnect=
function(){p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, disconnect"):(y(),p=!0,b.m.I(I),e())}};c.Nb=function(c,g,q,E,e,D){function w(){m.disconnect=function(){}}function B(){null!=y&&(clearTimeout(y),y=null)}function p(){if(!(32>E.length())){var m=b.a.A()-c;var a=new H.a.g;a.K(E.h(0,32));a.f(m);m=new H.a.g;m.D(b.crypto.M(a.u(),g));q.send(m.i());E.shift(32);B();A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, handler"):(A=!0,w(),
e(q,E))}}var m=this,y=null,A=!1;q.onclose=q.onerror=function(){B();A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onclose"):(A=!0,p=b.m.Y,b.m.I(q),w(),D())};q.onmessage=function(c){c=new H.a.g(c.data);E.D(c);A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onmessage"):p()};(function(){B();y=setTimeout(function(){y=null;b.m.I(q);A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, setTimeout"):
(A=!0,w(),D())},6E4)})();0!=E.length()&&p();this.disconnect=function(){A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, disconnect"):(B(),A=!0,b.m.I(q),w())}};c.zs=function(c,g,q,E,e){function y(){p.disconnect=function(){}}function w(){B();m=setTimeout(function(){m=null;b.m.I(g);A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, setTimeout"):(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}var p=this,m=null,I=b.m.Y,
A=!1;g.onclose=g.onerror=function(){B();A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onclose"):(A=!0,I=b.m.Y,b.m.I(g),y(),e(1))};g.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onmessage"):(w(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, disconnect"):(B(),A=!0,b.m.I(g),y())};var r=new H.a.g("~");r.f(1);r.f(c.Sc);
r.f(c.ta);I=function(){var a=q.L(0);q.shift(1);B();A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, handler"):(A=!0,y(),a!=b.b.Cc?e(-1):E())};w();g.send(r.i());0!=q.length()&&I()};c.$r=function(c,g,q,E,e){function y(){p.disconnect=function(){}}function w(){B();m=setTimeout(function(){m=null;b.m.I(g);A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, setTimeout"):(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}
var p=this,m=null,I=b.m.Y,A=!1;g.onclose=g.onerror=function(){B();A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onclose"):(A=!0,I=b.m.Y,b.m.I(g),y(),e(1))};g.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onmessage"):(w(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, disconnect"):(B(),A=
!0,b.m.I(g),y())};var r=new H.a.g("~");r.f(5);r.f(c.Sc);r.f(c.ta);r.f(1);I=function(){var a=q.L(0);q.shift(1);B();A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, handler_relay_response"):(A=!0,y(),a!=b.b.Cc?e(-1):E())};w();g.send(r.i());0!=q.length()&&I()};c.as=function(c,g,q,E,e){function y(){p.disconnect=function(){}}function w(){B();m=setTimeout(function(){m=null;b.m.I(g);A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, setTimeout"):
(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}var p=this,m=null,I=b.m.Y,A=!1;g.onclose=g.onerror=function(){B();A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onclose"):(A=!0,I=b.m.Y,b.m.I(g),y(),e(1))};g.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onmessage"):(w(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, disconnect"):
(B(),A=!0,b.m.I(g),y())};var r=new H.a.g("~");r.f(4);r.f(c.Sc);r.f(c.ta);r.f(c.G);I=function(){var a=q.L(0);q.shift(1);B();if(A)b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, handler_relay_response");else if(A=!0,y(),a!=b.b.Cc){if(0>=a||a>=F.length)a=F.length-1;b.a.log("mcu relay proxy failed, error = "+F[a]);e(-1)}else E()};w();g.send(r.i());0!=q.length()&&I()};c.Js=function(y,g,q,E,e,D,w,B){function p(){a.disconnect=function(){}}function m(){I();d=
setTimeout(function(){d=null;b.m.I(E);h?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, setTimeout"):(h=!0,p(),B())},6E4)}function I(){null!=d&&(clearTimeout(d),d=null)}function A(){h?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, normal_disconnect"):(I(),h=!0,b.m.I(E),p())}function r(){var a=e.length(),d=e.L(0);d==b.b.Mp?9>a||((a=q.ra=e.c(1),-1==a)?(h=!0,I(),F=b.m.Y,b.m.I(E),p(),B()):(d=e.c(5),q.uj?500<b.a.A()-q.Ba&&(w((d-(a-q.pe))/
q.pg),q.Ba=b.a.A()):(q.uj=!0,q.pe=q.ra-d,q.pg=q.ra+q.pe,b.a.log("in mrp slide download, mrp_filelen = "+q.pe+"(filelen = "+a+")"),w(0),q.Ba=b.a.A()),e.shift(9))):d==b.b.Cc?(I(),e.shift(1),h=!0,p(),D()):(I(),h=!0,F=b.m.Y,b.m.I(E),p(),B())}var a=this,d=null,F=b.m.Y,h=!1;E.onclose=E.onerror=function(){I();h?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onclose"):(h=!0,F=b.m.Y,b.m.I(E),p(),B())};E.onmessage=function(a){I();a=new H.a.g(a.data);e.D(a);h?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onmessage"):
(m(),F())};this.disconnect=A;var v=new H.a.g("~");v.f(2);v.f(y.Sc);v.f(y.ta);v.f(g);F=function(){var d=e.L(0);e.shift(1);I();if(h)b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, handler_relay_response");else if(d!=b.b.Cc)h=!0,F=b.m.Y,b.m.I(E),p(),B();else{var g=E.onerror,v=E.onmessage;d=new c.Nb(y.xd,y.ed,E,e,function(){E.onclose=E.onerror=g;E.onmessage=v;F=r;a.disconnect=A;m();0!=e.length()&&F()},function(){h=!0;p();B()});a.disconnect=d.disconnect}};m();E.send(v.i());
0!=e.length()&&F()};c.Ms=function(y,g,q,E,e){function D(){I.disconnect=function(){}}function w(){B();A=setTimeout(function(){A=null;b.m.I(g);a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, setTimeout"):(a=!0,D(),e())},6E4)}function B(){null!=A&&(clearTimeout(A),A=null)}function p(){a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, normal_disconnect"):(B(),a=!0,b.m.I(g),D())}function m(){q.length();q.L(0)==b.b.Cc?(B(),q.shift(1),a=!0,D(),
E()):(b.a.log("mcu relay proxy is not ready to upload slide"),B(),a=!0,r=b.m.Y,b.m.I(g),D(),e())}var I=this,A=null,r=b.m.Y,a=!1;g.onclose=g.onerror=function(){B();a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onclose"):(a=!0,r=b.m.Y,b.m.I(g),D(),e())};g.onmessage=function(d){B();d=new H.a.g(d.data);q.D(d);a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onmessage"):(w(),r())};this.disconnect=p;var d=new H.a.g("~");d.f(3);d.f(y.Sc);d.f(y.ta);
r=function(){var d=q.L(0);q.shift(1);B();if(a)b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, handler_relay_response");else if(d!=b.b.Cc)a=!0,r=b.m.Y,b.m.I(g),D(),e();else{var h=g.onerror,v=g.onmessage;d=new c.Nb(y.xd,y.ed,g,q,function(){g.onclose=g.onerror=h;g.onmessage=v;r=m;I.disconnect=p;w();0!=q.length()&&r()},function(){a=!0;D();e()});I.disconnect=d.disconnect}};w();g.send(d.i());0!=q.length()&&r()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(c,q,y,e,D,w,B,p){var g=b.b.Dc-21;if(!(p.length>g||0>q||q>=b.b.Ha)&&c.U[q]){var I=e&32768;e&=32767;var A=c.U[q],r=A.srv,a=b.a.A();r||(r=A.srv={},r.X=0,r.count=0,r.na=0,r.Wc=!1,r.tc=r.Ih=0,r.ha=r.Na=a-1E5);r.type=B;if(r.Wc){if(y==r.tc&&e==r.Ih)return;if(A.Rd!=y||A.nd!=e){var d=y-r.tc;0>d&&(d+=65536);0==d?r.na+=e-r.Ih-1:0<d&&32768>d&&(r.na+=d-1+e+1)}}r.X+=p.length+21;r.count++;1E4<a-r.Na>>>0?(r.ha=a,r.X=0,r.count=0,r.na=0):3E3<a-r.ha&&(r.rate=0,0<r.count&&(r.tick=a,r.rate=8E3*
r.X/(a-r.ha)>>0,c.Ca("video_recv_rate(ssrc "+q+"),"+r.rate)),r.loss_rate=0,0<r.na&&(r.tick=a,r.loss_rate=r.na/(r.na+r.count)*1E4>>0,c.Ca("video_loss_rate(ssrc "+q+"),"+r.loss_rate)),r.ha=a,r.X=0,r.count=0,r.na=0);r.Na=a;r.tc=y;r.Ih=e;r.Wc=!0;if(A.Rd==y)if(A.nd==e)if(0==e&&(A.data=""),A.data+=p,I)A.Rd=y+1&65535,A.nd=0;else{if(p.length!=g)return;A.nd++;return}else{A.Rd=y+1&65535;A.nd=0;return}else if(0==e)if(A.data=p,I)A.Rd=y+1&65535,A.nd=0;else{if(p.length!=g)return;A.Rd=y;A.nd=1;return}else{A.Rd=
y+1&65535;A.nd=0;return}if(q==c.ua)c=0;else if(q==c.za)c=1;else{y=-1;for(e=0;e<b.b.Qb;e++)if(c.kb[e]==q){y=e;break}if(-1!=y)c=2+y;else return}-1!=c&&(1>=A.data.length||b.$.Sl&&b.$.Sl(A.data,B,q,D,w))}}function F(g,q,y,e,D){function w(b){var e=new c.a.g;e.o(g.N);e.f(g.En);e.f(b);g.j.send(e.i())}if(!(0>q||q>=b.b.Ha||!g.U[q]||500<D.length)){var B=g.U[q];if(!B.Jh){var p=y>>16;y&=65535;if(!(0>=p||2E3<p||0>y||y>=p||B.Kh[y>>3]&1<<(y&7))){if(!B.Lh)B.Lh=p,B.eg=0,B.Nh=new Uint8Array(500*p),B.Oh=0;else if(B.Lh!=
p){B.Jh=1;w(q);b.a.log("download self picture for ssrc "+q+" fails. total num not match");return}B.Nh.set(b.a.ai(D),500*y);B.Oh+=D.length;B.Kh[y>>3]|=1<<(y&7);B.eg++;B.eg==B.Lh&&(B.Jh=1,w(q),B.eg=0,D=B.Nh.subarray(0,B.Oh),B.Nh=null,g.Im(q,D,e))}}}}var c=window.W,y=b.protocol=b.protocol||{};y.ys=function(g,q,E){function e(b){var e=new c.a.g;if(g.sa){var m=new y.zs(g,b,e,function(){new D(b,e)},function(b){E(b)});w.disconnect=function(){m.disconnect()}}else new D(b,e)}function D(e,m){if(g.sa)var p=new y.Nb(g.xd,
g.ed,e,m,function(){q(e,m)},function(){E(1)});else if(g.F==b.b.R){var a=new c.a.g("M");a.f(g.ta);a.f(g.G);e.send(a.i());p=new y.Nb(g.cb,g.ea,e,m,function(){q(e,m)},function(){E(1)})}else g.F==b.b.Fa&&(a=new c.a.g("m"),a.f(g.ta),a.f(g.Xf),e.send(a.i()),p=new y.Nb(g.cb,g.ea,e,m,function(){q(e,m)},function(){E(1)}));w.disconnect=function(){p.disconnect()}}var w=this;if(g.sa){var B=g.ca.Vb;var p=g.ca.port}else B=g.Z,p=g.ma;var m=new y.ie(B,p,function(b){new e(b)},function(){E(1)});this.disconnect=function(){m.disconnect()}};
y.Sa=function(g){function q(){p.disconnect=function(){}}function E(){b.a.log("mediatcp is stopped while connecting");I&&(clearTimeout(I),I=null);A&&A.disconnect();q()}function e(){b.$.qj()?(r=!1,A=new y.ys(g,w,D),p.disconnect=E):q()}function D(a){A=null;0<a?(m++,60<m&&(m=60),b.a.log("mediatcp: connecting fails, try again..."),I=setTimeout(function(){I=null;e()},1E3*(m+1))):(q(),b.a.log("mediatcp: connecting fails, give up"))}function w(a,d){function h(){Q&&(clearInterval(Q),Q=null)}function v(){z();
n=setTimeout(function(){n=null;b.m.I(a);f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, setTimeout"):(f=!0,G(),h(),p.v.terminate(),x(),b.a.log("mediatcp: break due to timeout"))},6E4)}function z(){null!=n&&(clearTimeout(n),n=null)}function G(){p.v.onmessage&&(p.v.onmessage=null,p.v.postMessage({command:"clear"}))}function A(){p.v.onmessage=null;d.length()&&(t=0,O=b.a.A(),w())}function C(){if(d.length()){var a=b.a.A()-O;20<a||9<=t?(500<a&&b.a.log("info, mediatcp handler depth="+
t+",use "+a+"ms"),p.v.onmessage||(p.v.onmessage=A,p.v.postMessage({command:"set"}))):(t++,w())}}function w(){var l=d.length();if(!(5>l)){var c=d.c(0);if(4293844428==c>>>0&&187==d.L(4))d.shift(5),C();else if(21>=c||25E3<=c)z(),f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, handler"):(b.a.log("mediatcp: break due to illegal recv length: "+c),f=!0,G(),h(),p.v.terminate(),w=b.m.Y,b.m.I(a),x());else if(!(l<c+4)){d.shift(4);if(g.ta==b.m.Cs(d)){if(b.m.Qj(d.L(0))){if(29>=
c){d.shift(c);C();return}l=d.h(0,29);var e=b.crypto.w(d.h(29,c-21-8),g.ba).u()}else l=d.h(0,21),e=b.crypto.w(d.h(21,c-21),g.ba).u();var t=l.charCodeAt(0);l=b.m.Ds(d);t==b.b.lf&&2==e.charCodeAt(0)&&(t=b.b.tg);if(t==b.b.sg||t==b.b.tg||t==b.b.wg||t==b.b.rg||t==b.b.vg||t==b.b.ug||t==b.b.lf)a:{var v=b.m.Ah(d),n=t;if(!(0>l||l>=b.b.Ha)&&g.U[l]){var O=g.U[l];t=O.sra;var m=b.a.A();t||(t=O.sra={},t.X=0,t.count=0,t.na=0,t.Wc=!1,t.tc=0,t.ha=t.Na=m-1E5);t.type=n;if(t.Wc){O=v-t.tc;if(0==O)break a;0>O&&(O+=65536);
1!=O&&0<O&&32768>O&&(t.na+=O-1)}t.X+=e.length+21;t.count++;1E4<m-t.Na>>>0?(t.ha=m,t.X=0,t.count=0,t.na=0):3E3<m-t.ha&&(t.rate=0,0<t.count&&(t.tick=m,t.rate=8E3*t.X/(m-t.ha)>>0,g.Ca("audio_recv_rate(ssrc "+l+"),"+t.rate)),t.loss_rate=0,0<t.na&&(t.tick=m,t.loss_rate=t.na/(t.na+t.count)*1E4>>0,g.Ca("audio_loss_rate(ssrc "+l+"),"+t.loss_rate)),t.ha=m,t.X=0,t.count=0,t.na=0);t.Na=m;t.tc=v;t.Wc=!0;b.$.bl&&b.$.bl(e,n,l)}}else if(t==b.b.Sg||t==b.b.Rg||t==b.b.Tg||t==b.b.Ug||t==b.b.Qg)H(g,l,b.m.Ah(d),b.m.Es(d),
b.m.Fs(d),b.m.Gs(d),t,e);else if(b.m.Qj(t))a:{if(v=b.m.Ah(d),n=e,e=d.c(25)&65535,!(0>l||l>=b.b.Ha)&&g.U[l]){t=b.m.dt(t);var J=g.U[l];m=J["srp"+t];O=b.a.A();m||(m=J["srp"+t]={},m.X=0,m.count=0,m.na=0,m.Wc=!1,m.tc=0,m.ha=m.Na=O-1E5);m.channel=t;if(m.Wc){J=v-m.tc;if(0==J)break a;0>J&&(J+=65536);1!=J&&0<J&&32768>J&&(m.na+=J-1)}m.X+=n.length+21;m.count++;1E4<O-m.Na>>>0?(m.ha=O,m.X=0,m.count=0,m.na=0):3E3<O-m.ha&&(m.rate=0,0<m.count&&(m.tick=O,m.rate=8E3*m.X/(O-m.ha)>>0,g.Ca("appdata_recv_rate(channel "+
t+",ssrc "+l+"),"+m.rate)),m.loss_rate=0,0<m.na&&(m.tick=O,m.loss_rate=m.na/(m.na+m.count)*1E4>>0,g.Ca("appdata_loss_rate(channel "+t+",ssrc "+l+"),"+m.loss_rate)),m.ha=O,m.X=0,m.count=0,m.na=0);m.Na=O;m.tc=v;m.Wc=!0;b.$.Dl&&b.$.Dl(n,t,l,e)}}else t==b.b.oj?F(g,l,d.c(1),d.c(5),e):b.$.rs(t,l)}d.shift(c);C()}}}function x(){b.$.qj()?(r=!1,J=setTimeout(function(){J=null;e();b.a.log("mediatcp: reconnecting...")},2E3),p.disconnect=function(){clearTimeout(J);G();p.v.terminate();q()}):q()}m=0;b.a.log("mediatcp: enter main loop");
g.F==b.b.R&&b.$.$b&&b.$.$b();r=!0;p.j=a;var n=null,f=!1;p.v=new Worker("worker/worker_timeout.js");p.v.onmessage=null;var t=0,O=0,J=null,Q=null,l=b.a.A();a.onclose=a.onerror=function(){z();f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onclose"):(f=!0,G(),h(),p.v.terminate(),w=b.m.Y,b.m.I(a),x(),b.a.log("mediatcp: break due to network error"))};a.onmessage=function(a){l=b.a.A();z();a=new c.a.g(a.data);d.D(a);f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onmessage"):
(v(),p.v.onmessage||(t=0,O=b.a.A(),w()))};v();(function(){h();Q=setInterval(function(){if(2E4<b.a.A()-l){var f=new c.a.g;f.f(4293844428);f.o(187);a.send(f.i());p.V()}},2E4)})();0!=d.length()&&(G(),t=0,O=b.a.A(),w());p.disconnect=function(){f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, disconnect"):(r=!1,f=!0,b.a.log("mediatcp is stopped"),z(),G(),h(),p.v.terminate(),J&&(clearTimeout(J),J=null),b.m.I(a),q())};p.V=function(){l=b.a.A();z();v()}}function B(a,
d,c){v=Math.min(a,v);if(2E3<d-z||-2>=v)a=g.va,b.$.Kb(v),a!=g.va&&g.Ca("tcp_media_rate_control,worst_command = "+v+",targetrate = "+g.va+",queue="+c+",avg="+(T>>0)),v=1,z=d}var p=this,m=0,I=null,A=null,r=!1;e();b.a.log("mediatcp: connecting...");var a=b.a.A(),d=0;this.nt=function(a){if(!r)return!0;var d=new c.a.g;d.f(a.length());d.K(a.h(0,17));d.K(b.$.Uf(a));d.D(b.crypto.M(a.h(21),g.ba));this.j.send(d.i());this.V();return!0};this.lt=function(a){if(!r)return!0;var d=b.a.A(),e=this.j.bufferedAmount;
h=e;T+=.1*(e-T);e=g.Jm;e||(e=g.Jm={},e.X=0,e.ha=e.Na=d-1E5);var v=new c.a.g;v.f(a.length());v.K(a.h(0,17));v.K(b.$.Uf(a));v.D(b.crypto.M(a.h(21),g.ba));this.j.send(v.i());e.X+=a.length();1E4<d-e.Na>>>0?(e.ha=d,e.X=0):3E3<d-e.ha&&(e.rate=0,0<e.X&&(e.tick=d,e.rate=8E3*e.X/(d-e.ha)>>0,g.Ca("audio_send_rate2,"+e.rate)),e.ha=d,e.X=0);e.Na=d;this.V();return!0};g.Ba=b.a.A();g.Nd=4*b.b.Dc;g.ga=g.Nd;this.ot=function(e){if(!r)return!0;var v=b.a.A(),m=this.j.bufferedAmount,z=m-h;h=m;T+=.1*(m-T);g.ga+=(v-g.Ba)*
g.va/8E3;g.Ba=v;if(0>g.ga)return!0;m>g.Dm?(a=v,d=0):10<d&&1E4<v-a?(B(1,v,m),a=v,d=0):d++;if(m>g.Cm)return B(-2,v,m),e=Math.max(g.Nd,20*g.va/8E3),g.ga>e&&(g.ga=e),!0;m>g.mg&&B(z>g.mg?-2:-1,v,m);m=g.Km;m||(m=g.Km={},m.X=0,m.ha=m.Na=v-1E5);z=e.length()-b.b.hc;var p=(z+(b.b.Dc-b.b.hc)-1)/(b.b.Dc-b.b.hc)>>0,q;for(q=0;q<p;q++){if(q==p-1){var w=z%(b.b.Dc-b.b.hc);0==w&&(w=b.b.Dc-b.b.hc)}else w=b.b.Dc-b.b.hc;var C=new c.a.g;C.K(e.h(0,b.b.hc));C.K(e.h(b.b.hc+q*(b.b.Dc-b.b.hc),w));g.ga-=C.length();m.X+=C.length();
w=new c.a.g;w.f(C.length());w.K(C.h(0,1));w.o(q>>8&255|(q==p-1?128:0));w.o(q&255);w.K(C.h(3,14));w.K(b.$.Uf(C));w.D(b.crypto.M(C.h(21),g.ba));this.j.send(w.i())}e=Math.max(g.Nd,20*g.va/8E3);g.ga>e&&(g.ga=e);1E4<v-m.Na>>>0?(m.ha=v,m.X=0):3E3<v-m.ha&&(m.rate=0,0<m.X&&(m.tick=v,m.rate=8E3*m.X/(v-m.ha)>>0,g.Ca("video_send_rate2,"+m.rate)),m.ha=v,m.X=0);m.Na=v;this.V();return!0};this.mt=function(e,v,m,z,p,q){if(!r||0>v)return!0;var w=b.a.A(),C=g.P[v],A=this.j.bufferedAmount,x=A-h;h=A;T+=.1*(A-T);C.ga+=
(w-C.Ba)*C.zb/8E3;C.Ba=w;if(0>C.ga)return!0;A>g.Dm?(a=w,d=0):10<d&&1E4<w-a?(B(1,w,A),a=w,d=0):d++;if(A>g.Cm)return B(-2,w,A),e=Math.max(g.Nd,C.xj,20*C.zb/8E3),C.ga>e&&(C.ga=e),!0;A>g.mg&&B(x>g.mg?-2:-1,w,A);A=C.stat;A||(A=C.stat={},A.X=0,A.ha=A.Na=w-1E5);A.channel=v;C.ga-=e.length()+8;A.X+=e.length()+8;x=new c.a.g;x.f(e.length()+8);x.o(b.m.ct(v));x.K(e.h(1,16));x.K(b.$.Uf(e));x.f(m);p||(z|=2147483648);q||(z|=1073741824);x.f(z);x.D(b.crypto.M(e.h(21),g.ba));this.j.send(x.i());e=Math.max(g.Nd,C.xj,
20*C.zb/8E3);C.ga>e&&(C.ga=e);1E4<w-A.Na>>>0?(A.ha=w,A.X=0):3E3<w-A.ha&&(A.rate=0,0<A.X&&(A.tick=w,A.rate=8E3*A.X/(w-A.ha)>>0,g.Ca("appdata_send_rate2(channel "+v+"),"+A.rate)),A.ha=w,A.X=0);A.Na=w;this.V();return!0};var T=0,h=0,v=1,z=b.a.A()};y.Ic=function(g){function q(p){var m=new c.a.g,q=new y.$r(g,p,m,function(){new E(p,m)},function(){b.a.log("MRP_TCPMedia_Notify: connection with mcu relay proxy fails");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}function E(c,m){var p=
null;var q=new y.Nb(g.xd,g.ed,c,m,function(){b.a.log("successfully notify mcu relay about using tcp for media");c.onclose=c.onerror=function(){e.disconnect()};c.onmessage=function(){};e.disconnect=function(){p&&(clearTimeout(p),p=null);b.m.I(c)};p=setTimeout(function(){p=null;b.m.I(c);e.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about using tcp for media");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}var e=this;var D=g.ca.Vb;var w=g.ca.port;
b.a.log("trying to notify mcu relay "+D+":"+w+" about using tcp for media");var B=new y.ie(D,w,function(b){new q(b)},function(){b.a.log("MRP_TCPMedia_Notify: cannot connect to mcu relay");e.disconnect=function(){}});this.disconnect=function(){B.disconnect()}};y.Jc=function(g){function q(p){var m=new c.a.g,q=new y.as(g,p,m,function(){new E(p,m)},function(){b.a.log("NotifyMCURelaySessionIndex: connection with mcu relay proxy fails");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}
function E(c,m){var p=null;var q=new y.Nb(g.xd,g.ed,c,m,function(){b.a.log("successfully notify mcu relay about the session index");c.onclose=c.onerror=function(){e.disconnect()};c.onmessage=function(){};e.disconnect=function(){p&&(clearTimeout(p),p=null);b.m.I(c)};p=setTimeout(function(){p=null;b.m.I(c);e.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about the session index");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}var e=this;var D=g.ca.Vb;
var w=g.ca.port;b.a.log("trying to notify mcu relay "+D+":"+w+" about the session index");var B=new y.ie(D,w,function(b){new q(b)},function(){b.a.log("NotifyMCURelaySessionIndex: cannot connect to mcu relay");e.disconnect=function(){}});this.disconnect=function(){B.disconnect()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.protocol=b.protocol||{};F.Ns=function(c,y,g){var q=this,E=(g.length+499)/500>>0,e=0,D=4E6/(48E3<c.eb?48E3:c.eb)>>0;1E3<D&&(D=1E3);q.fa=new Worker("worker/worker_interval.js");q.fa.onmessage=function(){c.Wk&&(q.fa&&(q.fa.terminate(),q.fa=null),q.disconnect=function(){});var w=b.$.us(b.b.oj,g.subarray(500*e,500*e+500),y,e|E<<16);b.$.ts(w);e++;e==E&&(e=0)};q.fa.postMessage({command:"set",delay:D});q.disconnect=function(){q.fa&&(q.fa.terminate(),q.fa=null);q.disconnect=
function(){}}};F.Ls=function(b,y,g){function c(){D.disconnect=function(){}}function E(m){var p=new H.a.g;if(b.sa){var q=new F.Ms(b,m,p,function(){e(m,p)},function(){c();g()});D.disconnect=function(){q.disconnect();c()}}else e(m,p)}function e(e,p){var m=new H.a.g("S");m.f(b.ta);m.f(b.G);e.send(m.i());var q=new F.Nb(b.cb,b.ea,e,p,function(){c();y(e,p)},function(){c();g()});D.disconnect=function(){q.disconnect();c()}}var D=this;if(b.sa){var w=b.ca.Vb;var B=b.ca.port}else w=b.Z,B=b.ma;var p=new F.ie(w,
B,function(b){E(b)},function(){c();g()});this.disconnect=function(){p.disconnect();c()}};F.Ks=function(c,y,g,q,E,e,D,w){function B(){p.disconnect=function(){}}var p=this,m=null;m=new F.Ls(c,function(m){function A(){r();h=setTimeout(function(){h=null;b.m.I(m);d?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, setTimeout2"):(d=!0,B(),e())},F?1E4:6E4)}function r(){null!=h&&(clearTimeout(h),h=null)}function a(){p.fa&&(p.fa.terminate(),p.fa=null)}p.j=m;var d=!1,F=!1,h=null;
p.fa=null;m.onclose=m.onerror=function(){d?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, onclose"):(d=!0,a(),r(),b.m.I(m),F?(B(),e()):(B(),w&&w()))};var v=new H.a.g;g&&(v.f(-1),v.f(g.length),v.D(b.crypto.M(g,c.ba)));v.H(q);if(1==y)v.f(0),m.send(v.i()),F=!0,A();else{v.f(E.length);m.send(v.i());var z=0;p.fa=new Worker("worker/worker_interval.js");p.fa.onmessage=function(){if(!m.bufferedAmount){var a=b.a.A();500<b.a.A()-Z&&(D(z/E.length),Z=b.a.A());var d;for(d=0;100>
d;d++){var h=512;512>E.length-z&&(h=E.length-z);var e=E.subarray(z,z+h);v.clear();v.D(b.crypto.M(e,c.ba));m.send(v.i());z+=h;if(z>=E.length){F=!0;D(1);A();p.fa&&(p.fa.terminate(),p.fa=null);break}if(20<b.a.A()-a)break}}};p.fa.postMessage({command:"set",delay:10});var Z=b.a.A()-1E3;p.disconnect=function(){d?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, disconnect"):(d=!0,a(),r(),b.m.I(m),B(),w&&w())}}},function(){B();w&&w()});p.disconnect=function(){m&&m.disconnect();
B()}};F.Is=function(c,y,g,q,E,e){function D(){p.disconnect=function(){}}function w(b){var a=new H.a.g;if(c.sa){var d=new F.Js(c,y,g,b,a,function(){B(b,a)},function(b){E(b)},function(){D();e()});p.disconnect=function(){d.disconnect();D()}}else B(b,a)}function B(g,a){if(c.sa){if(c.F==b.b.R){var d=new H.a.g("R");d.f(c.ta);d.f(c.G)}else d=new H.a.g("r"),d.f(c.ta),d.f(c.Xf);g.send(d.i());D();q(g,a)}else if(c.F==b.b.R){d=new H.a.g("R");d.f(c.ta);d.f(c.G);g.send(d.i());var m=new F.Nb(c.cb,c.ea,g,a,function(){D();
q(g,a)},function(){D();e()});p.disconnect=function(){m.disconnect();D()}}else c.F==b.b.Fa&&(d=new H.a.g("r"),d.f(c.ta),d.f(c.Xf),g.send(d.i()),m=new F.Nb(c.cb,c.ea,g,a,function(){D();q(g,a)},function(){D();e()}),p.disconnect=function(){m.disconnect();D()})}var p=this;if(c.sa){var m=c.ca.Vb;var I=c.ca.port}else m=c.Z,I=c.ma;var A=new F.ie(m,I,function(b){w(b)},function(){D();e()});this.disconnect=function(){A.disconnect();D()}};F.Hs=function(c,y,g,q,E,e){function D(){b.a.log(2,"info, error occurs downloading slide index "+
y);0==C.xa&&(C.xa=-1);B();e&&e()}function w(){b.a.log(5,"info, succeeds downloading slide index "+y);B();q()}function B(){z.disconnect=function(){};z.index=-1;z.V.terminate();b.a.log(5,"info, finish(could be success, failure, stop, etc.) downloading slide index "+y)}function p(){I();if(!c.sa||c.F!=b.b.R||C.Ze||C.kh||C.sm)r();else if(N++,3<N)D();else{b.a.log("the hash of slide "+y+" hasn't been received yet, request the hash and try download again later...");var a=new H.a.g;a.o(c.N);a.f(c.zg);a.f(1);
a.f(y);c.j.send(a.i());Z=setTimeout(p,2E3);z.disconnect=A}}function m(){z.V.onmessage&&(z.V.onmessage=null,z.V.postMessage({command:"clear"}))}function I(){Z&&(clearTimeout(Z),Z=null)}function A(){I();B()}function r(){I();!C.ra||C.ka<C.ra?(X=new F.Is(c,y,P,h,E,function(){D()}),z.disconnect=a):(T(),z.disconnect=d)}function a(){X&&X.disconnect();B()}function d(){m();B()}function T(){ba=!0;P.ra=C.ra;P.Ba=b.a.A()-1E3;P.pe=0;P.pg=C.ra;G=function(){m();w()};aa=function(){m();D()};z.V.onmessage=v;z.V.postMessage({command:"set",
delay:20})}function h(a,d){function f(){h();p=setTimeout(function(){p=null;b.m.I(a);x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, setTimeout"):(x=!0,e(),m(),z.v.terminate(),D())},6E4)}function h(){null!=p&&(clearTimeout(p),p=null)}function e(){z.v.onmessage&&(z.v.onmessage=null,z.v.postMessage({command:"clear"}))}function n(){x=!0;h();e();m();z.v.terminate();b.m.I(a);w()}function Q(){l()}function l(){x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, quit"):
(x=!0,h(),e(),m(),z.v.terminate(),Y=b.m.Y,b.m.I(a),D())}z.j=a;var p=null,x=!1;z.v=new Worker("worker/worker_timeout.js");z.v.onmessage=null;var q=!1;b.a.log(5,"info, connected with MCU downloading slide index "+y);a.onclose=a.onerror=function(){h();q?ba=!0:x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onclose"):(x=!0,e(),m(),z.v.terminate(),Y=b.m.Y,b.m.I(a),D())};a.onmessage=function(a){h();q?a.data.byteLength>C.ra-C.ka?l():(C.data.set(new Uint8Array(a.data),
C.ka),C.ka+=a.data.byteLength,x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage0"):C.ka<C.ra&&f()):(a=new H.a.g(a.data),d.D(a),x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage"):(f(),z.v.onmessage||(b.a.A(),Y())))};var r=new H.a.g;C.ka&&(C.ka&511&&(C.ka&=-512),r.f(-1),r.f(C.ka));r.f(y);a.send(r.i());Y=function(){if(!(4>d.length())){var a=P.ra=C.ra=d.c(0);P.Ba=b.a.A()-1E3;if(0==a)Y=b.m.Y,C.data=new Uint8Array(a),
C.xa=1,n();else if(0>a)C.xa=3,l();else{q=!0;Y=b.m.Y;if(!C.data){if(a>b.$.Rh()){C.xa=4;l();return}if(c.wa+a>b.$.Rh())if(g)b.$.ht(y,a);else{l();return}try{C.data=new Uint8Array(a)}catch(ka){C.data=null;C.xa=4;l();return}c.wa+=a;C.ka=C.ka||0;C.ib=C.ib||0}G=n;aa=Q;z.V.onmessage=v;z.V.postMessage({command:"set",delay:20});P.uj||(P.pe=0,P.pg=a);d.shift(4);a=d.length();a>C.ra-C.ka?l():a&&(C.data.set(new Uint8Array(d.i()),C.ka),C.ka+=a,d.shift(a))}}};f();0!=d.length()&&(e(),b.a.A(),Y());z.disconnect=function(){x?
b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, disconnect"):(x=!0,h(),e(),m(),z.v.terminate(),b.m.I(a),B())}}function v(){var a=G,d=aa,f=C.ka;C.ka!=C.ra&&(f&=-512);var h=b.a.A(),e;for(e=0;1E6>e;e++){var v=f-C.ib;if(0==v){ba&&d();break}512<v&&(v=512);var g=b.crypto.w(C.data.subarray(C.ib,C.ib+v),c.ba);C.data.set(new Uint8Array(g.i()),C.ib);C.ib+=v;if(C.ib==C.ra){if(c.sa&&!b.m.wt(C.hash,C.data,c.ba)){b.a.log("Alert! mrp slide download index="+y+" has mismatched hash!");
C.xa=2;d();break}C.xa=1;a();break}500<b.a.A()-P.Ba&&(E((C.ib+P.pe)/P.pg),P.Ba=b.a.A());if(20<b.a.A()-h)break}}var z=this,Z=null,G=null,aa=null;z.V=new Worker("worker/worker_interval.js");z.V.onmessage=null;var ba=!1,Y=b.m.Y,X=null,P={},C=c.aa[y];-1==C.xa&&(C.xa=0);b.a.log(5,"info, request to download slide index "+y);this.index=y;var N=0;p()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.protocol=b.protocol||{},c=b.Yb=b.Yb||{};F.Qk=function(b,c,y,e){function g(){B.disconnect=function(){}}function q(m,p){var q=new H.a.g("@");q.f(c);q.H(b.da?b.Qa:b.O);m.send(q.i());var r=new F.Nb(0,b.B,m,p,function(){g();y(m,p)},function(){g();e()});B.disconnect=function(){r.disconnect();g()}}var B=this,p=new F.ie(b.Z,b.port,function(b){var c=new H.a.g;q(b,c)},function(){g();e()});this.disconnect=function(){p.disconnect();g()}};F.Sr=function(g,q,y){function e(){D.disconnect=
function(){}}var D=this,w=null,B=b.m.Y;w=new F.Qk(g,3,function(p,m){function w(){D.v.onmessage&&(D.v.onmessage=null,D.v.postMessage({command:"clear"}))}function A(){var a=b.a.A()-h;20<a||9<=E?(500<a&&b.a.log("info, check_im handler depth="+E+",use "+a+"ms"),D.v.onmessage||(D.v.onmessage=function(){D.v.onmessage=null;if(m.length()){E=0;h=b.a.A();var a=m.length();B();if(d){var c=m.length();c&&c!=a||(m.clear(),p.onclose())}}},D.v.postMessage({command:"set"}))):(E++,B())}function r(){a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, quit"):
(a=!0,w(),D.v.terminate(),B=b.m.Y,b.m.I(p),e(),y&&y())}D.j=p;var a=!1;D.v=new Worker("worker/worker_timeout.js");D.v.onmessage=null;var d=!1,E=0,h=0;p.onclose=p.onerror=function(){if(m.length())if(d=!0,a)b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose,alt");else{if(D.v.onmessage)return;E=0;h=b.a.A();var c=m.length();B();var g=m.length();if(g&&g!=c)return}a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose"):(a=!0,w(),D.v.terminate(),
B=b.m.Y,b.m.I(p),e(),y&&y())};p.onmessage=function(d){d=new H.a.g(d.data);m.D(d);a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onmessage"):D.v.onmessage||(E=0,h=b.a.A(),B())};B=function(){function a(a){if(!(12>a.length||(n=new H.a.g(a),n.L(a.length-1)))){x=n.c(8);C=n.c(0);var f=12;switch(x){case b.b.Yi:f=16;case b.b.$i:var d=a.slice(f).indexOf("\x00");if(-1==d)return;var h=a.slice(f+d+1).indexOf("\x00");if(-1==h)return;var c=a.slice(f+d+h+2).indexOf("\x00");if(f+d+
h+c+3!=a.length||d>=b.b.Ya<<1||500<=h||5E3<=c)return;F=(y==b.b.np?a.substr(f,d)+": ":"")+a.substr(f+d+1,h);break;case b.b.Kg:case b.b.Vi:f=16,x=x==b.b.Kg?b.b.Ig:b.b.Jg;case b.b.Ig:case b.b.Jg:d=a.slice(f).indexOf("\x00");if(f+d+1!=a.length||d>=b.b.Ya<<1)return;F=a.substr(f,d);break;case b.b.Wi:f=16;d=a.slice(f).indexOf("\x00");if(-1==d)return;h=a.slice(f+d+1).indexOf("\x00");if(f+d+h+2!=a.length||d>=b.b.Ya<<1||h>=b.b.Ya<<1)return;F=a.substr(f,d)+": "+a.substr(f+d+1,h);break;case b.b.Zi:case b.b.Xi:f=
20;d=a.slice(f).indexOf("\x00");if(f+d+1!=a.length||5E3<=d)return;F=a.substr(f,d);break;default:return}return{tt:C,st:x,text:F}}}var d=m.length();if(!(1>d))if(!m.L(0))D.disconnect(),e(),q&&q();else if(!(13>d)){var h=m.c(9);if(0>h||h>=b.b.Ya<<2)r();else if(!(d<13+h+4)){var p=m.c(13+h);if(0>p||p>=b.b.Ya<<1)r();else if(!(d<13+h+4+p+4)){var w=m.c(17+h+p);if(0>w||13334<=w)r();else if(!(d<13+h+4+p+4+w)){var y=m.c(1),B=m.c(5)>>>0,E=b.crypto.w(m.h(13,h),g.B).u(),P=b.crypto.w(m.h(13+h+4,p),g.B).u();d=b.crypto.w(m.h(13+
h+4+p+4,w),g.B).u();h=13+h+4+p+4+w;var C=0,F="",x=0;if(35==d.charCodeAt(0)){if(x=b.b.Hg,p=b.a.Ib(d.slice(1)),12<=p.length){var n=new H.a.g(p);C=n.c(0);n.L(p.length-1)||(d=p.slice(12).indexOf("\x00"),12+d+1==p.length&&(F=""+n.c(8)+"("+p.substr(12,d)+")"))}}else d=a(b.a.Ib(d)),C=d.tt,x=d.st,F=d.text;c.Zj&&c.Zj(g,D,y,B,E,P,C,x,F);m.shift(h);A()}}}}};0!=m.length()&&(w(),E=0,h=b.a.A(),B());D.disconnect=function(){a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, disconnect"):
(a=!0,w(),D.v.terminate(),b.m.I(p),e())}},function(){e();y&&y()});D.disconnect=function(){w&&w.disconnect();e()}};F.Rk=function(g,q,y){function e(){w.connected=!1;D();y&&y()}function D(){w.disconnect=function(){}}var w=this;this.connected=!1;this.Hh=this.Gh=0;this.rm=this.Hf=this.Ne=!1;this.ob=this.Da=0;var B=g.da,p=null,m=b.m.Y;p=new F.Qk(g,B?2:1,function(p,q){function r(){w.v.onmessage&&(w.v.onmessage=null,w.v.postMessage({command:"clear"}))}function a(){var a=b.a.A()-A;20<a||9<=z?(500<a&&b.a.log("info, check_msg handler depth="+
z+",use "+a+"ms"),w.v.onmessage||(w.v.onmessage=function(){w.v.onmessage=null;if(q.length()){z=0;A=b.a.A();var a=q.length();m();if(v){var d=q.length();d&&d!=a||(q.clear(),p.onclose())}}},w.v.postMessage({command:"set"}))):(z++,m())}function d(){function h(){if(g.J!=b.b.pa)y();else{var f=q.length();if(!(43>f)){var h=b.crypto.w(q.h(0,43),g.B);var e=h.c(35),v=h.c(39);if(0>e||e>=b.b.Ya||0>v||v>=b.b.Ya)y();else if(!(f<43+e+v+4)){var n=b.crypto.w(q.h(43,e+v+4),g.B);if(c.Vd){var l=h.h(0,23);var p=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(l);
f=h.c(23);var z=4294967296*(n.c(e+v)>>>0)+(h.c(27)>>>0);h=h.c(31);p=p?new Date(p[1],p[2]-1,p[3],p[4],p[5],0)/1E3:0;var r=e?n.h(0,e):"";n=v?n.h(e,v):"";c.Vd(g,w,!1,0,f,z,h,p,r,"",n,l)}q.shift(43+e+v+4);C++;C==A&&(m=d,c.Wb&&c.Wb(g,w),w.ob=0,w.Da=1);a()}}}}function e(){if(g.J!=b.b.pa)y();else{var f=w.ec?32:36;var h=q.length();if(!(h<f)){var e=b.crypto.w(q.h(0,f),g.B);var v=e.c(24),n=e.c(28),l=0;if(0>v||v>=b.b.Ya||0>n||n>=b.b.Pg)y();else{if(!w.ec&&(l=e.c(32),0>l||l>=b.b.Ya)){y();return}if(!(h<f+v+n+l+
4)){var p=b.crypto.w(q.h(f,v+n+l+4),g.B);if(c.Vd){var z=l,r=e.h(8,23);var x=/(\d\d\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/.exec(r);h=e.c(0);var G=4294967296*(p.c(v+n+z)>>>0)+(e.c(4)>>>0);e=e.c(20);x=x?new Date(x[1],x[2]-1,x[3],x[4],x[5],0)/1E3:0;var B=v?p.h(0,v):"";var D=n?p.h(v,n):"";p=z?p.h(v+n,z):"";c.Vd(g,w,!!w.ec,w.ec?A:C,h,G,e,x,B,D,p,r)}q.shift(f+v+n+l+4);C++;if(w.ec||C==A)m=d,c.Wb&&c.Wb(g,w),w.ob=0,w.Da=1;a()}}}}}function v(){if(g.J!=b.b.pa)y();else if(!(q.length()<23+b.b.Ya+16)){var f=b.crypto.w(q.h(0,
23+b.b.Ya+16),g.B);if(c.Vd){var h=f.h(0,23),e=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(h);var v=e?new Date(e[1],e[2]-1,e[3],e[4],e[5],0)/1E3:0;e=b.b.Ya;var n=f.h(23,e);var l=n.indexOf("\x00");var p=f.c(23+e);var z=4294967296*(f.c(23+e+12)>>>0)+(f.c(23+e+4)>>>0);f=f.c(23+e+8);n=-1==l?n:n.slice(0,l);c.Vd(g,w,!0,0,p,z,f,v,n,"","",h)}q.shift(23+b.b.Ya+16);m=d;c.Wb&&c.Wb(g,w);w.ob=0;w.Da=1;a()}}function p(){if(g.J!=b.b.pa)y();else{var f=q.length(),h=Math.min(512,w.ra-w.ka);f<h||(f=b.crypto.w(q.h(0,
h),g.B).i(),w.data.set(new Uint8Array(f),w.ka),w.ka+=h,q.shift(h),w.ka==w.ra?(m=d,c.Bf&&c.Bf(g,w,0),w.Da=1):c.Wd&&(h=b.a.A(),500<h-w.Ba&&(f=w.ka/w.ra*100>>>0,f!=w.V&&(w.V=f,w.ob=f,c.Wd(g,w)),w.Ba=h)),a())}}if(g.J!=b.b.pa)y();else{var z=q.length();if(!(1>z)){switch(q.L(0)){case 122:if(5>z)return;var r=q.c(1);switch(r){case 24:if(13>z)return;w.Gh=q.c(5);w.Hh=q.c(9);q.shift(13);break;case 64:if(9>z)return;r=q.c(5);if(200!=r){b.a.log(3,"checkmessage, unknown JNR password type "+r);y();return}if(17>z)return;
w.Ne=!!q.c(9);w.Hf=!!q.c(13);q.shift(17);break;case 9:var C=0;if(9>z)return;var A=q.c(5);q.shift(9);A?m=h:(c.Wb&&c.Wb(g,w),w.Da=1);break;case 27:C=0;if(9>z)return;A=q.c(5);q.shift(9);A?m=e:(c.Wb&&c.Wb(g,w),w.Da=1);break;case 75:w.rm=!0;q.shift(5);break;default:b.a.log(3,"checkmessage, unknown extension command "+r);y();return}break;case 33:if(5>z)return;r=q.c(1);switch(r){case 12:if(9>z)return;r=q.c(5);if(0>r||1E4<=r){y();return}if(0==r)c.nk&&c.nk();else{if(z<9+r)return;c.Ud&&c.Ud(b.crypto.w(q.h(9,
r),g.B).u())}w.Da=1;q.shift(9+r);break;case 5:if(9>z)return;r=q.c(5);if(0>r||4096<=r){y();return}if(0==r)c.Df&&c.Df(g,w,""),q.shift(9+r);else{if(z<9+r+4)return;var x=q.c(9+r);if(0>x||1E4<=x){y();return}if(z<9+r+4+x)return;z="";r&&(z=b.crypto.w(q.h(9,r),g.B).u());var n="";x&&(n=b.crypto.w(q.h(9+r+4,x),g.B).u());q.shift(9+r+4+x);c.Df&&c.Df(g,w,z,n)}w.Da=1;break;case 10:if(9>z)return;c.qk&&c.qk(g,w,q.c(5));w.Da=1;q.shift(9);break;case 11:if(9>z)return;r=q.c(5);x=B?4096:256E4;if(0>r||r>=x){y();return}x=
"";if(r){if(z<9+r)return;x=b.crypto.w(q.h(9,r),g.B).u()}B&&!x?c.rk&&c.rk():c.Nk&&c.Nk(g,w,x);q.shift(9+r);w.Da=1;break;case 7:case 8:if(9>z)return;(z=7==r?c.Nr:c.Mr)&&z(g,w,q.c(5));q.shift(9);w.Da=1;break;case 9:if(9>z)return;w.ob=q.c(5);c.Wd&&c.Wd(g,w);q.shift(9);break;case 13:if(9>z)return;c.kk&&c.kk(g,w,q.c(5));q.shift(9);w.Da=1;break;default:b.a.log(3,"checkmessage, unknown playback command "+r);y();return}break;case 48:switch(w.ec){case 19:if(6>z)return;if(r=q.c(2)){c.Xd&&c.Xd(g,w,r);q.shift(6);
w.ob=0;w.Da=1;break}if(10>z)return;if(r=q.c(6)){c.Xd&&c.Xd(g,w,r);q.shift(10);w.ob=0;w.Da=1;break}if(14>z)return;g.da?(A=q.c(10),q.shift(14),m=e):(q.shift(10),m=v);break;case 18:if(2>z)return;r=q.L(1);if(48!=r){c.Bf&&c.Bf(g,w,r);q.shift(2);w.ob=0;w.Da=1;break}if(14>z)return;w.ra=4294967296*(q.c(10)>>>0)+(q.c(2)>>>0);w.data=new Uint8Array(w.ra);w.ka=0;w.V=0;w.Ba=b.a.A()-1E3;q.shift(14);m=p;break;case 17:if(14>z)return;g.da?(A=q.c(10),q.shift(14),m=e):(q.shift(10),m=v);break;default:b.a.log(3,"checkmessage, quit thread: process init command,unknown request type "+
w.ec);y();return}break;default:b.a.log(3,"checkmessage, quit thread: unknown command "+q.u(1));y();return}a()}}}function y(){h?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, quit"):(w.ob=0,h=!0,r(),w.v.terminate(),m=b.m.Y,b.m.I(p),e())}w.j=p;w.connected=!0;var h=!1;w.v=new Worker("worker/worker_timeout.js");w.v.onmessage=null;var v=!1,z=0,A=0;p.onclose=p.onerror=function(){if(q.length())if(v=!0,h)b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose,alt");
else{if(w.v.onmessage)return;z=0;A=b.a.A();var a=q.length();m();var d=q.length();if(d&&d!=a)return}h?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose"):(h=!0,r(),w.v.terminate(),m=b.m.Y,b.m.I(p),e())};p.onmessage=function(a){a=new H.a.g(a.data);q.D(a);h?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onmessage"):w.v.onmessage||(z=0,A=b.a.A(),m())};m=d;0!=q.length()&&(r(),z=0,A=b.a.A(),m());w.disconnect=function(){h?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, disconnect"):
(w.ob=0,h=!0,r(),w.v.terminate(),b.m.I(p),w.connected=!1,D())}},function(){e()});w.disconnect=function(){p&&p.disconnect();D()}};var y=F.Rk;y.prototype._thread_status=function(b){if("undefined"===typeof b)return this.Da;this.Da=b};y.prototype._cache_item=function(b){if("undefined"===typeof b)return this.jr;this.jr=b};y.prototype._progress=function(b){if("undefined"===typeof b)return this.ob;this.ob=b};y.prototype._buffer=function(b){if("undefined"===typeof b)return this.buffer;this.buffer=b};y.prototype._buffer_offset=
function(b){if("undefined"===typeof b)return this.jc;this.jc=b};y.prototype._buffer_pointer=function(b){if("undefined"===typeof b)return this.Ia;this.Ia=b};y.prototype._buffer_end=function(b){if("undefined"===typeof b)return this.Sb;this.Sb=b};y.prototype._buffer_busy=function(b){if("undefined"===typeof b)return this.rf;this.rf=b};y.prototype._data=function(b){if("undefined"===typeof b)return this.data;this.data=b};y.prototype._connected=function(){return this.connected};y.prototype._busy=function(){return!this.Da};
y.prototype._diskquota=function(){return this.Gh};y.prototype._diskusage=function(){return this.Hh};y.prototype._jn_bEnableWebOfficeEx=function(){return this.Hf};y.prototype._jn_bEnableJNRPassword=y.prototype.Tq=function(){return this.Ne};y.prototype._m_bToArchive=function(){return this.rm}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){return""+a.Gb+"."+a.Hb+"."+a.Fe+" built on 02/05/2019"}function F(){a.zd="";a.jm="";a.le="";a.F=b.b.R;a.GD=!1;a.We="";a.DF="";a.BD=!1;a.Qe=!1;a.qh={};a.va=a.Rc=a.eb=a.Wf=1E7;a.Se=0;a.Me=0;a.Uc=0;a.ED=!0;a.fe=-1;a.CD=!1;a.wd=!1;a.JD=!1;a.If=!1;a.js=!1;a.KD=!1;a.Pe=!1;a.ke=null;a.$f=0;a.Zf=0;a.he="";a.Fh=[]}function c(){this.Xc=0}function y(){this.fc="";this.fg=[];this.xa=0}function g(){}function q(){}function E(h,c){function v(e){h[e].Ac=null;h[e].Dd?b.a.log(["joinnet connecting to backup mcu ",
h[e].Z,",",h[e].ma,"..."].join("")):c&&0==e?b.a.log(["joinnet connecting to (switched) primary mcu ",h[e].Z,",",h[e].ma,"..."].join("")):b.a.log(["joinnet connecting to primary mcu ",h[e].Z,",",h[e].ma,"..."].join(""));h[e].Ed=new b.protocol.gm(a.Gb,a.Hb,a,h,e,function(){h[e].qd=!0;if(h[e].Ob)a:{var v;for(v=0;v<h.length;v++){if(!h[v].qd||!h[v].Ob)break a;var z=h[v].Ts;var x=h[v].Ob}y&&(clearTimeout(y),y=null);b.a.log("joinnet connecting to mcu fails");!z&&a.Pe?(d.Nc&&d.Nc(!1),a.oc=!1):a.sa?(b.a.log("using relay fails, clear relay setting and retry connect......"),
a.sa=!1,E(h,c)):(d.Ka&&d.wb(x),d.Wl&&d.Wl(),a.oc=!1)}else 0==e?(y&&(clearTimeout(y),y=null),m(0),q=0,new b.protocol.Re(a.Gb,a.Hb,h[0],h[0].Z,h[0].ma,p)):y||g()})}function g(){y=null;var d;for(d=0;d<h.length;d++)if(h[d].qd&&!h[d].Ob){m(d);q=d;new b.protocol.Re(a.Gb,a.Hb,h[d],h[d].Z,h[d].ma,p);break}}function m(b){var a;for(a=0;a<h.length;a++)h[a].Ac?(clearTimeout(h[a].Ac),h[a].Ac=null):h[a].qd?a==b||h[a].Ob||h[a].j.close():h[a].Ed&&h[a].Ed.disconnect&&h[a].Ed.disconnect()}function p(v){if(v)1<h.length?
(c=0,b.a.log(["connection to mcu ",h[q].Z,h[q].ma," fails during key exchange, but we'd like to try other entries"].join("")),h.splice(q,1),E(h,c)):(a.oc=!1,3==v?a.Pe&&(d.Nc?d.Nc(!1):d.Ka&&d.wb(b.b.tp)):2!=v&&a.Pe&&(d.Nc?d.Nc(!1):d.Ka&&d.wb(b.b.up)));else{v=q;a.ge=h[v].ge;a.ag=h[v].ag;a.yd=h[v].yd;a.cb=h[v].cb;a.Oe=h[v].Oe;a.xd=h[v].xd;a.Sc=h[v].Sc;a.sc=h[v].sc;a.Dh=h[v].Dh;var g=b.m.jg(a.sc);a.BF=g.mb;a.CF=g.Eb;g=b.m.jg(a.Dh);a.zF=g.mb;a.AF=g.Eb;a.Ye=h[v].Ye;a.Xe=h[v].Xe;a.bg=h[v].bg;a.jd=h[v].jd;
a.ea=h[v].ea;a.ba=h[v].ba;a.ed=h[v].ed;a.yc=h[v].yc;a.j=h[v].j;a.Gd=h[v].Gd;a.Z=h[v].Z;a.ma=h[v].ma;a.mm=h[v].Dd;b.a.log(["joinnet connected with mcu ",a.Z,",",a.ma].join(""));v=a.j;if(a.Oe){g=new r.a.g("4");v.send(g.i());a.F==b.b.R&&12==a.he.length&&(b.a.log("send reconnect name."),g.clear(),g.f(16),g.f(b.protocol.Sm),g.D(b.crypto.M(a.he,a.ea)),v.send(g.i()));a.Pe&&(a.ke&&(b.a.log("send reconnect ticket."),g.clear(),g.f(4+a.Aq),g.f(b.protocol.Tm),g.D(b.crypto.M(a.ke.u(),a.ea)),v.send(g.i())),a.F===
b.b.R&&(a.$f||a.Zf)&&(b.a.log("send meeting identity info: meeting_type="+a.$f+",random_id="+a.Zf),g.clear(),g.f(12),g.f(b.protocol.Qm),g.f(a.$f),g.f(a.Zf),v.send(g.i())));a.fm&&(b.a.log("send make recording request."),g.clear(),g.f(4),g.f(b.protocol.Pm),v.send(g.i()));a.sa&&(g.clear(),4==a.ca.Jb.length?(g.f(12),g.f(b.protocol.Um),g.Bm(a.ca.Jb)):(g.f(24),g.f(b.protocol.ji),g.K(a.ca.Jb)),g.f(a.ca.port),v.send(g.i()));if(a.gi&&a.Z.length){var m=b.a.qb(a.Z);var p=m.length;g.clear();g.f(4+p);g.f(b.protocol.ii);
g.K(m);v.send(g.i())}g.clear();g.f(7);g.f(b.protocol.mf);g.K("WEB");v.send(g.i());b.m.ah&&(g.clear(),g.f(10),g.f(b.protocol.mf),g.K("NCHOME"),v.send(g.i()));b.m.vendor&&20>=b.m.vendor.length&&(g.clear(),g.f(4+b.m.vendor.length),g.f(b.protocol.ki),g.K(b.m.vendor),v.send(g.i()));a.le&&(m=a.le,p=m.length,g.clear(),g.f(4+p),g.f(b.protocol.Rm),g.K(m),v.send(g.i()),b.a.oe("send player_name "+a.le+" to mcu"));g.clear();g.f(0);v.send(g.i())}a.If?(g=new r.a.g("3"),g.ig(a.We),p=0,a.rh=a.Lc,a.sh=a.vd,a.Lc&&
(p|=1),a.vd&&(p|=2),a.Mc=!1,p|=8,a.qc&&(p|=16),p|=32,d.Oc()?a.Yf=0:(a.Yf=1,p|=64),g.o(p)):(g=a.F!=b.b.R?15==a.bb?new r.a.g("4"):5==a.bb&&a.cg?new r.a.g("5"):new r.a.g("1"):4==a.bb&&a.je?new r.a.g("6"):new r.a.g("0"),15==a.bb?(g.ig(a.We),g.ig(a.jm)):a.F!=b.b.R?(m=b.a.qb(a.Ma),p=m.length,g.f(p),p&&g.D(b.crypto.M(m,a.ea)),a.wd&&(p=b.crypto.ad(a.bc),g.f(20),g.D(b.crypto.M(p,a.ea)),5==a.bb&&a.cg&&(m=b.a.qb(a.cg),p=m.length,g.f(p),p&&g.D(b.crypto.M(m,a.ea))))):(g.o(0),m=b.a.qb(a.Ma),p=m.length,g.f(p),p&&
g.D(b.crypto.M(m,a.ea)),a.wd&&(95==a.Ma.charCodeAt(0)?-2!=a.ge?(p=a.Ve.length,g.f(p),p&&g.D(b.crypto.M(a.Ve,a.ea)),b.a.oe("**, Guest name is "+a.Ve+" (utf branch)")):(p=a.Ue.length,g.f(p),p&&g.D(b.crypto.M(a.Ue,a.ea)),b.a.oe("**, Guest name is "+a.Ue+" (multibyte branch)")):(p=b.crypto.ad(a.bc),g.f(20),g.D(b.crypto.M(p,a.ea)))),p=0,a.rh=a.Lc,a.sh=a.vd,a.Lc&&(p|=1),a.vd&&(p|=2),a.Mc=!1,p|=8,a.qc&&(p|=16),p|=32,d.Oc()?a.Yf=0:(a.Yf=1,p|=64),g.o(p),a.wd&&4==a.bb&&a.je&&(m=b.a.qb(a.je),p=m.length,g.f(p),
p&&g.D(b.crypto.M(m,a.ea)))));v.send(g.i());e()}}var q,w;d.Ka&&d.Ka(b.b.op);for(w=0;w<h.length;w++)h[w].Ac=setTimeout(v,500*w,w),h[w].Ob=b.b.Lg;var y=setTimeout(g,5E3);a.disconnect=function(){m(-1);a.oc=!1}}function e(){function h(){fa=null;var f=b.a.A()-a.ee>>>0,l=f;f&2147483648&&(l=-f>>>0);var c=l/1E3/60>>>0;l-=6E4*c;var e=c/60>>>0;c=("0000"+(c-60*e)).slice(-2);f&2147483648?c=["-",e,":",c].join(""):(c=["",e,":",c].join(""),l=6E4-l);!(f&2147483648||a.fe&2147483648)&&0<a.fe&&864E3>a.fe&&(f=(a.fe+
59)/60>>>0,e=f/60>>>0,c+=" / "+e+":"+("0000"+(f-60*e)).slice(-2));a.vr=c;d.$l&&d.$l();fa=setTimeout(h,l+200)}function e(){z();la=setTimeout(function(){la=null;if(!a.C||a.oc)ja=0,e();else if(ja++,3<=ja)b.a.log("disconnect, local timeout"),J();else{var f=new r.a.g;f.o(a.xg);f.K("0");Q.send(f.i());e()}},2E4)}function z(){null!=la&&(clearTimeout(la),la=null)}function B(){a.v.onmessage&&(a.v.onmessage=null,a.v.postMessage({command:"clear"}))}function G(f){if(l.length()){var d=b.a.A()-pa;20<d||9<=ka?(500<
d&&b.a.log("info, jnkernel handler("+f+") depth="+ka+",use "+d+"ms"),a.v.onmessage||(a.v.onmessage=function(){a.v.onmessage=null;F()},a.v.postMessage({command:"set"}))):(ka++,ha())}}function E(){if(a.Jd||a.kf)b.a.log(a.Jd?"disconnect, remote close":"disconnect, error"),J()}function F(){var a=l.length();if(a){ka=0;pa=b.a.A();ha();var f=l.length();f&&f!=a||E()}else E()}function I(){L=new r.a.g(l);var h=l.L(0);switch(h){case a.N:if(!(5>l.length()))if(h=l.c(1),0<=h&&h<=a.Fp)ua[h]();else b.a.log(["disconnect, unknown command extension[",
h,"]"].join("")),J();break;case a.Kd:C();break;case a.bn:5>l.length()||(x(-2,l.c(1)),l.shift(5),M=L,G("COMMAND_FLIP"));break;case a.yg:5>l.length()||(h=l.c(1),a.za=h,a.F==b.b.R&&a.Uc&&d.Kb(0),h!=a.G?a.Ja&&(a.Ja=!1):(a.vb=!1,a.Ja||(d.$b&&d.$b(),a.Ja=!0)),b.a.log(["data sender change to ",h,"; internal ",a.ua,",",a.za,"; ",a.qa,",",a.Ja].join("")),d.Of&&d.Of(h),l.shift(5),M=L,G("COMMAND_DATA_SENDER"));break;case a.xg:2>l.length()||(48==l.L(1)&&(h=new r.a.g,h.o(a.xg),h.K("1"),a.j.send(h.i())),l.shift(2),
M=L,G("COMMAND_ALIVE_PACKET"));break;case a.Dg:if(!(5>l.length())){h=l.c(1);var c=a.ua,e=a.za;!(0<=c)||a.U[c]&&a.U[c].Ie||(c=-1);!(0<=e)||a.U[e]&&a.U[e].Ie||(e=-1);var g=d.ic();a.ua=h;a.za=h;a.vb=!1;a.F==b.b.R&&a.Uc&&d.Kb(0);var v=d.ic();h==a.G&&-1!=a.G?a.qa||(d.$b&&d.$b(),a.qa=!0,a.Ja=!0,a.uh(g,v)):h!=a.G&&(d.ce&&d.ce(-1),a.qa=!1,a.Ja=!1);b.a.log(["token holder change to ",h,"; internal ",a.ua,",",a.za,"; ",a.qa,",",a.Ja].join(""));d.sl&&d.sl(h,c,e);d.Of&&d.Of(h);l.shift(5);M=L;G("COMMAND_TOKEN_UPDATE")}break;
case a.gn:t();break;case a.bd:if(!(5>l.length()))if(h=l.c(1),0<=h&&h<=a.yq)ta[h]();else b.a.log(["disconnect, unknown playback command [",h,"]"].join("")),J();break;case a.wi:a:if(h=l.length(),!(5>h)){c=l.c(1);if(1==c)d.Fl&&d.Fl(),l.shift(5);else if(2==c){if(13>h)break a;d.Xk&&d.Xk(l.c(5),l.c(9));l.shift(13)}else{b.a.log(["disconnect, unknown tutor command ",c].join(""));J();break a}M=L;G("COMMAND_TUTOR")}break;case a.en:P();break;case a.Ym:f(0);break;case a.ni:5>l.length()||(h=l.c(1),0<=h&&h<a.aa.length&&
(a.aa[h].Ze=!0,a.aa[h].data&&(a.wa-=a.aa[h].data.length,a.aa[h].data=null),d.Ql&&d.Ql(h)),l.shift(5),M=L,G("COMMAND_DELETE_SLIDE"));break;case a.mi:5>l.length()||(h=l.c(1),0<=h&&h<a.aa.length&&(a.aa[h].fg=[],d.de&&d.de(1,h)),l.shift(5),M=L,G("COMMAND_CLEAR_MARK"));break;case a.$m:5>l.length()||(h=l.c(1),d.Ll&&d.Ll(h),l.shift(5),M=L,G("COMMAND_DEFAULT_VIDEO_COMMAND"));break;case a.Kn:a.Zb=!0;l.shift(1);M=L;G("COMMAND_TOKEN_OWNER_NOTIFY");break;case a.ui:a.vb&&(a.vb=!1,d.ks());l.shift(1);M=L;G("COMMAND_SKIP_QUESTION");
break;case a.oi:b.a.log("quitsession: user is disconnected by owner");D();d.Ka&&d.wb(b.b.sp);l.shift(1);M=L;G("COMMAND_DISCONNECT");break;case a.zn:c=l.length();9>c||(h=l.c(5),0>h||600<=h?(b.a.log("disconnect, COMMAND_QUESTION_REQUEST invalid len"),J()):c<9+h||(c=l.c(1),c!=a.za&&a.G==d.Ge()&&d.Yk&&d.Yk(c),l.shift(9+h),M=L,G("COMMAND_QUESTION_REQUEST")));break;case a.Dn:n();break;case a.Mn:N();break;case a.ti:b.a.log("quitsession: meeting is over");D();a.Ch&&d.be&&d.be(a.Ch,"",-1);d.Ka&&d.wb(b.b.xp);
l.shift(1);M=L;G("COMMAND_SESSION_END");break;default:b.a.log(["disconnect, unknown command[",h,"/0x",h.toString(16),"]"].join("")),J()}}function H(){var b=l.length();if(!(9>b)){var f=l.c(1);if(f==a.nn||f==a.mn){if(21>b)return;l.shift(21)}else l.shift(9);M=L;G("Command_MulticastStartAddrEx,"+f)}}function P(){var f;var c=l.length();if(!(2>c)){var e=f=l.L(1);if(48==f){if(a.F!=b.b.Zo&&a.F!=b.b.Eq){if(a.F==b.b.R){if(102>c)return;a.G=l.c(2);a.ta=l.c(6);b.a.log(["my ssrc is ",a.G,", session_index is ",
a.ta].join(""));a.eb=l.c(10);a.eb>b.b.dj&&(a.eb=b.b.dj);1E4>a.eb&&(a.eb=1E4);b.a.log(["max bandwidth is ",a.eb].join(""));a.va=a.eb;d.Rf&&d.Rf();d.Kb(0);c=l.c(98);f=b.crypto.w(l.h(38,20),a.ea);e=b.crypto.w(l.h(58,40),a.ea);a.Hm={ja:f.u(),key:e.u()};a.ba=b.crypto.Xg(a.jd,a.Hm);a.ee=b.a.A()-(c>>>0)>>>0;c=(new r.a.g(r.random.ya(4))).Pb();b.a.log(["statistics log anchor ",c].join(""));a.Ca(["==================== ",c," ====================\n\n\n"].join(""));a.Ca(["connected with mcu ",a.Z,",",a.ma].join(""));
a.Ca(["info: meeting session,ssrc=",a.G,",session_index=",a.ta].join(""));c=new r.a.g;c.f(0);c.f(a.G);c.f(a.ta);c.K(a.yc.key);c.K(a.yc.ja);a.ke=c;l.shift(102)}else{if(18>c)return;a.G=-1;a.Xf=l.c(2);a.ta=l.c(6);a.eb=0;c=new r.a.g;c.f(1);c.f(a.Xf);c.f(a.ta);c.K(a.yc.key);c.K(a.yc.ja);a.ke=c;l.shift(18)}a.hF=a.ta;a:{c="hmtg_joinnet_mcu_usage_"+a.Z;f=Date.now();if("undefined"!=typeof b.a.localStorage[c]&&(e=b.a.Yc(b.a.localStorage[c]),"undefined"!==e&&f>e&&108E6>f-e))break a;b.a.localStorage[c]=JSON.stringify(f);
c="homemeeting.com/serverinfo/?version="+a.Gb;c=c+"."+a.Hb;c=c+"."+a.Fe;c=a.If?c+"&type=thirdparty":a.wd?c+"&type=weboffice":c+"&type=wan";c+="&codetype="+a.bb;c+="&mcu_version_string="+a.sc;c+="&mcu_serial="+a.Ye;c+="&mcu_licensesource="+a.Xe;c+="&mcu="+a.Z+","+a.ma;a.eb&&(c+="&bandwidth="+a.eb);c+="&primary_mcu="+(a.mm?"0":"1");c=c+"&sig=web"+("&appurl="+window.location.protocol+"//"+window.location.host+window.location.pathname);b.m.wm(c)}a.F==b.b.R&&a.sa&&(a.Jc&&(a.Jc.disconnect(),a.Jc=null),
a.Jc=new b.protocol.Jc(a));a.DD=!0;a.C=!0;a.oc=!1;a.La=-1;a.ua=-1;a.za=-1;a.xb=-1;a.Te=0;a.Qe=!1;a.oh();a.F==b.b.R&&h();d.$b&&d.$b();d.Ka&&d.Ka(b.b.pp);a.wd&&a.F==b.b.R&&a.Ma&&1<=a.Ma.length&&95!=a.Ma.charCodeAt(0)&&(a.js=!0)}M=L;G("COMMAND_INITIAL_INFO")}else{f==b.b.jp&&a.F==b.b.R&&a.he&&d.be&&d.be(a.he,"",-1);if(f>b.b.lp||f<b.b.hp)b.a.log("disconnect, COMMAND_INITIAL_INFO return unknown error: "+f),f=b.b.Lg;else if(f==b.b.$o)a.F!=b.b.R?f=b.b.wp:f=b.b.qf+f-256;else{if(f==b.b.Ti){if(10>c)return;f=
l.c(2);c=l.c(6);d.Kf&&d.Kf(b.b.Ti,f,c);O();d.jb&&d.jb();return}if(f==b.b.Si){if(10>c)return;f=l.c(2);c=l.c(6);d.Kf&&d.Kf(b.b.Si,f,c);O();d.jb&&d.jb();return}if(f==b.b.Ui){if(f=b.b.qf+f-256,4==a.bb||5==a.bb)a.bc=a.Vc=""}else f=b.b.qf+f-256}e!=b.b.kp&&d.Ka&&d.wb(f);O();d.jb&&d.jb()}}}function C(){var f;var h=l.length();if(!(2>h)){var c=new g,e=l.L(1);if(e==b.b.Cp||e==b.b.Mg){var v=(f=e==b.b.Mg)?8:0;if(26>h)return;var t=l.c(22);if(0>t){b.a.log("disconnect, COMMAND_MARK.stroke invalid size");J();return}if(h<
26+8*t+v)return;c.qm=l.c(2);c.V=l.c(6);c.Ga=l.c(10);c.ym=l.c(14);c.ut=l.c(18);c.Xc=m(c.Ga);c.Fc=e;c.Oj=new Int32Array(t);c.Rj=new Int32Array(t);for(h=0;h<t;h++)c.Oj[h]=l.c(26+8*h),c.Rj[h]=l.c(8*h+30);f?(c.pb=l.c(26+8*t),c.od=l.c(8*t+30),c.rd=c.xf=0):c.pb=100;l.shift(26+8*t+v)}else if(e==b.b.Dp||e==b.b.Ng){v=(f=e==b.b.Ng)?8:0;if(38>h)return;t=l.c(34);if(0>t||2048<t){b.a.log("disconnect, COMMAND_MARK.text invalid length");J();return}if(h<38+t+v)return;c.qm=l.c(2);c.V=l.c(6);c.Ga=l.c(10);c.ym=l.c(14);
c.Nm=l.c(18);c.Xo=l.c(22);c.Om=l.c(26);c.Mm=l.c(30);c.Xc=m(c.Ga);c.Fc=e;c.mp=b.crypto.w(l.h(38,t),a.ba).u();f?(c.pb=l.c(38+t),c.od=l.c(38+t+4),c.rd=c.xf=0):c.pb=100;l.shift(38+t+v)}else if(e==b.b.cj){if(34>h)return;t=l.c(30);if(0>t){b.a.log("disconnect, COMMAND_MARK.move invalid size");J();return}if(h<34+4*t)return;c.V=l.c(2);c.Ga=l.c(6);c.rd=l.c(10);c.xf=l.c(14);c.vt=l.c(18);c.pb=l.c(22);c.od=l.c(26);c.Xc=m(c.Ga);c.Fc=e;c.nm=new Int32Array(t);for(h=0;h<t;h++)c.nm[h]=l.c(34+4*h);l.shift(34+4*t)}else if(e==
b.b.bj){if(30>h)return;t=l.c(26);if(0>t){b.a.log("disconnect, COMMAND_MARK.customized invalid size");J();return}if(h<30+t+4)return;c.V=l.c(2);c.Ga=l.c(6);c.rd=l.c(10);c.xf=l.c(14);c.pb=l.c(18);c.jt=l.c(22);c.px=t;c.Xc=m(c.Ga);c.Fc=e;c.xt=l.h(30,t);c.od=l.c(30+t);l.shift(30+t+4)}else{b.a.log("disconnect, COMMAND_MARK invalid mark type");J();return}0<=c.V&&c.V<a.aa.length&&(a.aa[c.V].fg.push(c),d.de&&d.de(0,c.V,c));M=L;G("COMMAND_MARK")}}function N(){var f=l.length();if(!(2>f)){var h=l.L(1);if(65==
h||97==h){if(11>f)return;var e=l.c(7);if(0>e||128<=e){b.a.log("disconnect, COMMAND_USER_UPDATE invalid userid length");J();return}if(f<11+e+4)return;var t=l.c(11+e);if(0>t||128<=t){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username length");J();return}if(f<11+e+4+t+4)return;var v=l.c(11+e+4+t);if(0>v||128<=v){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username(2) length");J();return}var g=!1;97==h&&(g=!0);if(f<11+e+4+t+4+v+(g?8:0))return;f=l.c(3);0<=f&&f<b.b.Ha&&(h=new c,h.hd=l.L(2),
h.od=f,h.rd=l.h(11,e),h.ci=l.h(11+e+4,t),h.Ie=!0,h.V=0,h.pb=0,g&&(h.V=l.c(11+e+4+t+4+v),h.pb=l.c(11+e+4+t+4+v+4)),h.tm=0,h.um=0,h.Xc=0,h.Jh=0,h.eg=0,h.Kh=new Uint8Array(250),h.af=null,h.Fc=0,a.U[f]=h,d.$b&&d.$b(),d.al&&d.al(f));l.shift(11+e+4+t+4+v+(g?8:0))}else if(68==h||100==h){if(6>f)return;f=l.c(2);0<=f&&f<b.b.Ha&&(a.U[f]&&(a.U[f].Ie=!1,a.U[f].af=null),d.hl&&d.hl(f,100==h));l.shift(6)}else{b.a.log("disconnect, COMMAND_USER_UPDATE invalid type");J();return}M=L;G("COMMAND_USER_UPDATE")}}function x(b,
f){-1!=a.Lb&&d.Cb&&d.Cb(1,a.Lb);a.Lb=f;a.G!=d.ic()&&(-1!=a.Lb&&d.Cb&&d.Cb(2,a.Lb),a.G!=b&&d.Cb&&d.Cb(0,a.Lb))}function n(){var f=l.length();if(!(9>f)){var c=l.c(5),h=0;var e=0;if(-1==c){if(13>f)return;e=l.c(9);if(0>=e||4E3<e){b.a.log("disconnect, COMMAND_SLIDE_INFO invalid property len");J();return}if(f<13+e+4)return;c=l.c(13+e);h=4+e+4}if(0>c||c>b.b.gj)b.a.log("disconnect, COMMAND_SLIDE_INFO invalid name len"),J();else if(!(f<9+h+c+4)){f=new y;f.Ga=l.c(1);f.Db=l.h(9+h,c);f.Ze=l.c(9+h+c);if(h)for(f.cc=
b.crypto.w(l.h(13,e),a.ba),f.Cd=f.cc.u(),e=0;e<f.cc.length();e++)if(!f.cc.L(e)){f.Cd=f.cc.h(0,e);f.fc=f.cc.h(e+1);var t;for(t=e+1;t<f.cc.length();t++)if(!f.cc.L(t)){f.fc=f.cc.h(e+1,t-(e+1));break}break}f.fc||(f.fc=b.m.at(f.Db));b.a.endsWith(f.Db,"blank page")&&(f.kh=!0,f.xa=1);f.V&&(f.Db=b.a.Zg("[Deleted]"+b.a.Ab(f.Db),b.b.gj));a.ds(f,a.aa.length);f.index=a.aa.length;a.aa.push(f);t=d.ic();a.F==b.b.R&&-1!=t&&t!=a.G&&f.index==a.Lb&&1==f.xa&&(e=new r.a.g,e.o(a.N),e.f(a.Cg),e.f(1),e.f(f.index),e.f(t),
e.f(b.b.nj),a.j.send(e.i()));f.Mh=0;if(f.cc)for(e=a.aa.length-2;0<=e;e--){var v=a.aa[e];if(v.Cd==f.Cd&&v.cc&&v.fc==f.fc&&v.Ga==f.Ga){f.Mh=v.Mh+1;break}}d.Zk&&d.Zk(f);!a.sa||a.F!=b.b.R||f.Ze||f.kh||f.sm||(e=new r.a.g,e.o(a.N),e.f(a.zg),e.f(1),e.f(f.index),a.j.send(e.i()));a.G!=t&&a.F==b.b.R||-1!=(d.Mf?d.Mf():-1)||(f=a.Gj(),a.Lb=f,d.Cb&&d.Cb(0,f),a.F==b.b.R&&d.vh(f));l.shift(9+h+c+4);M=L;G("COMMAND_SLIDE_INFO")}}}function f(f){var c=f?4:0,h=f?8:0;2==f&&(h+=12);var e=l.length();if(!(e<9+c)){var t=l.c(1+
c);if(0>t||2048<=t)b.a.log("disconnect, Command_ChatText invalid len"),J();else if(!(e<9+t+h)){e=l.c(5+c);c=b.crypto.w(l.h(9+c,t),a.ba).u();if(d.Aa){var v;b.$.Wq()==b.b.R&&(v=b.a.A()-a.ee>>0);if(f){var g=l.c(13+t);if(2==f){v=l.c(17+t);var n=b.a.mr(l.c(25+t),l.c(21+t))}d.Aa(g,-1,e,c,m(g),v,n)}else d.Aa(-1,-1,e,c,0,v)}l.shift(9+t+h);M=L;G("ChatText,"+f)}}}function t(){var a=l.L(0);b.a.log(["not support command[",a,"/0x",a.toString(16),"]"].join(""));J()}function O(){z();null!=T&&(clearTimeout(T),T=
null);B();a.v.terminate();fa&&(clearTimeout(fa),fa=null);a.Sa&&(a.Sa.disconnect(),a.Sa=null);a.Ic&&(a.Ic.disconnect(),a.Ic=null);a.Jc&&(a.Jc.disconnect(),a.Jc=null);a.Pa&&(a.Pa.disconnect(),a.Pa=null);a.zc&&(a.zc.disconnect(),a.zc=null);a.$c&&(a.$c.disconnect(),a.$c=null);ha=b.m.Y;b.m.I(Q);a.C=!1;a.qa=!1;a.Zb=!1;a.Ja=!1;a.vb=!1;a.La=-1;a.ua=-1;a.za=-1;a.xb=-1;a.Te=0;a.oc=!1;a.Qe=!1;a.qh={};a.Qc=0}function J(){b.m.om(M,l);O();d.jb&&d.jb();d.Nc&&d.Nc(!0)}var Q=a.j;a.Jd=a.kf=!1;var l=a.Gd,L=new r.a.g,
M=new r.a.g,la=null;a.v=new Worker("worker/worker_timeout.js");a.v.onmessage=null;var ha=b.m.Y,ja=0,ka=0,pa=0,T=null,fa=null,ua=[function(){if(!(9>l.length())){a.xh=l.c(5);if(a.F==b.b.R){w();var f=new r.a.g;f.o(a.N);f.f(a.si);f.f(a.ae?1:0);a.j.send(f.i());a.sa&&(f=new r.a.g,f.o(a.N),f.f(a.zg),4==a.ca.Jb.length?(f.f(2),f.Bm(a.ca.Jb)):(f.f(3),f.K(a.ca.Jb)),f.ft(),f.Fd(a.ca.port),f.f(a.Sc),a.j.send(f.i()))}else a.F==b.b.Fa&&(w(),f=new r.a.g,f.o(a.bd),f.f(10),f.f(a.ae?1:0),a.j.send(f.i()));l.shift(9);
M=L;G("COMMAND_EXTENSION_MAX_SUPPORT")}},function(){if(!(9>l.length())){var b=l.c(5);d.cl&&d.cl(b);l.shift(9);M=L;G("COMMAND_END_QUESTION_REQUEST_EX")}},function(){if(!(17>l.length())){var b=l.c(5),f=l.c(9),c=l.c(13);if(0<=f&&f<a.aa.length){var h=a.aa[f].fg;h&&0<=c&&c<h.length&&h[c].Ga==b&&(b=h[c],h.splice(c,1),d.de&&d.de(2,f,b))}l.shift(17);M=L;G("COMMAND_UNDO_MARK_EX")}},t,t,function(){l.shift(5);M=L;G("COMMAND_PROLONG_MEETING_EX")},function(){if(!(6>l.length())){var b=l.L(5);0==b?d.Pc&&d.Pc(a.Bh,
1):1==b?d.Sf&&d.Sf(a.Bh):2==b&&d.Pc&&d.Pc(a.Bh,2);l.shift(6);M=L;G("COMMAND_WAIT_MESSAGE_EX")}},function(){var a=l.length();if(!(9>a)){var f=l.c(5);if(0>f||1E3<=f)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len1"),J();else if(!(a<9+f+4)){var c=l.c(9+f);if(0>c||128<=c)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len2"),J();else if(!(a<9+f+4+c)){a=l.h(9,f);var h=l.h(9+f+4,c);d.ll&&d.ll(a,h);l.shift(9+f+4+c);M=L;G("COMMAND_SHADOW_JOIN_REQUEST_EX")}}}},t,t,H,function(){9>
l.length()||(a.fe=l.c(5)>>>0,fa&&clearTimeout(fa),fa=setTimeout(h,0),l.shift(9),M=L,G("COMMAND_FULL_DURATION_EX"))},function(){var b=new r.a.g("Q");b.f(a.G);b.f(3);b.K("Yes");a.j.send(b.i());a.qa||a.vb||a.pc||a.Ja||(a.vb=!0);l.shift(5);M=L;G("COMMAND_FORCE_ASK_QUESTION_EX")},function(){9>l.length()||(l.shift(9),M=L,G("COMMAND_RATE_CONTROL_EX"))},function(){b.a.log("quitsession: user is overwritten by another connection");D();d.Ka&&d.wb(b.b.Bp);l.shift(1);M=L;G("COMMAND_USER_OVERWRITE_EX")},t,t,t,
t,t,function(){if(!(13>l.length())){var a=l.c(9);if(0>a||a>b.b.hj)b.a.log("disconnect, COMMAND_JTBROWSING_EX invalid url len"),J();else{for(var f=l.c(5),c=l.h(13,a),h=0;h<c.length;h++)if(0===c.charCodeAt(h)){c=c.slice(0,h);break}d.ml&&d.ml(f,c);l.shift(13+a);M=L;G("COMMAND_JTBROWSING_EX")}}},function(){9>l.length()||(l.shift(9),M=L,G("COMMAND_TCPMEDIA_EX"))},function(){if(!(9>l.length())){var b=l.c(5);d.nl&&d.nl(b);l.shift(9);M=L;G("COMMAND_JTBROWSING_MODE_EX")}},function(){if(!(33>l.length())){var b=
l.c(5);var a=l.c(9);var f=l.c(13);var c=l.c(17);var h=l.c(21);var e=l.c(25);var t=l.c(29);d.Lf&&d.Lf(b,a,f,c,h,e,t);l.shift(33);M=L;G("COMMAND_FOCUS_POINTER_EX")}},t,function(){if(!(10>l.length())){var b=l.L(5),a=l.c(6);if(0>a||128<=a)J();else{var f=l.h(10,a);0==b?d.Pc&&d.Pc(f,1):1==b?d.Sf&&d.Sf(f):2==b&&d.Pc&&d.Pc(f,2);l.shift(10+a);M=L;G("COMMAND_WAIT_MESSAGE_2_EX")}}},function(){if(!(6>l.length())){var f=l.L(5);1==f?(f=a.F,a.F=b.b.Fa,a.sa?(b.a.log("Warning: mcu relay doesn't support playback, quit this session now..."),
J()):(f!=b.b.Fa&&d.el&&d.el(),l.shift(6),M=L,G("COMMAND_THIRDPARTY_MODE_EX"))):3==f?(d.Ka&&d.wb(b.b.rp),O(),d.jb&&d.jb()):4==f?(d.Ka&&d.wb(b.b.qp),O(),d.jb&&d.jb()):(b.a.log("disconnect, COMMAND_THIRDPARTY_MODE_EX invalid mode"),J())}},t,function(){9>l.length()||(0==l.c(5)?(b.a.log("prompt the user for sharejnr or thirdparty password"),d.Qf&&d.Qf(15==a.bb?1:0),l.shift(9),M=L,G("COMMAND_USERINFO2_DIRECTAUTH_EX")):(b.a.log("disconnect, COMMAND_USERINFO2_DIRECTAUTH_EX invalid auth type"),J()))},function(){var f=
l.length();if(!(9>f)){var c=l.c(5);if(0==c){if(13>f)return;a.fe=l.c(9)>>>0;fa&&clearTimeout(fa);fa=setTimeout(h,0)}d.Ka&&d.wb(c?b.b.zp:b.b.Ap);l.shift(0==c?13:9);M=L;G("COMMAND_PREPARATIONMODE_EX")}},function(){9>l.length()||(d.Ka&&d.wb(b.b.yp),l.shift(9),M=L,G("COMMAND_TERMINATION_WARNING_EX"))},t,function(){9>l.length()||(a.cm=l.c(5),d.Hl&&d.Hl(),l.shift(9),M=L,G("COMMAND_RECORDING_STATUS_EX"))},function(){if(!(13>l.length())){var f=l.c(5),c=l.c(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].tm=c,d.Tl&&d.Tl(f));
l.shift(13);M=L;G("COMMAND_VIDEOSENDING_STATUS_EX")}},function(){d.Ka&&d.wb(b.b.vp);l.shift(5);M=L;G("COMMAND_UNKNOWN_RECORDING_EX")},function(){var f=l.length();if(!(17>f)){var c=l.c(5);if(1==c){if(21>f)return;c=l.c(9);var h=l.c(13);f=l.c(17);0<=h&&h<b.b.Ha&&d.Gl&&d.Gl(h,c,f);l.shift(21)}else if(0==c){c=l.c(9);h=l.c(13);f=0>c||c>=a.aa.length?b.b.Dq:1==a.aa[c].xa?b.b.nj:0==a.aa[c].xa&&a.Pa&&a.Pa.index==c?b.b.Bq:b.b.Cq;var e=new r.a.g;e.o(a.N);e.f(a.Cg);e.f(1);e.f(c);e.f(h);e.f(f);a.j.send(e.i());
l.shift(17)}else{b.a.log("disconnect, COMMAND_POLL_SLIDEDOWNLOAD_EX invalid command");J();return}M=L;G("COMMAND_POLL_SLIDEDOWNLOAD_EX")}},t,function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(c==a.rq){if(17>f)return;a.Vf=l.c(9);a.Tc=l.c(13);b.a.log(["Participant Channnel, video ",a.Vf,", audio ",a.Tc].join(""));a.Tc=Math.min(a.Tc,b.b.dd);a.Vf=Math.min(a.Vf,b.b.Qb);l.shift(17)}else if(c==a.mq){if(13>f)return;a.Gf=l.c(9);b.a.log(["discussion mode is now ",a.Gf].join(""));l.shift(13)}else if(c==a.mj||
c==a.wq)if(a.F==b.b.Fa){if(17>f)return;l.shift(17)}else a.th=c==a.mj?!0:!1,l.shift(9);else if(c==a.vq){if(21>f)return;var h=l.c(9);f=l.c(13);c=l.c(17);-1!=f&&c==b.b.pq&&(0>f||f>=b.b.Qb||(a.kb[f]=h));l.shift(21)}else if(c==a.sq||c==a.xq){if(17>f)return;f=l.c(13);0>f||f>=b.b.Qb||(a.kb[f]=-1);l.shift(17)}else if(c==a.De||c==a.oq){if(17>f)return;h=l.c(9);f=l.c(13);0>f||f>=b.b.dd||(c==a.De?b.a.log("user "+h+" becomes a speaker at channel "+f):b.a.log("speaker channel "+f+" is reset"),a.ac[f]=c==a.De?h:
-1,a.F==b.b.R&&a.Uc&&d.Kb(0),h==a.G&&-1!=a.G&&(a.pc=c==a.De,a.pc&&(a.vb=!1)),d.tl&&d.tl(h,c==a.De,f));l.shift(17)}else if(c==a.tq){if(17>f)return;if(l.c(13)){if(21>f)return;h=l.c(17);if(0>h||h>b.b.Ha){b.a.log("disconnect, PARTICIPANT_VIDEO_QUERY_VIEWER invalid count");J();return}if(f<21+h)return;l.shift(21+h)}else l.shift(17)}else{b.a.log("disconnect, COMMAND_PARTICIPANT_VIDEO_EX invalid command");J();return}M=L;G("COMMAND_PARTICIPANT_VIDEO_EX")}},function(){var a=l.length();if(!(9>a)){var f=l.c(5);
if(1==f)d.Ol&&d.Ol(),l.shift(9);else if(2==f){if(17>a)return;d.$k&&d.$k(l.c(9),l.c(13));l.shift(17)}else{b.a.log(["disconnect, unknown poll command ",f].join(""));J();return}M=L;G("COMMAND_TOKEN_HOLDER_POLL_EX")}},function(){var f=l.length();if(!(9>f)){var c=l.c(5);1==c?(b.a.log("JoinNet is set to use mcu relay, however the MCU doesn't accept mcu relay"),l.shift(9),a.nh.port=0,setTimeout(function(){d.os();d.ss()},0)):2==c?33>f||(f=l.c(9),0<=f&&f<a.aa.length&&(a.aa[f].hash=l.h(13,20),a.aa[f].sm=!0),
l.shift(33),M=L,G("COMMAND_MCU_RELAY_EX")):(b.a.log("disconnect, COMMAND_MCU_RELAY_EX invalid command"),J())}},function(){if(!(9>l.length())){a.yd=b.crypto.w(l.h(5,4),a.ea).c(0)>>>0;var f=a.cb;a.cb=b.a.A()-a.yd;(5E3<f-a.cb||-5E3>f-a.cb)&&b.a.log(["got mcu clock sync - server tick = ",a.yd," diff = ",a.cb].join(""));l.shift(9);M=L;G("COMMAND_SYNC_CLOCK_EX")}},t,t,t,function(){var f=l.length();if(!(21>f)){if(1==l.c(13)){if(25>f)return;var c=l.c(17);if(0>c||2048<=c){b.a.log("disconnect, COMMAND_PRIVATE_CHAT_TEXT_EX invalid len");
J();return}if(f<25+c)return;f=b.crypto.w(l.h(25,c),a.ba).u();var h=f.indexOf("__command: dummypassword ");-1!=h&&(f=f.slice(0,h+25)+"*");var e=l.c(5);h=l.c(9);var t=l.c(21),v=b.a.A()-a.ee>>0;d.Aa&&d.Aa(e,h,t,f,m(e),v);l.shift(25+c)}else l.shift(21);M=L;G("COMMAND_PRIVATE_CHAT_TEXT_EX")}},function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(c==a.un){if(13>f)return;a.vs=l.c(9);l.shift(13)}else if(c==a.tn){if(57>f)return;c=l.c(29);if(0>c||c>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");
J();return}a.P[c]=a.P[c]||new q;a.P[c].active=1;a.P[c].aC=0;a.P[c].type=l.c(9);a.P[c].PF=l.c(21);a.P[c].Hr=l.h(37,4)+l.h(43,2)+l.h(47,2)+l.h(49,8);a.P[c].Nj=b.a.kr(a.P[c].Hr);a.P[c].it=l.c(33);a.P[c].zm=l.c(25);a.P[c].kd=l.c(13);a.P[c].xj=l.c(17)>>>0;a.P[c].VF=0;a.P[c].Lm=null;a.P[c].Ba=b.a.A();a.P[c].ga=a.Nd;0>=a.P[c].kd&&(a.P[c].kd=1);a.P[c].zb=a.P[c].kd;d.Jf&&d.Jf(c);d.Kb(0);var h=a.P[c].Nj;"E5AF1A56-E29C-4BA6-839A-24C2F30EED02"==h?h="Shared Desktop{"+h+"}":"4FC0606A-DA4A-423F-A830-AC5D9853C201"==
h&&(h="Remote Control{"+h+"}");a.Ca("appdata_new_channel,"+c+","+h+",max_rate="+a.P[c].kd+",ssrc="+a.P[c].zm);d.Pf&&d.Pf(0,a.P[c].it,c);l.shift(57)}else if(c==a.sn){if(17>f)return;c=l.c(9);b.a.log(-2,"appdata channel errorcode="+c);(c==b.b.gp||c==b.b.fp||c==b.b.ep||c==b.b.cp||c==b.b.bp||c==b.b.ap)&&d.Pf&&d.Pf(c,l.c(13),-1);l.shift(17)}else if(c==a.ri){if(17>f)return;c=l.c(9);if(0>c||c>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");J();return}if(!a.P[c].active){b.a.log("disconnect, COMMAND_PLUGIN_EX inactive channel got static data");
J();return}h=l.c(13);if(0>h||h>a.Og){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size");J();return}if(f<17+h)return;f=b.crypto.w(l.h(17,h),a.ba).u();a.P[c].Lm=f;d.El&&d.El(0,c,f);l.shift(17+h)}else if(c==a.pi){if(13>f)return;c=l.c(9);if(0>c||c>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");J();return}if(!a.P[c]||!a.P[c].active){b.a.log("disconnect, COMMAND_PLUGIN_EX channel not active");J();return}a.P[c].active=0;b.a.log(-2,"appdata channel "+c+" close");d.Bl&&d.Bl(0,c);l.shift(13)}else if(c==
a.rn){if(21>f)return;h=l.c(17);if(0>h||h>a.Og){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size2");J();return}if(f<21+h)return;l.shift(21+h)}else{b.a.log("disconnect, COMMAND_PLUGIN_EX invalid command");J();return}M=L;G("COMMAND_PLUGIN_EX")}},t,t,t,function(){17>l.length()||(a.wF=l.c(5),a.xF=l.c(9),a.yF=l.c(13),l.shift(17),M=L,G("COMMAND_RECORDING_FILEVERSION_EX"))},function(){a.xb=-1;a.La=a.ua=a.za=-1;d.ul&&d.ul();l.shift(5);M=L;G("COMMAND_END_OF_RECORDINGFILE_EX")},function(){b.a.log("warning: server is going to be shut down!");
d.Kl&&d.Kl();l.shift(5);M=L;G("COMMAND_SERVER_SHUTDOWN_EX")},function(){var f=l.length();if(!(17>f)){var c=l.c(13);if(0>c||c>a.fj)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid size"),J();else if(!(f<17+c))if(f=l.c(5),0>f||f>=b.b.Fb)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid channel"),J();else{if(a.P[f]&&a.P[f].active){var h=l.c(9),e=b.crypto.w(l.h(17,c),a.ba).u();d.Cl&&d.Cl(e,f,h)}l.shift(17+c);M=L;G("COMMAND_PLUGIN_CONTROL_DATA_EX")}}},function(){9>l.length()||(l.shift(9),
M=L,G("COMMAND_DISABLE_UTF8_EX"))},function(){if(!(9>l.length())){a.hs=l.c(5)&1?!0:!1;b.a.log("The network initialization has finished");for(var f=["audio codec preference [count: ",a.$d.length,"] is:"],c=0;c<a.$d.length;c++){var h=a.$d[c];f.push(" 0x",h.toString(16),"(",b.m.Wg(h),")")}b.a.log(f.join(""));f=["video codec preference [count: ",a.me.length,"] is:"];for(c=0;c<a.me.length;c++)h=a.me[c],f.push(" 0x",h.toString(16),"(",b.m.Wg(h),")");b.a.log(f.join(""));a.ne||b.a.log("webrtc, this MCU doesn't support webrtc, or is not correctly configured, or lacks valid license");
d.Nf&&d.Nf();d.Oc&&A()&&(h=d.Oc(),a.Yf||!h)&&(b.a.log("update audio status upon start of meeting"),p(h?1:0));l.shift(9);M=L;G("COMMAND_SIP_CAP_EX")}},function(){if(!(13>l.length())){var f=l.c(5),c=l.c(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].Xc=c);l.shift(13);M=L;G("COMMAND_TEXT_CODEPAGE_EX")}},function(){f(1)},function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(1==c){if(13>f)return;var h=l.c(9);if(0>h||1E3<=h){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len");J();return}if(f<13+h+4)return;
c=l.c(13+h);f=b.crypto.w(l.h(13,h),a.ba).u();b.a.log("ssrc "+c+" request sip client "+f);0<=c&&c<b.b.Ha&&a.U[c]&&d.Il&&d.Il(c,a.U[c].ci,f);l.shift(17+h)}else if(3==c){if(13>f)return;h=l.c(9);if(0>h||1E3<=h){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len2");J();return}if(f<13+h+4+4)return;c=l.c(13+h);var e=l.c(17+h);f=b.crypto.w(l.h(13,h),a.ba).u();b.a.log("sip client "+f+" of ssrc "+c+" change status to "+e);d.Yl&&d.Yl(c,f,e);l.shift(21+h)}else if(10==c){if(13>f)return;h=l.c(9);if(0>h||
1E3<=h){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len3");J();return}if(f<13+h+4+4)return;c=l.c(13+h);e=l.c(17+h);if(0>e||1E3<=e){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len4");J();return}if(f<13+h+4+4+e)return;f=b.crypto.w(l.h(13,h),a.ba).u();var t=b.crypto.w(l.h(21+h,e),a.ba).u();b.a.log("sip client "+f+" of ssrc "+c+" is updated to "+t);d.Zl&&d.Zl(c,f,t);l.shift(21+h+e)}else{b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid command");J();return}M=L;G("COMMAND_SIP_CLIENT_EX")}},
function(){a.Vk=!0;b.a.log("this meeting adopts all questioners mode");l.shift(5);M=L;G("COMMAND_ALL_QUESTIONER_EX")},function(){9>l.length()||(a.dm=l.c(5),b.a.log(["this meeting let ",a.dm?"token holder":"coordinator"," accept uninvited guest"].join("")),l.shift(9),M=L,G("COMMAND_HOLDER_ACCEPT_GUEST_EX"))},t,function(){if(!(53>l.length())){var b=l.c(5);var a=l.c(9);var f=l.c(13);var c=l.c(17);var h=l.c(21);var e=l.c(25);var t=l.c(29);d.Lf&&d.Lf(b,a,f,c,h,e,t);l.shift(53);M=L;G("COMMAND_NEW_FOCUS_POINTER_EX")}},
t,function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);d.Nl&&d.Nl(b,a);l.shift(13);M=L;G("COMMAND_SYNC_FULL_SCREEN_EX")}},function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(200==c){if(17>f)return;a.Ne=l.c(9);a.Hf=l.c(13);l.shift(17)}else{if(a.F==b.b.Fa)0==c||1==c?(b.a.log("prompt the user for jnr password"),d.Qf&&d.Qf(2)):(b.a.log("too many tries to provide the correct jnr password"),d.Ka&&d.wb(b.b.qf+b.b.Ui-256));else if(101==c||100==c)d.Tf&&d.Tf(c-100),a.hh=c-100;else if(1==c||0==c)d.Tf&&d.Tf(c),
a.hh=c;l.shift(9)}M=L;G("COMMAND_JNR_PASSWORD_EX")}},H,H,H,t,function(){var a=l.length();if(!(9>a)){var f=l.c(5);0>f||512<=f?(b.a.log("disconnect, COMMAND_JOINNET_AUTO_UPDATE_EX invalid len"),J()):a<9+f||(l.shift(9+f),M=L,G("COMMAND_JOINNET_AUTO_UPDATE_EX"))}},function(){if(!(9>l.length())){var f=l.c(5),c=f&1?1:0;f=f&2?1:0;(c||f)&&b.a.log(["joinnet has restriction ",c&&f?"disable_upload_file,disable_save_slide":c?"disable_upload_file":"disable_save_slide"].join(""));a.bm=c;a.am=f;l.shift(9);M=L;G("COMMAND_JOINNET_RESTRICTION_EX")}},
function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(0>c||32<c)b.a.log("disconnect, COMMAND_AUDIO_PREFERENCE_EX invalid codec count"),J();else if(!(f<9+4*c)){a.es=c;a.$d=[];for(f=0;f<c;f++)a.$d.push(l.c(9+4*f));l.shift(9+4*c);M=L;G("COMMAND_AUDIO_PREFERENCE_EX")}}},function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(0>c||32<c)b.a.log("disconnect, COMMAND_VIDEO_PREFERENCE_EX invalid codec count"),J();else if(!(f<9+4*c)){a.Ps=c;a.me=[];for(f=0;f<c;f++)a.me.push(l.c(9+4*f));l.shift(9+4*c);M=L;G("COMMAND_VIDEO_PREFERENCE_EX")}}},
function(){a.lm=!0;b.a.log("joinnet token holder video set to TRUE");l.shift(5);M=L;G("COMMAND_HOLDER_VIDEO_EX")},function(){9>l.length()||(a.Uc=l.c(5),b.a.log(["total av bandwidth is set to ",a.Uc].join("")),l.shift(9),M=L,G("COMMAND_TOTAL_AV_BANDWIDTH_EX"))},function(){a.km=!0;a.F==b.b.R?(b.a.log("The recording file of this meeting will be archived by the system administrator. (Recording is enforced and 'pause recordng' is disabled)"),d.Vl&&d.Vl()):b.a.log("The server turns on archiving");l.shift(5);
M=L;G("COMMAND_ARCHIVE_RECORDING_EX")},function(){var f=l.length();if(!(17>f)){var c=l.c(13);if(0>=c||1E6<c)b.a.log("disconnect, COMMAND_SELF_PICTURE_EX invalid file size"),J();else if(!(f<17+c)){f=l.c(5);var h=l.c(9);if(a.U[f])if(a.U[f].af)b.a.log("download self picture for ssrc "+f+" fails. file already exist");else{var d=b.crypto.w(l.h(17,c),a.ba).i();a.Im(f,new Uint8Array(d),h)}l.shift(17+c);M=L;G("COMMAND_SELF_PICTURE_EX")}}},function(){if(!(9>l.length())){var f=l.c(5);a.Wk=!0;f?b.a.log("upload self picture abort due to error at server"):
b.a.log("upload self picture completely");l.shift(9);M=L;G("COMMAND_SPIC_NOTIFY_EX")}},function(){if(!(10>l.length())){var f=l.c(5),c=l.L(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].hd=c&1?a.U[f].hd|1:a.U[f].hd&254,a.U[f].hd=c&2?a.U[f].hd|2:a.U[f].hd&253,d.dl&&d.dl(f,c&1,c&2),b.a.log("ssrc["+f+"]'s a/v cap to "+(c&1?1:0)+","+(c&2?1:0)));l.shift(10);M=L;G("COMMAND_CHANGE_CAP_EX")}},function(){b.a.log("the meeting does not request recording");l.shift(5);M=L;G("COMMAND_JOINNET_NO_RECORDING_EX")},function(){if(!(9>
l.length())){var f=l.c(5),c=d.ic();a.La=f;b.a.log(["controller change to ",f].join(""));d.rl&&d.rl();a.uh(c,d.ic());l.shift(9);M=L;G("COMMAND_CONTROLLER_UPDATE_EX")}},function(){if(!(9>l.length())){var f=l.c(5),c=d.ic();a.Mb=f;b.a.log(["control flag change to 0x",f.toString(16),"(",b.m.yj(f),")"].join(""));a.uh(c,d.ic());d.ql&&d.ql(f);l.shift(9);M=L;G("COMMAND_MEETING_CONTROL_EX")}},function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(0==c){if(13>f)return;a.wh=l.c(9);a.wh&&b.a.log("The server support file conversion");
l.shift(13)}else if(1==c){if(13>f)return;f=a.Qc;a.Qc=l.c(9);b.a.log(["The JoinNet has ",a.Qc," conversion ongoing at the server"].join(""));f!=a.Qc&&d.fl&&d.fl();l.shift(13)}else if(2==c){if(21>f)return;f=l.c(17);if(0>f||1E3<=f){b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid len");J();return}a.Qc=l.c(9);c=l.c(13);var h=l.h(21,f);b.a.log(["The JoinNet has ",a.Qc," conversion ongoing at the server"].join(""));b.a.log(["The conversion of file ",h," has error ",c].join(""));d.gl&&d.gl(h,c);l.shift(21+
f)}else{b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid command");J();return}M=L;G("COMMAND_FILE_CONVERSION_EX")}},function(){5>l.length()||(d.kl&&d.kl(),l.shift(5),M=L,G("COMMAND_FORCE_SYNC_EX"))},function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);d.Ml&&d.Ml(b,a);l.shift(13);M=L;G("COMMAND_SWAP_SLIDE_EX")}},function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);d.ol&&d.ol(b,a);l.shift(13);M=L;G("COMMAND_MOVE_SLIDE_EX")}},function(){9>l.length()||(a.em=l.c(5),b.a.log(["this meeting let ",
a.em?"token holder":"coordinator"," end meeting"].join("")),l.shift(9),M=L,G("COMMAND_HOLDER_END_MEETING_EX"))},function(){if(!(13>l.length())){var a=l.c(5),f=l.c(9);-1==f?b.a.log("ssrc "+a+" stops ForceSingleAudio"):b.a.log("ssrc "+a+" starts ForceSingleAudio of ssrc "+f);l.shift(13);M=L;G("COMMAND_FORCE_SINGLE_AUDIO_EX")}},function(){13>l.length()||(a.$f=l.c(5),a.Zf=l.c(9),l.shift(13),M=L,G("COMMAND_MEETING_INFO_EX"))},function(){9>l.length()||(a.xb=l.c(5),b.a.log(["assistant change to ",a.xb].join("")),
d.pl&&d.pl(),l.shift(9),M=L,G("COMMAND_ASSIGN_ASSISTANT_EX"))},function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(0>c||30<=c)b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len"),J();else if(!(f<9+c+4)){var h=l.c(9+c);0>h||128<=h?(b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len2"),J()):f<9+c+4+h||(a.he=a.Ch=l.h(9,c),a.Os=l.h(9+c+4,h),d.be&&d.be(a.Ch,a.Os,a.G),l.shift(9+c+4+h),M=L,G("COMMAND_RECONNECT_NAME_EX"))}}},function(){13>l.length()||(x(l.c(5),l.c(9)),l.shift(13),M=L,G("COMMAND_FLIP_SLIDE_EX"))},
function(){9>l.length()||(a.Te=l.c(5),b.a.log(["opus preferred bitrate is ",a.Te].join("")),l.shift(9),M=L,G("COMMAND_OPUS_EX"))},function(){f(2)},t,function(){var f=l.length();if(!(9>f)){var c=l.c(5);0>c||1E3<=c?(b.a.log("disconnect, COMMAND_WEBRTC_SIGNAL_SERVER_EX invalid length"),J()):f<9+c||(a.ne=b.crypto.w(l.h(9,c),a.ba).u(),b.a.log(["webrtc, signal server url is ",a.ne].join("")),l.shift(9+c),M=L,G("COMMAND_WEBRTC_SIGNAL_SERVER_EX"))}},function(){if(!(10>l.length())){var f=l.c(5),c=l.L(9);0<=
f&&f<b.b.Ha&&a.U[f]&&(a.U[f].um=c,d.Ul&&d.Ul(f));b.a.log(5,["webrtc, ssrc ",f," change status to ",c].join(""));l.shift(10);M=L;G("COMMAND_WEBRTC_NOTIFICATION_EX")}},function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(0>c||1E4<=c)b.a.log("disconnect, COMMAND_WEBRTC_TURN_SERVER_EX invalid length"),J();else if(!(f<9+c)){f=b.crypto.w(l.h(9,c),a.ba).u();try{var h=JSON.parse(f);b.a.isArray(h)&&(10<h.length&&(h.length=10),a.Eh=h)}catch(xa){}a.Eh.length?b.a.log("joinnet received turn server information from MCU"):
b.a.log("joinnet received turn server information from MCU, but no valid entry found");l.shift(9+c);M=L;G("COMMAND_WEBRTC_TURN_SERVER_EX")}}},t],ta=[function(){a.cs();a.ph();d.Oc&&!d.Oc()&&A()&&(b.a.log("update audio status upon restart of playback"),p(0));l.shift(5);M=L;G("PLAYBACK_NOTIFICATION_RESTART")},function(){function f(){if(!(412>l.length())){var b=l.h(20,128),f=b.indexOf("\x00");a.Fh.push(-1==f?b:b.slice(0,f));l.shift(412);g++;g==c&&(ha=I);M=L;G("PLAYBACK_NOTIFICATION_MEETING_INFO,2")}}
if(!(83>l.length())){var c=l.kc(79);if(0>c||c>=b.b.Ha)b.a.log("disconnect, PLAYBACK_NOTIFICATION_MEETING_INFO invalid usernum"),J();else{a.qc=!0;a.Mc=!0;var h=l.kc(23),e=l.kc(27),t=l.kc(19),v=[("0000"+l.kc(43)).slice(-2),":",("0000"+l.kc(47)).slice(-2)," ",l.kc(35),"/",l.kc(39),"/",l.kc(31)].join("");d.vl&&d.vl(h,e,t,v);d.Nf&&d.Nf();d.Oc&&!d.Oc()&&A()&&(b.a.log("update audio status upon start of playback"),p(0));l.shift(83);a.Fh=[];var g=0;0!=c?ha=f:M=L;G("PLAYBACK_NOTIFICATION_MEETING_INFO")}}},
function(){if(!(9>l.length())){var b=l.c(5);d.Al&&d.Al(b);l.shift(9);M=L;G("PLAYBACK_NOTIFICATION_TICK")}},function(){if(!(9>l.length())){var a=l.c(5);0==a?b.a.log("the server start to decrypt the recording file"):1==a?b.a.log("the server finish decrypting the recording file"):b.a.log("the server encounter error during decrypting the recording file");d.xl&&d.xl(a);l.shift(9);M=L;G("PLAYBACK_NOTIFICATION_DECRYPTION_STATUS")}},function(){if(!(9>l.length())){var b=l.c(5);d.wl&&d.wl(b);l.shift(9);M=L;
G("PLAYBACK_NOTIFICATION_DECRYPTION_PROGRESS")}},t,function(){var f=l.length();if(!(9>f)){var c=l.c(5);if(0>c||1E6<=c)b.a.log("disconnect, PLAYBACK_NOTIFICATION_PROPERTY invalid size"),J();else if(!(f<9+c)){f=b.crypto.w(l.h(9,c),a.ba).u();if(window.DOMParser){var h=new DOMParser;try{var e=h.parseFromString(f,"text/xml");d.yl&&d.yl(e)}catch(K){}}l.shift(9+c);M=L;G("PLAYBACK_NOTIFICATION_PROPERTY")}}},t,t,t,t];Q.onclose=function(){z();a.Jd=!0;a.v.onmessage||F()};Q.onerror=function(){z();a.kf=!0;a.v.onmessage||
F()};Q.onmessage=function(f){ja=0;z();f=new r.a.g(f.data);l.D(f);T||e();a.v.onmessage||(ka=0,pa=b.a.A(),ha())};ja=0;(function(){T=setTimeout(function(){T=null;null==la&&e()},6E4)})();ha=I;l.length()&&(B(),ka=0,pa=b.a.A(),ha());a.disconnect=O}function D(){a.disconnect&&(a.disconnect(),d.jb&&d.jb(),a.disconnect=null)}function w(){a.Qe=!0;if(a.sa)a.Ic&&(a.Ic.disconnect(),a.Ic=null),a.Ic=new b.protocol.Ic(a);else{var c=new r.a.g;c.o(a.N);c.f(a.Hn);c.f(1);a.j.send(c.i())}a.Sa&&(a.Sa.disconnect(),a.Sa=
null);a.Sa=new b.protocol.Sa(a)}function B(c,d,e,g,m){if(a.Pa){if(a.Pa.index==c)return;a.Pa.disconnect();a.Pa=null}a.C?a.Pa=new b.protocol.Hs(a,c,d,e,g,m):setTimeout(function(){m&&m()},0)}function p(c){if(!a.C||!A())return 1;var h=new r.a.g;h.o(a.N);h.f(a.li);h.f(c?1:0);a.j.send(h.i());b.a.log("request audio "+(c?"On":"Off"))}function m(c){return 0<=c&&c<b.b.Ha&&a.U[c]?a.U[c].Xc:0}function I(){return a.qa||a.Ja||a.pc}function A(){return a.xh>=a.li?!0:!1}var r=window.W,a={Gb:1,Hb:39,Fe:0,wa:0};b.a.log("hmtg jnkernel version "+
H());var d=b.jnkernel=b.$=b.$||{};d.version=d.version=H;a.ac=new Int32Array(b.b.dd);a.kb=new Int32Array(b.b.Qb);a.P=[];F();a.disconnect=null;a.Ma="";a.oc=!1;a.vF=2;a.Dm=5E3;a.mg=2E4;a.Cm=2E5;a.qc=!0;a.ae=!1;a.Mc=!1;a.G=-1;a.Aq=72;a.en=48;a.bn=65;a.Ym=67;a.yg=68;a.ni=69;a.mi=71;a.Kn=73;a.ui=74;a.oi=75;a.Kd=77;a.zn=81;a.Dn=83;a.Dg=84;a.Mn=85;a.ti=88;a.$m=70;a.xg=66;a.wi=116;a.bd=33;a.xo=86;a.gn=118;a.N=122;a.Lt=0;a.an=1;a.Ln=2;a.xn=3;a.du=4;a.ku=5;a.aw=6;a.qu=7;a.on=8;a.ru=9;a.cu=10;a.Qt=11;a.Ot=12;
a.lu=13;a.Nu=14;a.pn=15;a.Ou=16;a.Hu=17;a.Wm=18;a.Ft=19;a.hn=20;a.Hn=21;a.jn=22;a.cn=23;a.Jt=24;a.$v=25;a.Iu=26;a.Mu=27;a.Lu=28;a.ju=29;a.Fu=30;a.si=31;a.An=32;a.wo=33;a.Ku=34;a.Cg=35;a.gu=36;a.nf=37;a.vi=38;a.zg=39;a.Eu=40;a.Ht=42;a.Gt=43;a.yn=44;a.Bg=45;a.Zt=46;a.hu=47;a.Ag=48;a.nu=49;a.Kt=50;a.pu=51;a.qn=52;a.It=53;a.su=54;a.Jn=55;a.Gu=56;a.Bn=57;a.Ct=58;a.Rt=59;a.Yt=60;a.eu=61;a.Xt=62;a.Gn=63;a.fn=64;a.nn=65;a.bu=66;a.mn=67;a.au=68;a.Ut=69;a.Wt=70;a.Et=71;a.Zv=72;a.Tt=73;a.Ju=74;a.Dt=75;a.ou=
76;a.En=77;a.Xm=78;a.Vt=79;a.Zm=80;a.kn=81;a.Mt=82;a.dn=83;a.Fn=84;a.ln=85;a.St=86;a.Pt=87;a.$t=88;a.Vm=89;a.mu=90;a.Nt=91;a.fu=92;a.In=93;a.li=94;a.bw=95;a.yo=96;a.cw=97;a.Fp=97;a.rq=0;a.hz=1;a.mj=2;a.wq=3;a.uq=4;a.vq=5;a.sq=6;a.qq=7;a.xq=8;a.gz=9;a.lq=10;a.nq=11;a.De=12;a.oq=13;a.fz=14;a.ez=15;a.mq=16;a.tq=17;a.wn=1;a.ri=2;a.pi=3;a.tn=4;a.sn=5;a.vn=6;a.rn=7;a.un=8;a.iu=9;a.uz=0;a.rz=1;a.wz=2;a.pz=3;a.oz=4;a.vz=5;a.sz=6;a.qz=7;a.nz=8;a.mz=9;a.yq=10;a.Og=65536;a.fj=8192;a.Au=1;a.Cn=2;a.Bu=3;a.tu=
4;a.vu=5;a.uu=6;a.yu=7;a.zu=8;a.wu=9;a.Cu=10;a.xu=11;a.Du=12;a.bs=function(b){b=b.split(",");if(2!=b.length)return{};var a=parseInt(b[1].trim());if(!a)return{};b[0]=b[0].trim();if(0==b[0].length)return{};var c=r.a.er(b[0]);null==c&&(c="");return{Vb:b[0],Jb:c,port:a}};a.Ca=function(c){if(a.F==b.b.R){var h=(new Date).toString().replace(/(GMT.*)/,""),d=b.a.A()-a.ee,e=d>>>0;d>>=0;var g=e;e&2147483648&&(g=-e>>>0);var m=g/1E3/60>>>0;g=m/60>>>0;m=("0000"+(m-60*g)).slice(-2);b.a.rj("hmtg_log_stat","hmtg_log_stat_first_idx",
"hmtg_log_stat_count","hmtg_log_stat_size","hmtg_log_stat_item_",b.a.Gp,b.a.Hp,b.a.br+":"+h+(e&2147483648?["(-",g,":",m,",",d,") "].join(""):["(",g,":",m,",",d,") "].join(""))+c)}};a.EF=function(c){a.Ca(b.a.Ab(c))};a.Gj=function(){var b;for(b=0;b<a.aa.length;b++)if(!a.aa[b].Ze)return b;return-1};a.uh=function(b,c){c!=b&&d.ce&&d.ce(-1);c==a.G&&-1!=a.G&&b!=c&&(b=d.Mf?d.Mf():-1,-1!=a.Lb&&d.Cb&&d.Cb(1,a.Lb),-1==b?(b=a.Gj(),d.Cb&&d.Cb(0,b),d.vh(b)):d.vh(b))};a.oh=function(){var b;for(b=0;b<a.aa.length;b++){var c=
a.Kc[b];c&&c.data&&(a.wa-=c.data.length);a.Kc[b]=a.aa[b]}a.aa=[]};a.Uk=function(){var b;for(b=0;b<a.Kc.length;b++){var c=a.Kc[b];c.data&&(a.wa-=c.data.length)}a.Kc=[]};a.ds=function(b,c){if(!(b.xa||a.Kc.length<=c)){var d=!1;c=a.Kc[c];c.data&&(c.Ga==b.Ga?c.Db==b.Db||c.Db&&0==c.Db.indexOf("[Deleted]")&&c.Db.slice(9)==b.Db?(b.data=c.data,b.ka=c.ib,b.ib=c.ib,b.ra=c.ra,b.xa=c.xa,b.hash=c.hash,b.Ss=c.Ss,c.data=null):d=!0:d=!0,d&&a.Uk())}};a.cs=function(){d.ps();a.La=-1;a.ua=-1;a.za=-1;a.xb=-1;b.a.log("reset participant video channel status in jn_PlaybackRestart");
var c;for(c=0;c<b.b.dd;c++)a.ac[c]=-1;for(c=0;c<b.b.Qb;c++)a.kb[c]=-1;a.xb=-1;a.La=-1;b.a.log("init controller to -1 (playback restart)");a.qc=!0;a.Mc=!0;c=a.U;for(var e in c)c.hasOwnProperty(e)&&(c[e].Ie=!1,c[e].af=null);a.oh();d.zl&&d.zl()};a.ph=function(){a.iF=b.a.A()};a.Im=function(c,d,e){function h(a,d){function h(){b.a.log("download self picture for ssrc "+c+" fails. error in loading image")}try{if(5E7<a.length){h();return}var e=new Blob([a],{type:d});var v=window.URL.createObjectURL(e)}catch(x){h();
return}var m=new Image;m.addEventListener("load",function(){window.URL.revokeObjectURL(v);m.width&&m.height?(g&&(g.af=m),b.$.Jl&&b.$.Jl(c),b.a.log("download self picture for ssrc "+c+" completely")):b.a.log("download self picture for ssrc "+c+" fails. zero image size")},!1);m.addEventListener("error",function(){window.URL.revokeObjectURL(v);h()},!1);m.src=v}var g=a.U[c],v="";1==e?(v="image/bmp",(e=b.$.ls())?new e("unzip",d,function(b){h(b,v)},function(){b.a.log("download self picture for ssrc "+c+
" fails. error in unzipping")}):b.a.log("download self picture for ssrc "+c+" fails. cannot unzip")):(2==e?v="image/gif":3==e?v="image/jpeg":4==e&&(v="image/png"),h(d,v))};a.U={};a.Zb=!1;a.qa=!1;a.Ja=!1;a.th=!1;a.pc=!1;a.Gf=!1;a.vb=!1;a.G=-1;a.ua=-1;a.za=-1;a.La=-1;a.Mb=0;a.xb=-1;a.Uh=[];for(var T=0;T<b.b.Fb;T++)a.Uh.push({});a.aa=[];a.Kc=[];a.wa=0;a.Qe=!1;for(T=0;T<b.b.dd;T++)a.ac[T]=-1;for(T=0;T<b.b.Qb;T++)a.kb[T]=-1;c.prototype._m_jn_major=function(){return this.V};c.prototype._m_jn_minor=function(){return this.pb};
c.prototype._szRealName=function(){return this.ci};c.prototype._cap=function(){return this.hd};c.prototype._bLogged=function(){return this.Ie};c.prototype._m_spic_img=function(){return this.af};c.prototype._m_iVideoSendingStatus=function(){return this.tm};c.prototype._m_iWebRTCStatus=function(){return this.um};y.prototype._m_iSource=function(){return this.Ga};y.prototype._index=function(){return this.index};y.prototype._m_szName=function(){return this.Db};y.prototype._is_blank_page=function(){return this.kh};
y.prototype._m_bDeleted=function(){return this.Ze};y.prototype._downloaded=function(){return this.xa};y.prototype._data=function(){return this.data};y.prototype._mark_array=function(){return this.fg};y.prototype._m_szGroup=function(){return this.Cd};y.prototype._m_iGroupIndex=function(){return this.Mh};y.prototype._m_szOwnerName=function(){return this.fc};y.prototype._group_id=function(){return""+this.Cd+this.fc+this.Ga};y.prototype._is_active=function(){return a.G==d.ic()&&a.F==b.b.R?!1:this.index==
a.Lb};g.prototype._m_iColor=function(){return this.qm};g.prototype._m_iIndex=function(){return this.V};g.prototype._m_iSource=function(){return this.Ga};g.prototype._m_nPenWidth=function(){return this.ym};g.prototype._m_iShape=function(){return this.ut};g.prototype._m_codepage=function(){return this.Xc};g.prototype._m_byMarkType=function(){return this.Fc};g.prototype._ax=function(){return this.Oj};g.prototype._ay=function(){return this.Rj};g.prototype._m_zoom=function(){return this.pb};g.prototype._m_iID=
function(){return this.od};g.prototype._m_offset_x=function(){return this.rd};g.prototype._m_offset_y=function(){return this.xf};g.prototype._m_rect_left=function(){return this.Nm};g.prototype._m_rect_top=function(){return this.Xo};g.prototype._m_rect_right=function(){return this.Om};g.prototype._m_rect_bottom=function(){return this.Mm};g.prototype._m_szContent=function(){return this.mp};g.prototype._m_move_type=function(){return this.vt};g.prototype._id_array=function(){return this.nm};g.prototype._m_iCustomizedMarkType=
function(){return this.jt};g.prototype._m_pCustomizedMarkData=function(){return this.xt};q.prototype._guid_str=function(){return this.Nj};q.prototype._active=function(){return this.active};q.prototype._static_data=function(){return this.Lm};q.prototype._stat=function(){return this.stat};q.prototype._data_rate_threshold=function(){return this.kd};q.prototype._jn_tokens=q.prototype.Xq=function(){if(0<this.ga)return this.ga;var a=b.a.A();this.ga+=(a-this.Ba)*this.zb/8E3;this.Ba=a;return this.ga};q.prototype._data_rate=
function(b){if("undefined"===typeof b)return this.zb;a.C&&(this.zb=b,d.Kb(0))};d.ht=function(c,e){function h(c,h){var e=a.aa[c];!e.data||h&&!b.a.endsWith(e.Db,".jzf")||(a.wa-=e.data.length,e.data=null,e.ka=0,e.ib=0,e.xa=0,e.ra=0,d.Rl&&d.Rl(c))}var g=b.$.Rh();if(!(a.wa+e<=g)){var v,m=a.aa.length,p=Math.max(m-1-c,c);for(v=p;0<v;v--){var q=c-v;if(0<=q&&(h(q,!0),a.wa+e<=g))return;q=c+v;if(q<m&&(h(q,!0),a.wa+e<=g))return}for(v=p;0<v;v--){q=c-v;if(0<=q&&(h(q,!1),a.wa+e<=g))break;q=c+v;if(q<m&&(h(q,!1),
a.wa+e<=g))break}}};d.Rh=function(){return d.Xl?1048576*d.Xl():536870912};d._memory_usage=d.JB=function(){return a.wa};d._cipher_name=d.Rq=function(){return a.jd};d._duration_str=d.KA=function(){return a.vr};d._jn_bConnected=d.qj=function(){return a.C};d._jn_bConnecting=d.UA=function(){return a.oc};d._jn_UserArray=d.OA=function(){return a.U};d._jn_ssrc_index=d.zB=function(){return a.G};d._jn_iSessionIndex=d.sB=function(){return a.ta};d._jn_dwSessionStartTick=d.fB=function(){return a.ee};d._jn_iWorkMode=
d.Wq=function(){return a.F};d._jn_szUserID=d.AB=function(){return a.Ma};d._jn_codetype=d.aB=function(){return a.bb};d._jn_opus_preferred_bitrate=d.xB=function(){return a.Te};d._jn_audio_codec_array=d.PA=function(){return a.$d};d._jn_video_codec_array=d.FB=function(){return a.me};d._jn_SlideArray=d.NA=function(){return a.aa};d._jn_iActiveSlideIndex=d.gB=function(){return a.Lb};d._jn_bTokenOwner=d.$A=function(){return a.Zb};d._jn_bTokenHolder=d.ZA=function(){return a.qa};d._jn_bDataSender=d.VA=function(){return a.Ja};
d._jn_iSize_w=d.uB=function(){return a.zh};d._jn_iSize_h=d.tB=function(){return a.yh};d._jn_bPreferenceQuestioner=d.Uq=function(){return a.qc};d._jn_iAssistant=d.iB=function(){return a.xb};d._jn_iTokenHolder=d.vB=function(){return a.ua};d._jn_iController=d.jB=function(){return a.La};d._jn_iControlFlag=d.Vq=function(){return a.Mb};d._jn_iDataSender=d.kB=function(){return a.za};d.is_talker=d.fC=function(b){if(0>b)return!1;if(b==a.ua||b==a.za)return!0;for(var c=0;c<a.Tc;c++)if(b==a.ac[c])return!0;return!1};
d.is_questioner=d.dC=function(b){if(0>b||b==a.ua)return!1;if(b==a.za)return!0;for(var c=0;c<a.Tc;c++)if(b==a.ac[c])return!0;return!1};d.is_speaker=d.eC=function(b){if(0>b)return!1;for(var c=0;c<a.Tc;c++)if(b==a.ac[c])return!0;return!1};d._jn_iParticipantVideoSsrc=d.qB=function(){return a.kb};d._jn_iParticipantAudioSsrc=d.pB=function(){return a.ac};d._jn_iAdjustedMaxBandwidth=d.hB=function(){return a.Rc};d._jn_iMaxBandwidth=d.mB=function(){return a.eb};d._jn_tokens=d.Xq=function(){if(0<a.ga)return a.ga;
var c=b.a.A();a.ga+=(c-a.Ba)*a.va/8E3;a.Ba=c;return a.ga};d._jn_auto_download_all=d.RA=function(){return a.fs};d._jn_auto_download_next=d.SA=function(){return a.gs};d._jnj_opus_preferred_bitrate=d.IB=function(){return a.Qs};d._stat_video=d.MB=function(){return a.Km};d._stat_audio=d.LB=function(){return a.Jm};d._codec2str=d.JA=function(){return b.m.Wg};d._jn_bPreferenceQuestioner=d.Uq=function(){return a.qc};d._jn_bPreferenceBothVideo=d.WA=function(){return a.ae};d._jn_bRecvVideo=d.YA=function(){return a.Mc};
d._jn_iMaxParticipantAudio=d.nB=function(){return a.Tc};d._jn_bQuestionRequest=d.XA=function(){return a.vb};d._jn_iControlFlag=d.Vq=function(){return a.Mb};d._jn_conversion_support=d.cB=function(){return a.wh};d._jn_conversion_count=d.bB=function(){return a.Qc};d._jn_disable_upload_file=d.eB=function(){return a.bm};d._jn_disable_save_slide=d.dB=function(){return a.am};d._sync_ssrc=d.ic=function(){return a.Mb&b.b.Gg?a.La:a.ua};d._is_sync_ssrc=d.pj=function(){var c=a.Mb&b.b.Gg?a.La:a.ua;return-1!=a.G&&
a.G==c};d._q_ssrc=d.Ge=function(){return a.Mb&b.b.Oi?a.La:a.ua};d._fullscreen_ssrc=d.LA=function(){return a.Mb&b.b.Qi?a.La:a.ua};d._tab_ssrc=d.Yq=function(){return a.Mb&b.b.Ri?a.La:a.ua};d._poll_ssrc=d.KB=function(){return a.Mb&b.b.sw?a.La:a.ua};d._jn_iRecordingStatus=d.rB=function(){return a.cm};d._jn_to_archive=d.CB=function(){return a.km};d._jn_plugin_data=d.yB=function(){return a.P};d._has_jnr_password=d.MA=function(){return a.hh};d._jn_bEnableJNRPassword=d.Tq=function(){return a.Ne};d._jn_user_record=
d.EB=function(){return a.Fh};d._jn_bAudioCap=d.TA=function(){return a.Lc};d._jn_webrtc_signal_server_url=d.HB=function(){if(!a.ne)return"";var c=b.crypto.ad(a.yc.ja.slice(0,16));c=c.Pb().slice(0,32);var d=b.crypto.ad(a.Hm.ja.slice(0,16));d=(""+a.ta+"a"+d.Pb()).slice(0,36);return a.ne+"?peerName="+a.G+"&roomId="+d+"&hash="+c};d._jn_webrtc_check_auth=d.GB=function(c){var d=b.crypto.ad(a.yc.key.slice(0,16));d=d.Pb().slice(0,32);return d==c};d._jn_is_webrtc_supported=d.wB=function(){return!!a.ne};d._jn_turn_server_array=
d.DB=function(){return a.Eh};d._jn_audio_rate=d.QA=function(b){if("undefined"===typeof b)return a.Me;a.C&&(a.Me=b,d.Kb(0))};d._jn_iMaxVideoBitrate=d.oB=function(b){if("undefined"===typeof b)return a.Wf;a.C&&(a.Wf=b,d.Kb(0))};d._jn_iMaxAppdataBitrate=d.lB=function(b){if("undefined"===typeof b)return a.Se;a.C&&(a.Se=b,d.Kb(0))};d._jn_targetrate=d.BB=function(c){if("undefined"===typeof c)return a.va;a.va!=c&&a.C&&(b.a.log("JoinNet set target rate "+a.va+" -> "+c),a.va=c,d.Kb(0))};d.jn_command_Reset=
d.xE=function(){a.F=b.b.R;a.aa=[];a.Kc=[];a.wa=0};d.jn_command_CallbackReady=d.PD=function(){var a=b.$;a.il=a.jn_callback_ErrorReport;a.ls=a.jn_callback_decompress;a.Xl=a.jn_callback_memory_threshold;a.Wl=a.jn_callback_fail_to_connect;a.Ka=a.jn_callback_UpdateStatus;a.wb=a.jn_callback_UpdateStatus_MessageBox;a.Kf=a.jn_callback_ErrorWrongVersion;a.Nc=a.jn_callback_DisconnectFromMCU;a.al=a.jn_callback_AddUser;a.hl=a.jn_callback_DeleteUser;a.jb=a.jn_callback_EventQuitSession;a.jl=a.jn_callback_EventStartSession;
a.Zk=a.jn_callback_AddSlideTitle;a.Aa=a.jn_callback_ChatText;a.Nf=a.jn_callback_NetInitFinish;a.ml=a.jn_callback_JointBrowsing;a.$l=a.jn_callback_update_duration_str;a.vl=a.jn_callback_PlaybackInitStat;a.Al=a.jn_callback_PlaybackTickUpdate;a.zl=a.jn_callback_PlaybackRestart;a.el=a.jn_callback_ChangeWorkMode;a.bl=a.jn_callback_AudioPacketRecved;a.Sl=a.jn_callback_VideoPacketRecved;a.Pl=a.jn_callback_UnknownMediaAlert;a.Mf=a.jn_callback_GetSelectedSlideIndex;a.Cb=a.jn_callback_FlipSlide;a.de=a.jn_callback_mark_event;
a.Lf=a.jn_callback_FocusPointer;a.Ql=a.jn_callback_UpdateDeletedSlideTitle;a.Rl=a.jn_callback_UpdateReleasedSlideTitle;a.sl=a.jn_callback_NewTokenHolder;a.Of=a.jn_callback_NewDataSender;a.pl=a.jn_callback_NewAssistant;a.rl=a.jn_callback_NewController;a.ql=a.jn_callback_NewControlFlag;a.tl=a.jn_callback_ParticipantVideoSpeakerStatus;a.Rf=a.jn_callback_VideoBitrateChanged;a.Jf=a.jn_callback_AppdataBitrateChanged;a.Yk=a.jn_callback_AddQuestion;a.cl=a.jn_callback_CancelQuestion;a.ll=a.jn_callback_JoinRequest;
a.Il=a.jn_callback_SIPJoinRequest;a.Yl=a.jn_callback_sipclient_status_update;a.Zl=a.jn_callback_sipclient_transfer_update;a.ks=a.jn_callbackQuestionSkipped;a.fl=a.jn_callback_ConversionCount;a.gl=a.jn_callback_ConversionResult;a.dl=a.jn_callback_ChangeCapability;a.Fl=a.jn_callback_PollRequest;a.Xk=a.jn_callback_AddPollResult;a.Ol=a.jn_callback_TokenHolderPollRequest;a.$k=a.jn_callback_AddTokenHolderPollResult;a.Pc=a.jn_callback_LeaveMessage;a.Sf=a.jn_callback_WaitForResponse;a.nl=a.jn_callback_JointBrowsingMode;
a.Nl=a.jn_callback_SyncFullScreen;a.Kl=a.jn_callback_ServerShutdown;a.Qf=a.jn_callback_PromptPassword;a.be=a.jn_callback_ReconnectName;a.Jl=a.jn_callback_SelfPictureReady;a.kl=a.jn_callback_ForceSync;a.Ml=a.jn_callback_SwapSlide;a.ol=a.jn_callback_MoveSlide;a.ce=a.jn_callback_ResetSlidePolling;a.Gl=a.jn_callback_PollSlideDownloadResult;a.Hl=a.jn_callback_RecordingStatusNotification;a.Vl=a.jn_callback_archive_recording;a.Tf=a.jn_callback_jnr_password_status;a.Pf=a.jn_callback_PlugInRequestChannelResponse;
a.Bl=a.jn_callback_PlugInCloseChannelResponse;a.El=a.jn_callback_PlugInSetStaticDataResponse;a.Cl=a.jn_callback_PlugInControlChannelData;a.Dl=a.jn_callback_PlugInPacketRecved;a.Tl=a.jn_callback_VideoSendingStatusNotification;a.xl=a.jn_callback_PlaybackJNRDecryptionStatus;a.wl=a.jn_callback_PlaybackJNRDecryptionProgress;a.Ll=a.jn_callback_SetDefaultPlaybackVideo;a.$b=a.jn_callback_ForceIFrame;a.yl=a.jn_callback_PlaybackJNRPropertyReady;a.Oc=a.jn_callback_IsRecvingAudio;a.Ul=a.jn_callback_WebRTCStatusNotification;
a.ul=a.jn_callback_PlaybackEndOfFile};d.jn_command_read_jnj=d.aF=function(c){a.oh();a.Uk();a.ph();var d=c.entries;F();a.As=d.portm>>>0;a.Bs=(d.portm2||0)>>>0;a.hm=d.ip;a.im=d.backupip||"";a.zh=d.size_w||320;a.yh=d.size_h||240;8>a.zh&&(a.zh=8);8>a.yh&&(a.yh=8);a.fs=d.auto_download_all;a.gs="undefined"===typeof d.auto_download_next?!0:d.auto_download_next>>0;a.Qs="undefined"===typeof d.opus_preferred_bitrate?0:d.opus_preferred_bitrate>>0;a.We=d.userinfo||"";a.hm=d.ip;a.im=d.backupip||"";var e=a.bb=
d.codetype||0;a.nh=a.bs(d.use_relay||"");a.fm=d.make_recording||0;if(0==e)b.a.log("no code type found in .jnj file");else{if(4==e||5==e){a.Ma=a.rc=(d.userid||"").slice(0,127);if(!a.rc)return b.a.log("no userid is specified in .jnj file"),!1;if((c=d.owner_passwd||"")&&b.a.localStorage[c]){var h=b.a.Yc(b.a.localStorage[c]);"undefined"!==h&&h.time&&"string"===typeof h.value&&(h=b.crypto.w(h.value,b.crypto.jf).u(),a.zd=h.slice(0,99),b.a.td||b.a.localStorage.removeItem(c))}a.Bh=(d.username||"").slice(0,
127);a.cg=(d.playback_filename||"").slice(0,23);a.je=(d.invite_ticket||"").slice(0,255);a.wd=!0;a.bc=a.Vc="";if(5!=e||a.cg)4==e?(a.je?(a.Ma=("_"+a.rc).slice(0,127),a.Ue=a.Ve="Invited Guest"):a.zd?(a.Ma=a.rc,a.Vc=b.a.hf(a.zd,b.b.ej),a.bc=a.Vc,a.zd=""):(a.Ma=("_"+a.rc).slice(0,127),a.Ue=a.Ve="Guest"),a.F=b.b.R):(a.zd&&(a.Ma=a.rc,a.Vc=b.a.hf(a.zd,b.b.ej),a.bc=a.Vc,a.zd=""),a.F=b.b.Fa);else return b.a.log("no jnr is specified in playback jnj file"),!1;return!0}if(13==e||15==e){a.We=b.a.hf(d.userinfo||
"",b.b.Kp);a.Ma=a.rc=(d.userid||"").slice(0,127);if(0==a.We.length)return b.a.log("no userinfo is specified in .jnj file"),!1;a.le=b.a.hf(d.player_name||"",128);a.le.length&&b.a.oe(["found player_name ",a.le," in jnj"].join(""));15==e?((c=d.owner_passwd||"")&&b.a.localStorage[c]&&(h=b.a.Yc(b.a.localStorage[c]),"undefined"!==h&&h.time&&"string"===typeof h.value&&(h=b.crypto.w(h.value,b.crypto.jf).u(),a.jm=h.slice(0,99),b.a.td||b.a.localStorage.removeItem(c))),a.wd=!0,a.If=!1,a.F=b.b.Fa):(a.If=!0,a.F=
d.action?b.b.Fa:b.b.R);a.bc=a.Vc="";return!0}}return!1};d.jn_command_initconnectmedia=d.ss=function(c){a.mm=!1;a.C=!1;a.FD=!1;a.Wk=!1;a.Zb=!1;a.qa=!1;a.Ja=!1;a.th=!1;a.pc=!1;a.Gf=!1;a.vb=!1;a.ee=b.a.A();a.va=a.Rc=a.eb=a.Wf=1E7;a.Se=0;a.Me=0;a.Uc=0;a.G=-1;a.ua=-1;a.za=-1;a.La=-1;a.Mb=0;a.xb=-1;a.Uh=[];for(var e=0;e<b.b.Fb;e++)a.Uh.push({});a.Qe=!1;for(e=0;e<b.b.dd;e++)a.ac[e]=-1;for(e=0;e<b.b.Qb;e++)a.kb[e]=-1;a.U={};a.Gh=-1;a.Hh=-1;a.Te=0;a.Vf=-1;a.Tc=-1;a.ge=-3;a.Oe=!1;a.vs=-1;a.gF=-2;a.hs=!1;a.Vk=
!1;a.dm=0;a.em=0;a.Ne=!1;a.Hf=!1;a.lm=!1;a.bm=a.am=0;a.es=0;a.$d=[];a.Ps=0;a.me=[];a.km=!1;a.hh=!1;a.wh=0;a.Qc=0;a.cm=1;a.$c&&(a.$c.disconnect(),a.$c=null);a.ne="";a.Eh=[];a.Lc=a.vd=!1;d.jl&&d.jl();a.Pe=c||!1;a.ID=!1;a.oc=!0;a.sa=!1;a.nh.port?a.F==b.b.Fa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):(a.ca=a.nh,a.sa=!0,b.a.log(["using one time mcu relay ",a.ca.Vb,",",a.ca.port].join(""))):a.HD&&a.ca.port&&(a.F==b.b.Fa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):
b.a.log(["using mcu relay ",a.ca.Vb,",",a.ca.port].join("")));a.xh=0;a.ag=0;e=b.m.Wh(a.hm,a.im,a.As,a.Bs);c=e.Ph;e=e.bi;a.fm&&a.sa&&(b.a.log("make recording cannot use relay, clear relay setting and try to directly connect......"),a.sa=!1);E(c,e)};d.jn_command_QuitConnection=d.os=function(){a.disconnect&&(b.a.log("disconnect, user(or a reconnection) quit connection"),D())};d.jn_command_OwnerResponse=d.eE=function(b,c){var d=new r.a.g;d.o(a.N);d.f(a.on);d.H(b);d.f(c);a.j.send(d.i());return 0};d.jn_command_SendChatText=
d.yE=function(c,e){if(!a.C)return 1;if(b.a.startsWith(e,"__command:")){if(b.a.startsWith(e,"__command: swap ")){c=e.slice(16);e=c.indexOf(" ");if(-1==e)return d.Aa&&d.Aa(-1,-1,1,"syntax:",0),d.Aa&&d.Aa(-1,-1,1,"__command: swap m n",0),0;d.qs(parseInt(c),parseInt(c.slice(e+1)))}else if(b.a.startsWith(e,"__command: move ")){c=e.slice(16);e=c.indexOf(" ");if(-1==e)return d.Aa&&d.Aa(-1,-1,1,"syntax:",0),d.Aa&&d.Aa(-1,-1,1,"__command: move index target_pos",0),0;d.ms(parseInt(c),parseInt(c.slice(e+1)))}else d.Aa&&
d.Aa(-1,-1,1,"list of commands:",0),d.Aa&&d.Aa(-1,-1,1,"__command: swap m n",0),d.Aa&&d.Aa(-1,-1,1,"__command: move index target_pos",0);return 0}if(e.length>=b.b.Ip)return 1;if(-1==c)return a.C?(c=new r.a.g("C"),c.f(e.length),e.length&&c.D(b.crypto.M(e,a.ba)),a.j.send(c.i()),e=0):e=1,e;var h=new r.a.g;h.o(a.N);h.f(a.yn);h.f(c);h.f(e.length);e.length&&h.D(b.crypto.M(e,a.ba));a.j.send(h.i());return 0};d.jn_command_UpdateTextCodePage=d.RE=function(c){if(!a.C||a.F!=b.b.R)return 1;var d=new r.a.g;d.o(a.N);
d.f(a.Jn);d.f(c);a.j.send(d.i());return 0};d.jn_command_WebOfficeSetVisitorName=d.ZE=function(b){a.Ue=a.Ve=b};d.jn_command_WebOfficeSetOwnerPassword=d.YE=function(b){a.Ma=a.rc;a.Vc=b;a.bc=a.Vc};d.jn_command_PlaybackPlay=d.kE=function(){if(!a.C||a.F!=b.b.Fa)return 1;var c=new r.a.g;c.o(a.bd);c.f(9);a.j.send(c.i());return 0};d.jn_command_PlaybackPause=d.jE=function(){if(!a.C||a.F!=b.b.Fa)return 1;var c=new r.a.g;c.o(a.bd);c.f(7);a.j.send(c.i());return 0};d.jn_command_PlaybackRandomAccess=d.lE=function(c){if(!a.C||
a.F!=b.b.Fa)return 1;var d=new r.a.g;d.o(a.bd);d.f(8);d.f(c);a.j.send(d.i());a.ph();return 0};d.jn_command_PlaybackRequestRepeat=d.mE=function(c){if(!a.C||a.F!=b.b.Fa)return 1;var d=new r.a.g;d.o(a.bd);d.f(c?6:5);a.j.send(d.i());return 0};d.jn_command_TCPMedia=d.LE=w;d.jn_command_UnknownMedia=d.rs=function(c,e,g){g=g?g:"";if(!a.qh[c+g]){a.qh[c+g]=!0;b.a.log("unknown media type "+c+g+" from ssrc "+e+", alert user");var h;a.U[e]?h=a.U[e].ci:h="ssrc"+e;d.Pl&&d.Pl(c,h,g)}};d.jn_command_write_timestamp_given=
d.us=function(b,c,d,e){var h=new r.a.g;h.o(b);h.f(e);h.f(d);h.f(a.G);h.f(a.ta);h.f(0);h.D(new r.a.g(c));return h};d.jn_command_generate_auth_data=d.Uf=function(c){var d=b.a.A()-a.cb,e=new r.a.g;e.f(d);d=""+String.fromCharCode(e.L(0)^c.L(4));d+=String.fromCharCode(e.L(1)^c.L(8));d+=String.fromCharCode(e.L(2)^c.L(12));d+=String.fromCharCode(e.L(3)^c.L(16));return d=b.crypto.M(d,a.ea).u()};d.jn_command_send_audio_pkt=d.bF=function(b){return a.Sa&&d.ws()?a.Sa.lt(b):!0};d.jn_command_send_video_pkt=d.dF=
function(b){return a.Sa&&d.xs()?a.Sa.ot(b):!0};d.jn_command_send_plugin_pkt=d.cF=function(b,c,d,e,g,m){return a.Sa?a.Sa.mt(b,c,d,e,g,m):!0};d.jn_command_send_spic_pkt=d.ts=function(b){return a.Sa?a.Sa.nt(b):!0};d.jn_command_AskQuestion=d.MD=function(){if(a.C&&!(a.qa||a.vb||a.pc||a.Ja)){var b=new r.a.g("Q");b.f(a.G);b.f(3);b.K("Yes");a.j.send(b.i());a.vb=!0}};d.jn_command_simulate_disconnect=d.eF=function(){b.a.log("simulate network disconnection");var c=new r.a.g("H");a.j.send(c.i())};d.jn_command_RefreshSlide=
d.tE=function(b){a.C&&(a.Pa&&(a.Pa.disconnect(),a.Pa=null),b=a.aa[b],b.data&&(a.wa-=b.data.length),b.data=null,b.ka=0,b.ib=0,b.xa=0,b.ra=0)};d.jn_command_DownloadSlide=d.UD=function(b,a,c,d){B(b,!1,a,c,d)};d.jn_command_DownloadSlideEx=d.VD=function(b,a,c,d){B(b,!0,a,c,d)};d.jn_command_StopSlideDownload=d.ps=function(){a.Pa&&(a.Pa.disconnect(),a.Pa=null)};d.jn_command_UploadSlide=d.UE=function(c,d,e,g,m,p,q){a.zc&&(a.zc.disconnect(),a.zc=null);a.C?a.zc=new b.protocol.Ks(a,c,d,e,g,m,p,q):setTimeout(function(){q&&
q()},0)};d.jn_command_StopSlideUpload=d.JE=function(){a.zc&&(a.zc.disconnect(),a.zc=null)};d.jn_command_UploadSelfPicture=d.TE=function(c,d){a.$c||1E6<d.length||(a.$c=new b.protocol.Ns(a,c,d))};d.jn_command_FlipSlide=d.vh=function(b){if(a.C){var c=new r.a.g("A");c.f(b);a.j.send(c.i());-1!=b&&d.ns(b)}};d.jn_command_PollSlideDownload=d.ns=function(b){d.ce&&setTimeout(function(){d.ce(b)},0);a.Vh&&clearTimeout(a.Vh);a.Vh=setTimeout(function(){a.Vh=null;if(a.C){var c=new r.a.g;c.o(a.N);c.f(a.Cg);c.f(0);
c.f(b);a.j.send(c.i())}},1E3)};d.jn_command_FocusPointer=d.YD=function(b,c,d,e,g,m,p){var h=new r.a.g;h.o(a.N);h.f(a.cn);h.f(b);h.f(c);h.f(d);h.f(e);h.f(g);h.f(m);h.f(p);a.j.send(h.i())};d.jn_command_SendNewStroke=d.CE=function(c,d,e,g,m,p){if(a.C){var h=new r.a.g;h.o(a.Kd);h.o(b.b.Mg);h.f(d);h.f(c);h.f(a.G);h.f(e);h.f(g);h.f(m.length);for(c=0;c<m.length;c++)h.f(m[c]),h.f(p[c]);h.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(h.i())},1E3*b.a.debug_mark_delay):a.j.send(h.i())}};d.jn_command_SendNewText=
d.DE=function(c,d,e,g,m,p,q,w){if(a.C&&!(2048<=w.length)){var h=new r.a.g;h.o(a.Kd);h.o(b.b.Ng);h.f(d);h.f(c);h.f(a.G);h.f(e);h.f(g);h.f(m);h.f(g+p);h.f(m+q);h.f(w.length);w.length&&h.D(b.crypto.M(w,a.ba));h.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(h.i())},1E3*b.a.debug_mark_delay):a.j.send(h.i())}};d.jn_command_SendMarkMove=d.BE=function(c,d,e,g,m){if(a.C){var h=new r.a.g;h.o(a.Kd);h.o(b.b.cj);h.f(c);h.f(d);h.f(e);h.f(g);h.f(100);h.f(m.length);for(c=0;c<m.length;c++)h.f(m[c]);b.a.debug_mark_delay?
setTimeout(function(){a.j.send(h.i())},1E3*b.a.debug_mark_delay):a.j.send(h.i())}};d.jn_command_SendImageMark=d.AE=function(c,d,e,g,m,p,q,w,y){if(a.C){var h=1==d?8:4;if(5E5<h+w.length)return 1;var v=new r.a.g;v.o(a.Kd);v.o(b.b.bj);v.f(c);v.f(e);v.f(g);v.f(q);v.f(d);v.f(h+w.length);4!=d&&(v.Fd(e+m),v.Fd(g+p));5!=d&&v.Zc(y);v.D(new r.a.g(w));b.a.debug_mark_delay?setTimeout(function(){a.j.send(v.i())},1E3*b.a.debug_mark_delay):a.j.send(v.i())}};d.jn_command_ConvertCustomizedData=d.RD=function(b,a,c,
d,e,g,m){var h=new r.a.g;4!=b&&(h.Fd(a+d),h.Fd(c+e));5!=b&&h.Zc(m);h.D(new r.a.g(g));return h.h(0)};d.jn_command_ChangeCapability=d.QD=function(b,c){!a.C||!!a.rh==!!b&&!!a.sh==!!c||(a.Lc=b,a.vd=c,b=new r.a.g,b.o(a.N),b.f(a.Xm),c=0,a.rh=a.Lc,a.sh=a.vd,a.Lc&&(c|=1),a.vd&&(c|=2),b.o(c),a.j.send(b.i()))};d.jn_command_AdjustVideoBitrate=d.Kb=function(c){var e,h=a.va,g=a.Rc,m=a.eb;if(a.Uc){var p=1;a.za!=a.ua&&p++;for(e=0;e<b.b.dd;e++)-1!=a.ac[e]&&p++;m=Math.min(a.Uc/p,m)}m=Math.min(a.Wf+a.Me,m)>>0;a.Rc=
m>>0;p=a.va;if(c){h=p;var q=a.va/20;q=Math.max(3E3,q);q+=500*Math.random();p+=q*c>>0;p=Math.max(h>>1,p);p=Math.min(h<<1,p)}p=Math.min(m-a.Me,p);p=Math.max(b.b.Lp,p);a.va=p;if(h!=a.va||g!=a.Rc)h!=a.va&&a.C&&(a.Ca("rate control, targetrate "+h+" -> "+a.va),a.F==b.b.R&&b.a.log("rate control, targetrate "+h+" -> "+a.va)),g!=a.Rc&&a.C&&(a.Ca("max bandwidth "+g+" -> "+a.Rc),a.F==b.b.R&&b.a.log("max bandwidth "+g+" -> "+a.Rc)),d.Rf&&d.Rf();for(e=0;e<b.b.Fb;e++)a.P[e]&&a.P[e].active&&(q=a.P[e].kd/20,q=Math.max(3E3,
q),q+=500*Math.random(),p=a.P[e].zb,p+=q*c>>0,h=a.P[e].kd,a.Se&&(h=Math.min(a.Se,h)>>0),p=Math.min(h,p),p=Math.max(1E3,p),p=Math.max(a.P[e].zb>>1,p),p=Math.min(a.P[e].zb<<1,p),a.P[e].zb!=p&&(a.C&&a.Ca("appdata channel "+e+", data rate "+a.P[e].zb+" -> "+p),a.P[e].zb=p,d.Jf&&d.Jf(e)))};d.jn_command_UpdatePreference=d.QE=function(b){if(a.C&&(!b||!a.qc)&&(b||a.qc)){a.qc=b;var c=new r.a.g;c.o(a.N);c.f(a.xn);c.f(a.G);c.f(b?1:0);a.j.send(c.i())}};d.jn_command_UpdateBothVideoPreference=d.PE=function(c){if(a.C&&
(!c||!a.ae)&&(c||a.ae)){a.ae=c;var d=new r.a.g;a.F==b.b.R?(d.o(a.N),d.f(a.si)):(d.o(a.bd),d.f(10));d.f(c?1:0);a.j.send(d.i())}};d.jn_command_RequestVideo=d.wE=function(b){if(a.C&&(!b||!a.Mc)&&(b||a.Mc)){a.Mc=b;var c=new r.a.g;c.o(a.xo);c.f(b?1:0);a.j.send(c.i())}};d.jn_command_ParticipantVideoRequest=d.gE=function(c){for(var d,e=d=-1,h=0;h<b.b.Qb;h++){if(a.kb[h]==c){d=h;break}-1==a.kb[h]&&(e=h)}if(a.F==b.b.R){if(!a.C)return 1;if(-1!=d)return 0;d=new r.a.g;d.o(a.N);d.f(a.nf);d.f(a.uq);d.f(c);a.j.send(d.i())}else if(a.F==
b.b.Fa){if(!a.C)return 1;if(-1!=d)return 0;-1==e&&(d=new r.a.g,d.o(a.N),d.f(a.Ag),d.f(a.kb[0]),d.f(0),a.j.send(d.i()),e=0);d=new r.a.g;d.o(a.N);d.f(a.Ag);d.f(c);d.f(1);a.j.send(d.i());0<=c&&c<b.b.Ha&&(a.kb[e]=c)}return 0};d.jn_command_ParticipantVideoStop=d.hE=function(c){var d;if(!a.C)return 1;var e=-1;for(d=0;d<b.b.Qb;d++)if(a.kb[d]==c){e=d;break}if(-1==e)return 0;a.F==b.b.R?(d=new r.a.g,d.o(a.N),d.f(a.nf),d.f(a.qq),d.f(c),a.j.send(d.i()),a.kb[e]=-1):a.F==b.b.Fa&&(a.kb[e]=-1,d=new r.a.g,d.o(a.N),
d.f(a.Ag),d.f(c),d.f(0),a.j.send(d.i()));return 0};d.jn_command_ParticipantVideoAssignSpeaker=d.fE=function(c){if(!a.C)return 1;if(a.G!=d.Ge())return 0;if(a.F==b.b.R){b.a.log("assign speaker to ssrc "+c);var e=new r.a.g;e.o(a.N);e.f(a.nf);e.f(a.lq);e.f(c);a.j.send(e.i())}return 0};d.jn_command_ParticipantVideoStopSpeaker=d.iE=function(c){if(!a.C)return 1;var e=d.Ge();if(c!=a.G&&a.G!=e)return 0;a.F==b.b.R&&(b.a.log("stop speaker ssrc "+c),e=new r.a.g,e.o(a.N),e.f(a.nf),e.f(a.nq),e.f(c),a.j.send(e.i()));
return 0};d.jn_command_GiveoutToken=d.$D=function(c){if(!a.C)return 1;if(c!=a.G&&!a.qa)return 0;b.a.log("change token to "+c+" - giveout token");var d=new r.a.g;d.o(a.Dg);d.f(c);a.j.send(d.i());return 0};d.jn_command_GiveoutToken2=d.aE=function(c,d){var e;if(!a.C)return 1;if(c!=a.G&&a.qa||!a.qa&&0==a.G&&c==a.G||!a.qa&&a.G==a.xb&&c==a.G||a.Mb&b.b.Pi&&!a.qa&&a.G==a.La&&c==a.G){if("undefined"==typeof d){d=[];var h={};h[c]=1;a.za==a.ua||h[a.za]||(h[a.za]=1,d.push(a.za));var g=a.ac;for(e=0;e<g.length;e++)-1==
g[e]||h[g[e]]||(h[g[e]]=1,d.push(g[e]));a.qa&&!h[a.G]&&d.push(a.G)}h=new r.a.g;if(d.length)for(h.o(a.N),h.f(a.pn),h.f(c),h.f(d.length),e=0;e<d.length;e++)h.f(d[e]);else h.o(a.Dg),h.f(c);a.j.send(h.i());b.a.log("change token to "+c+" - "+(a.qa?"holder":0==a.G?"owner":a.G==a.xb?"assistant":"controller")+" GiveoutToken2"+(d.length?" with question ["+d.toString()+"]":""))}return 0};d.jn_command_AllowQuestion=d.LD=function(c){if(!a.C)return 1;if(a.G==d.Ge()){var e=new r.a.g;e.o(a.yg);e.f(c);a.j.send(e.i());
b.a.log("set datasender to "+c)}return 0};d.jn_command_SkipQuestion=d.IE=function(b){if(!a.C)return 1;if(a.G==d.Ge()){var c=new r.a.g;c.o(a.ui);c.f(b);a.j.send(c.i())}return 0};d.jn_command_EndQuestion=d.WD=function(){if(!a.C)return 1;var b=new r.a.g;b.o(a.yg);b.f(-1);a.j.send(b.i());return 0};d.jn_command_EndQuestionRequest=d.XD=function(){if(!a.C)return 1;var b=new r.a.g;b.o(a.N);b.f(a.an);b.f(a.G);a.j.send(b.i());a.vb=!1;return 0};d.jn_command_Disconnect=d.TD=function(b){if(!a.C)return 1;var c=
new r.a.g;c.o(a.oi);c.f(b);a.j.send(c.i());return 0};d.jn_command_BanUserID=d.OD=function(b){if(!a.C||!a.Zb&&a.G!=a.xb)return 1;var c=new r.a.g;c.o(a.N);c.f(a.Wm);c.f(b);a.j.send(c.i());return 0};d.jn_command_SetController=d.FE=function(c){if(!a.C||!a.Zb&&!a.qa&&a.G!=a.La)return 1;var d=new r.a.g;d.o(a.N);d.f(a.Zm);d.f(c);a.j.send(d.i());b.a.log((a.Zb?"owner":a.qa?"holder":"controller")+" change controller to "+c);return 0};d.jn_command_AssignAssistant=d.ND=function(b){if(!a.C||!a.Zb&&a.G!=a.xb)return 1;
var c=new r.a.g;c.o(a.N);c.f(a.Vm);c.f(b);a.j.send(c.i());return 0};d.jn_command_TerminateSession=d.ME=function(){if(!a.C)return 1;var b=new r.a.g;b.o(a.ti);a.j.send(b.i());return 0};d.jn_command_SetControlFlag=d.EE=function(c){if(!a.C||!a.Zb&&!a.qa&&a.G!=a.La)return 1;var d=new r.a.g;d.o(a.N);d.f(a.kn);d.f(c);a.j.send(d.i());b.a.log([a.Zb?"owner":a.qa?"holder":"controller"," change control flag to 0x",c.toString(16),"(",b.m.yj(c),")"].join(""));return 0};d.jn_command_DeleteSlide=d.SD=function(b){if(!a.C)return 1;
var c=new r.a.g;c.o(a.ni);c.f(b);a.j.send(c.i());return 0};d.jn_command_SendClearMarking=d.zE=function(c){if(!a.C)return 1;var d=new r.a.g;d.o(a.mi);d.f(c);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i());return 0};d.jn_command_UndoMark=d.OE=function(c){if(!a.C)return 1;var d=new r.a.g;d.o(a.N);d.f(a.Ln);d.f(a.G);d.f(c);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i());return 0};d.jn_command_GlobalUndoMark=
d.bE=function(c,d){if(!a.C)return 1;var e=new r.a.g;e.o(a.Kd);e.K("u");e.f(c);e.f(d);b.a.debug_mark_delay?setTimeout(function(){a.j.send(e.i())},1E3*b.a.debug_mark_delay):a.j.send(e.i());return 0};d.jn_command_PollResult=d.rE=function(b,c){if(!a.C)return 1;var d=new r.a.g;1==b?d.o(a.wi):(d.o(a.N),d.f(a.vi));d.f(2);d.f(c);a.j.send(d.i());return 0};d.jn_command_TokenHolderPoll=d.NE=function(){if(!a.C)return 1;var b=new r.a.g;b.o(a.N);b.f(a.vi);b.f(1);a.j.send(b.i());return 0};d.jn_command_UserContinue=
d.XE=function(){var b=new r.a.g;b.f(1);a.j.send(b.i())};d.jn_command_UserCancel=d.WE=function(){var c=new r.a.g;c.f(0);a.j.send(c.i());b.a.log("user choose not to continue");setTimeout(function(){D()},1E3)};d.jn_command_JointBrowsingMode=d.dE=function(b){if(!a.C)return 1;var c=new r.a.g;c.o(a.N);c.f(a.jn);c.f(b);a.j.send(c.i());return 0};d.jn_command_SyncFullScreen=d.KE=function(b,c){if(!a.C)return 1;var d=new r.a.g;d.o(a.N);d.f(a.Gn);d.f(b);d.f(c);a.j.send(d.i());return 0};d.jn_command_ProvidePassword=
d.sE=function(c){c=b.crypto.ad(c);var d=new r.a.g;d.f(20);d.D(b.crypto.M(c,a.ea));a.j.send(d.i())};d.jn_command_JointBrowsing=d.cE=function(c,d){if(!(d.length>=b.b.hj)){var e=new r.a.g;e.o(a.N);e.f(a.hn);e.f(c);e.H(d);a.j.send(e.i())}};d.jn_command_ForceSync=d.ZD=function(){if(!a.C)return 1;var b=new r.a.g;b.o(a.N);b.f(a.dn);a.j.send(b.i())};d.jn_command_SetRecordingStatus=d.HE=function(b){if(!a.C)return 1;var c=new r.a.g;c.o(a.N);c.f(a.An);c.f(b);a.j.send(c.i())};d.jn_command_PlugInSetRecvingPrio=
d.pE=function(c,d){if(0>c||c>b.b.Fb||!a.C)return 1;var e=new r.a.g;e.o(a.N);e.f(a.Bg);e.f(a.vn);e.f(c);e.f(d);a.j.send(e.i());a.Ca("appdata_set_recv_prio(channel "+c+") "+d)};d.jn_command_SwapSlide=d.qs=function(b,c){if(!a.C)return 1;var d=new r.a.g;d.o(a.N);d.f(a.Fn);d.f(b);d.f(c);a.j.send(d.i())};d.jn_command_MoveSlide=d.ms=function(b,c){if(!a.C)return 1;var d=new r.a.g;d.o(a.N);d.f(a.ln);d.f(b);d.f(c);a.j.send(d.i())};d.jn_command_RequestPlugInChannel=d.vE=function(c,e,g,m){if(!a.C||a.F!=b.b.R||
d.Yq()!=a.G)return 1;var h=new r.a.g;h.o(a.N);h.f(a.Bg);h.f(a.wn);h.f(g);h.f(c);h.f(0);h.f(0);h.f(m);h.K(e);a.j.send(h.i())};d.jn_command_PlugInSetStaticData=d.qE=function(c,d){if(0>c||c>b.b.Fb||!a.C||a.F!=b.b.R||d.length>a.Og)return 1;var e=new r.a.g;e.o(a.N);e.f(a.Bg);e.f(a.ri);e.f(c);e.f(d.length);d.length&&e.D(b.crypto.M(d,a.ba));a.j.send(e.i())};d.jn_command_PlugInCloseChannel=d.nE=function(c){if(0>c||c>b.b.Fb||!a.C||a.F!=b.b.R||a.P[c].zm!=a.G)return 1;var d=new r.a.g;d.o(a.N);d.f(a.pi);d.f(c);
a.j.send(d.i())};d.jn_command_PlugInControlChannelSend=d.oE=function(c,d,e,g,m){if(0>c||c>b.b.Fb||!a.C||m.length>a.fj)return 1;var h=new r.a.g;h.o(a.N);h.f(a.qn);h.f(c);h.f(d);h.f(g);h.f(m.length);m.length&&h.D(b.crypto.M(m,a.ba));h.f(e);a.j.send(h.i())};d.jn_command_SetJNRPassword=d.GE=function(c){if(!a.C||27<c.length)return 1;var d=new r.a.g;d.o(a.N);d.f(a.fn);d.f(c.length);c.length&&d.D(b.crypto.M(c,a.ba));a.j.send(d.i())};d.jn_command_UpdateVideoSendingStatus=d.SE=function(c){if(!a.C||a.F!=b.b.R)return 1;
var d=new r.a.g;d.o(a.N);d.f(a.wo);d.f(c?1:2);a.j.send(d.i())};d.jn_command_UseReconnectName=d.VE=function(b){a.he=b&&12==b.length?b:""};d.jn_command_sipclient_response=d.fF=function(c,d,e){if(!a.C||a.F!=b.b.R)return 1;var g=new r.a.g;g.o(a.N);g.f(a.Bn);g.f(a.Cn);g.f(d.length);d.length&&g.D(b.crypto.M(d,a.ba));g.f(c);g.f(e);a.j.send(g.i())};d.jn_command_RequestAudio=d.uE=p;d.jn_command_WebRTCStatusNotification=d.$E=function(b){if(!a.C)return 1;var c=new r.a.g;c.o(a.N);c.f(a.yo);c.o(b);a.j.send(c.i())};
d.jn_info_GetUserTextCodePage=d.kF=m;d.jn_info_GetWebOfficeVisitorTargetID=d.mF=function(){return 4!=a.bb||a.je||95!=a.Ma.charCodeAt(0)?"":a.rc};d.jn_info_GetWebOfficeOwnerTargetID=d.lF=function(){return 5!=a.bb||a.bc?"":a.rc};d.jn_info_IsWOOwnerWrongPassword=d.tF=function(){var b=!a.ke&&5==a.bb&&!a.bc;return!a.ke&&4==a.bb&&!a.je&&95!=a.Ma.charCodeAt(0)&&!a.bc||b?a.Ma:""};d.jn_info_IsSlideSameGroup=d.rF=function(b,c){b=a.aa[b];c=a.aa[c];return b.Cd==c.Cd&&b.fc==c.fc&&b.Ga==c.Ga?!0:!1};d.jn_info_IsSlideDownloading=
d.qF=function(){return a.Pa&&-1!=a.Pa.index};d.jn_info_CanSendAudio=d.ws=function(){return a.qa||a.Ja||a.pc||a.Gf};d.jn_info_CanSendVideo=d.xs=function(){return a.qa||a.Ja||a.pc&&a.th};d.jn_info_IsTalker=d.sF=I;d.jn_info_CanAddMark=d.jF=function(){return a.xh>=a.In?I()||b.$.pj():a.Ja||a.pc||b.$.pj()};d.jn_info_HasMyPicture=d.nF=function(){return!!a.$c};d.jn_info_joinnet_token_holder_video=d.uF=function(){return!!a.lm};d.jn_info_IsAllQuestionerMeeting=d.oF=function(){return a.Vk};d.jn_info_IsNoAudioSupportedByMCU=
d.pF=A})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){return""+x.Gb+"."+x.Hb+"."+x.Fe+" built on 02/05/2019"}function F(){if(!b.a.td){var a=Date.now(),c;for(c in b.a.localStorage)if(b.a.localStorage.hasOwnProperty(c)&&0==c.indexOf("hmtg_temp_autodelete_")){var d=b.a.Yc(b.a.localStorage[c]);("undefined"===d||!d.time||!d.value||6E4<a-d.time)&&b.a.localStorage.removeItem(c)}}}function c(a){y(a);a.J=b.b.To;n.S&&n.S(a);a.we=setTimeout(function(){a.we=null;36E3>a.pd&&(a.pd+=a.pd+1);G(a)},1E3*a.pd);b.a.log(6,["schedule to retry connecting ",
a.pd," seconds later for ",a.l].join(""))}function y(b){null!=b.we&&(clearTimeout(b.we),b.we=null)}function g(a,c,d,e){if(!a.fb[c]){var f=b.a.A(),l=new B;l.gh=c;l.V=d;l.se="";l.nb={};l.nb[d]=f-6E4;l.count=1;"undefined"===typeof l.nb[e]&&(l.count++,l.nb[e]=f-6E4);q(a,l);a.fb[c]=l;a.Ad++;n.Ra&&n.Ra(a,c)}}function q(b,a){if(128<=a.se.length+(" - "+a.count+"()").length)a.$a=a.se;else{a.$a=a.se+" - "+a.count+"(";if(!(128<=a.$a.length+4)){var f=1,c;for(c in a.nb)if(a.nb.hasOwnProperty(c)){var d=n.Tk(b,
c);if(f)if(f=0,128<=a.$a.length+d.length+(1==a.count?1:5)){a.$a+="...";break}else a.$a+=d;else if(128<=a.$a.length+1+d.length+(1==a.count?1:5)){a.$a+=",...";break}else a.$a+=","+d}}a.$a+=")"}}function E(){}function e(){this.jh=function(){this.Bd={};this.lb={};this.oa=[];this.$e=[];this.dc=[];this.fb={};this.Ad=0;this.gg=[];this.Sh=[];this.ih=this.Ua="";this.di=[]};this.pd=0;this.we=null;this.jh();this.Fc=this.pb=this.Oa="";this.V={};this.od={};this.rd={}}function D(){}function w(){}function B(){}
function p(){for(var a=[],c=0;c<x.la.length;c++){var d=x.la[c],e={};e.office_name=d.Oa;e.homepage=d.ia;e.visitor_folded=d.ye;e.share_file_folded=d.ff;e.event_folded=d.Qd;e.publish_file_folded=d.df;e.pgc_folded=d.re;e.noncontact_folded=d.qe;e.guest=d.T;d.T||(e.last_status=d.dg,e.userid=d.O,(e.saved_password=d.Hd)&&(e.password=b.crypto.M(d.password,b.crypto.jf).u()));a.push(e)}b.a.localStorage.hmtg_wbl=JSON.stringify(a)}function m(b,a,c,d){var f;for(f=0;f<x.la.length;f++){var e=x.la[f];if(e.T==b&&e.ia==
c&&(b||a==e.O)){e.dg=d;break}}}function I(a){a.T&&(a.Tb=1);a.J=b.b.zo;var f=N.a.$s(a.ia),c=a.Lj=""+b.a.A()+Date.now()+(new N.a.g(N.random.ya(8))).Pb();f&&f.path&&"/raw/"==f.path.toLowerCase()?A(c,a,f.host,"",f.port,0):(n.Vj&&n.Vj(c,a,a.ia,A),a.disconnect=function(){a.Lj=""+b.a.A()+Date.now()+(new N.a.g(N.random.ya(8))).Pb();a.J=b.b.ze;n.S&&n.S(a);b.a.log("sign out for "+a.l)})}function A(a,c,d,e,g,l){a==c.Lj&&(c.disconnect=function(){},"undefined"===typeof d?(c.Dj?n.s&&n.s(c,b.b.Sp):n.s&&n.s(c,b.b.Qp),
c.J=b.b.Do,n.S&&n.S(c),b.a.log(["download jnj fail for ",c.l].join(""))):d&&g?(b.a.log(2,["getmcuinfo for ",c.ia,": ip=",d,",backupip=",e,",port=",g,",port2=",l].join("")),c.Jb=d,c.cr=e,c.port=g,c.port2=l,d=b.m.Wh(d,e,g,l),a=d.Ph,d=d.bi,c.J=b.b.Ji,n.S&&n.S(c),r(c,a,d)):(n.s&&n.s(c,b.b.eq),c.J=b.b.Lo,n.S&&n.S(c),b.a.log(["download jnj invalid for ",c.l].join(""))))}function r(f,d,e){function g(a){d[a].Ac=null;d[a].Dd?b.a.log(["msgr connecting to backup mcu ",d[a].Z,",",d[a].ma,"..."].join("")):e&&
0==a?b.a.log(["msgr connecting to (switched) primary mcu ",d[a].Z,",",d[a].ma,"..."].join("")):b.a.log(["msgr connecting to primary mcu ",d[a].Z,",",d[a].ma,"..."].join(""));d[a].Ed=new b.protocol.gm(x.Gb,x.Hb,null,d,a,function(){d[a].qd=!0;d[a].Ob?l():0==a?(O&&(clearTimeout(O),O=null),t(0),p=0,f.J=b.b.Ni,n.S&&n.S(f),new b.protocol.Re(x.Gb,x.Hb,d[0],d[0].Z,d[0].ma,m)):O||h()})}function h(){O=null;var a;for(a=0;a<d.length;a++)if(d[a].qd&&!d[a].Ob){t(a);p=a;f.J=b.b.Ni;n.S&&n.S(f);new b.protocol.Re(x.Gb,
x.Hb,d[a],d[a].Z,d[a].ma,m);break}}function l(){var a;for(a=0;a<d.length;a++)if(!d[a].qd||!d[a].Ob)return;O&&(clearTimeout(O),O=null);f.Je&&n.s&&n.s(f,b.b.Rp);f.J=b.b.Eo;n.S&&n.S(f);f.Ej&&(f.Je=0,c(f),f.disconnect=function(){y(f)})}function t(b){var a;for(a=0;a<d.length;a++)d[a].Ac?(clearTimeout(d[a].Ac),d[a].Ac=null):d[a].qd?a==b||d[a].Ob||d[a].j.close():d[a].Ed&&d[a].Ed.disconnect&&d[a].Ed.disconnect()}function m(c){if(c)1<d.length?(e=0,b.a.log(["connection to mcu ",d[p].Z,",",d[p].ma," fails during key exchange, but we'd like to try other entries"].join("")),
d.splice(p,1),r(f,d,e)):(f.Je&&n.s&&n.s(f,b.b.ij),f.J=b.b.Ki,n.S&&n.S(f));else{c=p;var l=d[c].Oe;f.vm=d[c].sc;var g=b.m.jg(f.vm);f.ef=g.mb;f.$h=g.Eb;f.pt=g.gf;f.Vs=d[c].Ye;f.Us=d[c].Xe;f.jd=d[c].jd;f.B=d[c].ea;f.j=d[c].j;f.Gd=d[c].Gd;f.Z=d[c].Z;f.port=d[c].ma;f.gi=d[c].Dd;c=f.j;if(l){l=new N.a.g("4");c.send(l.i());if(f.gi&&d[0].Z.length){g=b.a.qb(d[0].Z);var h=g.length;l.clear();l.f(4+h);l.f(b.protocol.ii);l.K(g);c.send(l.i())}l.clear();l.f(7);l.f(b.protocol.mf);l.K("WEB");c.send(l.i());b.m.ah&&(l.clear(),
l.f(10),l.f(b.protocol.mf),l.K("NCHOME"),c.send(l.i()));b.m.vendor&&20>=b.m.vendor.length&&(l.clear(),l.f(4+b.m.vendor.length),l.f(b.protocol.ki),l.K(b.m.vendor),c.send(l.i()));l.clear();l.f(0);c.send(l.i())}a(f)}}var p,q;for(q=0;q<d.length;q++)d[q].Ac=setTimeout(g,500*q,q),d[q].Ob=b.b.Lg;var O=setTimeout(h,5E3);f.disconnect=function(){t(-1);f.J=b.b.ze;n.S&&n.S(f);b.a.log("sign out for "+f.l)}}function a(a){function f(){a.v.onmessage||(a.v.onmessage=function(){a.v.onmessage=null;w()},a.v.postMessage({command:"set"}))}
function e(){m();na=setTimeout(function(){na=null;a.j!=ea&&(b.a.log("!!!Info, need take care of this(3)!!!"),n.s&&n.s(a,99993));qa++;if(3<=qa)b.m.I(ea),b.a.log(["time out(try again) for ",a.l].join("")),a.Je=0,a.we||c(a);else{var d=new N.a.g;d.o(x.xi);d.K("0");ea.send(d.i());e()}},2E4)}function m(){null!=na&&(clearTimeout(na),na=null)}function p(){a.v.onmessage&&(a.v.onmessage=null,a.v.postMessage({command:"clear"}))}function l(c){if(u.length()&&!a.Ec){var d=b.a.A()-ra;20<d||9<=ma?(500<d&&b.a.log("info, jmkernel handler("+
c+") depth="+ma+",use "+d+"ms"),f()):(ma++,da())}}function r(){a.Gc||!a.Jd&&!a.kf||(b.a.log([a.Jd?"peer close for ":"recv error(try again) for ",a.l].join("")),a.Je=0,K(),c(a))}function w(){if(!a.Ec){var c=u.length();if(c){ma=0;ra=b.a.A();da();var d=u.length();d&&d!=c||r()}else r()}}function A(){R=new N.a.g(u);var c=u.L(0);if(0<=c&&c<=x.Ep)return va[c]();b.a.log(["unknown command[",c,"/0x",c.toString(16),"] for ",a.l].join(""));K(b.b.Li)}function z(){var c=u.L(0);n.s&&n.s(a,b.b.kj);b.a.log(["unknown(unsupported) command[",
c,"/0x",c.toString(16),"] for ",a.l].join(""));K(b.b.Li)}function C(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[OFFICE_JNJ?,200] for "+a.l),K(b.b.cd);else if(!(c<5+d)){var f=u.L(0),e="",g=0;if(f==x.Hi||f==x.Eg){if(c<5+d+4)return;g=u.c(5+d);if(0>g||128<=g){n.s&&n.s(a,b.b.Ea);b.a.log("wrong jnj len[OFFICE_JNJ?,500] for "+a.l);K(b.b.hb);return}if(c<5+d+4+g)return;e=u.h(5+d+4,g);g=4+g}c=b.crypto.w(u.h(5,d),a.B).u();f==x.Eg&&(a.Am=0);a.da||f==x.Bi||
(c=n.Tr(c,a.password));f==x.Eg?n.dk&&n.dk(a,e):f==x.Qn?(b.a.log("exceed diskquota, "+a.l),n.bk&&n.bk(a)):f==x.Hi?n.gk&&n.gk(a,c,e):f==x.Bi?n.Ud&&n.Ud(c,!0):n.Ud&&n.Ud(c);u.shift(5+d+g);S=R;l("COMMAND_US_OFFICE_JNJ_PLUS")}}}function E(){var c=u.length();if(!(6>c)){var d=u.c(2);if(0>d||128<=d)n.s&&n.s(a,b.b.Ce),b.a.log("recv error[JOIN_REQUEST_ERROR,200] for "+a.l),K(b.b.Bc);else if(!(c<6+d+4)){var f=u.c(6+d);if(0>f||128<=f)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[JOIN_REQUEST_ERROR,500] for "+
a.l),K(b.b.hb);else{var e=u.L(1),g=u.h(6,d),h=u.h(6+d+4,f);if(u.L(0)==x.eo){if(c<6+d+4+f+4)return;c=u.c(6+d+4+f)>>>0;n.Pr&&n.Pr(a,g,h,e,c);u.shift(6+d+4+f+4)}else{if(c<6+d+4+f)return;e!=b.b.Lq&&n.Or&&n.Or(a,g,h,e);u.shift(6+d+4+f)}S=R;l("COMMAND_US_JOIN_REQUEST_ERROR_PLUS")}}}}function F(){var c=u.length();if(!(17>c)){var d=u.c(13);if(0>d||128<=d)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[VISITOR_SESSION,200] for "+a.l),K(b.b.hb);else if(!(c<17+d)){var f=u.c(1);c=u.c(5);var e=u.c(9),g=u.h(17,
d);if(u.L(0)==x.Gi)f?(1==f||2==f)&&n.Hk&&n.Hk(a,g,f):n.Ur(a);else{var h=!1;if(f)h={},h.visitor_name=g,h.start_tick=e,h.iSessionIndex=c,a.$e.push(h),h=!0,n.Ok&&n.Ok(a,g);else for(g=0;g<a.$e.length;g++)if(f=a.$e[g],f.iSessionIndex==c&&f.start_tick==e){a.$e.splice(g,1);h=!0;break}h&&n.Lk&&n.Lk(a)}u.shift(17+d);S=R;l("COMMAND_US_VISITOR_SESSION")}}}function G(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(b.a.log("wrong peer id len[ShortTyping 500] for "+a.l),K()):c<5+d||(c=u.h(5,d),n.Ik&&n.Ik(a,
c),u.shift(5+d),S=R,l("COMMAND_US_SHORT_TYPING"))}}function I(){var c="",d=0;var f=u.length();if(!(5>f)){var e=u.c(1);if(0>e||128<=e)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[WEBRTC_SIGNAL,200] for "+a.l),K(b.b.hb);else if(!(f<5+e+4)){var g=u.c(5+e);if(0>g||1E4<=g)n.s&&n.s(a,b.b.Ea),b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,300] for "+a.l),K(b.b.pf);else if(!(f<5+e+4+g)){var h=u.L(0);if(h==x.Ii){if(f<5+e+4+g+4)return;var t=u.c(9+e+g);if(0>t||128<=t){n.s&&n.s(a,b.b.Ea);b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,400] for "+
a.l);K(b.b.pf);return}if(f<5+e+4+g+4+t+4)return}f=u.h(5,e);if(h==x.Ii)h=u.c(13+e+g+t),d=8+t,c=u.h(13+e+g,t),n.Le(a,h,f,c);else{if(t=ba(a,f))c=t.username;c||(c=f)}t=b.crypto.w(u.h(5+e+4,g),a.B).u();n.Pk&&n.Pk(a,t,f,c);u.shift(9+e+g+d);S=R;l("COMMAND_US_WEBRTC_SIGNAL")}}}}function H(){var c="",d="",f="",e=0;var g=u.length();if(!(5>g)){var h=u.c(1);if(0>h||128<=h)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[SHORT_MESSAGE?,200] for "+a.l),K(b.b.hb);else if(!(g<5+h+4)){var t=u.c(5+h);if(0>t||500<=t)n.s&&
n.s(a,b.b.Be),b.a.log("wrong short message len[SHORT_MESSAGE?,500] for "+a.l),K(b.b.Ae);else if(!(g<5+h+4+t+4)){var m=u.c(5+h+4+t);if(0>m||100<=m)n.s&&n.s(a,b.b.Np),b.a.log("wrong homepage len[SHORT_MESSAGE?,800] for "+a.l),K(b.b.Fg);else{var p=u.L(0),q=5+h+4+t+4+m;if(p!=x.po){if(g<q+4)return;var r=u.c(q);if(0>r||5E3<=r){n.s&&n.s(a,b.b.Be);b.a.log("wrong short message2 len[SHORT_MESSAGE?,1100] for "+a.l);K(b.b.Ae);return}c=b.crypto.w(u.h(q+4,r),a.B).u();q+=4+r;if(p==x.Fi||p==x.Di||p==x.Ci){if(g<q+
4)return;r=u.c(q);if(0>r||128<=r){n.s&&n.s(a,b.b.Be);b.a.log("wrong param->guest user name len[SHORT_MESSAGE?,1400] for "+a.l);K(b.b.Ae);return}d=u.h(q+4,r);q+=4+r;if(p==x.Di||p==x.Ci){if(g<q+4)return;e=u.c(q);q+=4}}}g=u.h(5,h);r=b.crypto.w(u.h(5+h+4,t),a.B).u();h=u.h(5+h+4+t+4,m);if(t=ba(a,g))f=t.username;f||(f=g);n.Fk&&n.Fk(a,p,r,c,g,h,d,e,f);u.shift(q);S=R;l("COMMAND_US_SHORT_MESSAGE_PLUS")}}}}}function P(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)n.s&&n.s(a,b.b.Ce),b.a.log("wrong target userid len in short message failure[MESSAGE_FAILURE?,200] for "+
a.l),K(b.b.Bc);else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||500<=f)n.s&&n.s(a,b.b.Be),b.a.log("wrong short message len[MESSAGE_FAILURE?,500] for "+a.l),K(b.b.Ae);else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||5E3<=e)n.s&&n.s(a,b.b.Be),b.a.log("wrong short message2 len[MESSAGE_FAILURE?,800] for "+a.l),K(b.b.Ae);else if(!(c<5+d+4+f+4+e)){c=u.h(5,d);var g=b.crypto.w(u.h(5+d+4,f),a.B).u();var h=b.crypto.w(u.h(5+d+4+f+4,e),a.B).u();n.Gk&&n.Gk(a,c,g,h,u.L(0));u.shift(5+d+4+f+4+e);S=R;l("COMMAND_US_SHORT_MESSAGE_FAILURE_PLUS")}}}}}
function T(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[JoinGroup2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[JoinGroup2 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||500<=e)b.a.log("wrong user name len[JoinGroup2 800] for "+a.l),K();else if(!(c<5+d+4+f+4+e+8)){if(c=u.h(5,d))if(61!=c.charCodeAt(0))n.ud(a,c);else{var g=u.h(5+d+4,f),h=u.c(5+d+4+f+4+e+4)>>>0,t=a.fb[c];if(t&&t.count==
h&&"undefined"===typeof t.nb[g]){h=u.h(5+d+4+f+4,e);var m=u.c(5+d+4+f+4+e);t.nb[g]=b.a.A()-6E4;t.count++;q(a,t);a.da&&n.Le(a,m,g,h);n.Bb&&n.Bb(a,c,g,h)}else n.ud(a,c),n.Yd&&n.Yd(a,c),t&&(delete a.fb[c],a.Ad--);n.Ra&&n.Ra(a,c)}u.shift(5+d+4+f+4+e+8);S=R;l("COMMAND_US_JOIN_GROUP2_PLUS")}}}}}function X(){var c=u.length();if(!(13>c)){var d=u.c(9);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[MMC_JOIN_REQUEST_JNJ?,200] for "+a.l),K(b.b.cd);else if(!(c<13+d)){c=u.c(1)>>>0;var f=u.c(5),e=u.h(13,
d);0==f&&d&&(e=b.crypto.w(e,a.B).u());n.jk&&n.jk(a,c,f,e);u.shift(13+d);S=R;l("COMMAND_US_MMC_JOIN_REQUEST_JNJ_PLUS")}}}function Y(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[SHARE_FILE,200] for "+a.l),K(b.b.cd);else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||100<=f)n.s&&n.s(a,b.b.jj),b.a.log("wrong homepage len[SHARE_FILE,500] for "+a.l),K(b.b.Fg);else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||128<=e)n.s&&n.s(a,b.b.Ea),b.a.log("wrong owner name len[SHARE_FILE,800] for "+
a.l),K(b.b.hb);else if(!(c<5+d+4+f+4+e+4)){var g=u.c(5+d+4+f+4+e);if(0>g||128<=g)n.s&&n.s(a,b.b.Ea),b.a.log("wrong title len[SHARE_FILE,1100] for "+a.l),K(b.b.hb);else{var t=u.L(0)==x.io?4:0;if(!(c<5+d+4+f+4+e+4+g+8+t+4)){var m=u.c(5+d+4+f+4+e+4+g+8+t);if(0>m||128<=m)n.s&&n.s(a,b.b.Ea),b.a.log("wrong subject len[SHARE_FILE,1600] for "+a.l),K(b.b.hb);else if(!(c<5+d+4+f+4+e+4+g+8+t+4+m)){c={};c.jnj=u.h(5,d);c.owner_homepage=u.h(5+d+4,f);c.owner_name=u.h(5+d+4+f+4,e);c.title=u.h(5+d+4+f+4+e+4,g);c.duration=
u.c(5+d+4+f+4+e+4+g);c.share_type=u.c(5+d+4+f+4+e+4+g+4);var p=0;t&&(p=u.c(5+d+4+f+4+e+4+g+8));c.recv_tick=b.a.time()-p;c.subject=u.h(5+d+4+f+4+e+4+g+8+t+4,m);c.read=0;h(a,c);n.Xb(a);n.fk&&n.fk(a,c);u.shift(5+d+4+f+4+e+4+g+8+t+4+m);S=R;l("COMMAND_US_SHARE_FILE_PLUS")}}}}}}}}function Z(a){a.Ec&&(a.wj&&a.wj(),a.Ec=!1,a.ei=null);a.Th&&(a.Th.stop(),a.Th=null);a.Wa&&(clearTimeout(a.Wa),a.Wa=null);a.wc&&(a.wc.stop(),a.wc=null);a.Gc&&(clearTimeout(a.Gc),a.Gc=null,b.a.log("quit() stop delayed disconnect for "+
a.l))}function K(c){b.m.om(S,u);m();y(a);p();a.v.terminate();da=b.m.Y;Z(a);a.J=c||b.b.Bo;n.S&&n.S(a);b.m.I(a.j);n.zf&&n.zf(a)}function aa(c){if(a.Gc)b.a.log("disconnect() found delayed disconnect in progress for "+a.l);else if(a.Wa||a.wc)b.a.log("disconnect() start delayed disconnect for "+a.l),a.Gc=setTimeout(function(){a.Gc=null;b.a.log("disconnect() execute delayed disconnect for "+a.l);aa(c)},1E3),a.Wa&&(clearTimeout(a.Wa),a.Wa=null,v(a));else return m(),y(a),p(),a.v.terminate(),da=b.m.Y,Z(a),
a.J=c||b.b.ze,n.S&&n.S(a),b.m.I(a.j),b.a.log("sign out for "+a.l),n.zf&&n.zf(a),!0}var ea=a.j;a.Jd=a.kf=!1;var u=a.Gd,R=new N.a.g,S=new N.a.g,na=null;a.v=new Worker("worker/worker_timeout.js");a.v.onmessage=null;var da=b.m.Y,qa=0,sa=0,ma=0,ra=0;a.ei=function(){f()};var va=[function(){var c=u.length();if(!(2>c)){switch(u.L(1)){case b.b.Nq:n.s&&n.s(a,b.b.Xp);a.J=b.b.pf;break;case b.b.Gq:n.s&&n.s(a,b.b.Op);a.J=b.b.Co;break;case b.b.Pq:n.s&&n.s(a,b.b.$p);a.J=b.b.Go;break;case b.b.Oq:a.T||(a.cf=1);n.s&&
n.s(a,b.b.Yp);a.J=b.b.Fo;break;case b.b.Hq:n.s&&n.s(a,b.b.aq);a.J=b.b.Ho;break;case b.b.Fq:n.s&&n.s(a,b.b.Pp);a.J=b.b.Ao;break;case b.b.Iq:a.T||(a.cf=1);if(10>c)return;var d=u.c(2),f=u.c(6);if(0>f||1E4<=f){n.s&&n.s(a,b.b.ij);b.a.log("recv error[INIT_INFO,300] for for "+a.l);K(b.b.Ki);return}if(c<10+f)return;c=u.h(10,f);n.Ff&&n.Ff(a,d,c);a.J=b.b.Io;u.shift(8+f);break;case b.b.Mq:n.s&&n.s(a,b.b.cq);a.J=b.b.Jo;break;case b.b.Kq:n.s&&n.s(a,b.b.bq);a.J=b.b.Mo;break;case b.b.Jq:n.s&&n.s(a,b.b.fq);a.J=b.b.Ko;
break;default:n.s&&n.s(a,b.b.Vy),a.J=b.b.Oo}u.shift(2);b.a.log("init info quit for for "+a.l);K(a.J)}},z,function(){n.s&&n.s(a,b.b.gq);u.shift(1);S=R;b.a.log("being overwritten for "+a.l);aa(b.b.No)},function(){n.s&&n.s(a,b.b.hq);u.shift(1);S=R;b.a.log("being removed for "+a.l);aa(b.b.Po)},C,C,C,E,z,z,z,C,C,function(){function c(a,b,c,d){if(a.T||!a.Tb||b==(a.da?a.Qa:a.O))return!1;var f,e=!1;for(f=0;f<a.oa.length;f++){var l=a.oa[f],g;for(g=0;g<l.m_pContactArray.length;g++){var h=l.m_pContactArray[g];
if(h.id==b){h.name!=c&&(h.name=c,e=!0);h.pm!=d&&(h.pm=d,e=!0);break}}}e&&n.Xb(a)}var d,f,e=u.length();if(!(13>e)){var g=u.c(1);var h=u.c(5),t=u.c(9);if(0>t||128<=t)n.s&&n.s(a,b.b.Ce),b.a.log("wrong userid len[STATUS_CHANGE,200] for "+a.l),K(b.b.Bc);else if(!(e<13+t+4)){var m=u.c(13+t);if(0>m||128<=m)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[STATUS_CHANGE,500] for "+a.l),K(b.b.Bc);else if(!(e<13+t+4+m+16)){e=u.c(13+t+4+m);var p=u.c(13+t+4+m+4),q=u.c(13+t+4+m+8),r=u.c(13+t+4+m+12);if(0>r||128<=
r)n.s&&n.s(a,b.b.Ea),b.a.log("wrong personal_info len[STATUS_CHANGE,900] for "+a.l),K(b.b.Bc);else{var O=u.h(13,t),v=u.h(13+t+4,m),w=u.h(13+t+4+m+16,r);v||(b.a.log(1,"office "+a.ia+", username is empty for userid "+O+", reset it using userid"),v="EmptyName_status("+O+")".slice(0,127));var Q=0,J;if(a.da){g=d=f=0;if(J=a.Bd[O]){if(d=J.status,g=J.Ta,v!=J.username&&(f=1),v!=J.username||w!=J.Ua)Q=1}else J=new D,Q=1,a.Bd[O]=J;J.status=h;J.Ta=e;J.mb=p;J.Eb=q;J.O=O;J.username=v;J.Ua=w;Q&&(Q=c(a,O,v,w));f&&
n.mh(a,O);n.Zd&&n.Zd(a,J);a.qg&&a.Qa!=O&&(d==b.b.Rb||!d&&!g)&&h!=b.b.Rb&&(h||e)&&n.mk&&n.mk(a,O)}else{J=a.lb[g];J||(J=new D,a.lb[g]=J,Q=1);f=0;d=J.status;g=J.Ta;v!=J.username&&(f=1);if(v!=J.username||w!=J.Ua)Q=1;J.status=h;J.Ta=e;J.mb=p;J.Eb=q;J.O=O;J.username=v;J.Ua=w;Q&&(Q=c(a,O,v,w));f&&n.mh(a,O);n.Zd&&n.Zd(a,J);a.qg&&a.O!=O&&(d==b.b.Rb||!d&&!g)&&h!=b.b.Rb&&(h||e)&&n.lk&&n.lk(a,O)}n.Cf&&n.Cf(a,J);u.shift(13+t+4+m+16+r);S=R;l("COMMAND_US_STATUS_CHANGE")}}}}},function(){if(!(5>u.length())){var c=
u.c(1);0<=c&&c<b.b.Ha&&a.lb&&a.lb[c]&&(a.lb[c].status=0,a.lb[c].Ta=0,a.lb[c].O&&(n.Zd&&n.Zd(a,a.lb[c]),n.Cf&&n.Cf(a,a.lb[c])));u.shift(5);S=R;l("COMMAND_US_STATUS_REMOVE")}},z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[INVITE,200] for "+a.l),K(b.b.cd);else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||100<=f)n.s&&n.s(a,b.b.jj),b.a.log("wrong homepage len[INVITE,500] for "+a.l),K(b.b.Fg);else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||128<=
e)n.s&&n.s(a,b.b.Ce),b.a.log("wrong userid len[INVITE,800] for "+a.l),K(b.b.Bc);else if(!(c<5+d+4+f+4+e)){c=b.crypto.w(u.h(5,d),a.B).u();var g=u.h(5+d+4,f),h=u.h(5+d+4+f+4,e);n.ck&&n.ck(a,c,h,g);u.shift(5+d+4+f+4+e);S=R;l("COMMAND_US_INVITE")}}}}},C,function(){var c=u.length();if(!(5>c)){var d=u.c(1);a.og&&!a.T&&3==a.Ta&&a.Ta!=d&&(a.Xa==b.b.Rb&&n.Wr(a.og,a),a.og=0);a.Ta=d;if(!a.da&&a.Ta){if(9>c)return;d=u.c(5);if(0>d||1E4<=d){n.s&&n.s(a,b.b.fd);b.a.log("wrong jnj len[OFFICE_STATUS,300] for "+a.l);
K(b.b.cd);return}if(c<9+d)return;a.LF=b.crypto.w(u.h(9,d),a.B).u();u.shift(4+d)}n.S&&n.S(a);u.shift(5);S=R;l("COMMAND_US_OFFICE_STATUS")}},function(){n.Zr(a,!1);u.shift(1);S=R;l("COMMAND_US_UPDATE_PROFILE")},function(){var c=u.length();if(!(33>c)){a.Ws=u.c(1);a.tr=u.c(5);a.ur=u.c(9);a.IF=u.c(13);a.xm=u.c(17);a.HF=u.c(21);a.KF=u.c(25);var d=u.c(29);if(0>d||128<=d)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[VIEW_PROFILE,200] for "+a.l),K(b.b.hb);else if(!(c<33+d+4)){var f=a.username;a.username=u.h(33,
d);var e=u.c(33+d);if(0>e||e>=b.b.fy)n.s&&n.s(a,b.b.Up),b.a.log("wrong email len[VIEW_PROFILE,500] for "+a.l),K(b.b.Ro);else if(!(c<33+d+4+e+8)){a.Yg=u.h(33+d+4,e);var g=u.c(33+d+4+e+4);if(0>g||1E4<=g)n.s&&n.s(a,b.b.fd),b.a.log("recv error[VIEW_PROFILE,900] for "+a.l),K(b.b.cd);else if(!(c<33+d+4+e+8+g)){b.crypto.w(u.h(33+d+4+e+8,g),a.B).u();if(a.da)a.uf=0;else{if(c<33+d+4+e+8+g+4)return;a.uf=u.c(33+d+4+e+8+g);u.shift(4)}a.Am=1;a.fi||a.xm&&n.ek&&n.ek(a,a.xm);a.fi=1;f!=a.username&&b.Yb.mh(a,a.da?a.Qa:
a.O);n.Mk&&n.Mk(a);u.shift(33+d+4+e+8+g);S=R;l("COMMAND_US_VIEW_PROFILE")}}}}},function(){b.a.log("server shutdown, "+a.l);n.Dk&&n.Dk(a);a.Wa&&(clearTimeout(a.Wa),a.Wa=null,v(a));u.shift(1);S=R;l("COMMAND_US_SERVER_SHUTDOWN")},function(){if(!sa){a:{var c="hmtg_msgr_mcu_usage_"+a.Z,d=Date.now();if("undefined"!=typeof b.a.localStorage[c]){var f=b.a.Yc(b.a.localStorage[c]);if("undefined"!==f&&d>f&&108E6>d-f)break a}b.a.localStorage[c]=JSON.stringify(d);c="homemeeting.com/serverinfo2/?version="+x.Gb;
c=c+"."+x.Hb;c=c+"."+x.Fe;c+=a.da?"&type=thirdparty":"&type=weboffice";c+="&mcu_version_string="+a.vm;c+="&mcu_serial="+a.Vs;c+="&mcu_licensesource="+a.Us;c+="&mcu="+a.Z+","+a.port;c+="&primary_mcu="+(a.gi?"0":"1");c=c+"&sig=web"+("&appurl="+window.location.protocol+"//"+window.location.host+window.location.pathname);b.m.wm(c)}sa=1}a.qg=1;n.S&&n.S(a);n.xk&&n.xk(a);u.shift(1);S=R;l("COMMAND_US_STATUS_INITED")},z,F,F,function(){5>u.length()||(a.qt=u.c(1),a.T||(a.cf=0),u.shift(5),S=R,l("COMMAND_US_SIP_CAP"))},
function(){if(!(2>u.length())){if(48==u.L(1)){var a=new N.a.g;a.o(x.xi);a.K("1");ea.send(a.i())}u.shift(2);S=R;l("COMMAND_US_ALIVE")}},function(){a.da=1;n.S&&n.S(a);u.shift(1);S=R;l("COMMAND_US_MMC_FLAG")},function(){var c=u.length();if(!(9>c)){var d=u.c(5);0>d||1E4<=d?(n.s&&n.s(a,b.b.Wp),b.a.log("wrong len[MMC_INTERNAL_ERROR,200] for "+a.l),K(b.b.pf)):c<9+d||((c=u.c(1))&&n.Ff&&n.Ff(a,c,u.h(9,d)),u.shift(9+d),S=R,l("COMMAND_US_MMC_INTERNAL_ERROR"))}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);
0>d||128<=d?(n.s&&n.s(a,b.b.Vp),b.a.log("wrong userid len[MMC_INTERNAL_ID,200] for "+a.l),K(b.b.Bc)):c<5+d+4||(c=u.c(5+d),0>c||128<=c?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong mmc username len[MMC_INTERNAL_ID,500] for "+a.l),K(b.b.hb)):(a.Qa=b.crypto.w(u.h(5,d),a.B).u(),a.JF=b.crypto.w(u.h(5+d+4,c),a.B).u(),u.shift(5+d+4+c),S=R,l("COMMAND_US_MMC_INTERNAL_ID")))}},z,function(){var c=u.length();if(!(13>c)){var d=u.c(9);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[INVITE_JNJ_GENERATION,200] for "+
a.l),K(b.b.cd);else if(!(c<13+d)){c=u.c(1)>>>0;var f=u.c(5),e=u.h(13,d);!f&&e.length&&(e=b.crypto.w(e,a.B).u());n.ak&&n.ak(a,c,f,e);u.shift(13+d);S=R;l("COMMAND_US_INVITE_JNJ_GENERATION")}}},E,X,function(){var c=u.length();if(!(13>c)){var d=u.c(9);if(0>d||500<=d)n.s&&n.s(a,b.b.Zp),b.a.log("wrong jnj len[QUERY_URL_MMC,200] for "+a.l),K(b.b.So);else if(!(c<13+d)){c=u.c(1)>>>0;var f=u.c(5),e=u.h(13,d);0==f&&d&&(e=b.crypto.w(e,a.B).u());n.wk&&n.wk(a,c,f,e);u.shift(13+d);S=R;l("COMMAND_US_QUERY_URL_MMC")}}},
H,z,z,z,H,H,function(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(n.s&&n.s(a,b.b.Ce),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+a.l),K(b.b.Bc)):c<5+d||(a.wf=b.crypto.w(u.h(5,d),a.B).u(),u.shift(5+d),S=R,l("COMMAND_US_GUEST_USER_ID"))}},P,z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong user name len in invite failure[INVITE_FAILURE,200] for "+a.l),K(b.b.hb)):c<5+d||(n.$j&&n.$j(a,u.h(5,d)),u.shift(5+d),S=R,l("COMMAND_US_INVITE_FAILURE"))}},
z,z,function(){function c(){var c=u.length();if(!(16>c)){var d=u.c(12);if(0>d||d>b.b.Jp)b.a.log("wrong meeting id len in update event list[UpdateEventList,300] for "+a.l),K();else if(!(c<16+d+4)){var g=u.c(16+d);if(0>g||g>=b.b.Pg)b.a.log("wrong title len in update event list[UpdateEventList,600] for "+a.l),K();else if(!(c<16+d+4+g+4)){var h=u.c(16+d+4+g);if(0>h||128<=h)b.a.log("wrong owner id len in update event list[UpdateEventList,900] for "+a.l),K();else if(!(c<16+d+4+g+4+h+4)){var t=u.c(16+d+
4+g+4+h);if(0>t||128<=t)b.a.log("wrong owner name len in update event list[UpdateEventList,1200] for "+a.l),K();else if(!(c<16+d+4+g+4+h+4+t+4)){c={};c.start_time=u.c(0);c.duration=u.c(4);c.advance_time=u.c(8);c.meeting_id=b.crypto.w(u.h(16,d),a.B).u();c.title=b.crypto.w(u.h(16+d+4,g),a.B).u();c.owner_id=b.crypto.w(u.h(16+d+4+g+4,h),a.B).u();c.owner_name=b.crypto.w(u.h(16+d+4+g+4+h+4,t),a.B).u();c.invited=u.c(16+d+4+g+4+h+4+t);a:{var m,p=a.gg;for(m=0;m<p.length;m++)if(c.start_time<p[m].start_time){p.splice(m,
0,c);break a}p.splice(m,0,c)}u.shift(16+d+4+g+4+h+4+t+4);e++;e==f&&(da=A,x.Br||(a.gg=[]),n.Jk&&n.Jk(a));S=R;l("COMMAND_US_UPDATE_EVENT_LIST,2")}}}}}}if(!(9>u.length())){var d=b.crypto.w(u.h(1,8),a.B),f=d.c(0);if(0>f||200<f)b.a.log("too many events in the event list for "+a.l),K();else{a.Xs=d.c(4);a.Rs=b.a.time();u.shift(9);a.gg=[];var e=0;f?da=c:S=R;l("COMMAND_US_UPDATE_EVENT_LIST")}}},z,P,function(){var c=u.length();if(!(5>c)){var f=u.c(1);if(0>f||5E8<=f)n.s&&n.s(a,b.b.Tp),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+
a.l),K(b.b.Qo);else if(!(c<5+f)){if(0==f)b.a.log("receive client_info for "+a.l+": [Empty]"),a.Tb=1;else{c=b.crypto.w(u.h(5,f),a.B);var e=c.u();b.a.log("receive client_info for "+a.l+": "+f+","+b.a.Ab(c.u()));a.Th=new d(a,e)}u.shift(5+f);S=R;l("COMMAND_US_CLIENT_INFO")}}},function(){if(!(5>u.length())){var b=a.Zh;a.Zh=u.c(1);b!=a.Zh&&n.pk&&n.pk(a);u.shift(5);S=R;l("COMMAND_US_IM_LOG")}},z,C,Y,function(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong user name len in share file failure[SHARE_FILE_FAILURE,200] for "+
a.l),K(b.b.hb)):c<5+d||(n.Ek&&n.Ek(a,u.h(5,d)),u.shift(5+d),S=R,l("COMMAND_US_SHARE_FILE_FAILURE"))}},function(){function c(){var c=u.length();if(!(8>c)){var g=u.c(4);if(0>g||4096<=g)b.a.log("wrong blackbox data len in update publish_file list[UpdatePublishFileList,300] for "+a.l),K();else if(!(c<8+g+4)){var h=u.c(8+g);if(0>h||h>=b.b.Pg)b.a.log("wrong title len in update publish_file list[UpdatePublishFileList,600] for "+a.l),K();else if(!(c<8+g+4+h+4)){var t=u.c(8+g+4+h);if(0>t||128<=t)b.a.log("wrong owner name len in update publish_file list[UpdatePublishFileList,900] for "+
a.l),K();else if(!(c<8+g+4+h+4+t)){c={};c.duration=u.c(0);c.blackbox_data=b.crypto.w(u.h(8,g),a.B).u();c.title=b.a.Ab(b.crypto.w(u.h(8+g+4,h),a.B).u());c.owner_name=b.a.Ab(b.crypto.w(u.h(8+g+4+h+4,t),a.B).u());var m=/(.+)\/([^\/]+)/.exec(c.title);m&&(c.title=m[2],c.group=m[1]);d(c);u.shift(8+g+4+h+4+t);e++;e==f&&(da=A,n.Kk&&n.Kk(a));S=R;l("COMMAND_US_UPDATE_PUBLISH_FILE_LIST,2")}}}}}function d(b){var c,d=a.Sh;for(c=0;c<d.length;c++)if(d[c].group){if(b.group){if(b.group.toLowerCase()<d[c].group.toLowerCase()){d.splice(c,
0,b);return}if(!(b.group.toLowerCase()>d[c].group.toLowerCase())&&b.title.toLowerCase()<d[c].title.toLowerCase()){d.splice(c,0,b);return}}}else{if(b.group){d.splice(c,0,b);return}if(b.title.toLowerCase()<d[c].title.toLowerCase()){d.splice(c,0,b);return}}d.splice(c,0,b)}if(!(5>u.length())){var f=b.crypto.w(u.h(1,4),a.B).c(0);if(0>f||200<f)b.a.log("too many publish_files in the publish_file list for "+a.l),K();else{u.shift(5);a.Sh=[];var e=0;f?da=c:S=R;l("COMMAND_US_UPDATE_PUBLISH_FILE_LIST")}}},z,
X,P,H,H,z,function(){if(!(5>u.length())){var b=u.c(1);a.Mj=b&1?1:0;a.yt=b&2?1:0;a.yr=b&4?1:0;a.NB=b&8?0:1;a.sj=b&16?1:0;u.shift(5);S=R;l("COMMAND_US_INIT_INFO")}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[CreateGroup 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroup 500] for "+a.l),K();else if(!(c<5+d+4+f)){if(c=u.h(5,d))if(61!=c.charCodeAt(0))n.ud(a,c);else{var e=u.h(5+d+4,f),h=a.da?a.Qa:
a.O;g(a,c,h,e);n.Bb&&n.Bb(a,c,h,a.username);e!=h&&n.Bb&&n.Bb(a,c,e,n.Tk(a,e));n.Af&&n.Af(a,c,e)}u.shift(5+d+4+f);S=R;l("COMMAND_US_CREATE_GROUP")}}}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[CreateGroup2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroup2 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||128<=e)b.a.log("wrong user name len[CreateGroup2 800] for "+a.l),
K();else if(!(c<5+d+4+f+4+e+4)){if(c=u.h(5,d))if(61!=c.charCodeAt(0))n.ud(a,c);else{var h=u.h(5+d+4,f),t=u.h(5+d+4+f+4,e);n.Le(a,u.c(5+d+4+f+4+e),h,t);var m=a.da?a.Qa:a.O;g(a,c,h,m);n.Bb&&n.Bb(a,c,m,a.username);h!=m&&n.Bb&&n.Bb(a,c,h,t);n.Af&&n.Af(a,c,h)}u.shift(5+d+4+f+4+e+4);S=R;l("COMMAND_US_CREATE_GROUP2")}}}}},z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[GroupMessage2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[GroupMessage2 500] for "+
a.l),K();else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||500<=e)b.a.log("wrong short message len[GroupMessage2 800] for "+a.l),K();else if(!(c<5+d+4+f+4+e+4)){var g=u.c(5+d+4+f+4+e);if(0>g||5E3<=g)b.a.log("wrong short message2 len[GroupMessage2 1100] for "+a.l),K();else if(!(c<5+d+4+f+4+e+4+g+4)){if(c=u.h(5,d)){var h=u.h(5+d+4,f),t=u.c(5+d+4+f+4+e+4+g)>>>0,m=a.fb[c];m&&m.count==t&&"undefined"!==typeof m.nb[h]?(t=b.crypto.w(u.h(5+d+4+f+4,e),a.B).u(),m=b.crypto.w(u.h(5+d+4+f+4+e+4,g),a.B).u(),n.Wj&&
n.Wj(a,c,t,m,h)):(n.ud(a,c),n.Yd&&n.Yd(a,c),m&&(delete a.fb[c],a.Ad--,n.Ra&&n.Ra(a,c)))}u.shift(5+d+4+f+4+e+4+g+4);S=R;l("COMMAND_US_GROUP_MESSAGE2")}}}}}},z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[LeaveGroup2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[LeaveGroup2 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){if(c=u.h(5,d)){var e=a.fb[c];if(e){var g=u.h(5+d+4,f),h=u.c(5+d+4+f)>>>0;1234567890==
h||h!=e.count||"undefined"===typeof e.nb[g]?(1234567890!=h&&n.ud(a,c),n.Yd&&n.Yd(a,c),delete a.fb[c],a.Ad--):(delete e.nb[g],e.count--,q(a,e),n.ik&&n.ik(a,c,g));n.Ra&&n.Ra(a,c)}}u.shift(5+d+4+f+4);S=R;l("COMMAND_US_LEAVE_GROUP2")}}}},z,T,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong peer id len[CreateGroupFail 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroupFail 500] for "+a.l),K();else if(!(c<5+d+4+f+
4)){c=u.h(5,d);var e=u.h(5+d+4,f),g=u.c(5+d+4+f);n.Tj&&n.Tj(a,c,e,g);u.shift(5+d+4+f+4);S=R;l("COMMAND_US_CREATE_GROUP_FAIL")}}}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[JoinGroupFail 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[JoinGroupFail 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){if(c=u.h(5,d)){var e=u.h(5+d+4,f),g=u.c(5+d+4+f);n.hk&&n.hk(a,c,e,g)}u.shift(5+d+4+f+4);S=R;l("COMMAND_US_JOIN_GROUP_FAIL")}}}},
function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[GroupMessageFail 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||500<=f)b.a.log("wrong user name len[GroupMessageFail 800] for "+a.l),K();else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||5E3<=e)b.a.log("wrong user name len[GroupMessageFail 1100] for "+a.l),K();else if(!(c<5+d+4+f+4+e+4)){var g=3<a.ef||3==a.ef&&23<=a.$h;c=u.h(5+d+4,f);var h=u.h(5+d+4+f+4,e);g&&(c&&(c=b.crypto.w(c,a.B).u()),
h&&(h=b.crypto.w(h,a.B).u()));g=u.c(5+d+4+f+4+e);n.Xj&&n.Xj(a,"",c,h,g);u.shift(5+d+4+f+4+e);S=R;l("COMMAND_US_GROUP_MESSAGE_FAIL")}}}}},z,z,C,function(){var c=u.length();if(!(17>c)){var d=u.c(13);if(0>d||128<=d)b.a.log("wrong peer id len[SendFileRequest 200] for "+a.l),K();else if(!(c<17+d+4)){var f=u.c(17+d);if(0>f||1E3<=f)b.a.log("wrong file name len[SendFileRequest 500] for "+a.l),K();else{var e=17+d+4+f,g=u.c(5),h;var t=h="";if(2==g||1==g){if(c<e+4)return;h=u.c(e);if(0>h||128<=h){b.a.log("wrong len[SendFileRequest 800] for "+
a.l);K();return}e+=4+h;if(c<e+4)return;h=u.h(e-h,h);t=u.c(e);if(0>t||100<=t){b.a.log("wrong len[SendFileRequest 1100] for "+a.l);K();return}e+=4+t;if(c<e)return;t=u.h(e-t,t)}var m="";var p=0;if(0==g||1==g){if(c<e+4)return;m=u.c(e);if(0>m||128<=m){b.a.log("wrong len[SendFileRequest 1400] for "+a.l);K();return}e+=4+m+4;if(c<e)return;m=u.h(e-m-4,m);p=u.c(e-4)}c=u.c(1)>>>0;var q=u.c(9)>>>0,r=u.h(17,d);d=u.h(17+d+4,f);2!=g&&n.Le(a,p,r,m);n.Ak&&n.Ak(a,c,g,q,r,m,d,h,t,p);u.shift(e);S=R;l("COMMAND_US_SENDFILE_REQUEST")}}}},
function(){var c=u.length();if(!(25>c)){var d=u.c(21);if(0>d||128<=d)b.a.log("wrong peer id len[SendFileAction 200] for "+a.l),K();else if(!(c<25+d)){c=u.c(1)>>>0;var f=u.c(5),e=u.c(9),g=u.c(13),h=u.c(17),t=u.h(25,d);n.zk&&n.zk(a,g,h,e,c,f,t);u.shift(25+d);S=R;l("COMMAND_US_SENDFILE_ACTION")}}},function(){var c=u.length();if(!(17>c)){var d=u.c(13);if(0>d||128<=d)b.a.log("wrong peer id len[SendFileSend 200] for "+a.l),K();else if(!(c<17+d)){var f=u.c(5)>>>0,e=f>>>30,g=f&536870911;if(0>=g||4096<g||
3==e)b.a.log("wrong peer id len[SendFileSend 400] for "+a.l),K();else if(!(c<17+d+g)){c=u.c(1)>>>0;var h=u.c(9),t=u.h(17,d),m=b.crypto.w(u.h(17+d,g),a.B).u();n.Bk&&n.Bk(a,f,h,m,c,e,t);u.shift(17+d+g);S=R;l("COMMAND_US_SENDFILE_SEND")}}}},z,Y,z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong userid len[USERNAME,200] for "+a.l),K(b.b.hb)):c<5+d||(a.username=b.crypto.w(u.h(5,d),a.B).u(),u.shift(5+d),S=R,l("COMMAND_US_USERNAME"))}},z,z,function(){var c=
u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[GroupTyping2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[GroupTyping2 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){if(c=u.h(5,d)){var e=u.h(5+d+4,f),g=u.c(5+d+4+f)>>>0;n.Yj&&n.Yj(a,c,e,g)}u.shift(5+d+4+f+4);S=R;l("COMMAND_US_GROUP_TYPING2")}}}},G,G,z,T,z,z,z,z,function(){var c=u.length();if(!(9>c)){var d=u.c(5);0>d||512<=d?(b.a.log("wrong peer id len[ServerLogError 200] for "+
a.l),K()):c<9+d||(c=u.c(1),n.Ef&&n.Ef(a,c,u.h(9,d)),u.shift(9+d),S=R,l("COMMAND_US_SERVER_LOG_ERROR"))}},function(){var c=u.length();if(!(17>c)){var d=u.c(5);if(0>d||512<=d)b.a.log("wrong peer id len[ServerLogData 200] for "+a.l),K();else if(!(c<17+d)){var f=u.c(13);if(0>f||1E4<=f)b.a.log("wrong peer id len[ServerLogData 400] for "+a.l),K();else if(!(c<17+d+f)){c=u.c(1);var e=u.c(9),g=u.h(17,d),h=b.crypto.w(u.h(17+d,f),a.B).u();-1!=h.indexOf("\x00")?n.Ef&&n.Ef(a,c,g):n.Ck&&n.Ck(a,c,g,e,h);u.shift(17+
d+f);S=R;l("COMMAND_US_SERVER_LOG_DATA")}}}},z,function(){function c(){var c=u.length();if(!(8>c)){var d=u.c(0),f=u.c(4);if(0>f||128<=f)b.a.log("wrong id len[PGCAnnounce 1300] for "+a.l),K();else if(!(c<8+f+4)){var g=u.h(8,f),t=u.c(8+f);if(0>t||128<=t)b.a.log("wrong name len[PGCAnnounce 1600] for "+a.l),K();else if(!(c<8+f+4+t)){n.Le(a,d,g,u.h(8+f+4,t));J[g]||(v++,J[g]=O-6E4);u.shift(8+f+4+t);w++;if(w==r&&(da=A,e&&!a.fb[e])){c=new B;c.gh=e;c.V=h;c.se=m;c.nb=J;c.count=v;if(p){var Q=a.da?a.Qa:a.O;c.nb[Q]=
O-6E4;c.count++}q(a,c);a.fb[e]=c;a.Ad++;p&&n.Bb&&n.Bb(a,e,Q,a.username);n.Ra&&n.Ra(a,e)}S=R;l("COMMAND_US_PGC_ANNOUNCE,2")}}}}var d=u.length();if(!(5>d)){var f=u.c(1);if(0>f||128<=f)b.a.log("wrong group id len[PGCAnnounce 200] for "+a.l),K();else if(!(d<5+f+4)){var e=u.h(5,f),g=u.c(5+f);if(0>g||128<=g)b.a.log("wrong owner id len[PGCAnnounce 500] for "+a.l),K();else if(!(d<5+f+4+g+4)){var h=u.h(5+f+4,g),t=u.c(5+f+4+g);if(0>t||128<=t)b.a.log("wrong pgc name len[PGCAnnounce 800] for "+a.l),K();else if(!(d<
5+f+4+g+4+t+8)){var m=u.h(5+f+4+g+4,t),p=u.c(5+f+4+g+4+t),r=u.c(5+f+4+g+4+t+4)>>>0;u.shift(5+f+4+g+4+t+8);if(0>r||1E5<=r)b.a.log("wrong size[PGCAnnounce 1100] for "+a.l),K();else{var O=b.a.A(),J={},v=0,w=0;0!=r?da=c:S=R;l("COMMAND_US_PGC_ANNOUNCE")}}}}}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[RenamePgc 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong name len[RenamePgc 500] for "+a.l),K();else if(!(c<5+d+4+
f+4)){var e=u.c(5+d+4+f);if(0>e||128<=e)b.a.log("wrong srcid len[RenamePgc 800] for "+a.l),K();else if(!(c<5+d+4+f+4+e)){if(c=u.h(5,d)){var g=u.h(5+d+4,f),h=u.h(5+d+4+f+4,e),t=a.fb[c];t?(t.se=g,q(a,t),n.yk&&n.yk(a,c,g,h),n.Ra&&n.Ra(a,c)):n.ud(a,c)}u.shift(5+d+4+f+4+e);S=R;l("COMMAND_US_PGC_RENAME")}}}}},function(){var c=u.length();if(!(9>c)){var d=u.c(5);if(0>d||128<=d)b.a.log("wrong group id len[OfflineJoin 200] for "+a.l),K();else if(!(c<9+d+4)){var f=u.c(9+d);if(0>f||128<=f)b.a.log("wrong name len[OfflineJoin 500] for "+
a.l),K();else if(!(c<9+d+4+f)){if(c=u.h(9,d)){var e=u.c(1),g=u.h(9+d+4,f);n.tk&&n.tk(a,e,c,g)}u.shift(9+d+4+f);S=R;l("COMMAND_US_OFFLINE_JOIN_GROUP2")}}}},function(){var c=u.length();if(!(9>c)){var d=u.c(5);if(0>d||128<=d)b.a.log("wrong group id len[OfflineLeave 200] for "+a.l),K();else if(!(c<9+d+4)){var f=u.c(9+d);if(0>f||128<=f)b.a.log("wrong name len[OfflineLeave 500] for "+a.l),K();else if(!(c<9+d+4+f)){if(c=u.h(9,d)){var e=u.c(1),g=u.h(9+d+4,f);n.uk&&n.uk(a,e,c,g)}u.shift(9+d+4+f);S=R;l("COMMAND_US_OFFLINE_LEAVE_GROUP2")}}}},
function(){var c=u.length();if(!(9>c)){var d=u.c(5);if(0>d||128<=d)b.a.log("wrong group id len[OfflineGroupMessage 200] for "+a.l),K();else if(!(c<9+d+4)){var f=u.c(9+d);if(0>f||128<=f)b.a.log("wrong name len[OfflineGroupMessage 500] for "+a.l),K();else if(!(c<9+d+4+f+4)){var e=u.c(9+d+4+f);if(0>e||500<=e)b.a.log("wrong name len[OfflineGroupMessage 800] for "+a.l),K();else if(!(c<9+d+4+f+4+e+4)){var g=u.c(9+d+4+f+4+e);if(0>g||5E3<=g)b.a.log("wrong name len[OfflineGroupMessage 1100] for "+a.l),K();
else if(!(c<9+d+4+f+4+e+4+g)){if(c=u.h(9,d)){var h=u.c(1),t=u.h(9+d+4,f),m=u.h(9+d+4+f+4,e),p=u.h(9+d+4+f+4+e+4,g);if(3<a.ef||3==a.ef&&23<=a.$h)m&&(m=b.crypto.w(m,a.B).u()),p&&(p=b.crypto.w(p,a.B).u());n.sk&&n.sk(a,h,c,t,m,p)}u.shift(9+d+4+f+4+e+4+g);S=R;l("COMMAND_US_OFFLINE_GROUP_MESSAGE2")}}}}}},function(){var c=u.length();if(!(9>c)){var d=u.c(5);if(0>d||128<=d)b.a.log("wrong group id len[OfflinePgcRename 200] for "+a.l),K();else if(!(c<9+d+4)){var f=u.c(9+d);if(0>f||128<=f)b.a.log("wrong name len[OfflinePgcRename 500] for "+
a.l),K();else if(!(c<9+d+4+f+4)){var e=u.c(9+d+4+f);if(0>e||128<=e)b.a.log("wrong name len[OfflinePgcRename 800] for "+a.l),K();else if(!(c<9+d+4+f+4+e)){if(c=u.h(9,d)){var g=u.c(1),h=u.h(9+d+4,f),t=u.h(9+d+4+f+4,e);n.vk&&n.vk(a,g,c,h,t)}u.shift(9+d+4+f+4+e);S=R;l("COMMAND_US_OFFLINE_PGC_RENAME")}}}}},z,I,I,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||1E4<=d)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[TURN_SERVER,100] for "+a.l),K(b.b.hb);else if(!(c<5+d)){c=b.crypto.w(u.h(5,d),
a.B).u();try{var f=JSON.parse(c);b.a.isArray(f)&&(10<f.length&&(f.length=10),a.di=f)}catch(ya){}a.di.length?b.a.log("msgr received turn server information from MCU for "+a.l):b.a.log("msgr received turn server information from MCU, but no valid entry found, for "+a.l);u.shift(5+d);S=R;l("COMMAND_US_TURN_SERVER")}}},z];ea.onclose=function(){a.j!=ea&&(b.a.log("!!!Info, need take care of this(1)!!!"),n.s&&n.s(a,99991));m();a.Jd=!0;a.v.onmessage||w()};ea.onerror=function(){a.j!=ea&&(b.a.log("!!!Info, need take care of this(2)!!!"),
n.s&&n.s(a,99992));m();a.kf=!0;a.v.onmessage||w()};ea.onmessage=function(c){qa=0;m();c=new N.a.g(c.data);u.D(c);e();a.v.onmessage||a.Ec||(ma=0,ra=b.a.A(),da())};var ca=new N.a.g("U");ea.send(ca.i());if(a.T){ca.clear();ca.f(0);var ia=a.wf?a.wf.length:0;ca.f(ia);ia&&ca.D(b.crypto.M(a.wf,a.B))}else ca.clear(),ia=a.O?a.O.length:0,ca.f(ia),ia&&ca.D(b.crypto.M(a.O,a.B)),ia=a.password?a.password.length:0,ca.f(ia),ia&&ca.D(b.crypto.M(a.password,a.B));ea.send(ca.i());a.pd=0;a.T||(a.Xa?a.$g?x.Ij||(a.$g=0,a.Xa=
b.b.Md):a.Xa==b.b.Md&&x.Ij&&(a.$g=1,a.Xa=b.b.lj):a.Xa=x.ab,ca.clear(),ca.o(x.Ei),ca.f(a.Xa),ca.o(x.ao),ca.f(b.a.time()),ea.send(ca.i()));a.Ej=1;a.disconnect=aa;b.a.log(1,["msgr connection is established for ",a.l].join(""));b.a.log(2,["msgr connection param for ",a.l,": param->addr=[",a.Z,"],port=",a.port].join(""));a.Dj=!0;a.J=b.b.pa;n.S&&n.S(a);qa=sa=a.qg=0;e();da=A;u.length()&&(p(),ma=0,ra=b.a.A(),da())}function d(a,c){var d=this;a.Tb=1;d.stop=function(){};if(window.DOMParser){var f=new DOMParser;
try{var e=f.parseFromString(c.replace(/\n/g,"&#10;"),"text/xml")}catch(ja){return}try{var g=e.getElementsByTagName("ci")[0];if(g)if(g.getAttribute("compression")){var h=g.getAttribute("size");if(!(h&&1E9<h)){var t=b.Yb.Rr;if(t){var m=b.a.Ib(g.childNodes[0].nodeValue);t=t();var n=new t("zlib_decompress",b.a.ai(m),function(c){d.stop=function(){};var f=new DOMParser;try{var e=f.parseFromString(b.a.tj(c).replace(/\n/g,"&#10;"),"text/xml")}catch(wa){return}T(a,e)},function(){d.stop=function(){}});a.Tb=
0;d.stop=function(){a.Tb=1;n.stop();d.stop=function(){}}}else a.Tb=0}}else T(a,e)}catch(ja){}}}function T(a,b){var c=!1;a.Tb=1;try{var d=b.getElementsByTagName("ci")[0];if(!d)return;var f;(f=d.getAttribute("office_name"))&&100>f.length&&(a.Oa=f);(f=d.getAttribute("personal_info"))&&128>f.length&&(a.Ua=f);(f=d.getAttribute("im_font"))&&256>f.length&&(a.ih=f);f=d.getAttribute("im_style");a.yf=f?f>>>0:0;var e,g,t=d.getElementsByTagName("contactgroup");for(e=0;e<(t?t.length:0);e++)if(b={},f=t[e].getAttribute("groupname")){var m=
!1;for(g=0;g<a.oa.length;g++){var p=a.oa[g];if(p.m_szGroupName==f){m=!0;break}else if(f.toLowerCase()<p.m_szGroupName.toLowerCase())break}if(!m){a.oa.splice(g,0,b);b.m_szGroupName=f;f=t[e].getAttribute("contact_folded");b.contact_folded=f?f>>>0:0;b.m_pContactArray=[];var q,r=t[e].getElementsByTagName("contact");for(q=0;q<(r?r.length:0);q++)if((f=r[q].getAttribute("userid"))&&128>f.length&&(a.T||!C(a,f))){var v={};m=!1;for(g=0;g<b.m_pContactArray.length;g++)if(f==b.m_pContactArray[g].id){m=!0;break}else if(f<
b.m_pContactArray[g].id)break;if(!m){b.m_pContactArray.splice(g,0,v);v.id=f;var w=ba(a,f);f=r[q].getAttribute("username");v.name=f&&128>f.length?f:v.id;f=r[q].getAttribute("pm");v.pm=f&&128>f.length?f:"";w&&(w.username&&w.username!=v.name&&(v.name=w.username,c=!0),w.Ua&&w.Ua!=v.pm&&(v.pm=w.Ua,c=!0))}}}}if((f=d.getElementsByTagName("share_file"))&&f.length){var x=f[0].getElementsByTagName("file");for(e=0;e<(x?x.length:0);e++){var y=x[e];d={};if((f=y.getAttribute("jnj"))&&1E4>f.length&&(d.jnj=f,(f=
y.getAttribute("username"))&&128>f.length&&(d.owner_name=f,(f=y.getAttribute("homepage"))&&100>f.length&&(d.owner_homepage=f,(f=y.getAttribute("title"))&&128>f.length)))){d.title=f;if(f=y.getAttribute("subject")){if(!(128>f.length))continue;d.subject=f}else d.subject="";f=y.getAttribute("duration");null!=f&&(d.duration=f>>>0,f=y.getAttribute("share_type"),null==f||0>f||2<f||(d.share_type=f>>>0,f=y.getAttribute("tick"),null!=f&&(d.recv_tick=f>>>0,f=y.getAttribute("read"),d.read=null==f?1:f>>>0,h(a,
d))))}}}}catch(ta){return}n.Yr(a);n.Sk();n.Xr(a);c&&n.Xb(a);n.S&&n.S(a);n.Sj&&n.Sj(a)}function h(a,b){var c=b.owner_name,d=b.subject||b.title,f=/(.+)\/([^\/]+)$/.exec(d);f?(b.name=f[2],b.group=c+" - "+f[1],b.group2=b.owner_name+" - "+f[1]):(b.name=d,b.group=c+" ",b.group2=b.owner_name+" ");c=a.dc;for(a=0;a<c.length;a++){if(b.group<c[a].group){c.splice(a,0,b);return}if(!(b.group.toLowerCase()>c[a].group.toLowerCase())&&b.name.toLowerCase()<c[a].name.toLowerCase()){c.splice(a,0,b);return}}c.splice(a,
0,b)}function v(a){function c(c){var d=this,f=new n("zlib_compress",b.a.ai(c),0,function(f){d.stop=function(){};f='<ci size="'+c.length+'" compression="1">'+b.a.nc(b.a.tj(f))+"</ci>";var e=f.length,g=new N.a.g;g.o(x.yi);g.f(e);e&&g.D(b.crypto.M(f,a.B));a.j.send(g.i());b.a.log("save client_info for "+a.l+": "+e+","+f);a.wc=null},function(){a.wc=null});d.stop=function(){f.stop();d.stop=function(){}}}a.wc&&(a.wc.stop(),a.wc=null);var d="<ci",f=b.a.zt;a.Oa&&(d+=' office_name="'+f(a.Oa)+'"');a.Ua&&(d+=
' personal_info="'+f(a.Ua)+'"');a.ih&&(d+=' im_font="'+f(a.ih)+'"');a.yf&&(d+=' im_style="'+a.yf+'"');d+=">\n";var e;if(a.oa.length)for(e=0;e<a.oa.length;e++){d+="<contactgroup";var g=a.oa[e];d+=' groupname="'+f(g.m_szGroupName)+'" contact_folded="'+(g.contact_folded?1:0)+'">\n';var h;for(h=0;h<g.m_pContactArray.length;h++){var m=g.m_pContactArray[h];d+='<contact userid="'+f(m.id)+'" username="'+f(m.name);m.pm&&(d+='" pm="'+f(m.pm));d+='"/>\n'}d+="</contactgroup>\n"}if(a.dc.length){d+="<share_file>\n";
for(e=0;e<a.dc.length;e++)g=a.dc[e],d+='<file duration="'+g.duration+'" share_type="'+g.share_type+'" tick="'+g.recv_tick+'" jnj="'+f(g.jnj)+'" username="'+f(g.owner_name)+'" homepage="'+f(g.owner_homepage)+'" title="'+f(g.title),g.read||(d+='" read="'+g.read),g.subject&&(d+='" subject="'+g.subject),d+='"/>\n';d+="</share_file>\n"}d+="</ci>";f=d.length;var n=b.Yb.Qr();500<f&&n?a.wc=new c(d):(e=new N.a.g,e.o(x.yi),e.f(f),f&&e.D(b.crypto.M(d,a.B)),a.j.send(e.i()),b.a.log("save client_info for "+a.l+
": "+f+","+b.a.Ab(d)))}function z(a){a&&a.disconnect&&a.disconnect()}function Z(a){a.jh();a.xr=0;a.et=0;a.Tb=a.T?1:0;a.SB=0;a.fi=0;a.da=0;a.Mj=0;a.yt=0;a.qt=0;a.sj=0}function G(a){if(!a.Gc)if(b.a.log("just in case that the existing connection is still alive, prepare to sign out existing connection before reconnection for "+a.l),z(a),Z(a),a.Ej){b.a.log("start quick reconnection for "+a.l);a.disconnect=function(){};var c=b.m.Wh(a.Jb,a.cr,a.port,a.port2),d=c.Ph;c=c.bi;a.J=b.b.Ji;n.S&&n.S(a);r(a,d,c)}else b.a.log("start complete reconnection for "+
a.l),a.disconnect=function(){},I(a)}function aa(a,c){b.a.localStorage.hmtg_msgr_g_us_status=JSON.stringify(a);x.ab=a;for(var d=0,f=0;f<x.Ub.length;f++){var e=x.Ub[f];if(!(c&&c!=e||e.T)&&e.Xa!=a&&(d=1,m(e.T,e.O,e.ia,a),e.$g=0,e.Xa=a,e.lh=1,c||(e.og=0),e.J==b.b.pa)){n.S&&n.S(e);var g=new N.a.g;g.o(x.Ei);g.f(e.Xa);e.j.send(g.i())}}d&&p()}function ba(a,b){if(a.da)return a.Bd[b];a=a.lb;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d.O==b)return d}return null}function Y(a,c,d,e,g,l,h){a.f(c);d.da?
a.f(l):(a.f(23),a.D(b.crypto.M(g,d.B)));h||e.j.send(a.i())}function X(a,b){return b.T!=a.T||a.ia!=b.ia||!a.T&&a.O!=b.O?!1:!0}function P(a,b){if(!a.T&&b==(a.da?a.Qa:a.O))return!1;for(var c=0;c<a.oa.length;c++)for(var d=a.oa[c],f=0;f<d.m_pContactArray.length;f++)if(b==d.m_pContactArray[f].id)return!0;return!1}function C(a,b){return b==(a.da?a.Qa:a.O)}var N=window.W,x={Gb:1,Hb:25,Fe:0};b.a.log("hmtg jmkernel version "+H());var n=b.jmkernel=b.Yb=b.Yb||{};n.version=n.version=H;x.fv=0;x.Ev=1;x.yv=2;x.Cv=
3;x.Hi=4;x.Eg=5;x.Bi=6;x.kv=7;x.Yn=8;x.Ei=9;x.Zn=10;x.sv=11;x.Tu=12;x.Pv=13;x.Rv=14;x.Su=15;x.Un=16;x.Qn=17;x.tv=18;x.Vv=19;x.uo=20;x.Iv=21;x.Qv=22;x.zi=23;x.Yv=24;x.Gi=25;x.Mv=26;x.xi=27;x.nv=28;x.ov=29;x.pv=30;x.co=31;x.Ai=32;x.eo=33;x.qv=34;x.Bv=35;x.po=36;x.Wn=37;x.Pu=38;x.Dv=39;x.qo=40;x.Fi=41;x.cv=42;x.Kv=43;x.Vn=44;x.gv=45;x.dv=46;x.Zu=47;x.Uv=48;x.bo=49;x.Qu=50;x.yi=51;x.ev=52;x.ko=53;x.Av=54;x.oo=55;x.Jv=56;x.Wv=57;x.fo=58;x.rv=59;x.Lv=60;x.Ci=61;x.Di=62;x.Fv=63;x.Ru=64;x.Uu=65;x.Vu=66;x.Sn=
67;x.$u=68;x.$n=69;x.mv=70;x.Xn=71;x.hv=72;x.Wu=73;x.jv=74;x.av=75;x.Yu=76;x.Nv=77;x.Ov=78;x.mo=79;x.lo=80;x.no=81;x.Sv=82;x.io=83;x.to=84;x.Xv=85;x.Xu=86;x.Tn=87;x.bv=88;x.ro=89;x.so=90;x.Rn=91;x.iv=92;x.ho=93;x.ao=94;x.Pn=95;x.On=96;x.Hv=97;x.Gv=98;x.Nn=99;x.zv=100;x.jo=101;x.vv=102;x.wv=103;x.uv=104;x.xv=105;x.lv=106;x.vo=107;x.Ii=108;x.Tv=109;x.Ep=109;x.Ub=[];x.la=[];x.ab=b.a.Yc(b.a.localStorage.hmtg_msgr_g_us_status);"undefined"===x.ab&&(x.ab=b.b.Md);x.ab!=b.b.Md&&x.ab!=b.b.iq&&x.ab!=b.b.jq&&
x.ab!=b.b.lj&&x.ab!=b.b.Rb&&(x.ab=b.b.Md);x.Ij=0;x.Br=!0;x.Y=function(){};E.prototype._g_us_status=function(a){if("undefined"===typeof a)return x.ab;x.ab=a};x.Ar=new E;e.prototype._blocking=function(a){this.Ec&&b.a.log(-1,"alert, _blocking, should not occur, need investigation for "+this.l);this.Ec=!0;this.wj=a};e.prototype._unblocking=function(){this.Ec||b.a.log(-1,"alert, _unblocking, should not occur, need investigation for "+this.l);this.Ec=!1;this.ei&&this.ei()};e.prototype._homepage=function(){return this.ia};
e.prototype._guest=function(){return this.T};e.prototype._userid=function(){return this.O};e.prototype._my_id=function(){return this.da?this.Qa:this.O};e.prototype._connection_status=function(){return this.J};e.prototype._us_status=function(a){if("undefined"===typeof a)return this.Xa;this.Xa=a};e.prototype._office_status=function(){return this.Ta};e.prototype._mmc_messenger=function(){return this.da};e.prototype._server_version_major=function(){return this.ef};e.prototype._server_version_minor=function(){return this.$h};
e.prototype._server_version_subminor=function(){return this.pt};e.prototype._personal_info=function(a){if("undefined"===typeof a)return this.Ua;this.Ua=a};e.prototype._office_name=function(a){if("undefined"===typeof a)return this.Oa;this.Oa=a};e.prototype._name_or_homepage=function(){return this.Oa?this.Oa:this.ia};e.prototype._name_or_homepage2=function(){return this.Oa?this.Oa:(this.T?"guest":this.username)+" @ "+this.ia};e.prototype._name_or_homepage3=function(){return this.Oa?this.Oa:"["+(this.T?
"guest":this.username)+" @ "+this.ia+"]"};e.prototype._quit=function(){return this.Va};e.prototype._internal_id=function(){return this.Qa};e.prototype._m_pContactGroupArray=function(){return this.oa};e.prototype._client_info_loaded=function(){return this.Tb};e.prototype._noncontact_folded=function(a){if("undefined"===typeof a)return this.qe;this.qe=a};e.prototype._m_p_mmc_user_hash=function(){return this.Bd};e.prototype._m_User=function(){return this.lb};e.prototype._user_status_inited=function(){return this.qg};
e.prototype._user_info_ever_recvd=function(){return this.fi};e.prototype._disk_usage=function(){return this.ur};e.prototype._username=function(a){if("undefined"===typeof a)return this.username;this.username=a};e.prototype._to_restore_status=function(){return this.og};e.prototype._im_style_flag=function(a){if("undefined"===typeof a)return this.yf;this.yf=a};e.prototype._ngclass=function(a){if("undefined"===typeof a)return this.pb;this.pb=a};e.prototype._ngstyle=function(a){if("undefined"===typeof a)return this.Fc;
this.Fc=a};e.prototype._imstyle=function(a){if("undefined"===typeof a)return this.V;this.V=a};e.prototype._file_transfer_cap=function(){return this.yr};e.prototype._group_im_cap=function(){return this.Mj};e.prototype._password=function(a){if("undefined"===typeof a)return this.password;this.password=a};e.prototype._password_error=function(a){if("undefined"===typeof a)return this.cf;this.cf=a};e.prototype._ever_connected=function(){return this.Dj};e.prototype._server_im_log=function(){return this.Zh};
e.prototype._share_file_folded=function(){return this.ff};e.prototype._old_psf_folded=function(){return this.od};e.prototype._m_pShareFileArray=function(){return this.dc};e.prototype._publish_file_count=function(){return this.et};e.prototype._publish_file_folded=function(){return this.df};e.prototype._old_publish_folded=function(){return this.rd};e.prototype._mmc_publish_file_array=function(){return this.Sh};e.prototype._visitor_folded=function(a){if("undefined"===typeof a)return this.ye;this.ye=
a};e.prototype._m_pVisitorArray=function(){return this.$e};e.prototype._event_count=function(){return this.xr};e.prototype._event_folded=function(a){if("undefined"===typeof a)return this.Qd;this.Qd=a};e.prototype._mmc_event_array=function(){return this.gg};e.prototype._mcu_tick=function(){return this.Xs};e.prototype._local_tick=function(){return this.Rs};e.prototype._allow_group_im_force_leave=function(){return this.sj};e.prototype._email=function(a){if("undefined"===typeof a)return this.Yg;this.Yg=
a};e.prototype._deny_message=function(a){if("undefined"===typeof a)return this.uf;this.uf=a};e.prototype._jnj_ip=function(){return this.Z};e.prototype._port=function(){return this.port};e.prototype._profile_up_to_date=function(){return this.Am};e.prototype._max_outconnection=function(){return this.Ws};e.prototype._disk_quota=function(){return this.tr};e.prototype._pgc_folded=function(a){if("undefined"===typeof a)return this.re;this.re=a};e.prototype._m_pPgcHash=function(){return this.fb};e.prototype._m_PgcCount=
function(){return this.Ad};e.prototype._cipher_name=e.prototype.Rq=function(){return this.jd};e.prototype._turn_server_array=function(){return this.di};D.prototype._status=function(a){if("undefined"===typeof a)return this.status;this.status=a};D.prototype._office_status=function(){return this.Ta};D.prototype._username=function(){return this.username};D.prototype._personal_info=function(){return this.Ua};D.prototype._userid=function(){return this.O};D.prototype._major=function(){return this.mb};D.prototype._minor=
function(){return this.Eb};D.prototype._is_offline=function(){return 0==this.status&&0==this.Ta||this.status==b.b.Rb};w.prototype._saved_password=function(){return this.Hd};B.prototype._pgc_name=function(){return this.se};B.prototype._full_name=function(){return this.$a};B.prototype._group_id=function(){return this.gh};B.prototype._owner_id=function(){return this.V};B.prototype._count=function(){return this.count};B.prototype._member_hash=function(){return this.nb};n.jm_command_CallbackReady=n.nC=
function(){var a=b.Yb;a.Qr=a.jm_callback_compress;a.Rr=a.jm_callback_decompress;a.Vj=a.jm_callback_GetMcuInfo;a.S=a.jm_callback_UpdateConnectionStatus;a.s=a.jm_callback_ShowError;a.Zd=a.jm_callback_UpdateUser;a.Uj=a.jm_callback_DeleteConnectionParam;a.Ud=a.jm_callback_LaunchJoinNet;a.Dk=a.jm_callback_ServerShutdown;a.bk=a.jm_callback_JnjExceedDiskQuota;a.Ff=a.jm_callback_ShowMMCError;a.Fk=a.jm_callback_ShortMessage;a.ck=a.jm_callback_JnjInvite;a.gk=a.jm_callback_JnjVisit;a.dk=a.jm_callback_JnjNewMessage;
a.ek=a.jm_callback_JnjNewMessageCount;a.Mk=a.jm_callback_UserInfoUpdated;a.ak=a.jm_callback_InviteJnjGeneration;a.jk=a.jm_callback_MMCJnjGeneration;a.wk=a.jm_callback_QueryURLMMC;a.Ak=a.jm_callback_SendFileRequest;a.sk=a.jm_callback_OfflineGroupMessage;a.Wj=a.jm_callback_GroupMessage;a.fk=a.jm_callback_JnjShareFile;a.Gk=a.jm_callback_ShortMessageFailure;a.$j=a.jm_callback_InviteFailure;a.Ek=a.jm_callback_ShareFileFailure;a.Xj=a.jm_callback_GroupMessageFail;a.Cf=a.jm_callback_NotifyIMStatusChange;
a.Ef=a.jm_callback_ServerLogError;a.Ck=a.jm_callback_ServerLogData;a.zf=a.jm_callback_DisconnectGroupConversationWindow;a.xk=a.jm_callback_ReconnectGroupConversationWindow;a.Zj=a.jm_callback_IMNewItem;a.Vd=a.jm_callback_MsgNewItem;a.Wb=a.jm_callback_MessageEndOfFile;a.nk=a.jm_callback_NotifyPlaybackResult;a.Df=a.jm_callback_NotifyShareResult;a.qk=a.jm_callback_NotifyUnshareResult;a.rk=a.jm_callback_NotifyViewRecordResult;a.Nr=a.jm_callback_NotifyJnrPasswordResult;a.Mr=a.jm_callback_NotifyChangeTitleResult;
a.Wd=a.jm_callback_NotifyChangeFileProgress;a.kk=a.jm_callback_NotifyJeditorResult;a.Bf=a.jm_callback_NotifyDownloadResult;a.Xd=a.jm_callback_NotifyUploadResult;a.Nk=a.jm_callback_ViewRecord;a.Jk=a.jm_callback_UpdateEventList;a.Kk=a.jm_callback_UpdatePublishFileList;a.Sj=a.jm_callback_ClientInfoLoaded;a.Ra=a.jm_callback_UpdatePgc;a.Lk=a.jm_callback_UpdateVisitor;a.Hk=a.jm_callback_ShowTalkToError;a.Ok=a.jm_callback_VisitorSessionAlert;a.zk=a.jm_callback_SendFileAction;a.Bk=a.jm_callback_SendFileSend;
a.Yj=a.jm_callback_GroupTyping;a.Ik=a.jm_callback_TypingIn;a.mk=a.jm_callback_NotifyOnlineAlertMMC;a.lk=a.jm_callback_NotifyOnlineAlert;a.Bb=a.jm_callback_JoinGroup;a.ik=a.jm_callback_LeaveGroup;a.Yd=a.jm_callback_StopPgc;a.Af=a.jm_callback_InitPgc;a.tk=a.jm_callback_OfflineJoin;a.uk=a.jm_callback_OfflineLeave;a.vk=a.jm_callback_OfflinePgcRename;a.yk=a.jm_callback_RenamePgc;a.Tj=a.jm_callback_CreateGroupFail;a.hk=a.jm_callback_JoinGroupFail;a.pk=a.jm_callback_NotifyServerIMLogChange;a.Pk=a.jm_callback_WebRTCSignal};
n.jm_command_ReadWBL=n.SC=function(){F();x.la=[];var a=[];b.a.localStorage.hmtg_wbl&&"string"===typeof b.a.localStorage.hmtg_wbl&&b.a.localStorage.hmtg_wbl.length&&(a=b.a.Yc(b.a.localStorage.hmtg_wbl),"undefined"===a?a=[]:b.a.isArray(a)||(a=[]));for(var c=0;c<a.length;c++){var d=a[c],e=new w;e.Oa="string"===typeof d.office_name?d.office_name:"";e.ia="string"===typeof d.homepage?d.homepage:"";e.ye=!!d.visitor_folded;e.ff=!!d.share_file_folded;e.Qd=!!d.event_folded;e.df=!!d.publish_file_folded;e.re=
!!d.pgc_folded;e.qe=!!d.noncontact_folded;e.T=!!d.guest;d.guest||(e.dg=d.last_status,e.O="string"===typeof d.userid?d.userid:"",e.Hd=!!d.saved_password,d.saved_password&&(d.password&&"string"===typeof d.password||(d.password=""),e.password=b.crypto.w(d.password,b.crypto.jf).u()));x.la.push(e)}};n.jm_command_WriteWBL=n.Sk=p;n.jm_command_ReorderWBL=n.ZC=function(a){var b=[],c,d=!1;for(c=0;c<a.length;c++){var e;a:{for(e=0;e<x.la.length;e++)if(X(a[c].pointer,x.la[e]))break a;e=-1}-1!=e&&(e!=c&&(d=!0),
b.push(x.la[e]))}d&&(x.la=b,n.Sk())};n.jm_command_AddWebOffice=n.kC=function(a,c,d,e,g){var f=0,h;for(h=0;h<x.la.length;h++){var t=x.la[h];if(t.T==c&&t.ia==a&&(c||e==t.O)){f=1;t.lr=1;t.T=c;t.Hd=d;c||(t.O=e,d&&(t.password=g));break}}f||(t=new w,t.lr=1,t.dg=b.b.Md,t.ia=a,t.T=c,!c&&(t.O=e,t.Hd=d)&&(t.password=g),x.la.push(t))};n.jm_command_UpdateWebOfficeLastStatus=n.oD=m;n.jm_command_SignInOffice=n.hD=function(a,c,d,g,h){for(var f=0,t=null,m=0;m<x.Ub.length;m++)if(t=x.Ub[m],t.ia==d&&(a&&t.T||!t.T&&
!a&&t.O==g)){f=1;break}if(f){f=t;if(1E4>f.J){if(f.T)return;if(f.password==h){x.ab=c;f.Xa!=c&&(f.J==b.b.pa?aa(c,f):(f.Xa=c,f.lh=1));return}b.a.log("add office and force existing connection to sign out for "+f.l)}z(f);f.T||(x.ab=f.Xa=c,f.lh=1,f.password=h);f.J=b.b.ze;G(f)}else f=new e,f.Je=!0,f.J=b.b.Mi,f.T=a,f.T||(x.ab=f.Xa=c,f.lh=1,f.O=g,f.password=h,f.username=g),f.ia=d,x.Ub.push(f),f.l=(f.T?"guest":f.O)+" @ homepage "+f.ia,b.a.log(1,["signin, start thread for ",f.l].join("")),n.S&&n.S(f),I(f)};
n.jm_command_SignOutOffice=n.iD=z;n.jm_command_ReconnectOffice=n.TC=G;n.jm_command_RemoveOffice=n.VC=function(a){a&&a.disconnect&&a.disconnect();a&&(a.Va=!0);var b=x.Ub.indexOf(a);-1!=b&&x.Ub.splice(b,1);n.Uj&&n.Uj(a)};n.jm_command_ConnectAllOffice=n.sC=function(a){for(var c=0;c<x.la.length;c++){var d=x.la[c],f=new e;f.J=b.b.Mi;f.T=d.T;f.ye=d.ye;f.ff=d.ff;f.Qd=d.Qd;f.df=d.df;f.re=d.re;f.qe=d.qe;f.Xa=d.dg;f.Oa=d.Oa;f.ia=d.ia;d.T||(f.O=d.O,d.Hd?f.password=d.password:(f.password="",f.cf=1),f.username=
f.O);x.Ub.push(f);f.l=(f.T?"guest":f.O)+" @ homepage "+f.ia;a&&(d.T||d.Hd)?(b.a.log(1,"init, start thread for "+f.l),I(f)):f.J=b.b.ze;n.S&&n.S(f)}};n.jm_command_FindWebOffice=n.BC=function(a){for(var b,c=0;c<x.la.length;c++)if(b=x.la[c],X(a,b))return b;return null};n.jm_command_RemoveWebOffice=n.XC=function(a){a=x.la.indexOf(a);-1!=a&&x.la.splice(a,1)};n.jm_command_UpdateWebOfficeFoldStatus=n.nD=function(a,b,c){var d;for(d=0;d<x.la.length;d++){var f=x.la[d];if(X(a,f)){0==b?f.ye=c:2==b?f.qe=c:3==b?
f.Qd=c:4==b?f.ff=c:5==b?f.df=c:6==b&&(f.re=c);break}}};n.jm_command_UpdateWebOfficeName=n.Yr=function(a){var b;for(b=0;b<x.la.length;b++){var c=x.la[b];if(X(a,c)){c.Oa=a.Oa;break}}};n.jm_command_UpdateWebOfficeProfile=n.pD=function(a){var b;for(b=0;b<x.la.length;b++){var c=x.la[b];if(X(a,c)){c.password=a.password;break}}};n.jm_command_LaunchOffice=n.Ur=function(a){var b=new N.a.g;b.o(x.Zn);a.j.send(b.i())};n.jm_command_AppendDefaultPassword=n.Tr=function(a,c){if(!c)return a;F();var d="hmtg_temp_autodelete_"+
(new N.a.g(N.random.ya(20))).Pb();c={time:Date.now(),value:b.crypto.M(c,b.crypto.jf).u()};b.a.localStorage[d]=JSON.stringify(c);a+="\nowner_passwd="+d+"\n";b.a.td||setTimeout(function(){b.a.localStorage.removeItem(d)},6E4);return a};n.jm_command_AppendPlayerName=n.lC=function(a,c){if(c.T)return a;var d=c.username;d?(d+=" @ "+c.ia,d=b.a.hf(d,128)):d="Guest";return a+("\nplayer_name="+d+"\n")};n.jm_command_Base64HashPassword=n.mC=function(a){var c=b.crypto.ad(a.password);a=b.crypto.M(c,a.B);return b.a.nc(a)};
n.jm_command_Visit=n.sD=function(a,c){if(!a.Va&&a.J==b.b.pa){var d=new N.a.g;d.o(x.Yn);d.H(c);a.j.send(d.i());return!0}};n.jm_command_SetStatus=n.Wr=aa;n.jm_command_MMCVisit=n.KC=function(a,c,d,e,g){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.co);f.f(c);f.H(d);c=g?1:0;f.f(c);c||f.H(e);a.j.send(f.i());return!0}};n.jm_command_MMCRequestInviteUserJnj=n.JC=function(a,b,c,d,e){var f=new N.a.g;f.o(a==b?x.Wn:x.Ai);f.f(c);f.H(a==b?d:e);a.j.send(f.i())};n.jm_command_RequestInviteUserJnj=n.$C=function(a,b,
c,d){b=new N.a.g;b.o(x.Ai);b.f(c);b.H(d);a.j.send(b.i())};n.jm_command_InviteUser=n.EC=function(a,c,d,e,g){a.Va||!a.Ta&&!a.da||(b.a.oe("inviting user '"+e+"'(name: '"+g+"') @ '"+c.ia+"', invitor '"+(a.da?a.Qa:a.O)+"'(name: '"+a.username+"') @ '"+a.ia+"'"),g=new N.a.g,g.o(x.Un),g.H(e),g.H(a.ia),g.H(a.da?a.username:a.O),a=d.length,g.f(a),a&&g.D(b.crypto.M(d,c.B)),c.j.send(g.i()))};n.jm_command_InviteGuest=n.DC=function(a,c,d,e,g){if(!a.Va&&(a.Ta||a.da)){b.a.oe("inviting guest "+g+" @ '"+c.ia+"', invitor '"+
(a.da?a.Qa:a.O)+"'(name: '"+a.username+"') @ '"+a.ia+"'");var f=new N.a.g;f.o(x.Vn);f.H(e);f.H(a.ia);f.H(a.da?a.username:a.O);a=d.length;f.f(a);a&&f.D(b.crypto.M(d,c.B));f.H(g);c.j.send(f.i())}};n.jm_command_SendMessage=n.cD=function(a,c,d,e,g,h,m,n){var f=new N.a.g;c?(f.o(x.Sn),f.H(c),m=d.length,f.f(m),m&&f.D(b.crypto.M(d,a.B)),m=e.length,f.f(m),m&&f.D(b.crypto.M(e,a.B))):(c=g||a.T,f.o(c?x.Fi:x.qo),f.H(m),m=d.length,f.f(m),m&&f.D(b.crypto.M(d,a.B)),m=e.length,f.f(m),m&&f.D(b.crypto.M(e,a.B)),f.H(a.T?
a.wf:a.da?a.Qa:a.O),f.H(n),c&&f.H(h));a.j.send(f.i())};n.jm_command_SendWebRTCSignal=n.dD=function(a,c,d){var e=new N.a.g;e.o(x.vo);e.H(d);d=c.length;e.f(d);d&&e.D(b.crypto.M(c,a.B));a.j.send(e.i())};n.jm_command_ParamFindUser=n.Vr=ba;n.jm_command_DownloadServerLog=n.zC=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.Pn);f.f(c);f.f(e);f.f(g);f.K(h);f.f(m);f.H(d);a.j.send(f.i());return!0}};n.jm_command_DeleteServerLog=n.xC=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;
f.o(x.On);f.f(c);f.f(e);f.H(d);a.j.send(f.i());return!0}};n.jm_command_DecodeServerLogLine=n.tC=function(a){var c={};if(35==a.charCodeAt(0)){c.text_type=b.b.Hg;a=b.a.Ib(a.slice(1));var d=new N.a.g(a)}else a=b.a.Ib(a),d=new N.a.g(a),c.text_type=d.c(8);if(d.L(a.length-1))return null;c.tick=d.c(0);var e=12;switch(c.text_type){case b.b.Yi:c.delay=d.c(12),e=16;case b.b.$i:var f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");if(-1==d)return null;var g=a.slice(e+f+d+2).indexOf("\x00");
if(e+f+d+g+3!=a.length||256<=f||500<=d||5E3<=g)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);c.s3=a.substr(e+f+d+2,g);break;case b.b.Kg:case b.b.Vi:c.delay=d.c(12),e=16;case b.b.Ig:case b.b.Jg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||256<=f)return null;c.s1=a.substr(e,f);break;case b.b.Wi:c.delay=d.c(12);e=16;f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");if(e+f+d+2!=a.length||256<=f||256<=d)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);
break;case b.b.Zi:case b.b.Xi:c.delay=d.c(12);c.size=d.c(16)>>>0;e=20;f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||5E3<=f)return null;c.s3=a.substr(e,f);break;case b.b.Hg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||500<=f)return null;c.s3=""+d.c(8)+" ("+a.substr(e,f)+")";break;default:return null}return c};n.jm_command_CheckIM=n.qC=function(a,c,d){return new b.protocol.Sr(a,c,d)};n.jm_command_CheckMsg=n.rC=function(a,c,d){return new b.protocol.Rk(a,0,d)};n.jm_command_Playback=n.RC=function(a,
c,d,e){var f=new N.a.g;a.da?(f.f(1),f.f(e),c.Da=0,c.j.send(f.i())):(f.o(x.ko),f.D(b.crypto.M(d,a.B)),a.j.send(f.i()))};n.jm_command_Delete=n.uC=function(a,b,c,d){var e=new N.a.g;Y(e,2,a,b,c,d)};n.jm_command_MarkRead=n.LC=function(a,b,c,d){var e=new N.a.g;Y(e,6,a,b,c,d)};n.jm_command_MarkUnread=n.MC=function(a,b,c,d){var e=new N.a.g;Y(e,7,a,b,c,d)};n.jm_command_MMCPlaybackSharedFile=n.IC=function(a,c,d){if(!a.Va&&a.J==b.b.pa){var e=new N.a.g;e.o(x.fo);e.f(c);e.H(d);a.j.send(e.i());return!0}};n.jm_command_MMCEditProfile=
n.HC=function(a,c){if(!a.Va&&a.J==b.b.pa){var d=new N.a.g;d.o(x.zi);d.f(c);a.j.send(d.i());return!0}};n.jm_command_JoinEvent=n.GC=function(a,c,d,e,g,h){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.bo);f.f(c);f.H(d);f.H(e);f.f(g?1:0);g||f.H(h);a.j.send(f.i());return!0}};n.jm_command_UpdatePersonalInfo=n.Xr=function(a){var b=new N.a.g;b.o(x.to);b.H(a.Ua);a.j.send(b.i())};n.jm_command_SpeedupClientInfo=n.jD=function(){var a;for(a=0;a<x.Ub.length;a++){var b=x.Ub[a];!b.T&&b.Wa&&(clearTimeout(b.Wa),b.Wa=
null,v(b))}};n.jm_command_TouchClientInfo=n.Xb=function(a){a.Tb&&!a.Gc&&(a.Wa&&clearTimeout(a.Wa),a.Wa=setTimeout(function(){a.Wa=null;v(a)},6E4))};n.jm_command_RemoveShareFile=n.WC=function(a,b){b=a.dc.indexOf(b);-1!=b&&(a.dc.splice(b,1),n.Xb(a))};n.jm_command_RemoveAllShareFile=n.UC=function(a,b){var c;for(c=a.dc.length-1;0<=c;c--)a.dc[c].group==b&&a.dc.splice(c,1);n.Xb(a)};n.jm_command_UpdateUserInfo=n.Le=function(a,b,c,d){var e;if(a.da){if(e=a.Bd[c])return;e=new D;a.Bd[c]=e}else{if(e=a.lb[b])return;
e=new D;a.lb[b]=e}e.status=0;e.Ta=0;e.mb=0;e.Eb=0;e.O=c;e.username=d;e.Ua=""};n.jm_command_TalkToVisitor=n.kD=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.Gi);f.f(c);f.f(d);f.H(e);a.j.send(f.i());return!0}};n.jm_command_SendFileAction=n.bD=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.lo);f.f(c);f.f(d);f.f(e);f.f(g);f.f(h);f.H(m);a.j.send(f.i());return!0}};n.jm_command_NotifyFileTransfer=n.NC=function(a,c,d,e,g,h,m,n,p){if(!a.Va&&a.J==b.b.pa){m&&(c|=2147483648);
var f=new N.a.g;f.o(x.ho);f.f(c);f.f(d);f.f(g);f.H(h);f.H(e);m&&(f.H(n),f.H(p));a.j.send(f.i());return!0}};n.jm_command_Typing=n.lD=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;c?(f.o(x.Tn),f.H(c)):(f.o(e?x.so:x.ro),f.H(d));a.j.send(f.i());return!0}};n.jm_command_PgcUsernameChange=n.mh=function(a,b){var c=a.fb,d={},e;for(e in c)if(c.hasOwnProperty(e)){var f=a.fb[e];"undefined"!==typeof f.nb[b]&&(q(a,f),d[e]||(n.Ra&&n.Ra(a,e),d[e]=1))}};n.jm_command_RequestSendFile=n.aD=function(a,c,d,
e,g,h,m,n,p){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.mo);f.f(c);f.f(d);f.f(e);f.H(g);f.H(h);m&&(f.H(n),f.H(p));a.j.send(f.i());return!0}};n.jm_command_FileSend=n.AC=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=d.length;f=f|e<<30|(c?1:0)<<29;c=new N.a.g;c.o(x.no);c.f(g);c.f(f);c.f(h);c.H(m);c.D(b.crypto.M(d,a.B));a.j.send(c.i());return!0}};n.jm_command_AddPerson=n.jC=function(a,b,c,d){var e=new N.a.g;e.o(b?x.Xn:x.Nn);e.H(b?b:c);e.H(d);a.j.send(e.i())};n.jm_command_LeaveGroup=n.ud=function(a,
b){var c=new N.a.g;c.o(x.$n);c.H(b);a.j.send(c.i())};n.jm_command_PgcRemove=n.PC=function(a,b){b=b.gh;delete a.fb[b];a.Ad--;n.Ra&&n.Ra(a,b)};n.jm_command_PgcRename=n.QC=function(a,b,c){var d=new N.a.g;d.o(x.jo);d.H(b);d.H(c);a.j.send(d.i())};n.jm_command_ForceLeaveGroup=n.CC=function(a,b,c){var d=new N.a.g;d.o(x.Rn);d.H(b);d.H(c);a.j.send(d.i())};n.jm_command_ViewProfile=n.Zr=function(a){var b=new N.a.g;b.o(x.uo);b.f(0);a.j.send(b.i())};n.jm_command_Share=n.fD=function(a,c,d,e,g,h,m,n,p,q){var f=
new N.a.g;Y(f,9,a,c,d,e,!0);d=new N.a.g;d.f(m?n:0);m=21;p&&(p=b.crypto.ad(b.a.qb(q)),d.D(p),m=1);for(p=0;p<m;p++)d.o(0);f.D(b.crypto.M(d,a.B));g==a&&h?f.H(h):f.f(0);c.j.send(f.i())};n.jm_command_Unshare=n.mD=function(a,b,c,d){var e=new N.a.g;Y(e,12,a,b,c,d)};n.jm_command_ViewRecord=n.rD=function(a,b,c,d){var e=new N.a.g;Y(e,15,a,b,c,d)};n.jm_command_ChangeTitle=n.pC=function(a,c,d,e,g){var f=new N.a.g;Y(f,11,a,c,d,e,!0);f.f(g.length);g.length&&f.D(b.crypto.M(g,a.B));c.j.send(f.i())};n.jm_command_ChangeJNRPassword=
n.oC=function(a,c,d,e,g,h){var f=new N.a.g;Y(f,10,a,c,d,e,!0);f.f(g.length);g.length&&f.D(b.crypto.M(g,a.B));f.f(h.length);h.length&&f.D(b.crypto.M(h,a.B));c.j.send(f.i())};n.jm_command_ShareFileToUser=n.gD=function(a,c,d,e,g,h,m,n,p,q,r){if(c.J==b.b.pa)return a=new N.a.g,a.o(x.oo),a.H(d),a.H(h),a.H(g),a.H(q),a.H(e),a.H(m),a.f(p),a.f(r),a.H(n),c.j.send(a.i()),!0};n.jm_command_ParseViewRecord=n.OC=function(a){var b=new N.a.g(a),c=b.c(12);return 0>c||128<=c||c+16>a.length?null:[c,b.h(16,c),b.c(0),b.c(8),
b.c(4)]};n.jm_command_AddContactGroup=n.iC=function(a,b){var c={},d,e=!1;for(d=0;d<a.oa.length;d++){var f=a.oa[d];if(f.m_szGroupName==b){e=!0;break}else if(b.toLowerCase()<f.m_szGroupName.toLowerCase())break}e||(a.oa.splice(d,0,c),c.m_szGroupName=b,c.contact_folded=0,c.m_pContactArray=[],n.Xb(a))};n.jm_command_RenameContactGroup=n.YC=function(a,b,c){var d,e=!1;for(d=0;d<a.oa.length;d++){var f=a.oa[d];if(f==b){a.oa.splice(d,1);e=!0;break}}if(e){b.m_szGroupName=c;e=!1;for(d=0;d<a.oa.length;d++)if(f=
a.oa[d],f.m_szGroupName==c){e=!0;break}else if(c.toLowerCase()<f.m_szGroupName.toLowerCase())break;e||(a.oa.splice(d,0,b),n.Xb(a))}};n.jm_command_DeleteContactGroup=n.wC=function(a,b){var c,d=!1;for(c=0;c<a.oa.length;c++)if(a.oa[c]==b){a.oa.splice(c,1);d=!0;break}d&&n.Xb(a)};n.jm_command_AddContact=n.hC=function(a,b,c,d){var e={},f,g=!1;for(f=0;f<b.m_pContactArray.length;f++)if(c==b.m_pContactArray[f].id){g=!0;break}else if(c<b.m_pContactArray[f].id)break;g||(b.m_pContactArray.splice(f,0,e),e.id=
c,(b=ba(a,c))?(e.name=b.username||d,e.pm=b.Ua):(e.name=d,e.pm=""),n.Xb(a))};n.jm_command_DeleteContact=n.vC=function(a,b,c){var d,e=!1;for(d=0;d<b.m_pContactArray.length;d++)if(c==b.m_pContactArray[d].id){b.m_pContactArray.splice(d,1);e=!0;break}else if(c<b.m_pContactArray[d].id)break;e&&n.Xb(a)};n.jm_command_SetGroup=n.eD=function(a,b,c,d,e){var f=new N.a.g;Y(f,16,a,b,c,d,!0);f.H(e);b.j.send(f.i())};n.jm_command_Jeditor=n.FC=function(a,b,c,d,e){b.ec=17;var f=new N.a.g;Y(f,17,a,b,c,d,!0);f.H(e);b.j.send(f.i())};
n.jm_command_Download=n.yC=function(a,b,c,d){b.ec=18;var e=new N.a.g;Y(e,18,a,b,c,d,!0);b.j.send(e.i())};n.jm_command_Upload=n.qD=function(a,c,d){function e(){if(1E4<c.Ia&&!c.rf&&c.jc+c.Sb<d.size){var e=Math.min(d.size,c.jc+c.Ia+2E4),f=new FileReader;f.onload=function(a){c.buffer&&(c.buffer.set(c.buffer.slice(c.Ia,c.Sb)),c.buffer.set(new Uint8Array(a.target.result),c.Sb-c.Ia),c.Sb=c.Sb-c.Ia+a.target.result.byteLength,c.jc+=c.Ia,c.Ia=0,c.rf=!1)};f.onerror=function(){c.buffer&&(c.buffer=null,c.fa&&
(c.fa.terminate(),c.fa=null),n.Xd&&n.Xd(a,c,b.b.Qq))};f.readAsArrayBuffer(d.slice(c.jc+c.Sb,e));c.rf=!0}}c.ec=19;var f=new N.a.g;f.f(c.ec);f.f(d.size>>>0);f.f(d.size/4294967296>>>0);f.D(b.crypto.M(c.buffer.slice(0,74),a.B));c.Ia=74;c.j.send(f.i());c.fa=new Worker("worker/worker_interval.js");c.fa.onmessage=function(){if(a.J!=b.b.pa||!c.connected||1!=c.j.readyState)c.connected&&1==c.j.readyState&&c.j.close(),c.ob=0,c.buffer=null,c.fa&&(c.fa.terminate(),c.fa=null);else if(!c.j.bufferedAmount){var l=
b.a.A();if(n.Wd&&500<l-g){var m=(c.jc+c.Ia)/d.size*100>>>0;m!=h&&(h=m,c.ob=m,n.Wd(a,c));g=l}for(m=0;100>m;m++){if(512>c.Sb-c.Ia&&c.Sb+c.jc!=d.size){e();break}var p=Math.min(512,c.Sb-c.Ia);var q=c.buffer.subarray(c.Ia,c.Ia+p);c.Ia+=p;f.clear();f.D(b.crypto.M(q,a.B));c.j.send(f.i());if(c.Ia+c.jc==d.size){c.buffer=null;c.fa&&(c.fa.terminate(),c.fa=null);break}if(20<b.a.A()-l){e();break}}}};c.fa.postMessage({command:"set",delay:10});var g=b.a.A()-1E3,h=0};n.jm_command_WriteUserProfile=n.tD=function(a){if(a.J==
b.b.pa){var c=new N.a.g;c.o(x.zi);c.H(a.username);c.H(a.Yg);var d=a.password?a.password.length:0;c.f(d);d&&c.D(b.crypto.M(a.password,a.B));c.f(a.uf);a.j.send(c.i());return!0}};n.jm_info_GlobalPointer=n.xD=function(){return x.Ar};n.jm_info_TestSameOffice=n.AD=X;n.jm_info_HaveNonContact=n.yD=function(a){if(a.da){var c=a.Bd;for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if((e.status||e.Ta)&&(e.status!=b.b.Rb||e.O==a.Qa)&&a.Qa!=e.O&&!P(a,e.O))return!0}}else for(d in c=a.lb,c)if(c.hasOwnProperty(d)&&
(e=c[d],(e.status||e.Ta)&&(e.status!=b.b.Rb||e.O==a.O)&&a.O!=e.O&&!P(a,e.O)))return!0;return!1};n.jm_info_IsContact=n.zD=P;n.jm_info_CanTargetUserAcceptInvitation=n.uD=function(a,c){return(a=ba(a,c))&&a.status!=b.b.Rb&&0!=a.status&&1<=a.mb?!0:!1};n.jm_info_CheckSelf=n.vD=C;n.jm_info_GetUserName=n.Tk=function(a,b){if(C(a,b))return a.username;var c=n.Vr(a,b);if(c)return c.username;for(c=0;c<a.oa.length;c++){var d=a.oa[c],e;for(e=0;e<d.m_pContactArray.length;e++){var f=d.m_pContactArray[e];if(f.id==
b)return f.name}}return b};n.jm_info_GetOfficeCount=n.wD=function(){return x.la.length}})(window.hmtg);
