"undefined"===typeof window.V&&(window.V={});
(function(b){function H(b,h,q){var n=null;"undefined"===typeof q&&(q=["web","flash"]);var f=!1,d=null,D;for(D in q){var v=q[D];try{if("flash"===v||"both"===v){if(null===h[0])throw{message:"Flash local storage not available."};n=b.apply(this,h);f="flash"===v}if("web"===v||"both"===v)h[0]=window.localStorage,n=b.apply(this,h),f=!0}catch(A){d=A}if(f)break}if(!f)throw d;return n}function B(b,h){C(b,h,null)}function d(b,h,q){var n=p(b,h);if(null!==n&&q in n){delete n[q];q=!0;for(var f in n){q=!1;break}q&&
(n=null);C(b,h,n)}}function t(b,h,q){b=p(b,h);null!==b&&(b=q in b?b[q]:null);return b}function f(b,h,q,f){var n=p(b,h);null===n&&(n={});n[q]=f;C(b,h,n)}function p(b,f){if(!b)throw{message:"WebStorage not available."};f=b.getItem(f);if(b.lh)if(null===f.og){if(f.error)throw f.error;f=null}else f=f.og;null!==f&&(f=JSON.parse(h.Fb(f)));return f}function C(b,f,q){if(!b)throw{message:"WebStorage not available."};null===q?b=b.removeItem(f):(q=h.nc(JSON.stringify(q)),b=b.setItem(f,q));if("undefined"!==typeof b&&
!0!==b.og)throw b.error;}var h=b.a=b.a||{};"undefined"!==typeof window.U&&window.U.af?(h.af=window.U.af,"function"===typeof setImmediate?h.setImmediate=setImmediate:h.setImmediate=h.af):"function"===typeof setImmediate?(h.setImmediate=setImmediate,h.af=function(b){return setImmediate(b)}):(h.setImmediate=function(b){setTimeout(b,0)},h.af=h.setImmediate);h.isArray=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)};h.Xr=function(b){return"undefined"!==typeof ArrayBuffer&&
b instanceof ArrayBuffer};var y=[];"undefined"!==typeof Int8Array&&y.push(Int8Array);"undefined"!==typeof Uint8Array&&y.push(Uint8Array);"undefined"!==typeof Uint8ClampedArray&&y.push(Uint8ClampedArray);"undefined"!==typeof Int16Array&&y.push(Int16Array);"undefined"!==typeof Uint16Array&&y.push(Uint16Array);"undefined"!==typeof Int32Array&&y.push(Int32Array);"undefined"!==typeof Uint32Array&&y.push(Uint32Array);"undefined"!==typeof Float32Array&&y.push(Float32Array);"undefined"!==typeof Float64Array&&
y.push(Float64Array);h.Yr=function(b){for(var n=0;n<y.length;++n)if(b instanceof y[n])return!0;return!1};h.g=function(b){this.data="";this.read=0;if("string"===typeof b)this.data=b;else if(h.Xr(b)||h.Yr(b)){b=new Uint8Array(b);try{this.data=String.fromCharCode.apply(null,b)}catch(q){for(var n=0;n<b.length;++n)this.m(b[n])}}else b instanceof h.g&&(this.data=b.data,this.read=b.read)};h.g.prototype.length=function(){return this.data.length-this.read};h.g.prototype.Zr=function(){return 0>=this.length()};
h.g.prototype.m=function(b){this.data+=String.fromCharCode(b)};h.g.prototype.fh=function(b,f){b=String.fromCharCode(b);for(var n=this.data;0<f;)f&1&&(n+=b),f>>>=1,0<f&&(b+=b);this.data=n};h.g.prototype.L=function(b){this.data+=b};h.g.prototype.Om=function(b){this.data+=b.split("").reverse().join("")};h.g.prototype.G=function(b){this.f(b.length);this.data+=b};h.g.prototype.jg=function(b){b=h.ob(b);this.f(b.length);this.data+=b};h.g.prototype.ut=function(){this.data+=String.fromCharCode(0)+String.fromCharCode(0)};
h.g.prototype.f=function(b){this.data+=String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};h.g.prototype.Dd=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)};h.g.prototype.Yc=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>24&255)};h.g.prototype.C=function(b){this.data+=b.xa()};h.g.prototype.Tj=function(){return this.data.charCodeAt(this.read++)};
h.g.prototype.getInt32=function(){var b=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return b};h.g.prototype.c=function(b){return this.data.charCodeAt(this.read+b)<<24^this.data.charCodeAt(this.read+b+1)<<16^this.data.charCodeAt(this.read+b+2)<<8^this.data.charCodeAt(this.read+b+3)};h.g.prototype.kc=function(b){return this.data.charCodeAt(this.read+b+3)<<24^this.data.charCodeAt(this.read+
b+2)<<16^this.data.charCodeAt(this.read+b+1)<<8^this.data.charCodeAt(this.read+b)};h.g.prototype.Pd=function(b){return this.data.charCodeAt(this.read+b)<<8^this.data.charCodeAt(this.read+b+1)};h.g.prototype.Sr=function(){var b=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return b};h.g.prototype.xa=function(b){if(b){b=Math.min(this.length(),b);var n=this.data.slice(this.read,this.read+b);
this.read+=b}else 0===b?n="":(n=0===this.read?this.data:this.data.slice(this.read),this.clear());return n};h.g.prototype.u=function(b){return"undefined"===typeof b?this.data.slice(this.read):this.data.slice(this.read,this.read+b)};h.g.prototype.h=function(b,f){return"undefined"===typeof f?this.data.slice(this.read+b):this.data.slice(this.read+b,this.read+b+f)};h.g.prototype.M=function(b){return this.data.charCodeAt(this.read+b)};h.g.prototype.compact=function(){0<this.read&&(this.data=this.data.slice(this.read),
this.read=0);return this};h.g.prototype.shift=function(b){this.read+=b;1024<this.data.length&&(4096<this.read||this.read>this.data.length>>1)&&(this.data=this.data.slice(this.read),this.read=0)};h.g.prototype.clear=function(){this.data="";this.read=0;return this};h.g.prototype.truncate=function(b){b=Math.max(0,this.length()-b);this.data=this.data.substr(this.read,b);this.read=0;return this};h.g.prototype.i=function(){for(var b=new ArrayBuffer(this.data.length-this.read),f=new Uint8Array(b),q=0,h=
this.read;h<this.data.length;++h,++q)f[q]=this.data.charCodeAt(h);return b};h.g.prototype.Mb=function(){for(var b="",f=this.read;f<this.data.length;++f){var q=this.data.charCodeAt(f);16>q&&(b+="0");b+=q.toString(16)}return b};h.g.prototype.toString=function(){return h.zb(this.u())};h.createBuffer=function(b,f){void 0!==b&&"utf8"===(f||"raw")&&(b=h.ob(b));return new h.g(b)};h.Oj=function(){for(var b=String.fromCharCode(0),f=64,q="";0<f;)f&1&&(q+=b),f>>>=1,0<f&&(b+=b);return q};h.KG=function(b,f,q){for(var n=
"",h,d="",D=0,v=0;0<q;--q,++D)h=b.charCodeAt(D)^f.charCodeAt(D),10<=v&&(n+=d,d="",v=0),d+=String.fromCharCode(h),++v;return n+d};h.Gc=function(b){var n="",f=0;b.length&1&&(f=1,n+=String.fromCharCode(parseInt(b[0],16)));for(;f<b.length;f+=2)n+=String.fromCharCode(parseInt(b.substr(f,2),16));return n};h.Yg=function(b){return h.createBuffer(b).Mb()};h.uC=function(b){return String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};var N=[62,
-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];h.nc=function(b,f){if(window.btoa)return btoa(b);for(var n="",h="",d,z,v,D=0;D<b.length;)d=b.charCodeAt(D++),z=b.charCodeAt(D++),v=b.charCodeAt(D++),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d>>2),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((d&
3)<<4|z>>4),isNaN(z)?n+="==":(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((z&15)<<2|v>>6),n+=isNaN(v)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(v&63)),f&&n.length>f&&(h+=n.substr(0,f)+"\r\n",n=n.substr(f));return h+n};h.Kj=function(b,f){for(var n="",h="",d,z,v,D=0;D<b.length;)d=b.charCodeAt(D++),z=b.charCodeAt(D++),v=b.charCodeAt(D++),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(d>>2),n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((d&
3)<<4|z>>4),isNaN(z)?n+="==":(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((z&15)<<2|v>>6),n+=isNaN(v)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(v&63)),f&&n.length>f&&(h+=n.substr(0,f)+"\r\n",n=n.substr(f));return h+n};h.Fb=function(b){if(window.atob)try{return atob(b)}catch(X){try{if(b.length)return atob(b.slice(0,-1))}catch(A){}}b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var n="",f,h,d,z,v=0;v<b.length;)f=N[b.charCodeAt(v++)-43],
h=N[b.charCodeAt(v++)-43],d=N[b.charCodeAt(v++)-43],z=N[b.charCodeAt(v++)-43],n+=String.fromCharCode(f<<2|h>>4),64!==d&&(n+=String.fromCharCode((h&15)<<4|d>>2),64!==z&&(n+=String.fromCharCode((d&3)<<6|z)));return n};h.Jj=function(b){return h.Fb(b.replace(/[-|_]/g,function(b){return"-"==b?"+":"/"}))};h.ob=function(b){try{return unescape(encodeURIComponent(b))}catch(D){return b}};h.zb=function(b){try{return decodeURIComponent(escape(b))}catch(D){return b}};h.Fr=function(b){var n;return n=h.Fb(b.Fr(h.nc(n)).og)};
h.Wr=function(b){b=b.Wr(h.nc(void 0)).og;return null===b?null:h.Fb(b)};h.setItem=function(b,h,d,x,v){H(f,arguments,v)};h.getItem=function(b,f,h,d){return H(t,arguments,d)};h.removeItem=function(b,f,h,x){H(d,arguments,x)};h.jC=function(b,f,h){H(B,arguments,h)};h.ot=function(b){var n=/\/\/\[.+\]:/.test(b)?/^(https?):\/\/\[(.+)\]:?(\d*)(.*)$/g:/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;n.lastIndex=0;n=n.exec(b);if(b=null===n?null:{Nr:b,scheme:n[1],host:n[2],port:n[3],path:n[4]})b.Le=b.host,b.port?80!=
b.port&&"http"===b.scheme?b.Le+=":"+b.port:443!=b.port&&"https"===b.scheme&&(b.Le+=":"+b.port):"http"===b.scheme?b.port=80:"https"===b.scheme&&(b.port=443),b.Nr=b.scheme+"://"+b.Le;return b};var v=null;h.Ur=function(b){function n(b){var n={};b=b.split("&");for(var f=0;f<b.length;f++){var h=b[f].indexOf("=");if(0<h){var d=b[f].substring(0,h);h=b[f].substring(h+1)}else d=b[f],h=null;d in n||(n[d]=[]);d in Object.prototype||null===h||n[d].push(unescape(h))}return n}"undefined"===typeof b?(null===v&&
("undefined"===typeof window?v={}:v=n(window.location.search.substring(1))),b=v):b=n(b);return b};h.nt=function(b){var n=b,f="",d=b.indexOf("?");0<d&&(n=b.substring(0,d),f=b.substring(d+1));b=n.split("/");0<b.length&&""===b[0]&&b.shift();d=""===f?{}:h.Ur(f);return{qt:n,vt:f,path:b,query:d}};h.qG=function(b){var n=h.nt(b),f={path:n.qt,query:n.vt,Tr:function(b){return"undefined"===typeof b?n.path:n.path[b]},Sd:function(b,f){"undefined"===typeof b?b=n.query:(b=n.query[b])&&"undefined"!==typeof f&&(b=
b[f]);return b},sC:function(b,n){return(b=f.Sd(b))?b[b.length-1]:n}};return f};h.pG=function(){};h.GG=function(b,f,h){if("object"===typeof b&&null!==b)for(var n=0,d=f.length;n<d;){var q=f[n++];if(n==d)b[q]=h;else{var v=q in b;if(!v||v&&"object"!==typeof b[q]||v&&null===b[q])b[q]={};b=b[q]}}};h.Tr=function(b,f,h){for(var n=0,d=f.length,q=!0;q&&n<d&&"object"===typeof b&&null!==b;){var v=f[n++];(q=v in b)&&(b=b[v])}return q?b:h};h.mC=function(b,f){if("object"===typeof b&&null!==b)for(var n=0,h=f.length;n<
h;){var d=f[n++];if(n==h)delete b[d];else{if(!(d in b)||"object"!==typeof b[d]||null===b[d])break;b=b[d]}}};h.Zr=function(b){for(var n in b)if(b.hasOwnProperty(n))return!1;return!0};h.format=function(b){var n=/%./g,f,h,d=0,v=[];for(h=0;f=n.exec(b);)switch(h=b.substring(h,n.lastIndex-2),0<h.length&&v.push(h),h=n.lastIndex,f=f[0][1],f){case "s":case "o":d<arguments.length?v.push(arguments[d++ +1]):v.push("<?>");break;case "%":v.push("%");break;default:v.push("<%"+f+"?>")}v.push(b.substring(h));return v.join("")};
h.sf=function(b,f,h,d){var n=isNaN(f=Math.abs(f))?2:f;f=void 0===h?",":h;d=void 0===d?".":d;h=0>b?"-":"";var q=parseInt(b=Math.abs(+b||0).toFixed(n),10)+"",v=3<q.length?q.length%3:0;return h+(v?q.substr(0,v)+d:"")+q.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+d)+(n?f+Math.abs(b-q).toFixed(n).slice(2):"")};h.pC=function(b){return b=1073741824<=b?h.sf(b/1073741824,2,".","")+" GiB":1048576<=b?h.sf(b/1048576,2,".","")+" MiB":1024<=b?h.sf(b/1024,0)+" KiB":h.sf(b,0)+" bytes"};h.sr=function(b){return-1!==b.indexOf(".")?
h.tr(b):-1!==b.indexOf(":")?h.ur(b):null};h.tr=function(b){b=b.split(".");if(4!==b.length)return null;for(var f=h.createBuffer(),n=0;n<b.length;++n){var d=parseInt(b[n],10);if(isNaN(d))return null;f.m(d)}return f.xa()};h.ur=function(b){var f=0;b=b.split(":").filter(function(b){0===b.length&&++f;return!0});for(var n=2*(8-b.length+f),d=h.createBuffer(),v=0;8>v;++v)if(b[v]&&0!==b[v].length){var z=h.Gc(b[v]);2>z.length&&d.m(0);d.L(z)}else d.fh(0,n),n=0;return d.xa()};h.gC=function(b){return 4===b.length?
h.vr(b):16===b.length?h.wr(b):null};h.vr=function(b){if(4!==b.length)return null;for(var f=[],n=0;n<b.length;++n)f.push(b.charCodeAt(n));return f.join(".")};h.wr=function(b){if(16!==b.length)return null;for(var f=[],n=[],d=0,v=0;v<b.length;v+=2){for(var z=h.Yg(b[v]+b[v+1]);"0"===z[0]&&"0"!==z;)z=z.substr(1);if("0"===z){var p=n[n.length-1],y=f.length;p&&y===p.end+1?(p.end=y,p.end-p.start>n[d].end-n[d].start&&(d=n.length-1)):n.push({start:y,end:y})}f.push(z)}0<n.length&&(b=n[d],0<b.end-b.start&&(f.splice(b.start,
b.end-b.start+1,""),0===b.start&&f.unshift(""),7===b.end&&f.push("")));return f.join(":")};h.oC=function(b,f){function n(b,q,x){if(0===q){var a=Math.floor(b.reduce(function(b,a){return b+a},0)/b.length);h.Ij=Math.max(1,a);URL.revokeObjectURL(z);f(null,h.Ij)}else d(x,function(a,f){b.push(v(x,f));n(b,q-1,x)})}function d(b,f){for(var n=[],a=[],c=0;c<b;++c){var h=new Worker(z);h.addEventListener("message",function(c){a.push(c.data);if(a.length===b){for(c=0;c<b;++c)n[c].terminate();f(null,a)}});n.push(h)}for(c=
0;c<b;++c)n[c].postMessage(c)}function v(b,f){for(var n=[],a=0;a<b;++a)for(var c=f[a],h=n[a]=[],g=0;g<b;++g)if(a!==g){var r=f[g];(c.ve>r.ve&&c.ve<r.Lj||r.ve>c.ve&&r.ve<c.Lj)&&h.push(g)}return n.reduce(function(b,a){return Math.max(b,a.length)},0)}"function"===typeof b&&(f=b,b={});b=b||{};if("cores"in h&&!b.update)return f(null,h.Ij);var z=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(){for(var b=Date.now(),f=b+4;Date.now()<f;);self.postMessage({ve:b,Lj:f})})}.toString(),
")()"],{type:"application/javascript"}));n([],5,16)}})(window.V);"undefined"===typeof window.V&&(window.V={});
(function(b){function H(h,n,p,q,x){function v(){if(q)for(var b=0;4>b;++b)R[b]=N.getInt32();else for(b=0;4>b;++b)R[b]=O[b]^N.getInt32();B(r,R,E,q);if(q){for(b=0;4>b;++b)ba.f(O[b]^E[b]);O=R.slice(0)}else{for(b=0;4>b;++b)ba.f(E[b]);O=E}}function z(){B(r,R,E,!1);for(var b=0;2>b;++b)R[b]=R[2+b],R[2+b]=N.getInt32();for(b=0;2>b;++b){var a=R[2+b]^E[b];q||(R[2+b]=a);ba.f(a)}}function y(){B(r,R,E,!1);for(var b=0;4>b;++b)R[b]=N.getInt32();for(b=0;4>b;++b)ba.f(R[b]^E[b]),R[b]=E[b]}function D(){B(r,R,E,!1);for(var b=
3;0<=b;--b)if(4294967295===R[b])R[b]=0;else{++R[b];break}for(b=0;4>b;++b)ba.f(N.getInt32()^E[b])}var A=null;f||t();x=(x||"CBC").toUpperCase();if("string"===typeof h&&(16===h.length||24===h.length||32===h.length))h=b.a.createBuffer(h);else if(b.a.isArray(h)&&(16===h.length||24===h.length||32===h.length)){var a=h;h=b.a.createBuffer();for(var c=0;c<a.length;++c)h.m(a[c])}if(!b.a.isArray(h)){a=h;h=[];var P=a.length();if(16===P||24===P||32===P)for(P>>>=2,c=0;c<P;++c)h.push(a.getInt32())}if(!b.a.isArray(h)||
4!==h.length&&6!==h.length&&8!==h.length)return A;a=-1!==["CFB","OFB","CTR"].indexOf(x);var g="CBC"===x,r=d(h,q&&!a),Y=16,N,ba,R,E,O,w;A={ig:null};if("CBC"===x)var k=v;else if("CFB"===x)k=z,Y=8;else if("OFB"===x)k=y;else if("CTR"===x)k=D;else throw{message:'Unsupported block cipher mode of operation: "'+x+'"'};A.update=function(b){for(w||N.C(b);N.length()>=Y||0<N.length()&&w;)k()};A.finish=function(b){var a=!0,e=N.length()%Y;if(!q)if(b)a=b(Y,N,q);else if(g){var c=N.length()===Y?Y:Y-N.length();N.fh(c,
c)}a&&(w=!0,A.update());q&&(g&&(a=0===e),a&&(b?a=b(Y,ba,q):g&&(c=ba.length(),c=ba.M(c-1),16<c?a=!1:ba.truncate(c))));!g&&!b&&0<e&&ba.truncate(Y-e);return a};A.start=function(a,c){null===a&&(a=O.slice(0));if("string"===typeof a&&16===a.length)a=b.a.createBuffer(a);else if(b.a.isArray(a)&&16===a.length){var e=a;a=b.a.createBuffer();for(var g=0;16>g;++g)a.m(e[g])}b.a.isArray(a)||(e=a,a=Array(4),a[0]=e.getInt32(),a[1]=e.getInt32(),a[2]=e.getInt32(),a[3]=e.getInt32());N=b.a.createBuffer();ba=c||b.a.createBuffer();
O=a.slice(0);R=Array(4);E=Array(4);w=!1;A.ig=ba;if(-1!==["CFB","OFB","CTR"].indexOf(x)){for(g=0;4>g;++g)R[g]=O[g];O=null}};null!==n&&A.start(n,p);return A}function B(b,f,h,d){var n=b.length/4-1;if(d){var q=N[0];var v=N[1];var D=N[2];var t=N[3];var A=C}else q=y[0],v=y[1],D=y[2],t=y[3],A=p;var a=f[0]^b[0];var c=f[d?3:1]^b[1];var P=f[2]^b[2];f=f[d?1:3]^b[3];for(var g=3,r=1;r<n;++r){var Y=q[a>>>24]^v[c>>>16&255]^D[P>>>8&255]^t[f&255]^b[++g];var aa=q[c>>>24]^v[P>>>16&255]^D[f>>>8&255]^t[a&255]^b[++g];
var ba=q[P>>>24]^v[f>>>16&255]^D[a>>>8&255]^t[c&255]^b[++g];f=q[f>>>24]^v[a>>>16&255]^D[c>>>8&255]^t[P&255]^b[++g];a=Y;c=aa;P=ba}h[0]=A[a>>>24]<<24^A[c>>>16&255]<<16^A[P>>>8&255]<<8^A[f&255]^b[++g];h[d?3:1]=A[c>>>24]<<24^A[P>>>16&255]<<16^A[f>>>8&255]<<8^A[a&255]^b[++g];h[2]=A[P>>>24]<<24^A[f>>>16&255]<<16^A[a>>>8&255]<<8^A[c&255]^b[++g];h[d?1:3]=A[f>>>24]<<24^A[a>>>16&255]<<16^A[c>>>8&255]<<8^A[P&255]^b[++g]}function d(b,f){b=b.slice(0);for(var d,n=1,v=b.length,y=4*(v+6+1),z=v;z<y;++z)d=b[z-1],0===
z%v?(d=p[d>>>16&255]<<24^p[d>>>8&255]<<16^p[d&255]<<8^p[d>>>24]^h[n]<<24,n++):6<v&&4===z%v&&(d=p[d>>>24]<<24^p[d>>>16&255]<<16^p[d>>>8&255]<<8^p[d&255]),b[z]=b[z-v]^d;if(f){d=N[0];n=N[1];v=N[2];var t=N[3],C=b.slice(0);y=b.length;z=0;for(var A=y-4;z<y;z+=4,A-=4)if(0===z||z===y-4)C[z]=b[A],C[z+1]=b[A+3],C[z+2]=b[A+2],C[z+3]=b[A+1];else for(var a=0;4>a;++a)f=b[A+a],C[z+(3&-a)]=d[p[f>>>24]]^n[p[f>>>16&255]]^v[p[f>>>8&255]]^t[p[f&255]];b=C}return b}function t(){f=!0;h=[0,1,2,4,8,16,32,64,128,27,54];for(var b=
Array(256),d=0;128>d;++d)b[d]=d<<1,b[d+128]=d+128<<1^283;p=Array(256);C=Array(256);y=Array(4);N=Array(4);for(d=0;4>d;++d)y[d]=Array(256),N[d]=Array(256);var D=0,q=0;for(d=0;256>d;++d){var x=q^q<<1^q<<2^q<<3^q<<4;x=x>>8^x&255^99;p[D]=x;C[x]=D;var G=b[x];var z=b[D];var t=b[z];var B=b[t];G=G<<24^x<<16^x<<8^x^G;t=(z^t^B)<<24^(D^B)<<16^(D^t^B)<<8^D^z^B;for(var A=0;4>A;++A)y[A][D]=G,N[A][x]=t,G=G<<24|G>>>8,t=t<<24|t>>>8;0===D?D=q=1:(D=z^b[b[b[z^B]]],q^=b[b[q]])}}var f=!1,p,C,h,y,N;b.Ya=b.Ya||{};b.Ya.xe=
function(b,f,h,d){return H(b,f,h,!1,d)};b.Ya.Cr=function(b,f){return H(b,null,null,!1,f)};b.Ya.we=function(b,f,h,d){return H(b,f,h,!0,d)};b.Ya.Br=function(b,f){return H(b,null,null,!0,f)};b.Ya.fr=function(b){f||t();return d(b,!1)};b.Ya.mr=B})(window.V);"undefined"===typeof window.V&&(window.V={});
(function(b){function H(v,n){"string"!==typeof v||8!==v.length&&24!==v.length||(v=b.a.createBuffer(v));var D=B(v),q=1,x=0,G=0,z=!1,ca=null,H=null,A=32===D.length?3:9;var a=3===A?[0,32,2]:[0,32,2,62,30,-2,64,96,2];var c=null;return c={start:function(a,g){a?("string"===typeof a&&8===a.length&&(a=b.a.createBuffer(a)),q=1,x=a.getInt32(),G=a.getInt32()):q=0;z=!1;ca=b.a.createBuffer();H=g||b.a.createBuffer();c.ig=H},update:function(b){for(z||ca.C(b);8<=ca.length()||0<ca.length()&&z;){var c=x,r=G;b=(c>>>
4^r)&252645135;r^=b;c^=b<<4;b=(c>>>16^r)&65535;r^=b;c^=b<<16;b=(r>>>2^c)&858993459;c^=b;r^=b<<2;b=(r>>>8^c)&16711935;c^=b;r^=b<<8;b=(c>>>1^r)&1431655765;r^=b;c^=b<<1;c=c<<1|c>>>31;r=r<<1|r>>>31;for(var v=0;v<A;v+=3){for(var aa=a[v+1],ba=a[v+2],R=a[v];R!=aa;R+=ba){var E=r^D[R],O=(r>>>4|r<<28)^D[R+1];b=c;c=r;r=b^(t[E>>>24&63]|p[E>>>16&63]|h[E>>>8&63]|N[E&63]|d[O>>>24&63]|f[O>>>16&63]|C[O>>>8&63]|y[O&63])}b=c;c=r;r=b}c=c>>>1|c<<31;r=r>>>1|r<<31;b=(c>>>1^r)&1431655765;r^=b;c^=b<<1;b=(r>>>8^c)&16711935;
c^=b;r^=b<<8;b=(r>>>2^c)&858993459;c^=b;r^=b<<2;b=(c>>>16^r)&65535;r^=b;c^=b<<16;b=(c>>>4^r)&252645135;r^=b;c^=b<<4;1===q&&(x=ca.getInt32(),G=ca.getInt32(),c^=x,r^=G,n&&(x=c,G=r));H.f(c);H.f(r)}},finish:function(){var b=ca.length()%8;b||(b=8);z=!0;c.update();H.truncate(8-b);return!0}}}function B(b){for(var f=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],h=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,
1048833,67109120,67109121,68157696,68157697],d=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],v=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],p=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],z=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],y=[0,268435456,524288,
268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],t=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],N=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],a=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],c=[0,32,0,32,1048576,1048608,1048576,1048608,8192,
8224,8192,8224,1056768,1056800,1056768,1056800],C=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],g=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],r=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],Y=8<b.length()?3:1,aa=[],ba=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],R=0,E,O=0;O<Y;O++){var w=b.getInt32(),k=b.getInt32();E=(w>>>4^k)&252645135;k^=
E;w^=E<<4;E=(k>>>-16^w)&65535;w^=E;k^=E<<-16;E=(w>>>2^k)&858993459;k^=E;w^=E<<2;E=(k>>>-16^w)&65535;w^=E;k^=E<<-16;E=(w>>>1^k)&1431655765;k^=E;w^=E<<1;E=(k>>>8^w)&16711935;w^=E;k^=E<<8;E=(w>>>1^k)&1431655765;k^=E;w^=E<<1;E=w<<8|k>>>20&240;w=k<<24|k<<8&16711680|k>>>8&65280|k>>>24&240;k=E;for(var e=0;e<ba.length;e++){ba[e]?(w=w<<2|w>>>26,k=k<<2|k>>>26):(w=w<<1|w>>>27,k=k<<1|k>>>27);w&=-15;k&=-15;var K=f[w>>>28]|h[w>>>24&15]|d[w>>>20&15]|v[w>>>16&15]|p[w>>>12&15]|z[w>>>8&15]|y[w>>>4&15],F=t[k>>>28]|
N[k>>>24&15]|a[k>>>20&15]|c[k>>>16&15]|C[k>>>12&15]|g[k>>>8&15]|r[k>>>4&15];E=(F>>>16^K)&65535;aa[R++]=K^E;aa[R++]=F^E<<16}}return aa}var d=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,
16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],t=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,
32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],f=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,
134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],p=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,
8192,8396928],C=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,
0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,
0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],y=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,
2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],N=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,
0,268701760,266240,266240,4160,4160,262208,268435456,268701696];b.lc=b.lc||{};b.lc.xe=function(b,f,h){b=H(b,!0);b.start(f,h);return b};b.lc.Cr=function(b){return H(b,!0)};b.lc.we=function(b,f,h){b=H(b,!1);b.start(f,h);return b};b.lc.Br=function(b){return H(b,!1)}})(window.V);"undefined"===typeof window.V&&(window.V={});
(function(b){function H(b,d,t){for(var f,y,p,v,n,D,q,x,G=t.length();64<=G;){y=b.pb;p=b.qb;v=b.rb;n=b.sb;D=b.Td;for(x=0;16>x;++x)f=t.getInt32(),d[x]=f,q=n^p&(v^n),f=(y<<5|y>>>27)+q+D+1518500249+f,D=n,n=v,v=p<<30|p>>>2,p=y,y=f;for(;20>x;++x)f=d[x-3]^d[x-8]^d[x-14]^d[x-16],f=f<<1|f>>>31,d[x]=f,q=n^p&(v^n),f=(y<<5|y>>>27)+q+D+1518500249+f,D=n,n=v,v=p<<30|p>>>2,p=y,y=f;for(;32>x;++x)f=d[x-3]^d[x-8]^d[x-14]^d[x-16],f=f<<1|f>>>31,d[x]=f,q=p^v^n,f=(y<<5|y>>>27)+q+D+1859775393+f,D=n,n=v,v=p<<30|p>>>2,p=y,
y=f;for(;40>x;++x)f=d[x-6]^d[x-16]^d[x-28]^d[x-32],f=f<<2|f>>>30,d[x]=f,q=p^v^n,f=(y<<5|y>>>27)+q+D+1859775393+f,D=n,n=v,v=p<<30|p>>>2,p=y,y=f;for(;60>x;++x)f=d[x-6]^d[x-16]^d[x-28]^d[x-32],f=f<<2|f>>>30,d[x]=f,q=p&v|n&(p^v),f=(y<<5|y>>>27)+q+D+2400959708+f,D=n,n=v,v=p<<30|p>>>2,p=y,y=f;for(;80>x;++x)f=d[x-6]^d[x-16]^d[x-28]^d[x-32],f=f<<2|f>>>30,d[x]=f,q=p^v^n,f=(y<<5|y>>>27)+q+D+3395469782+f,D=n,n=v,v=p<<30|p>>>2,p=y,y=f;b.pb+=y;b.qb+=p;b.rb+=v;b.sb+=n;b.Td+=D;G-=64}}var B=b.Hd=b.Hd||{};b.cb=b.cb||
{};b.cb.Ie=b.cb.Ie||{};b.cb.Hd=b.cb.Ie.sha1=B;var d=null,t=!1;B.create=function(){t||(d=String.fromCharCode(128),d+=b.a.Oj(),t=!0);var f=null,p=b.a.createBuffer(),C=Array(80),h={algorithm:"sha1",rr:64,Gr:20,xb:0,start:function(){h.xb=0;p=b.a.createBuffer();f={pb:1732584193,qb:4023233417,rb:2562383102,sb:271733878,Td:3285377520};return h}};h.start();h.update=function(d,t){"utf8"===t&&(d=b.a.ob(d));h.xb+=d.length;p.L(d);H(f,C,p);(2048<p.read||0===p.length())&&p.compact();return h};h.digest=function(){var y=
h.xb,t=b.a.createBuffer();t.L(p.u());t.L(d.substr(0,64-(y+8)%64));t.f(y>>>29&255);t.f(y<<3&4294967295);y={pb:f.pb,qb:f.qb,rb:f.rb,sb:f.sb,Td:f.Td};H(y,C,t);t=b.a.createBuffer();t.f(y.pb);t.f(y.qb);t.f(y.rb);t.f(y.sb);t.f(y.Td);return t};return h}})(window.V);"undefined"===typeof window.V&&(window.V={});
(function(b){function H(b,d,h){for(var n,v,q,x,y,z,t,N=h.length();64<=N;){v=b.pb;q=b.qb;x=b.rb;y=b.sb;for(t=0;16>t;++t)d[t]=h.Sr(),n=y^q&(x^y),n=v+n+C[t]+d[t],z=p[t],v=y,y=x,x=q,q+=n<<z|n>>>32-z;for(;32>t;++t)n=x^y&(q^x),n=v+n+C[t]+d[f[t]],z=p[t],v=y,y=x,x=q,q+=n<<z|n>>>32-z;for(;48>t;++t)n=q^x^y,n=v+n+C[t]+d[f[t]],z=p[t],v=y,y=x,x=q,q+=n<<z|n>>>32-z;for(;64>t;++t)n=x^(q|~y),n=v+n+C[t]+d[f[t]],z=p[t],v=y,y=x,x=q,q+=n<<z|n>>>32-z;b.pb=b.pb+v&4294967295;b.qb=b.qb+q&4294967295;b.rb=b.rb+x&4294967295;
b.sb=b.sb+y&4294967295;N-=64}}function B(){t=String.fromCharCode(128);t+=b.a.Oj();f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];p=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];C=Array(64);for(var d=0;64>d;++d)C[d]=Math.floor(4294967296*Math.abs(Math.sin(d+1)));h=
!0}var d=b.Vh=b.Vh||{};b.cb=b.cb||{};b.cb.Ie=b.cb.Ie||{};b.cb.Vh=b.cb.Ie.md5=d;var t=null,f=null,p=null,C=null,h=!1;d.create=function(){h||B();var f=null,d=b.a.createBuffer(),p=Array(16),n={algorithm:"md5",rr:64,Gr:16,xb:0,start:function(){n.xb=0;d=b.a.createBuffer();f={pb:1732584193,qb:4023233417,rb:2562383102,sb:271733878};return n}};n.start();n.update=function(h,q){"utf8"===q&&(h=b.a.ob(h));n.xb+=h.length;d.L(h);H(f,p,d);(2048<d.read||0===d.length())&&d.compact();return n};n.digest=function(){var h=
n.xb,q=b.a.createBuffer();q.L(d.u());q.L(t.substr(0,64-(h+8)%64));q.Yc(h<<3&4294967295);q.Yc(h>>>29&255);h={pb:f.pb,qb:f.qb,rb:f.rb,sb:f.sb};H(h,p,q);q=b.a.createBuffer();q.Yc(h.pb);q.Yc(h.qb);q.Yc(h.rb);q.Yc(h.sb);return q};return n}})(window.V);"undefined"===typeof window.V&&(window.V={});
(function(b){(b.uc=b.uc||{}).create=function(H){function B(b){if(32<=f.tc[0].xb)return d(),b();f.ci(32-f.tc[0].xb<<5,function(h,p){if(h)return b(h);f.pf(p);d();b()})}function d(){var d=b.cb.Hd.create();d.update(f.tc[0].digest().xa());f.tc[0].start();for(var p=1,t=1;32>t;++t)p=31===p?2147483648:p<<2,0===p%f.Rm&&(d.update(f.tc[t].digest().xa()),f.tc[t].start());p=d.digest().xa();d.start();d.update(p);d=d.digest().xa();f.key=f.ec.gh(p);f.wc=f.ec.hh(d);++f.Rm;f.rd=0;f.time=+new Date}function t(f){var d=
null;if("undefined"!==typeof window){var h=window.crypto||window.msCrypto;h&&h.getRandomValues&&(d=function(b){return h.getRandomValues(b)})}var p=b.a.createBuffer();if(d)for(;p.length()<f;){var n=Math.max(1,Math.min(f-p.length(),65536)/4),t=new Uint32Array(Math.floor(n));try{for(d(t),n=0;n<t.length;++n)p.f(t[n])}catch(q){}}if(p.length()<f)for(d=Math.floor(65536*Math.random());p.length()<f;)for(n=16807*(d&65535),d=16807*(d>>16),n+=(d&32767)<<16,n+=d>>15,n=(n&2147483647)+(n>>31),d=n&4294967295,n=0;3>
n;++n)t=d>>>(n<<3),t^=Math.floor(256*Math.random()),p.m(String.fromCharCode(t&255));return p.xa(f)}var f={ec:H,key:null,wc:null,time:null,Rm:0,rd:0};H=H.cb;for(var p=Array(32),C=0;32>C;++C)p[C]=H.create();f.tc=p;f.lg=0;f.Sj=function(d,p){function h(y){if(y)return p(y);if(x.length()>=d)return p(null,x.xa(d));1048576<=f.rd&&(y=+new Date,null===f.time||100<y-f.time)&&(f.key=null);if(null===f.key)return B(h);y=v(f.key,f.wc);f.rd+=y.length;x.L(y);f.key=t(v(f.key,n(f.wc)));f.wc=q(v(f.key,f.wc));b.a.setImmediate(h)}
if(!p)return f.Rr(d);var v=f.ec.A,n=f.ec.Yj,t=f.ec.gh,q=f.ec.hh,x=b.a.createBuffer();h()};f.Rr=function(h){for(var p=f.ec.A,t=f.ec.Yj,v=f.ec.gh,n=f.ec.hh,C=b.a.createBuffer();C.length()<h;){if(1048576<=f.rd){var q=+new Date;if(null===f.time||100<q-f.time)f.key=null}null===f.key&&(32<=f.tc[0].xb||f.pf(f.zt(32-f.tc[0].xb<<5)),d());q=p(f.key,f.wc);f.rd+=q.length;C.L(q);f.key=v(p(f.key,t(f.wc)));f.wc=n(p(f.key,f.wc))}return C.xa(h)};f.ci=function(b,f){try{f(null,t(b))}catch(N){f(N)}};f.zt=t;f.pf=function(b){for(var d=
b.length,h=0;h<d;++h)f.tc[f.lg].update(b.substr(h,1)),f.lg=31===f.lg?0:f.lg+1};f.qf=function(b,d){for(var h="",p=0;p<d;p+=8)h+=String.fromCharCode(b>>p&255);f.pf(h)};f.AG=function(b){b===self?f.ci=function(b,f){function d(b){b=b.data;b.V&&b.V.uc&&(self.removeEventListener("message",d),f(b.V.uc.Kr,b.V.uc.u))}self.addEventListener("message",d);self.postMessage({V:{uc:{mt:b}}})}:b.addEventListener("message",function(d){d=d.data;d.V&&d.V.uc&&f.ci(d.V.uc.mt,function(f,d){b.postMessage({V:{uc:{Kr:f,u:d}}})})})};
return f}})(window.V);"undefined"===typeof window.V&&(window.V={});
(function(b){b.random&&b.random.xa||function(H){var B={},d=Array(4),t=b.a.createBuffer();B.gh=function(f){var d=b.a.createBuffer(f);f=Array(4);f[0]=d.getInt32();f[1]=d.getInt32();f[2]=d.getInt32();f[3]=d.getInt32();return b.Ya.fr(f)};B.hh=function(f){var d=b.a.createBuffer(f);f=Array(4);f[0]=d.getInt32();f[1]=d.getInt32();f[2]=d.getInt32();f[3]=d.getInt32();return f};B.A=function(f,p){b.Ya.mr(f,p,d,!1);t.f(d[0]);t.f(d[1]);t.f(d[2]);t.f(d[3]);return t.xa()};B.Yj=function(b){++b[3];return b};B.cb=b.cb.Hd;
var f=b.uc.create(B);B=null;if("undefined"!==typeof window){var p=window.crypto||window.msCrypto;p&&p.getRandomValues&&(B=function(b){return p.getRandomValues(b)})}if(b.nC||!B){f.qf(+new Date,32);if("undefined"!==typeof navigator){B="";for(var C in navigator)try{"string"==typeof navigator[C]&&(B+=navigator[C])}catch(h){}f.pf(B);B=null}H&&(H().mousemove(function(b){f.qf(b.clientX,16);f.qf(b.clientY,16)}),H().keypress(function(b){f.qf(b.charCode,8)}))}if(b.random)for(C in f)b.random[C]=f[C];else b.random=
f;b.random.xa=function(f,d){return b.random.Sj(f,d)};b.random.qC=function(f){return b.random.Sj(f)}}(null)})(window.V);"undefined"===typeof window.hmtg&&(window.hmtg={});var pa=window.hmtg,m=pa.b=pa.b||{};pa.config=pa.b;m.APP_VERSION=m.ki="";m.NORMAL=m.R=0;m.PLAYBACK=m.Aa=1;m.PLAYER=m.Qz=2;m.DOWNLOAD=m.op=3;m.UPLOAD=m.Sq=4;m.MTU_SIZE=m.Cc=500;m.TS_SIZE=m.fc=21;m.UTF8_CODEPAGE=m.HA=65001;m.RECORDING_STATUS_NORECORDING=m.lA=0;m.RECORDING_STATUS_RESUMED=m.nA=1;m.RECORDING_STATUS_PAUSED=m.mA=2;m.PARTICIPANT_VIDEO_ERROR_OK=m.Dq=0;m.PARTICIPANT_VIDEO_ERROR_FULL=m.yz=1;m.PARTICIPANT_VIDEO_ERROR_NOTSUPPORTED=m.Bz=2;
m.PARTICIPANT_VIDEO_ERROR_NOTONLINE=m.Az=3;m.PARTICIPANT_VIDEO_ERROR_NOCAP=m.zz=4;m.PARTICIPANT_AUDIO_ERROR_FULL=m.rz=5;m.PARTICIPANT_AUDIO_ERROR_NOTSUPPORTED=m.sz=6;m.MAX_USER=m.za=5E3;m.MAX_USERID=m.Dy=128;m.MAX_PASSWORD=m.nj=28;m.MAX_USERNAME=m.Xa=128;m.MAX_EMAIL=m.Up=128;m.MAX_USERAUTH=m.Yp=1E4;m.MAX_SESSIONID=m.Ay=20;m.MAX_SESSIONID_PL=m.By=500;m.MAX_MEMBERID=m.vy=20;m.MAX_REGION=m.zy=128;m.MAX_URL=m.qj=4096;m.MAX_SLIDENAME=m.pj=600;m.MAX_XML_DATA=m.Ey=9E3;
m.MAX_THIRDPARTY_MEETINGTITLE=m.Ld=512;m.MAX_THIRDPARTY_MEETINGID=m.Rg=128;m.DEFAULT_MAX_BANDWIDTH=m.Lw=24E3;m.BANDWIDTH_FOR_AUDIO=m.Pt=1E4;m.MAX_BANDWIDTH=m.mj=5E6;m.MIN_BANDWIDTH_FOR_VIDEO=m.Zp=1E4;m.JN_ERROR_BASE=m.mf=2E4;m.JN_GC_ERROR_BASE=m.Ux=25E3;m.JN_PROXY_ERROR_BASE=m.cy=3E4;m.JN_SLIDE_ERROR_BASE=m.my=35E3;var Z=m.JN_CODE_BASE=m.Jx=5E4;m.JN_PRINTER_DRIVER_BASE=m.by=7E4;m.JN_MCU_RELAY_BASE=m.jj=71E3;m.JN_OK=m.ay=0;m.JN_UNKNOWN_ERROR=m.Ng=Z+0;m.JN_RESOLVE_PROXY=m.ky=Z+1;
m.JN_CONNECTING_GC=m.Kx=Z+2;m.JN_BLANK=m.Ix=Z+3;m.JN_CONNECT_GC_UNKNOWN_ERROR=m.Mx=Z+4;m.JN_FAIL_CONNECT_GC=m.Qx=Z+5;m.JN_CONNECT_GC_BROKEN=m.Lx=Z+6;m.JN_CONNECTING_MCU=m.Cp=Z+7;m.JN_FAIL_CONNECT_MCU=m.Kd=Z+8;m.JN_NO_SCHEDULE=m.$x=Z+9;m.JN_WRONG_IP_PASSWD=m.sy=Z+10;m.JN_WRONG_AUTH_PASSWD=m.ry=Z+11;m.JN_MEETING_NOT_EXIST2=m.Kp=Z+12;m.JN_TOOMANY_USER_2=m.oy=Z+13;m.JN_CONNECTION_ESTABLISHED=m.Dp=Z+14;m.JN_QUESTION_CANCEL_DUE_TRANSFER=m.fy=Z+15;m.JN_YOU_HAVENOT_TOKEN=m.ty=Z+16;m.JN_NEW_USER=m.Yx=Z+17;
m.JN_USER_LEAVE=m.py=Z+18;m.JN_QUESTION_FINISH=m.gy=Z+19;m.JN_USER_QUESTION_START=m.qy=Z+20;m.JN_QUESTION_ACCEPTED=m.dy=Z+21;m.JN_QUESTION_IN_QUEUE=m.hy=Z+22;m.JN_QUESTION_SKIPPED=m.iy=Z+23;m.JN_DISCONNECT_BY_OWNER=m.Gp=Z+24;m.JN_MEETING_OVER=m.Lp=Z+25;m.JN_QUESTION_CANCELED=m.ey=Z+26;m.JN_USER_OVERWRITE=m.Pp=Z+27;m.JN_YOU_HAVE_TOKEN=m.uy=Z+28;m.JN_FILE_READ_ERROR=m.Tx=Z+29;m.JN_FILE_PAGE_ERROR=m.Sx=Z+30;m.JN_NO_MCU=m.Zx=Z+31;m.JN_CONNECT_PROXY_NO_CONNECT_MCU=m.Nx=Z+32;
m.JN_MCU_TALK_MISMATCH=m.Xx=Z+33;m.JN_TESTING_AV=m.ny=Z+34;m.JN_FAIL_UDP=m.Rx=Z+35;m.JN_CORRUPT_SERVER_PARAMETER=m.Ox=Z+36;m.JN_DELETE_FILE_OK=m.Fp=Z+37;m.JN_DELETE_FILE_FAIL=m.Ep=Z+38;m.JN_JNJ_FILE_READ_ERROR=m.Vx=Z+39;m.JN_JNJ_UNKNOWN_CODE_TYPE=m.Wx=Z+40;m.JN_JNR_FILE_ERROR=m.Jp=Z+41;m.JN_MEETING_TERMINATED=m.Mp=Z+42;m.JN_PREPARATION_MODE=m.Np=Z+43;m.JN_PREPARATION_SWITCH_TO_NORMAL=m.Op=Z+44;m.JN_SHARE_DESKTOP_FAIL=m.ly=Z+45;m.JN_REQUEST_DESKTOP_FAIL=m.jy=Z+46;
m.JN_DESKTOP_CONFLICT_MCURELAY=m.Px=Z+47;m.JN_EARLY_DISCONNECTION_1=m.Hp=Z+48;m.JN_EARLY_DISCONNECTION_2=m.Ip=Z+49;m.ERROR_WRONG_USERID=m.zp=255;m.ERROR_WRONG_PASSWD=m.cj=254;m.ERROR_ALREADY_LOGGED=m.$w=253;m.ERROR_VERSION=m.Cx=252;m.ERROR_PARAMETER=m.ox=251;m.ERROR_SESSIONID=m.xx=250;m.ERROR_MEETING_NOT_EXIST=m.pp=249;m.ERROR_INTERNAL=m.hx=248;m.ERROR_FILE_ERROR=m.ex=247;m.ERROR_TOOMANY_PLAYBACK=m.zx=246;m.ERROR_ILLEGAL_FILE=m.fx=245;m.ERROR_FILE_WRONG_VERSION=m.bj=244;
m.ERROR_WRONG_PASSWD2=m.Dx=243;m.ERROR_TOOMANY_DOWNLOAD=m.yx=242;m.ERROR_TOOMANY_USER=m.Ax=241;m.ERROR_CALL_REJECTED=m.bx=240;m.ERROR_CALL_NOT_ACCEPTED=m.ax=239;m.ERROR_JOINNETMODE=m.jx=238;m.ERROR_USER_NOT_CONTINUE=m.yp=237;m.ERROR_SESSION_CLOSED=m.xp=236;m.ERROR_TOO_MANY_SESSION=m.Bx=235;m.ERROR_CAN_NOT_RECORD=m.cx=234;m.ERROR_MESSAGE_NOT_EXIST=m.lx=233;m.ERROR_LINE_BUSY=m.kx=232;m.ERROR_FILE_NEED_HIGHER_VERSION=m.aj=231;m.ERROR_EXCEED_DISK_QUOTA=m.dx=230;m.ERROR_WRONG_USERINFO2=m.Ex=229;
m.ERROR_OWNER_IN_PREPARATION_MODE=m.nx=228;m.ERROR_PREPARATION_MODE_TOO_LATE=m.wx=227;m.ERROR_ILLEGAL_REQUEST=m.gx=226;m.ERROR_OUT_OF_MEMORY=m.mx=225;m.ERROR_INVALID_LICENSE=m.ix=224;m.ERROR_REQUEST_REJECTED=m.wp=223;m.MRP_ERROR_CONTINUE=m.Bc=1;m["MRP_ERROR_QUITPROGRAM\t"]=m.cz=2;m.MRP_ERROR_NOTALLOWED=m.$y=3;m.MRP_ERROR_BUSY=m.Xy=4;m.MRP_ERROR_NOTSUPPORTED=m.az=5;m.MRP_ERROR_CONNECTFAIL=m.Yy=6;m.MRP_ERROR_NOSESSIONGROUP=m.Zy=7;m.MRP_ERROR_SLIDENOTREADY=m.$p=8;m.MRP_ERROR_ONLY_PRIMARY_PORT=m.bz=9;
m.CONNECTION_STATUS_INIT=m.Vi=1;m.CONNECTION_STATUS_RESOLVING=m.Hw=2;m.CONNECTION_STATUS_CONNECTTING=m.Si=3;m.CONNECTION_STATUS_SIGN_IN=m.Wi=4;m.CONNECTION_STATUS_CONNECTED=m.ma=5;m.CONNECTION_STATUS_PARSE_HOMEPAGE=m.Gw=6;m.CONNECTION_STATUS_DOWNLOAD_JNJ=m.No=7;m.CONNECTION_STATUS_E_UNKNOWN_ERROR=m.bp=1E4;m.CONNECTION_STATUS_E_RESOLVING=m.Fw=10001;m.CONNECTION_STATUS_E_FAIL_CONNECT=m.So=10002;m.CONNECTION_STATUS_E_BROKEN_CONNECT=m.Ti=10003;m.CONNECTION_STATUS_E_INVALID_S_STRING=m.tw=10004;
m.CONNECTION_STATUS_E_NOT_SUPPORTED=m.vw=10005;m.CONNECTION_STATUS_E_WRONG_USERID_LEN=m.Ac=10006;m.CONNECTION_STATUS_E_WRONG_USERNAME_LEN=m.eb=10007;m.CONNECTION_STATUS_E_WRONG_JNJ_LEN=m.bd=10008;m.CONNECTION_STATUS_E_ERROR_PARAMETER=m.lf=10009;m.CONNECTION_STATUS_E_BUSY=m.Qo=10010;m.CONNECTION_STATUS_E_INVALID_USERID=m.Uo=10011;m.CONNECTION_STATUS_E_INVALID_PASSWORD=m.To=10012;m.CONNECTION_STATUS_E_MEMORY_ALLOCATION=m.Vo=10013;m.CONNECTION_STATUS_E_ALREADY_LOGGED=m.Oo=10014;
m.CONNECTION_STATUS_E_OVERWRITTEN=m.ap=10015;m.CONNECTION_STATUS_E_USERID_REMOVED=m.cp=10016;m.CONNECTION_STATUS_E_UNKNOWN_COMMAND=m.Ui=10017;m.CONNECTION_STATUS_E_WRONG_EMAIL_LEN=m.fp=10018;m.CONNECTION_STATUS_E_PARSE_HOMEPAGE=m.ww=10019;m.CONNECTION_STATUS_E_DOWNLOAD_JNJ=m.Ro=10020;m.CONNECTION_STATUS_E_PARSE_IP_PORT=m.xw=10021;m.CONNECTION_STATUS_E_BREAK_MAIN_LOOP=m.Po=10022;m.CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=m.Hg=10023;m.CONNECTION_STATUS_E_MULTIPLE_SIGNIN=m.uw=10024;
m.CONNECTION_STATUS_PREPARE_RECONNECT=m.hp=10025;m.CONNECTION_STATUS_E_PROXY_CONNECT_FAIL=m.zw=10026;m.CONNECTION_STATUS_E_PROXY_CONNECT_BROKEN=m.yw=10027;m.CONNECTION_STATUS_E_PROXY_NO_AUTH=m.Cw=10028;m.CONNECTION_STATUS_E_PROXY_NO_CONNECT=m.Dw=10029;m.CONNECTION_STATUS_E_PROXY_NOT_SOCKS5=m.Bw=10030;m.CONNECTION_STATUS_E_PROXY_HTTPS_FAIL=m.Aw=10031;m.CONNECTION_STATUS_E_PROXY_RESOLVE=m.Ew=10032;m.CONNECTION_STATUS_E_MMC_FAILURE=m.Wo=10033;m.CONNECTION_STATUS_E_NOT_SUPPORTED2=m.Xo=10034;
m.CONNECTION_STATUS_E_NO_MESSENGER=m.$o=10035;m.CONNECTION_STATUS_E_NO_LICENSE=m.Yo=10036;m.CONNECTION_STATUS_E_NO_MCU=m.Zo=10037;m.CONNECTION_STATUS_E_WRONG_URL_LEN=m.gp=10038;m.CONNECTION_STATUS_E_WRONG_SHORT_MESSAGE_LEN=m.Ce=10039;m.CONNECTION_STATUS_E_SIGNOUT=m.Be=10040;m.CONNECTION_STATUS_E_WRONG_CLIENT_INFO_LEN=m.ep=10041;m.ONLINE_STATUS_ONLINE=m.Md=1;m.ONLINE_STATUS_BUSY=m.wq=2;m.ONLINE_STATUS_RIGHTBACK=m.xq=3;m.ONLINE_STATUS_AWAY=m.uj=4;m.ONLINE_STATUS_APPEAROFF=m.Ob=5;
m.ONLINE_STATUS_MOBILE=m.pz=6;m.ONLINE_STATUS_WEB=m.qz=7;m.ONLINE_STATUS_UNKNOWN=m.yq=999;m.MSGR_ERROR_UNKNOWN_ERROR=m.yq=1;m.MSGR_ERROR_CAN_NOT_PARSE=m.hz=2;m.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE1=m.ez=3;m.MSGR_ERROR_CAN_NOT_DOWNLOAD_JNJ=m.gq=4;m.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE2=m.fz=5;m.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE3=m.eq=6;m.MSGR_ERROR_NO_MCU_SERVER=m.sq=7;m.MSGR_ERROR_CAN_NOT_MULTIPLE_CONNECT=m.gz=8;m.MSGR_ERROR_CAN_NOT_CONNECT_MCU=m.fq=9;m.MSGR_ERROR_CONNECTION_BROKEN=m.rj=10;
m.MSGR_ERROR_BAD_SERVER_VERSION_STRING=m.dz=11;m.MSGR_ERROR_SERVER_NOT_SUPPORT_MSGR=m.iz=12;m.MSGR_ERROR_INVALID_USERID_LEN=m.Ee=13;m.MSGR_ERROR_INVALID_USERNAME_LEN=m.Ga=14;m.MSGR_ERROR_INVALID_JNJ_LEN=m.ed=15;m.MSGR_ERROR_INVALID_HOMEPAGE_LEN=m.sj=16;m.MSGR_ERROR_INVALID_PARAMETER=m.lq=17;m.MSGR_ERROR_ALL_LINE_BUSY=m.bq=18;m.MSGR_ERROR_INVALID_USERID=m.oq=19;m.MSGR_ERROR_INVALID_PASSWORD=m.mq=21;m.MSGR_ERROR_MEMORY_ALLOCATION=m.pq=22;m.MSGR_ERROR_ALREADY_SIGNIN=m.cq=23;
m.MSGR_ERROR_MSGR_VERSION_NOT_SUPPORTED=m.rq=24;m.MSGR_ERROR_MSGR_BAD_CONFIGURATION=m.qq=25;m.MSGR_ERROR_NO_MSGR_LICENSE=m.tq=26;m.MSGR_ERROR_OVERWRITTEN=m.uq=27;m.MSGR_ERROR_REMOVED=m.vq=28;m.MSGR_ERROR_INVALID_EMAIL_LEN=m.iq=29;m.MSGR_ERROR_INVALID_MMCERROR_LEN=m.kq=30;m.MSGR_ERROR_INVALID_INTERNALID_LEN=m.jq=31;m.MSGR_INVITE_FAILED=m.kz=32;m.MSGR_ERROR_INVALID_URL_LEN=m.nq=33;m.MSGR_ERROR_INVALID_SHORT_MESSAGE_LEN=m.De=34;m.MSGR_CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=m.aq=35;
m.MSGR_ERROR_INVALID_CLIENT_INFO_LEN=m.hq=36;m.MSGR_ERROR_UNKNOWN_COMMAND=m.tj=37;m.MSGR_ERROR_UNKNOWN_COMMAND=m.tj=37;m.WEBOFFICE_EX_ERROR_SUCCESS=m.YA=0;m.WEBOFFICE_EX_ERROR_INVALID_LICENSE=m.OA=1;m.WEBOFFICE_EX_ERROR_GENERAL_FAILURE=m.LA=2;m.WEBOFFICE_EX_ERROR_OPEN_FILE=m.WA=3;m.WEBOFFICE_EX_ERROR_INVALID_JNR=m.NA=4;m.WEBOFFICE_EX_ERROR_NOT_ALLOW_EDIT=m.VA=5;m.WEBOFFICE_EX_ERROR_FILE_ACCESS=m.dr=6;m.WEBOFFICE_EX_ERROR_INVALID_PASSWORD=m.PA=7;m.WEBOFFICE_EX_ERROR_SERVER_SHUTDOWN=m.XA=8;
m.WEBOFFICE_EX_ERROR_WRITE_ERROR=m.aB=9;m.WEBOFFICE_EX_ERROR_TOO_LARGE_DATA=m.ZA=10;m.WEBOFFICE_EX_ERROR_MEMORY=m.SA=11;m.WEBOFFICE_EX_ERROR_NETWORK_ERROR=m.UA=12;m.WEBOFFICE_EX_ERROR_EXCEED_QUOTA=m.KA=13;m.WEBOFFICE_EX_ERROR_DATE_TOO_NEW=m.IA=14;m.WEBOFFICE_EX_ERROR_MMC_ERROR=m.TA=15;m.WEBOFFICE_EX_ERROR_UNKNOWN_CMD=m.$A=16;m.WEBOFFICE_EX_ERROR_INVALID_CMD=m.MA=17;m.WEBOFFICE_EX_ERROR_JNR_TOONEW=m.RA=18;m.WEBOFFICE_EX_ERROR_JNR_TOOBIG=m.QA=19;m.WEBOFFICE_EX_ERROR_EDIT=m.JA=20;
m.US_ERROR_PARAMETER=m.ar=255;m.US_ERROR_BUSY=m.Uq=254;m.US_ERROR_WRONG_USERID=m.cr=253;m.US_ERROR_WRONG_PASSWD=m.br=252;m.US_ERROR_ALREADY_LOGGED=m.Tq=251;m.US_ERROR_MEMORY_ALLOCATION=m.Vq=250;m.US_ERROR_NOT_ONLINE=m.EA=249;m.US_ERROR_NOT_JOIN_SELF=m.DA=248;m.US_ERROR_NOT_READY=m.Zq=247;m.US_ERROR_OWNER_NO_RESPONSE=m.GA=246;m.US_ERROR_MMC_FAIL=m.Wq=245;m.US_ERROR_NOT_SUPPORTED=m.$q=244;m.US_ERROR_MMC_NO_MESSENGER=m.Yq=243;m.US_ERROR_MMC_NO_LICENSE=m.Xq=242;m.US_ERROR_OFFICE_NOT_OPEN=m.FA=241;
m.US_ERROR_MMC_GENERAL=m.Ge=54321;m.US_ERROR_MMC_GENERAL=m.Ge=1;m.US_ERROR_MMC_GENERAL=m.Ge=2;m.US_ERROR_MMC_GENERAL=m.Ge=3;m.US_ERROR_MMC_GENERAL=m.Ge=4;m.US_ERROR_MMC_GENERAL=m.Ge=5;m.DEFAULT_PLAY_SOUND=m.Mw=!0;m.DEFAULT_LOG_LEVEL=m.np=2;m.DEFAULT_ALERT_ONLINE=m.Kw=!0;m.DEFAULT_ALERT_NEWMESSAGE=m.Jw=!0;m.DEFAULT_SHOW_OTHER_USER=m.Ow=!0;m.DEFAULT_SHOW_OFFLINE_USER=m.Nw=!0;m.CONTROLLER_ACCEPT_GUEST=m.jp=1;m.CONTROLLER_END_MEETING=m.kp=2;m.CONTROLLER_QUESTION_CONTROL=m.Xi=4;
m.CONTROLLER_POLL=m.lp=8;m.CONTROLLER_SYNC=m.Ig=16;m.CONTROLLER_RETRIEVE_TOKEN=m.Yi=32;m.CONTROLLER_SYNC_TAB=m.$i=64;m.CONTROLLER_SYNC_FULLSCREEN=m.Zi=128;m.PLUG_IN_TYPE_BASE=m.Nq=128;m.AUDIO_DFLT=m.tg=129;m.AUDIO_G711=m.ug=120;m.AUDIO_ILBC=m.xg=152;m.AUDIO_G726=m.wg=168;m.AUDIO_G726_11=m.jf=184;m.AUDIO_G711_11=m.vg=255;m.AUDIO_OPUS=m.yg=232;m.VIDEO_DFLT=m.Tg=130;m.VIDEO_SPIC=m.xj=4;m.VIDEO_H264=m.Vg=200;m.VIDEO_F264=m.Ug=216;m.VIDEO_MJPG=m.Wg=248;m.VIDEO_VPX=m.Xg=64;m.MEDIA_NONE=m.Sy=0;
m.MEDIA_AUDIO_PCM=m.Ry=1;m.MEDIA_AUDIO_HMAUDIO=m.Ny=2;m.MEDIA_VIDEO_HMVIDEO=m.Wy=3;m.MEDIA_AUDIO_ILBC0=m.Oy=4;m.MEDIA_AUDIO_ILBC1=m.Py=5;m.MEDIA_AUDIO_G711_50MS=m.Hy=6;m.MEDIA_AUDIO_G711_20MS=m.Gy=7;m.MEDIA_AUDIO_G726_16K=m.Jy=8;m.MEDIA_AUDIO_G726_24K=m.Ky=9;m.MEDIA_AUDIO_G726_32K=m.Ly=10;m.MEDIA_AUDIO_G726_40K=m.My=11;m.MEDIA_AUDIO_G711_11K_89K_40MS=m.Fy=14;m.MEDIA_AUDIO_G726_11K_45K_80MS=m.Iy=15;m.MEDIA_VIDEO_H264_BASELINE=m.Vy=16;m.MEDIA_VIDEO_F264_BASELINE=m.Ty=18;
m.MEDIA_VIDEO_F264_HIGH=m.Uy=19;m.MEDIA_AUDIO_OPUS=m.Qy=20;m.SLIDE_DOWNLOAD_STATUS_UNKNOWN=m.qA=0;m.SLIDE_DOWNLOAD_STATUS_NOTRECEIVED=m.Rq=1;m.SLIDE_DOWNLOAD_STATUS_NOTDOWNLOADED=m.Qq=2;m.SLIDE_DOWNLOAD_STATUS_PARTIALDATA=m.pA=3;m.SLIDE_DOWNLOAD_STATUS_DOWNLOADING=m.Pq=4;m.SLIDE_DOWNLOAD_STATUS_DOWNLOADED=m.wj=5;m.MARK_STROKE=m.Qp=83;m.MARK_STROKE2=m.Og=115;m.MARK_TEXT=m.Rp=84;m.MARK_TEXT2=m.Pg=116;m.MARK_MOVE=m.lj=109;m.MARK_CUSTOMIZED=m.kj=99;m.UNDO=m.CA="UNDO";m.MAX_TEXT_LEN=m.Cy=512;
m.MAX_LONG_TEXT_LEN=m.Xp=2048;m.MAX_PARTICIPANT_AUDIO_OLD=m.xy=2;m.MAX_PARTICIPANT_VIDEO_OLD=m.yy=6;m.MAX_PARTICIPANT_AUDIO=m.cd=16;m.MAX_PARTICIPANT_VIDEO=m.Nb=16;m.TAB_VIEW_BOARD=m.rA=0;m.TAB_VIEW_BROWSER=m.sA=1;m.TAB_VIEW_DESKTOP_SHARING=m.tA=2;m.TAB_VIEW_REMOTE_CONTROL=m.uA=3;m.SHOW_MYPICTURE_DELAY=m.oA=2E4;m.MAX_MYPICTURE_SIZE=m.wy=2E5;m.MYPICTURE_TYPE_BMP=m.lz=1;m.MYPICTURE_TYPE_GIF=m.mz=2;m.MYPICTURE_TYPE_JPG=m.nz=3;m.MYPICTURE_TYPE_PNG=m.oz=4;m.MAX_PLUG_IN_CHANNEL=m.Eb=8;
m.PLUGIN_CHANNEL_TYPE_UDP_1=m.Sz=1;m.PLUGIN_CHANNEL_TYPE_TCP_2=m.Rz=2;m.DT_CAPTURE_INFO=m.Qw=0;m.DT_CAPTURE_END=m.Pw=1;m.DT_SCREEN_DATA=m.Xw=2;m.DT_REQUEST_RECT=m.Ww=3;m.DT_MOUSE_POS=m.Sw=4;m.DT_NULL_DATA=m.Tw=5;m.DT_FRAME_END=m.Rw=6;m.DT_RDC_SIGNAL=m.Vw=7;m.DT_RDC_INPUT=m.Uw=8;m.DT_SCREEN_DATA1=m.Yw=9;m.DT_SCREEN_DATA2=m.Zw=10;m.RDC_CMD_END_CONTROL=m.cA=0;m.RDC_CMD_REQUEST_CONTROL=m.fA=1;m.RDC_CMD_ACK_REQUEST_CONTROL=m.Vz=2;m.RDC_CMD_START_CONTROL=m.jA=3;m.RDC_CMD_DESIRED_BIT_DEPTH=m.$z=5;
m.RDC_CMD_MAX_BIT_DEPTH=m.eA=6;m.RDC_CMD_ASSIGN_CONTROL=m.Xz=7;m.RDC_CMD_ACK_ASSIGN_CONTROL=m.Tz=8;m.RDC_CMD_SHOW_CONTENT_WHILE_DRAGGING=m.iA=9;m.RDC_CMD_CONTROL_NOT_SUPPORTED=m.Zz=10;m.RDC_CMD_KEYBOARD_LANG_ID=m.dA=11;m.RDC_CMD_REQUEST_CONTROL_DENY=m.gA=12;m.RDC_CMD_DUMMY_MODE_PASSWORD_ERR=m.bA=13;m.RDC_CMD_DESIRED_GRAYSCALE_DEPTH=m.aA=14;m.RDC_CMD_REQUEST_MONITOR=m.hA=15;m.RDC_CMD_ACK_REQUEST_MONITOR=m.Wz=16;m.RDC_CMD_ASSIGN_MONITOR=m.Yz=17;m.RDC_CMD_ACK_ASSIGN_MONITOR=m.Uz=18;
m.RDC_STATUS_WINDOW_SIZEMOVE=m.kA=128;m.ERROR_PLUGIN_REQUESTCHANNEL_UNKNOWN_TYPE=m.vp=1;m.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_NOTALLOWED=m.up=2;m.ERROR_PLUGIN_REQUESTCHANNEL_NO_RECORDING=m.tp=3;m.ERROR_PLUGIN_REQUESTCHANNEL_CHANNEL_FULL=m.sp=4;m.ERROR_PLUGIN_SETDATA_CHANNEL_NOT_EXISTED=m.ux=5;m.ERROR_PLUGIN_SETDATA_NOT_OWNER=m.vx=6;m.ERROR_PLUGIN_CLOSECHANNEL_CHANNEL_NOT_EXISTED=m.px=7;m.ERROR_PLUGIN_CLOSECHANNEL_NOT_OWNER=m.qx=8;m.ERROR_PLUGIN_RECVPRIO_CHANNEL_NOT_EXISTED=m.sx=9;
m.ERROR_PLUGIN_NOT_ENABLED=m.rp=10;m.ERROR_PLUGIN_NOT_ALLOWED=m.qp=11;m.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_FAILED=m.tx=12;m.ERROR_PLUGIN_OLD_RELAY=m.rx=13;m.TYPE_US_SHORT_MESSAGE2=m.yA=40;m.TYPE_US_SHORT_MESSAGE3=m.zA=41;m.TYPE_US_SHORT_MESSAGE_FAILURE=m.AA=43;m.TYPE_US_ASYMMETRICAL_SHORT_MESSAGE=m.vA=50;m.TYPE_US_SHORT_MESSAGE_OFFLINE=m.BA=60;m.TYPE_US_OFFLINE_MESSAGE2=m.wA=61;m.TYPE_US_OFFLINE_MESSAGE3=m.xA=62;m.IM_TARGET_TYPE_PEER=m.Hx=1;m.IM_TARGET_TYPE_GUEST=m.Gx=2;
m.IM_TARGET_TYPE_GROUP=m.Bp=3;m.IM_TEXT_TYPE_SEND_TEXT=m.ij=1;m.IM_TEXT_TYPE_RECV_TEXT=m.gj=2;m.IM_TEXT_TYPE_SEND_FILE=m.hj=3;m.IM_TEXT_TYPE_RECV_FILE=m.fj=4;m.IM_TEXT_TYPE_JOIN_GROUP=m.Kg=5;m.IM_TEXT_TYPE_LEAVE_GROUP=m.Lg=6;m.IM_TEXT_TYPE_ERROR=m.Jg=7;m.IM_TEXT_TYPE_OFFLINE_JOIN=m.Mg=8;m.IM_TEXT_TYPE_OFFLINE_LEAVE=m.dj=9;m.IM_TEXT_TYPE_PGC_RENAME=m.ej=10;"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(b,a,e){var d=e.length;d=f(0,(b.length>d?b.length:d)*c,0);v(d,b);b=X(a,2);e=X(e,2);R.length!=e.length&&(R=N(e));if(0==(e[0]&1))for(v(R,d),n(d,1);!C(b);){b[0]&1&&ca(d,R,e);x(b,2);var K,l;var I=R;var h=e;for(a=I.length;0<a&&!I[a-1];a--);var F=a>h.length?2*a:2*h.length;g.length!=F&&(g=Array(F));n(g,0);for(l=0;l<a;l++){F=g[2*l]+I[l]*I[l];g[2*l]=F&E;F>>=c;for(K=l+1;K<a;K++)F=g[l+K]+2*I[l]*I[K]+F,g[l+K]=F&E,F>>=c;g[l+a]=F}z(g,h);v(I,g)}else{n(R,0);for(a=e.length;0<a&&!e[a-1];a--);
h=0;for(I=e.length-1;0<=I;I--)h=(h*O+e[I])%O;I=O-B(h,O);R[a]=1;ca(d,R,e);r.length!=d.length?r=N(d):v(r,d);for(a=b.length-1;0<a&!b[a];a--);if(0==b[a])n(d,1);else{for(h=1<<c-1;h&&!(b[a]&h);h>>=1);for(;;){if(!(h>>=1)){a--;if(0>a){A(d,k,e,I);break}h=1<<c-1}A(d,d,e,I);h&b[a]&&A(d,r,e,I)}}}return X(d,1)}function B(b,a){for(var e=1,c=0;;){if(1==b)return e;if(0==b)return 0;c-=e*Math.floor(a/b);a%=b;if(1==a)return c;if(0==a)return 0;e-=c*Math.floor(b/a);b%=a}}function d(b,a,e){var c,g=b.length,l=a.length;
for(c=l-1-e;c<g&&0<=c;c++)if(0<b[c])return 1;for(c=g-1+e;c<l;c++)if(0<a[c])return 0;for(c=(g+e<l?g+e:l)-1;c>=e;c--){if(b[c-e]>a[c])return 1;if(b[c-e]<a[c])break}return 0}function t(b,a){var e,c=b.length<a.length?b.length:a.length;for(e=b.length;e<a.length;e++)if(a[e])return 0;for(e=a.length;e<b.length;e++)if(b[e])return 1;for(e=c-1;0<=e;e--){if(b[e]>a[e])return 1;if(b[e]<a[e])break}return 0}function f(b,a,e){a=Math.ceil(a/c)+1;e=Array(e>a?e:a);n(e,b);return e}function p(b,a,e){var g,k,l=b.length;
if(-1==a){for(k=[];;){a=Array(k.length+1);for(g=0;g<k.length;g++)a[g+1]=k[g];a[0]=parseInt(b,10);k=a;var d=b.indexOf(",",0);if(1>d)break;b=b.slice(d+1);if(0==b.length)break}return k.length<e?(a=Array(e),v(a,k),a):k}k=f(0,a*l,0);for(g=0;g<l;g++){d=w.indexOf(b.slice(g,g+1),0);36>=a&&36<=d&&(d-=26);if(d>=a||0>d)break;var r,K,h=k,I=a;if(I){var F=h.length;for(K=r=0;K<F;K++){r+=h[K]*I;var n=0;0>r&&(n=-(r>>c),r+=n*O);h[K]=r&E;r=(r>>c)-n}}n=k;n[0]+=d;F=n.length;for(K=r=0;K<F&&(r+=n[K],d=0,0>r&&(d=-(r>>c),
r+=d*O),n[K]=r&E,r=(r>>c)-d,r);K++);}for(l=k.length;0<l&&!k[l-1];l--);l=e>l+1?e:l+1;a=Array(l);b=l<k.length?l:k.length;for(g=0;g<b;g++)a[g]=k[g];for(;g<l;g++)a[g]=0;return a}function C(b){var a;if(0!=b[0])return 0;for(a=1;a<b.length;a++)if(b[a])return 0;return 1}function h(b){var a;for(a=0;a<b.length;a++)if(b[a])return 0;return 1}function y(b,a){var e="";ba.length!=b.length?ba=N(b):v(ba,b);if(-1==a){for(a=b.length-1;0<a;a--)e+=b[a]+",";e+=b[0]}else for(;!h(ba);)b=x(ba,a),e=w.slice(b,b+1)+e;0==e.length&&
(e="0");return e}function N(b){var a=Array(b.length);v(a,b);return a}function v(b,a){var e,c=b.length<a.length?b.length:a.length;for(e=0;e<c;e++)b[e]=a[e];for(e=c;e<b.length;e++)b[e]=0}function n(b,a){var e=a;for(a=0;a<b.length;a++)b[a]=e&E,e>>=c}function D(b,a){var e,g=Math.floor(a/c);if(g){for(e=0;e<b.length-g;e++)b[e]=b[e+g];for(;e<b.length;e++)b[e]=0;a%=c}for(e=0;e<b.length-1;e++)b[e]=E&(b[e+1]<<c-a|b[e]>>a);b[e]>>=a}function q(b,a){var e,g=Math.floor(a/c);if(g){for(e=b.length;e>=g;e--)b[e]=b[e-
g];for(;0<=e;e--)b[e]=0;a%=c}if(a){for(e=b.length-1;0<e;e--)b[e]=E&(b[e]<<a|b[e-1]>>c-a);b[e]=E&b[e]<<a}}function x(b,a){var e,c=0;for(e=b.length-1;0<=e;e--)c=c*O+b[e],b[e]=Math.floor(c/a),c%=a;return c}function G(b,a,e,g){var k;var l=b.length<g+a.length?b.length:g+a.length;var f=b.length;var d=0;for(k=g;k<l;k++)d+=b[k]+e*a[k-g],b[k]=d&E,d>>=c;for(k=l;d&&k<f;k++)d+=b[k],b[k]=d&E,d>>=c}function z(b,a){Y.length!=b.length?Y=N(b):v(Y,b);aa.length!=b.length&&(aa=N(b));var e=aa,g,k;v(b,Y);for(g=a.length;0==
a[g-1];g--);var l=a[g-1];for(k=0;l;k++)l>>=1;k=c-k;q(a,k);q(b,k);for(l=b.length;0==b[l-1]&&l>g;l--);for(n(e,0);!d(a,b,l-g);){var f,r=b,K=a,h=l-g;var F=r.length<h+K.length?r.length:h+K.length;var I=r.length;var S=0;for(f=h;f<F;f++)S+=r[f]-K[f-h],r[f]=S&E,S>>=c;for(f=F;S&&f<I;f++)S+=r[f],r[f]=S&E,S>>=c;e[l-g]++}for(--l;l>=g;l--){for(e[l-g]=b[l]==a[g-1]?E:Math.floor((b[l]*O+b[l-1])/a[g-1]);;)if(F=(1<g?a[g-2]:0)*e[l-g],S=F>>c,F&=E,I=S+e[l-g]*a[g-1],S=I>>c,I&=E,S==b[l]?I==b[l-1]?F>(1<l?b[l-2]:0):I>b[l-
1]:S>b[l])e[l-g]--;else break;G(b,a,-e[l-g],l-g);if(b[b.length-1]>>c-1&1){r=b;K=a;h=l-g;F=r.length<h+K.length?r.length:h+K.length;I=r.length;S=0;for(f=h;f<F;f++)S+=r[f]+K[f-h],r[f]=S&E,S>>=c;for(f=F;S&&f<I;f++)S+=r[f],r[f]=S&E,S>>=c;e[l-g]--}}D(a,k);D(b,k)}function ca(b,a,e){var c;g.length!=2*b.length&&(g=Array(2*b.length));n(g,0);for(c=0;c<a.length;c++)a[c]&&G(g,b,a[c],c);z(g,e);v(b,g)}function X(b,a){var e;for(e=b.length;0<e&&!b[e-1];e--);a=Array(e+a);v(a,b);return a}function A(b,a,g,k){var f,l,
d=g.length,r=a.length;e.length!=d&&(e=Array(d));for(n(e,0);0<d&&0==g[d-1];d--);for(;0<r&&0==a[r-1];r--);var K=e.length-1;for(f=0;f<d;f++){var h=e[0]+b[f]*a[0];var F=(h&E)*k&E;var I=h+F*g[0]>>c;h=b[f];for(l=1;l<r-4;)I+=e[l]+F*g[l]+h*a[l],e[l-1]=I&E,I>>=c,l++,I+=e[l]+F*g[l]+h*a[l],e[l-1]=I&E,I>>=c,l++,I+=e[l]+F*g[l]+h*a[l],e[l-1]=I&E,I>>=c,l++,I+=e[l]+F*g[l]+h*a[l],e[l-1]=I&E,I>>=c,l++,I+=e[l]+F*g[l]+h*a[l],e[l-1]=I&E,I>>=c,l++;for(;l<r;)I+=e[l]+F*g[l]+h*a[l],e[l-1]=I&E,I>>=c,l++;for(;l<d-4;)I+=e[l]+
F*g[l],e[l-1]=I&E,I>>=c,l++,I+=e[l]+F*g[l],e[l-1]=I&E,I>>=c,l++,I+=e[l]+F*g[l],e[l-1]=I&E,I>>=c,l++,I+=e[l]+F*g[l],e[l-1]=I&E,I>>=c,l++,I+=e[l]+F*g[l],e[l-1]=I&E,I>>=c,l++;for(;l<d;)I+=e[l]+F*g[l],e[l-1]=I&E,I>>=c,l++;for(;l<K;)I+=e[l],e[l-1]=I&E,I>>=c,l++;e[l-1]=I&E}if(!t(g,e)){a=e;l=a.length<g.length?a.length:g.length;for(k=f=0;k<l;k++)f+=a[k]-g[k],a[k]=f&E,f>>=c;for(k=l;f&&k<a.length;k++)f+=a[k],a[k]=f&E,f>>=c}v(b,e)}var a=window.V,c,P,g,r,Y,aa,ba,R;var E=c=0;var O=E+1;var w="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-";
for(c=0;1<<c+1>1<<c;c++);c>>=1;E=(1<<c)-1;O=E+1;var k=f(1,1,1);var e=R=ba=aa=Y=r=g=P=[];b=b.dh=b.mc=b.mc||{};var K=p("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE65381FFFFFFFFFFFFFFFF",16,0),F=p("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AACAA68FFFFFFFFFFFFFFFF",
16,0),da=p("2",10,0);b.str2bigInt=b.Gt=function(b,a,e){return p(b,a,e)};b.powMod=b.wG=function(b,a,e){return H(b,a,e)};b.bigInt2str=b.Ej=function(b,a){return y(b,a)};b.createKeyPair=b.Dr=function(){var b=p((new a.a.g(a.random.xa(10))).Mb(),16,0),e=H(da,b,K);return{bi:b,mg:e}};b.createKeyPair_2048=b.Er=function(){var b=p((new a.a.g(a.random.xa(20))).Mb(),16,0),e=H(da,b,F);return{bi:b,mg:e}};b.agreeKey=b.nr=function(b,a){return H(a,b,K)};b.agreeKey_2048=b.or=function(b,a){return H(a,b,F)};b.generateSharedKey=
b.Qr=function(b,e,c,g,k,l){l=l||128;var f=a.Hd.create(),d=new a.a.g;b=y(b,16);b=a.a.Gc(b);var r;if(b.length<l)for(r=0;r<l-b.length;r++)d.L("\x00");d.L(b);b=y(e,16);b=a.a.Gc(b);if(b.length<l)for(r=0;r<l-b.length;r++)d.L("\x00");d.L(b);b=y(c,16);b=a.a.Gc(b);if(b.length<l)for(r=0;r<l-b.length;r++)d.L("\x00");d.L(b);d.L(g);d.L(k);f.update(d.u());f.update("A");e=f.digest();f.start();f.update(d.u());f.update("B");c=f.digest();f.start();f.update(d.u());f.update(c.u());f=f.digest();c.C(f);return{ia:e.u(),
key:c.u()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){d.localStorage=d.localStorage={};d.localStorage.clear=H}var B=window.V,d=b.util=b.a=b.a||{},t=d.app_id=d.pr=(new B.a.g(B.random.xa(2))).Mb(),f=d.MAX_LOG_ITEM=d.Vp=5E3,p=d.MAX_LOG_SIZE=d.Wp=5E5,C=[];window.addEventListener("message",function(b){b.source==window&&"zero-timeout-message"==b.data&&(b.stopPropagation(),0<C.length&&C.shift()())},!0);window.setZeroTimeout=function(b){C.push(b);window.postMessage("zero-timeout-message","*");return b};window.clearZeroTimeout=function(b){b=
C.indexOf(b);-1!=b&&C.splice(b,1)};var h=0,y=Date.now();d.GetTickCount=d.B=function(){if("undefined"===typeof performance||"undefined"===typeof performance.now){var b=Date.now();b<y&&(h+=y-b);y=b;return b+h>>>0}return performance.now()>>>0};d.time=d.time=function(){return Date.now()/1E3>>>0};d.checkBrowser=d.iC=function(){window.File&&window.FileReader&&window.FileList&&window.Blob&&window.URL||console.log("File API not supported in this browser");window.localStorage||console.log("Local Storage not supported in this browser");
window.Worker||console.log("Worker not supported in this browser");window.WebSocket||console.log("WebSocket not supported in this browser");return""};d.log=d.log=function(h,n){var q=b.a.se(d.localStorage.hmtg_log_level);"undefined"===q&&(q=b.b.np);0>q&&(q=0);"undefined"===typeof n&&(n=h,h=0);if(!(h>q)){q=(new Date).toString().replace(/(GMT.*)/,"");if(0>h&&(console.log(q+n),-1!=h))return;d.Aj("hmtg_log","hmtg_log_first_idx","hmtg_log_count","hmtg_log_size","hmtg_log_item_",f,p,t+":"+q+n)}};d.add_hmtg_log_item=
d.Aj=function(b,f,h,n,p,v,t,a){var c=d.localStorage[f]>>0,q=d.localStorage[h]>>0,g=d.localStorage[n]>>0;0==q&&d.localStorage[b]&&d.localStorage[b].length&&(d.localStorage[p+"0"]=d.localStorage[b],q=1,g=d.localStorage[b].length,c=0);d.localStorage[b]="";if(q>v||c>=v)g=q=c=0;q==v&&((b=d.localStorage[p+c])&&b.length?(g-=b.length,q--,c++,c==v&&(c=0)):g=q=c=0);var r=c+q;for(r>=v&&(r-=v);0!=q&&g+a.length>t;){b=d.localStorage[p+c];if(!b||!b.length){g=q=c=0;break}g-=b.length;q--;c++;c==v&&(c=0)}d.localStorage[p+
r]=a;g+=a.length;q++;d.localStorage[f]=c;d.localStorage[h]=q;d.localStorage[n]=g};d.read_hmtg_log=d.xG=function(){var b=d.localStorage.hmtg_log_first_idx>>0,h=d.localStorage.hmtg_log_count>>0;if(h>f||b>=f)return d.Sm(),"";var n=[],p;for(p=0;p<h;p++){var v=b+p;v>=f&&(v-=f);v=d.localStorage["hmtg_log_item_"+v];if(!v||!v.length)return d.Sm(),"";n.push(v)}return 0==n.length?d.localStorage.hmtg_log:n.join("\n")};d.reset_hmtg_log=d.Sm=function(){d.localStorage.hmtg_log="";d.localStorage.hmtg_log_first_idx=
0;d.localStorage.hmtg_log_count=0;d.localStorage.hmtg_log_size=0};d.read_hmtg_log_stat=d.yG=function(){var b=d.localStorage.hmtg_log_stat_first_idx>>0,h=d.localStorage.hmtg_log_stat_count>>0;if(h>f||b>=f)return d.Tm(),"";var n=[],p;for(p=0;p<h;p++){var v=b+p;v>=f&&(v-=f);v=d.localStorage["hmtg_log_stat_item_"+v];if(!v||!v.length)return d.Tm(),"";n.push(v)}return 0==n.length?d.localStorage.hmtg_log_stat:n.join("\n")};d.reset_hmtg_log_stat=d.Tm=function(){d.localStorage.hmtg_log_stat="";d.localStorage.hmtg_log_stat_first_idx=
0;d.localStorage.hmtg_log_stat_count=0;d.localStorage.hmtg_log_stat_size=0};d.logUtf8=d.pe=function(b,f){"undefined"===typeof f?d.log(d.zb(b)):d.log(b,d.zb(f))};d.getQuery=d.Sd=function(b){for(var f=window.location.search.slice(1).split("&"),d=0;d<f.length;d++){var h=f[d].split("=");if(h[0]==b)return h[1]}};d.encodeUtf8Ex=d.bh=function(b,f){try{for(var d=unescape(encodeURIComponent(b));d.length&&d.length>=f;)b=b.slice(0,b.length-1),d=unescape(encodeURIComponent(b));return d}catch(z){return""}};d.truncateStr=
d.JG=function(b,f){b=d.bh(b,f);try{return decodeURIComponent(escape(b))}catch(G){return""}};d.truncateStrUtf8=d.ff=function(b,f){try{for(;b.length&&b.length>=f;){var d=decodeURIComponent(escape(b));d=d.slice(0,d.length-1);b=unescape(encodeURIComponent(d))}return b}catch(z){return""}};d.startsWith=d.startsWith=function(b,f){return b.slice(0,f.length)==f};d.endsWith=d.endsWith=function(b,f){return b.slice(-f.length)==f};d.scroll_to_top=d.DG=function(b){if(b=document.getElementById(b))b.scrollTop=0};
d.scroll_to_bottom=d.CG=function(b){if(b=document.getElementById(b))b.scrollTop=b.scrollHeight};d.getExt=d.rC=function(b){var f=b.lastIndexOf(".");if(-1==f)return"";b=b.slice(f);return 1==b.length||-1!=b.indexOf(" ")?"":b};d.decode64=d.Fb=B.a.Fb;d.encode64=d.nc=B.a.nc;d.decode64_url=d.Jj=B.a.Jj;d.encode64_url=d.Kj=B.a.Kj;d.encodeUtf8=d.ob=B.a.ob;d.decodeUtf8=d.zb=B.a.zb;d.isArray=d.isArray=B.a.isArray;d.array2str=d.Cj=function(b){try{var f=String.fromCharCode.apply(null,b)}catch(z){f="";var d;for(d=
0;d<b.length;d++)f+=String.fromCharCode(b[d])}return f};d.str2array=d.ei=function(b){for(var f=new Uint8Array(b.length),d=0;d<b.length;d++)f[d]=b.charCodeAt(d);return f};d.calc_guid_descr=d.yr=function(b){b=B.a.Yg(b).toUpperCase();return b.slice(0,8)+"-"+b.slice(8,12)+"-"+b.slice(12,16)+"-"+b.slice(16,20)+"-"+b.slice(20)};d.parseJSON=d.se=function(b){try{return JSON.parse(b)}catch(x){return"undefined"}};d.selectText=d.EG=function(b){if(document.body.createTextRange){var f=document.body.createTextRange();
f.moveToElementText(b);f.select()}else if(window.getSelection){var d=window.getSelection();f=document.createRange();f.selectNodeContents(b);d.removeAllRanges();d.addRange(f)}};var N=window.onerror,v={},n=d.Sd("alert");d.test_error=d.IG=d.Sd("error")||0;if(d.Sd("show_log")){var D=document.getElementById("log_report");D&&(D.style.display="")}d.error_array=d.ld=[];window.onerror=function(f,h,p,z,y){var q;!window.nb&&h&&y&&y.stack||(q=!0);var x=""+f+h+p+z;v[x]?v[x]++:v[x]=1;var a=v[x];z="Javascript Error("+
a+" times), "+f+", location="+h+":"+p+("undefined"!=typeof z?":":"")+z;z=y&&y.stack?z+(",\nstack trace=\n"+y.stack):z+",\nstack trace not supported";var c;if(!q){for(c=0;c<d.ld.length;c++)if(x===d.ld[c].tag){d.ld.splice(c,1);break}d.ld.push({tag:x,text:z,time:new Date});100<d.ld.length&&d.ld.shift()}if(1==a||10==a||100==a||1E3==a){try{b.a.log((q?"(Log Only)":"")+z)}catch(P){}!q&&n&&(z+="\n------------------------------\nTotal Error: "+d.ld.length+"\n",z+=(new Date).toString().replace(/(GMT.*)/,"")+
"\n",z+="appid="+t+"\n",z+="Browser Information: "+navigator.userAgent+"\n",b.Z&&b.Z.version&&(z+="hmtg jnkernel version "+b.Z.version()+"\n"),b.Vb&&b.Vb.version&&(z+="hmtg jmkernel version "+b.Vb.version()+"\n"),b.b&&b.b.ki&&(z+="Web JoinNet version "+b.b.ki+"\n"),alert(z))}if(!q){if(q=document.getElementById("error_report"))q.style.display="";b.Z&&b.Z.tl&&b.Z.tl()}return N?N(f,h,p):h&&y&&y.stack?!0:!1};window.onerrorWorker=function(b){window.onerror(b.message,b.filename,b.lineno,b.colno,b.error)};
d.isPrivateStorage=d.sd=!1;if(!window.localStorage||"object"!==typeof window.localStorage||"undefined"!==typeof window.localStorage.hmtg_log&&"string"!==typeof window.localStorage.hmtg_log)d.localStorage=d.localStorage={},d.sd=!0;else if(d.localStorage=d.localStorage=window.localStorage,"undefined"===typeof window.localStorage.hmtg_log)try{d.localStorage.hmtg_log=""}catch(q){d.localStorage=d.localStorage={},d.sd=!0,d.localStorage.hmtg_log=""}d.Sd("reset")&&confirm("Are you sure to reset the localStorage?")&&
window.localStorage.clear();d.log("Web JoinNet starts");d.sd&&(d.localStorage.clear=H,d.log("This browser is using private Storage. The changes of settings cannot be saved if the Web App is closed."));d.log("Browser Information: "+navigator.userAgent);d.calcOffset=d.hC=function(b,f){var d=0,h=0;if("undefined"!==typeof b.offsetParent){do d+=b.offsetLeft+b.clientLeft,h+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}f.x=d;f.y=h};d.schemeURL=d.BG=function(b){return(b=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*):/.exec(b))&&
b[1]?b[1].toLowerCase():""};d.xml_escape=d.Ot=function(b){return b.replace(/\&/g,"&amp;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")};d.convert32_64=d.Ar=function(b,f){return 0>b>>0?-(4294967296*((b^4294967295)>>>0)+((f^4294967295)>>>0)+1):4294967296*(b>>>0)+(f>>>0)};d.convert64_32=d.lC=function(b){if(0>b){b=-b;b--;var f=(b/4294967296>>>0^4294967295)>>0;b=(b%4294967296>>>0^4294967295)>>0}else f=b/4294967296>>>0,b=b%4294967296>>>0;return[f,b]}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.V,B=b.o=b.o||{};B.vendor="";B.HG=function(b){for(var d=(new Date).getTime();!((new Date).getTime()-d>b););};B.kg=function(b){if("string"!==typeof b)return{kb:1,Db:0,ef:0};b=b.split(".");return 2>b.length?{kb:1,Db:0,ef:0}:3>b.length?{kb:parseInt(b[0].trim()),Db:parseInt(b[1].trim()),ef:0}:{kb:parseInt(b[0].trim()),Db:parseInt(b[1].trim()),ef:parseInt(b[2].trim())}};B.Y=function(){};B.H=function(b){b.onopen=b.onclose=b.onerror=b.onmessage=B.Y;b.close()};B.ai=function(b,t,f,
p){var d=[],h=0;0!=p&&p!=f&&(h=p);p={};p.aa=b;p.pa=f;p.Bd=0;d.push(p);h&&(p={},p.aa=b,p.pa=h,p.Bd=0,d.push(p));b=t.split(",");for(t=0;t<b.length;t++){var y=b[t].trim();if(!(0==y.length||100<=y.length)){for(p=0;p<d.length&&d[p].aa!=y;p++);p==d.length&&20>d.length&&(p={},p.aa=y,p.pa=f,p.Bd=1,d.push(p),h&&20>d.length&&(p={},p.aa=y,p.pa=h,p.Bd=1,d.push(p)))}}return{fi:0,Uh:d}};B.Qj=function(b){for(var d,f,p,C="",h=b.length(),y=(h+15)/16>>>0,B=0,v=0;v<y-1&&5E3>=74*(v+1)+1;v++){f=p="";for(var n=0;16>n;n++,
B++)d=b.M(B),p+=16>d?"0":"",p+=d.toString(16),p+=" ",f+=32>=d?".":b.h(B,1);C+=("0000000"+(16*v).toString(16)).slice(-4)+"h: ";C+=p+"; "+f+"\n"}if(5E3>=74*y+1&&(h-=16*(y-1),0<h)){f=p="";for(n=0;16>n;n++,B++)n<h?(d=b.M(B),p+=16>d?"0":"",p+=d.toString(16),p+=" ",f+=32>=d?".":b.h(B,1)):p+="   ";C+=("0000000"+(16*(y-1)).toString(16)).slice(-4)+"h: ";C+=p+"; "+f+"\n"}return C};B.Cm=function(d,t){if(t.length()){var f="\nDisconnect Dump:";d.length()&&(f+="\npre-disconnect log:\n"+B.Qj(d));f+="\nat-disconnect log:\n"+
B.Qj(t)+"\n";b.a.log(f)}};B.Zg=function(d){switch(d){case b.b.tg:case b.b.Tg:d="dflt";break;case b.b.xg:d="ilbc";break;case b.b.ug:d="g711";break;case b.b.wg:d="g726";break;case b.b.jf:d="g726 11K";break;case b.b.vg:d="g711 11K";break;case b.b.yg:d="opus";break;case b.b.Vg:d="hm264";break;case b.b.Ug:d="f264";break;case b.b.Wg:d="mjpg";break;case b.b.Xg:d="vpx";break;default:d="unknown"}return d};B.Hj=function(d){var t="",f=1;d&b.b.jp&&(t+=(f?"":",")+"ACCEPT_GUEST",f=0);d&b.b.kp&&(t+=(f?"":",")+"END_MEETING",
f=0);d&b.b.Xi&&(t+=(f?"":",")+"QUESTION_CONTROL",f=0);d&b.b.lp&&(t+=(f?"":",")+"POLL",f=0);d&b.b.Ig&&(t+=(f?"":",")+"SYNC",f=0);d&b.b.Yi&&(t+=(f?"":",")+"RETRIEVE_TOKEN",f=0);d&b.b.$i&&(t+=(f?"":",")+"SYNC_TAB",f=0);d&b.b.Zi&&(t+=(f?"":",")+"SYNC_FULLSCREEN");return t};B.pt=function(d){if(40==d.charCodeAt(0)){var t=d.indexOf(")");if(-1!=t&&1!=t)return b.a.bh(b.a.zb(d.slice(1,t)),b.b.Xa)}return""};B.Rs=function(b){return b.Pd(15)};B.Ss=function(b){return b.Pd(11)};B.Us=function(b){return b.c(5)};B.Vs=
function(b){return b.Pd(9)<<16^b.Pd(13)};B.Ch=function(b){return b.Pd(3)};B.Ts=function(b){return b.Pd(1)};B.fd=new Uint8Array(256);B.fd[b.b.tg]=1;B.fd[b.b.xg]=1;B.fd[b.b.ug]=1;B.fd[b.b.wg]=1;B.fd[b.b.jf]=1;B.fd[b.b.yg]=1;B.vC=function(b){return!!B.fd[b]};B.ze=new Uint8Array(256);B.ze[b.b.Tg]=1;B.ze[b.b.Vg]=1;B.ze[b.b.Ug]=1;B.ze[b.b.Wg]=1;B.ze[b.b.Xg]=1;B.zC=function(b){return!!B.ze[b]};B.rt=function(b){return 8+b<<4};B.Zj=function(d){return(d&143)==b.b.Nq};B.st=function(b){return(b&112)>>4};B.Lt=
function(d,t,f){var p=t.length;512<p&&(p=512);var C=H.Hd.create();C.update(b.crypto.K(t.subarray(0,p),f).u());return C.digest().u()==d}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.V;b=b.crypto=b.crypto||{};b.$c=function(){for(var b=H.Hd.create(),d=arguments.length,t=0;t<d;++t)b.update(arguments[t]);return b.digest()};b.$g=function(b,d){var t={};switch(b){case "3des":t.ia=d.ia.slice(0,8);t.kd=H.lc.xe(d.key.slice(0,24),t.ia,null);t.Od=H.lc.we(d.key.slice(0,24),t.ia,null);break;case "des":t.ia=d.ia.slice(0,8);t.kd=H.lc.xe(d.key.slice(0,8),t.ia,null);t.Od=H.lc.we(d.key.slice(0,8),t.ia,null);break;case "aes128":t.ia=d.ia.slice(0,16);t.kd=H.Ya.xe(d.key.slice(0,
16),t.ia,null,"cfb");t.Od=H.Ya.we(d.key.slice(0,16),t.ia,null,"cfb");break;case "aes192":t.ia=d.ia.slice(0,16);t.kd=H.Ya.xe(d.key.slice(0,24),t.ia,null,"cfb");t.Od=H.Ya.we(d.key.slice(0,24),t.ia,null,"cfb");break;case "aes256":t.ia=d.ia.slice(0,16),t.kd=H.Ya.xe(d.key.slice(0,32),t.ia,null,"cfb"),t.Od=H.Ya.we(d.key.slice(0,32),t.ia,null,"cfb")}return t};b.gf=b.$g("aes256",{ia:H.a.Gc("9a46099c65b2988422cb177c159625a4586c353d"),key:H.a.Gc("40142bcd47a450d82a1e4109df9cb37852ca2a4ab6f87e739503d7919d89dd834e077fe123f420d4")});
b.K=function(b,d){if(d&&d.kd){var t=d.kd;t.start(d.ia);t.update(new H.a.g(b));t.finish();return t.ig}console.log(Error("******debug, crypto.crypto_cfb_EncryptData stack trace").stack);return b};b.v=function(b,d){if(d&&d.Od){var t=d.Od;t.start(d.ia);t.update(new H.a.g(b));t.finish();return t.ig}console.log(Error("******debug, crypto.crypto_cfb_DecryptData stack trace").stack);return b}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.V,B="succeeded;continue...;MCU relay proxy is shut down;the request is not allowed;MCU relay proxy is busy;the request is not supported;can not connect to MCU;MCU relay proxy doesn't has group connection to the MCU;MCU relay proxy is downloading this slide;MCU relay proxy only support primary port;unknown".split(";"),d=b.protocol=b.protocol||{};d.gn=10001;d.hn=10002;d.li=10003;d.oi=10004;d.ni=10005;d.mi=10006;d.en=10007;d.cn=10008;d.dn=10009;d.Qt=10010;d.fn=10011;d.um=function(d,
f,p,C,h,y){function t(){ca.disconnect=function(){}}function v(a){n();P=setTimeout(function(){P=null;a&&b.a.log(a);b.a.log(6,"websocket("+aa+") timeout");b.o.H(c);D(b.b.Kd)},6E4)}function n(){null!=P&&(clearTimeout(P),P=null)}function D(a){n();Y?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, finish"):(C[h].Lb=a,Y=!0,c.onclose=c.onerror=c.onmessage=null,t(),y())}function q(){var g=a.Tj();if(g!=b.b.Bc){if(0>=g||g>=B.length)g=B.length-1;b.a.log("mcu relay proxy failed, error = "+
B[g]);b.o.H(c);D(b.b.jj+g)}else r=new b.protocol.Se(d,f,C[h],p.ba.Sb,p.ba.port,x)}function x(f){r=null;f?(b.a.log("mcu relay proxy: dh key exchange fails"),D(b.b.Kd)):(C[h].dd=C[h].da,C[h].vd=C[h].ab,C[h].Ih=C[h].Vc,f=new H.a.g,f.Dd(0),f.Dd(C[h].pa),f.jg(C[h].aa),g=G,v("mcu relay proxy: recv nothing after dh key exchange"),c.send(f.i()),0!=a.length()&&g())}function G(){var f=a.Tj();if(0!=f){if(0>f||f>=B.length)f=B.length-1;C[h].it=1;b.a.log("mcu relay proxy failed, error = "+B[f]);b.o.H(c);D(b.b.jj+
f)}else g=z,v(),0!=a.length()&&g()}function z(){var c=p.ba.Gb.length?0:4,g=a.length();if(!(g<4+c)){if(c){c+=a.c(4)==b.protocol.ni?16:4;if(g<4+c)return;p.ba.Gb=a.h(8,c-4)}C[h].Rc=a.getInt32();c&&a.shift(c);b.a.log("mcu relay proxy: established");D(0)}}var ca=this;var X=C[h].aa;var A=C[h].pa,a=C[h].Ed=new H.a.g,c,P=null,g=b.o.Y,r=null,Y=!1;this.disconnect=function(){};if(p&&p.ra){b.a.log(["connect through mcu relay ",p.ba.Sb,",",p.ba.port].join(""));X=p.ba.Sb;-1!=X.indexOf(":")&&-1==X.indexOf("[")&&
(X="["+X+"]");var aa=X+":"+p.ba.port+"/websocket/"}else-1!=X.indexOf(":")&&-1==X.indexOf("[")&&(X="["+X+"]"),aa=X+":"+A+"/websocket/";g=function(){b.o.H(c);D(b.b.Kd)};try{var ba="https:"==window.location.protocol?"wss://":"ws://";this.j=C[h].j=c=new WebSocket(ba+aa,"hmtg")}catch(R){this.j=C[h].j=c={};b.a.log("cannot create WebSocket for "+ba+aa+". "+R);D(b.b.Kd);return}c.binaryType="arraybuffer";c.onopen=function(){n();if(p&&p.ra){var b=new H.a.g("~");b.f(p.ba.Gb.length?7:8);g=q;v();c.send(b.i());
0!=a.length()&&g()}else D(0)};c.onclose=function(){b.a.log(6,"websocket("+aa+") onclose");b.o.H(c);D(b.b.Kd)};c.onerror=function(){b.a.log(6,"websocket("+aa+") onerror");b.o.H(c);D(b.b.Kd)};c.onmessage=function(c){n();c=new H.a.g(c.data);a.C(c);Y?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, onmessage"):(v(),g())};v();0!=a.length()&&g();this.disconnect=function(){b.a.log(6,"websocket("+aa+") disconnect");Y?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, disconnect"):
(b.o.H(c),Y=!0,n(),null!=r&&(r.stop(),r=null),t())}};d.Se=function(d,f,p,C,h,y){function t(c){v();a=setTimeout(function(){b.a.log("disconnect,timeout error in dh key exchange");n(c)},6E4)}function v(){null!=a&&(clearTimeout(a),a=null)}function n(a){a&&b.o.H(G);v();Y?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, finish"):(Y=!0,y(a))}function D(){var a=z.length();if(!(4>a)){var c=z.c(0);if(0>c||4096<c)b.a.log("disconnect, incorrect server public key"),n(3);
else if(!(a<4+c)){a=H.a.Yg(z.h(4,c));a=b.mc.Gt(a,16,0);var h=2048==g?b.mc.or(r.bi,a):b.mc.nr(r.bi,a);a=b.mc.Qr(r.mg,a,h,d+"."+f,p.Vc,2048==g?256:128);p.xc=a;z.shift(4+c);P=q;0!=z.length()&&P()}}}function q(){var a=z.length();if(!(4>a)){var g=z.c(0);if(0>g||4096<g)b.a.log("disconnect, incorrect hostkey key"),n(3);else if(!(a<4+g+4)){var f=z.c(4+g);if(0>f||4096<f)b.a.log("disconnect, incorrect hostkey signature"),n(3);else if(!(a<4+g+4+f)){a=z.h(4,g);var d=H.a.nc(a);b.a.log(["hostkey of ",C,",",h," is ",
d].join(""));d=H.Vh.create();d.update(a);a=d.digest();a=H.a.nc(a.u());b.a.log(["hostkey fingerprint of ",C,",",h," is ",a].join(""));z.shift(4+g+4+f);p.dg="";p.cg="";p.ag="";c=1;P=x;0!=z.length()&&P()}}}}function x(){for(;;){var a=z.length();if(4>a)break;var c=z.c(0);if(0==c){z.shift(4);p.W=p.da;G.onerror=B;G.onmessage=X;G.onclose=A;n(0);break}if(4>c||1024<=c){b.a.log("disconnect, incorrect server parameter(0), len="+c);n(1);break}if(a<4+c)break;z.shift(4);a=c;var g=z.c(0);switch(g){case 10001:g=
z.c(4);if(a!=g+8||0>=g||100<=g){b.a.log(["disconnect, incorrect server parameter(1), len=",a," cipher_len=",g].join(""));n(2);return}a=z.h(8,g);p.hd=a;p.da=b.crypto.$g(a,p.xc);if(!p.da.kd){b.a.log("unknown cipher "+a);n(2);return}b.a.log("got mcu parameter - cipher = "+a);break;case 10002:if(8!=a){b.a.log("disconnect, incorrect server parameter(2), len="+a);n(1);return}p.$f=b.crypto.v(z.h(4,4),p.da).c(0);b.a.log("got mcu parameter - multicast port: "+p.$f);break;case 10003:if(8!=a){b.a.log("disconnect, incorrect server parameter(3), len="+
a);n(1);return}p.wd=b.crypto.v(z.h(4,4),p.da).c(0)>>>0;p.ab=b.a.B()-p.wd;b.a.log(["got mcu parameter - server tick = ",p.wd,", diff = ",p.ab].join(""));break;case 10004:var f=z.c(4);if(a!=f+8||0>=f||500<=f){b.a.log(["disconnect, incorrect server parameter(4), len=",a," serial_len=",f].join(""));n(1);return}p.dg=b.crypto.v(z.h(8,f),p.da).u();break;case 10008:g=z.c(4);if(a!=g+8||0>=g||100<=g){b.a.log(["disconnect, incorrect server parameter(5), len=",a," licensesource_len=",f].join(""));n(1);return}p.cg=
b.crypto.v(z.h(8,g),p.da).u();break;case 10005:if(8!=a){b.a.log("disconnect, incorrect server parameter(6), len="+a);n(1);return}p.he=b.crypto.v(z.h(4,4),p.da).c(0);b.a.log("got mcu parameter - utf8 support, codepage = "+p.he);break;case 10006:if(4!=a){b.a.log("disconnect, incorrect server parameter(7), len="+a);n(1);return}p.Pe=!0;b.a.log("got mcu parameter - mcu accept client parameter");break;case 10007:b.a.log("got mcu parameter - mcu support real time conversion");p.ag="";4!=a&&(p.ag=z.h(4,a-
4));break;default:b.a.log("warning, unknown server parameter type="+g)}z.shift(c)}}var G=p.j,z=p.Ed,B=G.onerror,X=G.onmessage,A=G.onclose,a=null,c=3,P=b.o.Y,g=0,r;p.he=-2;G.onclose=G.onerror=function(){n(3)};G.onmessage=function(a){v();a=new H.a.g(a.data);z.C(a);Y?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, onmessage"):(t(c),P())};var Y=!1,aa=new H.a.g("!");aa.f(d);aa.f(f);P=function(){var a=z.length();if(!(4>a)){var c=z.c(0);if(0>c||100<=c)b.a.log("disconnect, recv return error in dh key exchange"),
n(3);else if(!(a<4+c)){p.Vc=z.h(4,c);var f=b.o.kg(p.Vc);b.a.log(["server version of ",C,",",h," is ",p.Vc].join(""));a=new H.a.g;if(3<f.kb||3==f.kb&&23<f.Db||3==f.kb&&23==f.Db&&1<=f.ef){g=2048;a.f(4099);a.f(256);r=b.mc.Er();f=b.mc.Ej(r.mg,16);var d=H.a.Gc(f);f=256-d.length}else g=1024,a.f(128),r=b.mc.Dr(),f=b.mc.Ej(r.mg,16),d=H.a.Gc(f),f=128-d.length;0!=f&&a.fh(0,f);a.L(d);G.send(a.i());z.shift(4+c);P=D;0!=z.length()&&P()}}};t(3);G.send(aa.i());0!=z.length()&&P();this.stop=function(){Y=!0;v()}};d.je=
function(d,f,p,C){function h(){B.disconnect=function(){}}function t(){null!=v&&(clearTimeout(v),v=null)}var B=this,v=null,n=!1;this.disconnect=function(){};-1!=d.indexOf(":")&&-1==d.indexOf("[")&&(d="["+d+"]");f=d+":"+f+"/websocket/";try{var D="https:"==window.location.protocol?"wss://":"ws://";var q=new WebSocket(D+f,"hmtg")}catch(x){q={};b.a.log("cannot create WebSocket for "+D+f+". "+x);n?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, new WebSocket"):(n=!0,h(),C());
return}q.binaryType="arraybuffer";q.onopen=function(){t();n?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onopen"):(n=!0,h(),p(q))};q.onclose=q.onerror=function(){t();n?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onclose"):(n=!0,b.o.H(q),h(),C())};(function(){t();v=setTimeout(function(){v=null;b.o.H(q);n?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, turn_on_timer"):(n=!0,h(),C())},6E4)})();this.disconnect=
function(){n?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, disconnect"):(t(),n=!0,b.o.H(q),h())}};d.Kb=function(d,f,p,C,h,y){function t(){D.disconnect=function(){}}function v(){null!=q&&(clearTimeout(q),q=null)}function n(){if(!(32>C.length())){var n=b.a.B()-d;var z=new H.a.g;z.L(C.h(0,32));z.f(n);n=new H.a.g;n.C(b.crypto.K(z.u(),f));p.send(n.i());C.shift(32);v();x?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, handler"):(x=!0,t(),
h(p,C))}}var D=this,q=null,x=!1;p.onclose=p.onerror=function(){v();x?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onclose"):(x=!0,n=b.o.Y,b.o.H(p),t(),y())};p.onmessage=function(f){f=new H.a.g(f.data);C.C(f);x?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onmessage"):n()};(function(){v();q=setTimeout(function(){q=null;b.o.H(p);x?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, setTimeout"):
(x=!0,t(),y())},6E4)})();0!=C.length()&&n();this.disconnect=function(){x?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, disconnect"):(v(),x=!0,b.o.H(p),t())}};d.Os=function(d,f,p,C,h){function t(){n.disconnect=function(){}}function B(){v();D=setTimeout(function(){D=null;b.o.H(f);x?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, setTimeout"):(x=!0,t(),h(1))},6E4)}function v(){null!=D&&(clearTimeout(D),D=null)}var n=this,D=null,q=b.o.Y,
x=!1;f.onclose=f.onerror=function(){v();x?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onclose"):(x=!0,q=b.o.Y,b.o.H(f),t(),h(1))};f.onmessage=function(f){v();f=new H.a.g(f.data);p.C(f);x?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onmessage"):(B(),q())};this.disconnect=function(){x?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, disconnect"):(v(),x=!0,b.o.H(f),t())};var G=new H.a.g("~");G.f(1);G.f(d.Rc);
G.f(d.sa);q=function(){var f=p.M(0);p.shift(1);v();x?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, handler"):(x=!0,t(),f!=b.b.Bc?h(-1):C())};B();f.send(G.i());0!=p.length()&&q()};d.os=function(d,f,p,C,h){function t(){n.disconnect=function(){}}function B(){v();D=setTimeout(function(){D=null;b.o.H(f);x?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, setTimeout"):(x=!0,t(),h(1))},6E4)}function v(){null!=D&&(clearTimeout(D),D=null)}
var n=this,D=null,q=b.o.Y,x=!1;f.onclose=f.onerror=function(){v();x?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onclose"):(x=!0,q=b.o.Y,b.o.H(f),t(),h(1))};f.onmessage=function(f){v();f=new H.a.g(f.data);p.C(f);x?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onmessage"):(B(),q())};this.disconnect=function(){x?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, disconnect"):(v(),x=
!0,b.o.H(f),t())};var G=new H.a.g("~");G.f(5);G.f(d.Rc);G.f(d.sa);G.f(1);q=function(){var f=p.M(0);p.shift(1);v();x?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, handler_relay_response"):(x=!0,t(),f!=b.b.Bc?h(-1):C())};B();f.send(G.i());0!=p.length()&&q()};d.ps=function(d,f,p,C,h){function t(){n.disconnect=function(){}}function N(){v();D=setTimeout(function(){D=null;b.o.H(f);x?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, setTimeout"):
(x=!0,t(),h(1))},6E4)}function v(){null!=D&&(clearTimeout(D),D=null)}var n=this,D=null,q=b.o.Y,x=!1;f.onclose=f.onerror=function(){v();x?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onclose"):(x=!0,q=b.o.Y,b.o.H(f),t(),h(1))};f.onmessage=function(f){v();f=new H.a.g(f.data);p.C(f);x?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onmessage"):(N(),q())};this.disconnect=function(){x?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, disconnect"):
(v(),x=!0,b.o.H(f),t())};var G=new H.a.g("~");G.f(4);G.f(d.Rc);G.f(d.sa);G.f(d.D);q=function(){var f=p.M(0);p.shift(1);v();if(x)b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, handler_relay_response");else if(x=!0,t(),f!=b.b.Bc){if(0>=f||f>=B.length)f=B.length-1;b.a.log("mcu relay proxy failed, error = "+B[f]);h(-1)}else C()};N();f.send(G.i());0!=p.length()&&q()};d.Ys=function(t,f,p,C,h,y,B,v){function n(){z.disconnect=function(){}}function D(){q();N=
setTimeout(function(){N=null;b.o.H(C);A?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, setTimeout"):(A=!0,n(),v())},6E4)}function q(){null!=N&&(clearTimeout(N),N=null)}function x(){A?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, normal_disconnect"):(q(),A=!0,b.o.H(C),n())}function G(){var a=h.length(),f=h.M(0);f==b.b.$p?9>a||((a=p.qa=h.c(1),-1==a)?(A=!0,q(),X=b.o.Y,b.o.H(C),n(),v()):(f=h.c(5),p.Dj?500<b.a.B()-p.Da&&(B((f-(a-p.qe))/
p.rg),p.Da=b.a.B()):(p.Dj=!0,p.qe=p.qa-f,p.rg=p.qa+p.qe,b.a.log("in mrp slide download, mrp_filelen = "+p.qe+"(filelen = "+a+")"),B(0),p.Da=b.a.B()),h.shift(9))):f==b.b.Bc?(q(),h.shift(1),A=!0,n(),y()):(q(),A=!0,X=b.o.Y,b.o.H(C),n(),v())}var z=this,N=null,X=b.o.Y,A=!1;C.onclose=C.onerror=function(){q();A?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onclose"):(A=!0,X=b.o.Y,b.o.H(C),n(),v())};C.onmessage=function(a){q();a=new H.a.g(a.data);h.C(a);A?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onmessage"):
(D(),X())};this.disconnect=x;var a=new H.a.g("~");a.f(2);a.f(t.Rc);a.f(t.sa);a.f(f);X=function(){var a=h.M(0);h.shift(1);q();if(A)b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, handler_relay_response");else if(a!=b.b.Bc)A=!0,X=b.o.Y,b.o.H(C),n(),v();else{var f=C.onerror,g=C.onmessage;a=new d.Kb(t.vd,t.dd,C,h,function(){C.onclose=C.onerror=f;C.onmessage=g;X=G;z.disconnect=x;D();0!=h.length()&&X()},function(){A=!0;n();v()});z.disconnect=a.disconnect}};D();C.send(a.i());
0!=h.length()&&X()};d.at=function(t,f,p,C,h){function y(){q.disconnect=function(){}}function B(){v();x=setTimeout(function(){x=null;b.o.H(f);z?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, setTimeout"):(z=!0,y(),h())},6E4)}function v(){null!=x&&(clearTimeout(x),x=null)}function n(){z?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, normal_disconnect"):(v(),z=!0,b.o.H(f),y())}function D(){p.length();p.M(0)==b.b.Bc?(v(),p.shift(1),z=!0,y(),
C()):(b.a.log("mcu relay proxy is not ready to upload slide"),v(),z=!0,G=b.o.Y,b.o.H(f),y(),h())}var q=this,x=null,G=b.o.Y,z=!1;f.onclose=f.onerror=function(){v();z?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onclose"):(z=!0,G=b.o.Y,b.o.H(f),y(),h())};f.onmessage=function(f){v();f=new H.a.g(f.data);p.C(f);z?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onmessage"):(B(),G())};this.disconnect=n;var ca=new H.a.g("~");ca.f(3);ca.f(t.Rc);
ca.f(t.sa);G=function(){var x=p.M(0);p.shift(1);v();if(z)b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, handler_relay_response");else if(x!=b.b.Bc)z=!0,G=b.o.Y,b.o.H(f),y(),h();else{var A=f.onerror,a=f.onmessage;x=new d.Kb(t.vd,t.dd,f,p,function(){f.onclose=f.onerror=A;f.onmessage=a;G=D;q.disconnect=n;B();0!=p.length()&&G()},function(){z=!0;y();h()});q.disconnect=x.disconnect}};B();f.send(ca.i());0!=p.length()&&G()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(f,d,t,h,y,B,v,n){var p=b.b.Cc-21;if(!(n.length>p||0>d||d>=b.b.za)&&f.O[d]){var q=h&32768;h&=32767;var x=f.O[d],G=x.srv,z=b.a.B();G||(G=x.srv={},G.X=0,G.count=0,G.na=0,G.Wc=!1,G.sc=G.Nh=0,G.ha=G.Ma=z-1E5);G.type=v;if(G.Wc){if(t==G.sc&&h==G.Nh)return;if(x.Rd!=t||x.md!=h){var C=t-G.sc;0>C&&(C+=65536);0==C?G.na+=h-G.Nh-1:0<C&&32768>C&&(G.na+=C-1+h+1)}}G.X+=n.length+21;G.count++;1E4<z-G.Ma>>>0?(G.ha=z,G.X=0,G.count=0,G.na=0):3E3<z-G.ha&&(G.rate=0,0<G.count&&(G.tick=z,G.rate=8E3*
G.X/(z-G.ha)>>0,f.Ea("video_recv_rate(ssrc "+d+"),"+G.rate)),G.loss_rate=0,0<G.na&&(G.tick=z,G.loss_rate=G.na/(G.na+G.count)*1E4>>0,f.Ea("video_loss_rate(ssrc "+d+"),"+G.loss_rate)),G.ha=z,G.X=0,G.count=0,G.na=0);G.Ma=z;G.sc=t;G.Nh=h;G.Wc=!0;if(x.Rd==t)if(x.md==h)if(0==h&&(x.data=""),x.data+=n,q)x.Rd=t+1&65535,x.md=0;else{if(n.length!=p)return;x.md++;return}else{x.Rd=t+1&65535;x.md=0;return}else if(0==h)if(x.data=n,q)x.Rd=t+1&65535,x.md=0;else{if(n.length!=p)return;x.Rd=t;x.md=1;return}else{x.Rd=
t+1&65535;x.md=0;return}if(d==f.ta)f=0;else if(d==f.ya)f=1;else{t=-1;for(h=0;h<b.b.Nb;h++)if(f.ib[h]==d){t=h;break}if(-1!=t)f=2+t;else return}-1!=f&&(1>=x.data.length||b.Z.em&&b.Z.em(x.data,v,d,y,B))}}function B(f,p,t,h,y){function C(b){var h=new d.a.g;h.m(f.J);h.f(f.Sn);h.f(b);f.j.send(h.i())}if(!(0>p||p>=b.b.za||!f.O[p]||500<y.length)){var v=f.O[p];if(!v.Oh){var n=t>>16;t&=65535;if(!(0>=n||2E3<n||0>t||t>=n||v.Ph[t>>3]&1<<(t&7))){if(!v.Qh)v.Qh=n,v.fg=0,v.Sh=new Uint8Array(500*n),v.Th=0;else if(v.Qh!=
n){v.Oh=1;C(p);b.a.log("download self picture for ssrc "+p+" fails. total num not match");return}v.Sh.set(b.a.ei(y),500*t);v.Th+=y.length;v.Ph[t>>3]|=1<<(t&7);v.fg++;v.fg==v.Qh&&(v.Oh=1,C(p),v.fg=0,y=v.Sh.subarray(0,v.Th),v.Sh=null,f.Vm(p,y,h))}}}}var d=window.V,t=b.protocol=b.protocol||{};t.Ns=function(f,p,C){function h(b){var h=new d.a.g;if(f.ra){var n=new t.Os(f,b,h,function(){new y(b,h)},function(b){C(b)});B.disconnect=function(){n.disconnect()}}else new y(b,h)}function y(h,n){if(f.ra)var v=new t.Kb(f.vd,
f.dd,h,n,function(){p(h,n)},function(){C(1)});else if(f.F==b.b.R){var z=new d.a.g("M");z.f(f.sa);z.f(f.D);h.send(z.i());v=new t.Kb(f.ab,f.da,h,n,function(){p(h,n)},function(){C(1)})}else f.F==b.b.Aa&&(z=new d.a.g("m"),z.f(f.sa),z.f(f.Wf),h.send(z.i()),v=new t.Kb(f.ab,f.da,h,n,function(){p(h,n)},function(){C(1)}));B.disconnect=function(){v.disconnect()}}var B=this;if(f.ra){var v=f.ba.Sb;var n=f.ba.port}else v=f.aa,n=f.pa;var D=new t.je(v,n,function(b){new h(b)},function(){C(1)});this.disconnect=function(){D.disconnect()}};
t.Ra=function(f){function p(){n.disconnect=function(){}}function C(){b.a.log("mediatcp is stopped while connecting");q&&(clearTimeout(q),q=null);x&&x.disconnect();p()}function h(){b.Z.zj()?(G=!1,x=new t.Ns(f,N,y),n.disconnect=C):p()}function y(a){x=null;0<a?(D++,60<D&&(D=60),b.a.log("mediatcp: connecting fails, try again..."),q=setTimeout(function(){q=null;h()},1E3*(D+1))):(p(),b.a.log("mediatcp: connecting fails, give up"))}function N(a,c){function g(){S&&(clearInterval(S),S=null)}function v(){t();
k=setTimeout(function(){k=null;b.o.H(a);e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, setTimeout"):(e=!0,z(),g(),w(),b.a.log("mediatcp: break due to timeout"))},6E4)}function t(){null!=k&&(clearTimeout(k),k=null)}function z(){null!=K&&(window.clearZeroTimeout(K),K=null)}function q(){K=null;c.length()&&(F=0,da=b.a.B(),y())}function x(){if(c.length()){var a=b.a.B()-da;20<a||9<=F?(500<a&&b.a.log("info, mediatcp handler depth="+F+",use "+a+"ms"),K||(K=window.setZeroTimeout(q))):
(F++,y())}}function y(){var d=c.length();if(!(5>d)){var k=c.c(0);if(4293844428==k>>>0&&187==c.M(4))c.shift(5),x();else if(21>=k||25E3<=k)t(),e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, handler"):(b.a.log("mediatcp: break due to illegal recv length: "+k),e=!0,z(),g(),y=b.o.Y,b.o.H(a),w());else if(!(d<k+4)){c.shift(4);if(f.sa==b.o.Rs(c)){if(b.o.Zj(c.M(0))){if(29>=k){c.shift(k);x();return}d=c.h(0,29);var l=b.crypto.v(c.h(29,k-21-8),f.W).u()}else d=c.h(0,
21),l=b.crypto.v(c.h(21,k-21),f.W).u();var r=d.charCodeAt(0);d=b.o.Ss(c);r==b.b.jf&&2==l.charCodeAt(0)&&(r=b.b.vg);if(r==b.b.ug||r==b.b.vg||r==b.b.yg||r==b.b.tg||r==b.b.xg||r==b.b.wg||r==b.b.jf)a:{var K=b.o.Ch(c),h=r;if(!(0>d||d>=b.b.za)&&f.O[d]){var n=f.O[d];r=n.sra;var F=b.a.B();r||(r=n.sra={},r.X=0,r.count=0,r.na=0,r.Wc=!1,r.sc=0,r.ha=r.Ma=F-1E5);r.type=h;if(r.Wc){n=K-r.sc;if(0==n)break a;0>n&&(n+=65536);1!=n&&0<n&&32768>n&&(r.na+=n-1)}r.X+=l.length+21;r.count++;1E4<F-r.Ma>>>0?(r.ha=F,r.X=0,r.count=
0,r.na=0):3E3<F-r.ha&&(r.rate=0,0<r.count&&(r.tick=F,r.rate=8E3*r.X/(F-r.ha)>>0,f.Ea("audio_recv_rate(ssrc "+d+"),"+r.rate)),r.loss_rate=0,0<r.na&&(r.tick=F,r.loss_rate=r.na/(r.na+r.count)*1E4>>0,f.Ea("audio_loss_rate(ssrc "+d+"),"+r.loss_rate)),r.ha=F,r.X=0,r.count=0,r.na=0);r.Ma=F;r.sc=K;r.Wc=!0;b.Z.ml&&b.Z.ml(l,h,d)}}else if(r==b.b.Vg||r==b.b.Ug||r==b.b.Wg||r==b.b.Xg||r==b.b.Tg)H(f,d,b.o.Ch(c),b.o.Ts(c),b.o.Us(c),b.o.Vs(c),r,l);else if(b.o.Zj(r))a:{if(K=b.o.Ch(c),h=l,l=c.c(25)&65535,!(0>d||d>=
b.b.za)&&f.O[d]){r=b.o.st(r);var I=f.O[d];F=I["srp"+r];n=b.a.B();F||(F=I["srp"+r]={},F.X=0,F.count=0,F.na=0,F.Wc=!1,F.sc=0,F.ha=F.Ma=n-1E5);F.channel=r;if(F.Wc){I=K-F.sc;if(0==I)break a;0>I&&(I+=65536);1!=I&&0<I&&32768>I&&(F.na+=I-1)}F.X+=h.length+21;F.count++;1E4<n-F.Ma>>>0?(F.ha=n,F.X=0,F.count=0,F.na=0):3E3<n-F.ha&&(F.rate=0,0<F.count&&(F.tick=n,F.rate=8E3*F.X/(n-F.ha)>>0,f.Ea("appdata_recv_rate(channel "+r+",ssrc "+d+"),"+F.rate)),F.loss_rate=0,0<F.na&&(F.tick=n,F.loss_rate=F.na/(F.na+F.count)*
1E4>>0,f.Ea("appdata_loss_rate(channel "+r+",ssrc "+d+"),"+F.loss_rate)),F.ha=n,F.X=0,F.count=0,F.na=0);F.Ma=n;F.sc=K;F.Wc=!0;b.Z.Ql&&b.Z.Ql(h,r,d,l)}}else r==b.b.xj?B(f,d,c.c(1),c.c(5),l):b.Z.Fs(r,d)}c.shift(k);x()}}}function w(){b.Z.zj()?(G=!1,I=setTimeout(function(){I=null;h();b.a.log("mediatcp: reconnecting...")},2E3),n.disconnect=function(){clearTimeout(I);z();p()}):p()}D=0;b.a.log("mediatcp: enter main loop");f.F==b.b.R&&b.Z.Xb&&b.Z.Xb();G=!0;n.j=a;var k=null,e=!1,K=null,F=0,da=0,I=null,S=null,
A=b.a.B();a.onclose=a.onerror=function(){t();e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onclose"):(e=!0,z(),g(),y=b.o.Y,b.o.H(a),w(),b.a.log("mediatcp: break due to network error"))};a.onmessage=function(a){A=b.a.B();t();a=new d.a.g(a.data);c.C(a);e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onmessage"):(v(),K||(F=0,da=b.a.B(),y()))};v();(function(){g();S=setInterval(function(){if(2E4<b.a.B()-A){var e=new d.a.g;
e.f(4293844428);e.m(187);a.send(e.i());n.U()}},2E4)})();0!=c.length()&&(z(),F=0,da=b.a.B(),y());n.disconnect=function(){e?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, disconnect"):(G=!1,e=!0,b.a.log("mediatcp is stopped"),t(),z(),g(),I&&(clearTimeout(I),I=null),b.o.H(a),p())};n.U=function(){A=b.a.B();t();v()}}function v(d,g,r){a=Math.min(d,a);if(2E3<g-c||-2>=a)d=f.ua,b.Z.Hb(a),d!=f.ua&&f.Ea("tcp_media_rate_control,worst_command = "+a+",targetrate = "+f.ua+
",queue="+r+",avg="+(X>>0)),a=1,c=g}var n=this,D=0,q=null,x=null,G=!1;h();b.a.log("mediatcp: connecting...");var z=b.a.B(),ca=0;this.Ct=function(a){if(!G)return!0;var c=new d.a.g;c.f(a.length());c.L(a.h(0,17));c.L(b.Z.Tf(a));c.C(b.crypto.K(a.h(21),f.W));this.j.send(c.i());this.U();return!0};this.At=function(a){if(!G)return!0;var c=b.a.B(),r=this.j.bufferedAmount;A=r;X+=.1*(r-X);r=f.Wm;r||(r=f.Wm={},r.X=0,r.ha=r.Ma=c-1E5);var h=new d.a.g;h.f(a.length());h.L(a.h(0,17));h.L(b.Z.Tf(a));h.C(b.crypto.K(a.h(21),
f.W));this.j.send(h.i());r.X+=a.length();1E4<c-r.Ma>>>0?(r.ha=c,r.X=0):3E3<c-r.ha&&(r.rate=0,0<r.X&&(r.tick=c,r.rate=8E3*r.X/(c-r.ha)>>0,f.Ea("audio_send_rate2,"+r.rate)),r.ha=c,r.X=0);r.Ma=c;this.U();return!0};f.Da=b.a.B();f.Nd=4*b.b.Cc;f.ga=f.Nd;this.Dt=function(a){if(!G)return!0;var c=b.a.B(),r=this.j.bufferedAmount,h=r-A;A=r;X+=.1*(r-X);f.ga+=(c-f.Da)*f.ua/8E3;f.Da=c;if(0>f.ga)return!0;r>f.Qm?(z=c,ca=0):10<ca&&1E4<c-z?(v(1,c,r),z=c,ca=0):ca++;if(r>f.Pm)return v(-2,c,r),a=Math.max(f.Nd,20*f.ua/
8E3),f.ga>a&&(f.ga=a),!0;r>f.ng&&v(h>f.ng?-2:-1,c,r);r=f.Xm;r||(r=f.Xm={},r.X=0,r.ha=r.Ma=c-1E5);h=a.length()-b.b.fc;var n=(h+(b.b.Cc-b.b.fc)-1)/(b.b.Cc-b.b.fc)>>0,p;for(p=0;p<n;p++){if(p==n-1){var t=h%(b.b.Cc-b.b.fc);0==t&&(t=b.b.Cc-b.b.fc)}else t=b.b.Cc-b.b.fc;var q=new d.a.g;q.L(a.h(0,b.b.fc));q.L(a.h(b.b.fc+p*(b.b.Cc-b.b.fc),t));f.ga-=q.length();r.X+=q.length();t=new d.a.g;t.f(q.length());t.L(q.h(0,1));t.m(p>>8&255|(p==n-1?128:0));t.m(p&255);t.L(q.h(3,14));t.L(b.Z.Tf(q));t.C(b.crypto.K(q.h(21),
f.W));this.j.send(t.i())}a=Math.max(f.Nd,20*f.ua/8E3);f.ga>a&&(f.ga=a);1E4<c-r.Ma>>>0?(r.ha=c,r.X=0):3E3<c-r.ha&&(r.rate=0,0<r.X&&(r.tick=c,r.rate=8E3*r.X/(c-r.ha)>>0,f.Ea("video_send_rate2,"+r.rate)),r.ha=c,r.X=0);r.Ma=c;this.U();return!0};this.Bt=function(a,c,r,h,n,p){if(!G||0>c)return!0;var g=b.a.B(),t=f.P[c],q=this.j.bufferedAmount,w=q-A;A=q;X+=.1*(q-X);t.ga+=(g-t.Da)*t.yb/8E3;t.Da=g;if(0>t.ga)return!0;q>f.Qm?(z=g,ca=0):10<ca&&1E4<g-z?(v(1,g,q),z=g,ca=0):ca++;if(q>f.Pm)return v(-2,g,q),a=Math.max(f.Nd,
t.Gj,20*t.yb/8E3),t.ga>a&&(t.ga=a),!0;q>f.ng&&v(w>f.ng?-2:-1,g,q);q=t.stat;q||(q=t.stat={},q.X=0,q.ha=q.Ma=g-1E5);q.channel=c;t.ga-=a.length()+8;q.X+=a.length()+8;w=new d.a.g;w.f(a.length()+8);w.m(b.o.rt(c));w.L(a.h(1,16));w.L(b.Z.Tf(a));w.f(r);n||(h|=2147483648);p||(h|=1073741824);w.f(h);w.C(b.crypto.K(a.h(21),f.W));this.j.send(w.i());a=Math.max(f.Nd,t.Gj,20*t.yb/8E3);t.ga>a&&(t.ga=a);1E4<g-q.Ma>>>0?(q.ha=g,q.X=0):3E3<g-q.ha&&(q.rate=0,0<q.X&&(q.tick=g,q.rate=8E3*q.X/(g-q.ha)>>0,f.Ea("appdata_send_rate2(channel "+
c+"),"+q.rate)),q.ha=g,q.X=0);q.Ma=g;this.U();return!0};var X=0,A=0,a=1,c=b.a.B()};t.Hc=function(f){function p(n){var p=new d.a.g,v=new t.os(f,n,p,function(){new C(n,p)},function(){b.a.log("MRP_TCPMedia_Notify: connection with mcu relay proxy fails");h.disconnect=function(){}});this.disconnect=function(){v.disconnect()}}function C(d,p){var n=null;var v=new t.Kb(f.vd,f.dd,d,p,function(){b.a.log("successfully notify mcu relay about using tcp for media");d.onclose=d.onerror=function(){h.disconnect()};
d.onmessage=function(){};h.disconnect=function(){n&&(clearTimeout(n),n=null);b.o.H(d)};n=setTimeout(function(){n=null;b.o.H(d);h.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about using tcp for media");h.disconnect=function(){}});this.disconnect=function(){v.disconnect()}}var h=this;var y=f.ba.Sb;var B=f.ba.port;b.a.log("trying to notify mcu relay "+y+":"+B+" about using tcp for media");var v=new t.je(y,B,function(b){new p(b)},function(){b.a.log("MRP_TCPMedia_Notify: cannot connect to mcu relay");
h.disconnect=function(){}});this.disconnect=function(){v.disconnect()}};t.Ic=function(f){function p(n){var p=new d.a.g,v=new t.ps(f,n,p,function(){new C(n,p)},function(){b.a.log("NotifyMCURelaySessionIndex: connection with mcu relay proxy fails");h.disconnect=function(){}});this.disconnect=function(){v.disconnect()}}function C(d,p){var n=null;var v=new t.Kb(f.vd,f.dd,d,p,function(){b.a.log("successfully notify mcu relay about the session index");d.onclose=d.onerror=function(){h.disconnect()};d.onmessage=
function(){};h.disconnect=function(){n&&(clearTimeout(n),n=null);b.o.H(d)};n=setTimeout(function(){n=null;b.o.H(d);h.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about the session index");h.disconnect=function(){}});this.disconnect=function(){v.disconnect()}}var h=this;var y=f.ba.Sb;var B=f.ba.port;b.a.log("trying to notify mcu relay "+y+":"+B+" about the session index");var v=new t.je(y,B,function(b){new p(b)},function(){b.a.log("NotifyMCURelaySessionIndex: cannot connect to mcu relay");
h.disconnect=function(){}});this.disconnect=function(){v.disconnect()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.V,B=b.protocol=b.protocol||{};B.bt=function(d,t,f){var p=this,C=(f.length+499)/500>>0,h=0,y=4E6/(48E3<d.wb?48E3:d.wb)>>0;1E3<y&&(y=1E3);p.ea=new Worker("worker/worker_interval.js");p.ea.onmessage=function(){d.gl&&(p.ea&&(p.ea.terminate(),p.ea=null),p.disconnect=function(){});var y=b.Z.Is(b.b.xj,f.subarray(500*h,500*h+500),t,h|C<<16);b.Z.Hs(y);h++;h==C&&(h=0)};p.ea.postMessage({command:"set",delay:y});p.disconnect=function(){p.ea&&(p.ea.terminate(),p.ea=null);p.disconnect=
function(){}}};B.$s=function(b,t,f){function d(){y.disconnect=function(){}}function C(n){var p=new H.a.g;if(b.ra){var t=new B.at(b,n,p,function(){h(n,p)},function(){d();f()});y.disconnect=function(){t.disconnect();d()}}else h(n,p)}function h(h,n){var p=new H.a.g("S");p.f(b.sa);p.f(b.D);h.send(p.i());var v=new B.Kb(b.ab,b.da,h,n,function(){d();t(h,n)},function(){d();f()});y.disconnect=function(){v.disconnect();d()}}var y=this;if(b.ra){var N=b.ba.Sb;var v=b.ba.port}else N=b.aa,v=b.pa;var n=new B.je(N,
v,function(b){C(b)},function(){d();f()});this.disconnect=function(){n.disconnect();d()}};B.Zs=function(d,t,f,p,C,h,y,N){function v(){n.disconnect=function(){}}var n=this,D=null;D=new B.$s(d,function(q){function x(){G();A=setTimeout(function(){A=null;b.o.H(q);B?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, setTimeout2"):(B=!0,v(),h())},D?1E4:6E4)}function G(){null!=A&&(clearTimeout(A),A=null)}function z(){n.ea&&(n.ea.terminate(),n.ea=null)}n.j=q;var B=!1,D=!1,A=null;
n.ea=null;q.onclose=q.onerror=function(){B?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, onclose"):(B=!0,z(),G(),b.o.H(q),D?(v(),h()):(v(),N&&N()))};var a=new H.a.g;f&&(a.f(-1),a.f(f.length),a.C(b.crypto.K(f,d.W)));a.G(p);if(1==t)a.f(0),q.send(a.i()),D=!0,x();else{a.f(C.length);q.send(a.i());var c=0;n.ea=new Worker("worker/worker_interval.js");n.ea.onmessage=function(){if(!q.bufferedAmount){var g=b.a.B();500<b.a.B()-P&&(y(c/C.length),P=b.a.B());var f;for(f=0;100>
f;f++){var h=512;512>C.length-c&&(h=C.length-c);var p=C.subarray(c,c+h);a.clear();a.C(b.crypto.K(p,d.W));q.send(a.i());c+=h;if(c>=C.length){D=!0;y(1);x();n.ea&&(n.ea.terminate(),n.ea=null);break}if(20<b.a.B()-g)break}}};n.ea.postMessage({command:"set",delay:10});var P=b.a.B()-1E3;n.disconnect=function(){B?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, disconnect"):(B=!0,z(),G(),b.o.H(q),v(),N&&N())}}},function(){v();N&&N()});n.disconnect=function(){D&&D.disconnect();
v()}};B.Xs=function(d,t,f,p,C,h){function y(){n.disconnect=function(){}}function N(b){var p=new H.a.g;if(d.ra){var q=new B.Ys(d,t,f,b,p,function(){v(b,p)},function(b){C(b)},function(){y();h()});n.disconnect=function(){q.disconnect();y()}}else v(b,p)}function v(f,t){if(d.ra){if(d.F==b.b.R){var v=new H.a.g("R");v.f(d.sa);v.f(d.D)}else v=new H.a.g("r"),v.f(d.sa),v.f(d.Wf);f.send(v.i());y();p(f,t)}else if(d.F==b.b.R){v=new H.a.g("R");v.f(d.sa);v.f(d.D);f.send(v.i());var q=new B.Kb(d.ab,d.da,f,t,function(){y();
p(f,t)},function(){y();h()});n.disconnect=function(){q.disconnect();y()}}else d.F==b.b.Aa&&(v=new H.a.g("r"),v.f(d.sa),v.f(d.Wf),f.send(v.i()),q=new B.Kb(d.ab,d.da,f,t,function(){y();p(f,t)},function(){y();h()}),n.disconnect=function(){q.disconnect();y()})}var n=this;if(d.ra){var D=d.ba.Sb;var q=d.ba.port}else D=d.aa,q=d.pa;var x=new B.je(D,q,function(b){N(b)},function(){y();h()});this.disconnect=function(){x.disconnect();y()}};B.Ws=function(d,t,f,p,C,h){function y(){b.a.log(2,"info, error occurs downloading slide index "+
t);0==E.wa&&(E.wa=-1);v();h&&h()}function N(){b.a.log(5,"info, succeeds downloading slide index "+t);v();p()}function v(){c.disconnect=function(){};c.index=-1;c.U.terminate();b.a.log(5,"info, finish(could be success, failure, stop, etc.) downloading slide index "+t)}function n(){q();if(!d.ra||d.F!=b.b.R||E.Ye||E.mh||E.Hm)G();else if(O++,3<O)y();else{b.a.log("the hash of slide "+t+" hasn't been received yet, request the hash and try download again later...");var a=new H.a.g;a.m(d.J);a.f(d.Bg);a.f(1);
a.f(t);d.j.send(a.i());P=setTimeout(n,2E3);c.disconnect=x}}function D(){c.U.onmessage&&(c.U.onmessage=null,c.U.postMessage({command:"clear"}))}function q(){P&&(clearTimeout(P),P=null)}function x(){q();v()}function G(){q();!E.qa||E.ja<E.qa?(ba=new B.Xs(d,t,R,A,C,function(){y()}),c.disconnect=z):(X(),c.disconnect=ca)}function z(){ba&&ba.disconnect();v()}function ca(){D();v()}function X(){Y=!0;R.qa=E.qa;R.Da=b.a.B()-1E3;R.qe=0;R.rg=E.qa;g=function(){D();N()};r=function(){D();y()};c.U.onmessage=a;c.U.postMessage({command:"set",
delay:20})}function A(h,k){function e(){K();w=setTimeout(function(){w=null;b.o.H(h);q?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, setTimeout"):(q=!0,F(),D(),y())},6E4)}function K(){null!=w&&(clearTimeout(w),w=null)}function F(){null!=z&&(window.clearZeroTimeout(z),z=null)}function n(){q=!0;K();F();D();b.o.H(h);N()}function I(){p()}function p(){q?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, quit"):(q=!0,K(),F(),D(),aa=b.o.Y,
b.o.H(h),y())}c.j=h;var w=null,q=!1,z=null,l=!1;b.a.log(5,"info, connected with MCU downloading slide index "+t);h.onclose=h.onerror=function(){K();l?Y=!0:q?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onclose"):(q=!0,F(),D(),aa=b.o.Y,b.o.H(h),y())};h.onmessage=function(a){K();l?a.data.byteLength>E.qa-E.ja?p():(E.data.set(new Uint8Array(a.data),E.ja),E.ja+=a.data.byteLength,q?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage0"):
E.ja<E.qa&&e()):(a=new H.a.g(a.data),k.C(a),q?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage"):(e(),z||(b.a.B(),aa())))};var x=new H.a.g;E.ja&&(E.ja&511&&(E.ja&=-512),x.f(-1),x.f(E.ja));x.f(t);h.send(x.i());aa=function(){if(!(4>k.length())){var e=R.qa=E.qa=k.c(0);R.Da=b.a.B()-1E3;if(0==e)aa=b.o.Y,E.data=new Uint8Array(e),E.wa=1,n();else if(0>e)E.wa=3,p();else{l=!0;aa=b.o.Y;if(!E.data){if(e>b.Z.Wh()){E.wa=4;p();return}if(d.va+e>b.Z.Wh())if(f)b.Z.wt(t,
e);else{p();return}try{E.data=new Uint8Array(e)}catch(wa){E.data=null;E.wa=4;p();return}d.va+=e;E.ja=E.ja||0;E.fb=E.fb||0}g=n;r=I;c.U.onmessage=a;c.U.postMessage({command:"set",delay:20});R.Dj||(R.qe=0,R.rg=e);k.shift(4);e=k.length();e>E.qa-E.ja?p():e&&(E.data.set(new Uint8Array(k.i()),E.ja),E.ja+=e,k.shift(e))}}};e();0!=k.length()&&(F(),b.a.B(),aa());c.disconnect=function(){q?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, disconnect"):(q=!0,K(),F(),D(),b.o.H(h),
v())}}function a(){var a=g,c=r,e=E.ja;E.ja!=E.qa&&(e&=-512);var f=b.a.B(),h;for(h=0;1E6>h;h++){var n=e-E.fb;if(0==n){Y&&c();break}512<n&&(n=512);var I=b.crypto.v(E.data.subarray(E.fb,E.fb+n),d.W);E.data.set(new Uint8Array(I.i()),E.fb);E.fb+=n;if(E.fb==E.qa){if(d.ra&&!b.o.Lt(E.hash,E.data,d.W)){b.a.log("Alert! mrp slide download index="+t+" has mismatched hash!");E.wa=2;c();break}E.wa=1;a();break}500<b.a.B()-R.Da&&(C((E.fb+R.qe)/R.rg),R.Da=b.a.B());if(20<b.a.B()-f)break}}var c=this,P=null,g=null,r=
null;c.U=new Worker("worker/worker_interval.js");c.U.onmessage=null;var Y=!1,aa=b.o.Y,ba=null,R={},E=d.$[t];-1==E.wa&&(E.wa=0);b.a.log(5,"info, request to download slide index "+t);this.index=t;var O=0;n()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.V,B=b.protocol=b.protocol||{},d=b.Vb=b.Vb||{};B.$k=function(b,d,t,h,y,N){function f(){p.disconnect=function(){}}function n(n,v){var q=new H.a.g("@");q.f(d);q.G(b.ca?b.Pa:b.N);4==d&&(q.G(t),q.L(h));n.send(q.i());var x=new B.Kb(0,b.A,n,v,function(){f();y(n,v)},function(){f();N()});p.disconnect=function(){x.disconnect();f()}}var p=this,q=new B.je(b.aa,b.port,function(b){var f=new H.a.g;n(b,f)},function(){f();N()});this.disconnect=function(){q.disconnect();f()}};B.fs=function(f,
p,t){function h(){y.disconnect=function(){}}var y=this,C=null,v=b.o.Y;C=new B.$k(f,3,"","",function(n,B){function q(){null!=D&&(window.clearZeroTimeout(D),D=null)}function x(){var c=b.a.B()-a;20<c||9<=A?(500<c&&b.a.log("info, check_im handler depth="+A+",use "+c+"ms"),D||(D=window.setZeroTimeout(function(){D=null;if(B.length()){A=0;a=b.a.B();var c=B.length();v();if(N){var g=B.length();g&&g!=c||(B.clear(),n.onclose())}}}))):(A++,v())}function C(){z?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, quit"):
(z=!0,q(),v=b.o.Y,b.o.H(n),h(),t&&t())}y.j=n;var z=!1,D=null,N=!1,A=0,a=0;n.onclose=n.onerror=function(){if(B.length())if(N=!0,z)b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose,alt");else{if(D)return;A=0;a=b.a.B();var c=B.length();v();var f=B.length();if(f&&f!=c)return}z?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose"):(z=!0,q(),v=b.o.Y,b.o.H(n),h(),t&&t())};n.onmessage=function(c){c=new H.a.g(c.data);B.C(c);z?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onmessage"):
D||(A=0,a=b.a.B(),v())};v=function(){function a(a){if(!(12>a.length||(e=new H.a.g(a),e.M(a.length-1)))){k=e.c(8);A=e.c(0);var c=12;switch(k){case b.b.gj:c=16;case b.b.ij:var g=a.slice(c).indexOf("\x00");if(-1==g)return;var f=a.slice(c+g+1).indexOf("\x00");if(-1==f)return;var d=a.slice(c+g+f+2).indexOf("\x00");if(c+g+f+d+3!=a.length||g>=b.b.Xa<<1||500<=f||5E3<=d)return;w=(v==b.b.Bp?a.substr(c,g)+": ":"")+a.substr(c+g+1,f);break;case b.b.Mg:case b.b.dj:c=16,k=k==b.b.Mg?b.b.Kg:b.b.Lg;case b.b.Kg:case b.b.Lg:g=
a.slice(c).indexOf("\x00");if(c+g+1!=a.length||g>=b.b.Xa<<1)return;w=a.substr(c,g);break;case b.b.ej:c=16;g=a.slice(c).indexOf("\x00");if(-1==g)return;f=a.slice(c+g+1).indexOf("\x00");if(c+g+f+2!=a.length||g>=b.b.Xa<<1||f>=b.b.Xa<<1)return;w=a.substr(c,g)+": "+a.substr(c+g+1,f);break;case b.b.hj:case b.b.fj:c=20;g=a.slice(c).indexOf("\x00");if(c+g+1!=a.length||5E3<=g)return;w=a.substr(c,g);break;default:return}return{It:A,Ht:k,text:w}}}var n=B.length();if(!(1>n))if(!B.M(0))y.disconnect(),h(),p&&p();
else if(!(13>n)){var g=B.c(9);if(0>g||g>=b.b.Xa<<2)C();else if(!(n<13+g+4)){var r=B.c(13+g);if(0>r||r>=b.b.Xa<<1)C();else if(!(n<13+g+4+r+4)){var t=B.c(17+g+r);if(0>t||13334<=t)C();else if(!(n<13+g+4+r+4+t)){var v=B.c(1),q=B.c(5)>>>0,z=b.crypto.v(B.h(13,g),f.A).u(),E=b.crypto.v(B.h(13+g+4,r),f.A).u();n=b.crypto.v(B.h(13+g+4+r+4,t),f.A).u();g=13+g+4+r+4+t;var A=0,w="",k=0;if(35==n.charCodeAt(0)){if(k=b.b.Jg,r=b.a.Fb(n.slice(1)),12<=r.length){var e=new H.a.g(r);A=e.c(0);e.M(r.length-1)||(n=r.slice(12).indexOf("\x00"),
12+n+1==r.length&&(w=""+e.c(8)+"("+r.substr(12,n)+")"))}}else n=a(b.a.Fb(n)),A=n.It,k=n.Ht,w=n.text;d.ik&&d.ik(f,y,v,q,z,E,A,k,w);B.shift(g);x()}}}}};0!=B.length()&&(q(),A=0,a=b.a.B(),v());y.disconnect=function(){z?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, disconnect"):(z=!0,q(),b.o.H(n),h())}},function(){h();t&&t()});y.disconnect=function(){C&&C.disconnect();h()}};B.oh=function(f,p,t,h,y){function C(){n.connected=!1;v();y&&y()}function v(){n.disconnect=function(){}}
var n=this;this.connected=!1;this.Mh=this.Lh=0;this.Gm=this.Ef=this.Oe=!1;this.mb=this.Fa=0;var D=f.ca,q=null,x=b.o.Y;q=new B.$k(f,D?p?4:2:1,p,t,function(h,p){function t(){null!=z&&(window.clearZeroTimeout(z),z=null)}function q(){var a=b.a.B()-Y;20<a||9<=r?(500<a&&b.a.log("info, check_msg handler depth="+r+",use "+a+"ms"),z||(z=window.setZeroTimeout(function(){z=null;if(p.length()){r=0;Y=b.a.B();var a=p.length();x();if(g){var c=p.length();c&&c!=a||(p.clear(),h.onclose())}}}))):(r++,x())}function y(){function c(){if(f.I!=
b.b.ma)a();else{var e=p.length();if(!(43>e)){var c=b.crypto.v(p.h(0,43),f.A);var g=c.c(35),k=c.c(39);if(0>g||g>=b.b.Xa||0>k||k>=b.b.Xa)a();else if(!(e<43+g+k+4)){var l=b.crypto.v(p.h(43,g+k+4),f.A);if(d.Vd){var r=c.h(0,23);var h=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(r);e=c.c(23);var I=4294967296*(l.c(g+k)>>>0)+(c.c(27)>>>0);c=c.c(31);h=h?new Date(h[1],h[2]-1,h[3],h[4],h[5],0)/1E3:0;var t=g?l.h(0,g):"";l=k?l.h(g,k):"";d.Vd(f,n,!1,0,e,I,c,h,t,"",l,r)}p.shift(43+g+k+4);K++;K==F&&(x=y,d.Tb&&d.Tb(f,
n),n.mb=0,n.Fa=1);q()}}}}function g(){if(f.I!=b.b.ma)a();else{var e=p.length();10>e||((v=p.c(6))?(d.Xd&&d.Xd(f,n,v),p.shift(10),n.mb=0,n.Fa=1,x=y):14>e||(f.ca?(F=p.c(10),p.shift(14),x=r):(p.shift(10),x=h),q()))}}function r(){var e;if(f.I!=b.b.ma)a();else{var c=n.cc?32:36;var g=p.length();if(!(g<c)){var k=b.crypto.v(p.h(0,c),f.A);var l=k.c(24),r=k.c(28),h=0;if(0>l||l>=b.b.Xa||0>r||r>=b.b.Ld)a();else{if(!n.cc&&(h=k.c(32),0>h||h>=b.b.Xa)){a();return}var I=(e=4<f.Gd||4==f.Gd&&5<=f.pg)?4:0,t=0;if(!(g<
c+l+r+h+4+I)){if(e){t=p.c(c+l+r+h+4);if(23>=t||t>23+b.b.Ld){a();return}if(g<c+l+r+h+4+I+t)return}var v=b.crypto.v(p.h(c,l+r+h+4),f.A);var w=e?b.crypto.v(p.h(c+l+r+h+4+I,t),f.A):"0";if(d.Vd){var da=h;var Y=/(\d\d\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/.exec(k.h(8,23));e=k.c(0);g=4294967296*(v.c(l+r+da)>>>0)+(k.c(4)>>>0);k=k.c(20);Y=Y?new Date(Y[1],Y[2]-1,Y[3],Y[4],Y[5],0)/1E3:0;var ba=l?v.h(0,l):"";var z=r?v.h(l,r):"";v=da?v.h(l+r,da):"";d.Vd(f,n,!!n.cc,n.cc?F:K,e,g,k,Y,ba,z,v,w)}p.shift(c+l+r+h+4+I+t);K++;
if(n.cc||K==F)x=y,d.Tb&&d.Tb(f,n),n.mb=0,n.Fa=1;q()}}}}}function h(){if(f.I!=b.b.ma)a();else if(!(p.length()<23+b.b.Xa+16)){var e=b.crypto.v(p.h(0,23+b.b.Xa+16),f.A);if(d.Vd){var c=e.h(0,23),g=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(c);var k=g?new Date(g[1],g[2]-1,g[3],g[4],g[5],0)/1E3:0;g=b.b.Xa;var r=e.h(23,g);var h=r.indexOf("\x00");var K=e.c(23+g);var F=4294967296*(e.c(23+g+12)>>>0)+(e.c(23+g+4)>>>0);e=e.c(23+g+8);r=-1==h?r:r.slice(0,h);d.Vd(f,n,!0,0,K,F,e,k,r,"","",c)}p.shift(23+b.b.Xa+
16);x=y;d.Tb&&d.Tb(f,n);n.mb=0;n.Fa=1;q()}}function t(){if(f.I!=b.b.ma)a();else{var e=p.length(),c=Math.min(512,n.qa-n.ja);e<c||(e=b.crypto.v(p.h(0,c),f.A).i(),n.data.set(new Uint8Array(e),n.ja),n.ja+=c,p.shift(c),n.ja==n.qa?(x=y,d.yf&&d.yf(f,n,0),n.Fa=1):d.Wd&&(c=b.a.B(),500<c-n.Da&&(e=n.ja/n.qa*100>>>0,e!=n.U&&(n.U=e,n.mb=e,d.Wd(f,n)),n.Da=c)),q())}}var v;if(f.I!=b.b.ma)a();else{var k=p.length();if(!(1>k)){switch(p.M(0)){case 122:if(5>k)return;var e=p.c(1);switch(e){case 24:if(13>k)return;n.Lh=
p.c(5);n.Mh=p.c(9);p.shift(13);break;case 64:if(9>k)return;e=p.c(5);if(200!=e){b.a.log(3,"checkmessage, unknown JNR password type "+e);a();return}if(17>k)return;n.Oe=!!p.c(9);n.Ef=!!p.c(13);p.shift(17);break;case 9:var K=0;if(9>k)return;var F=p.c(5);p.shift(9);F?x=c:(d.Tb&&d.Tb(f,n),n.Fa=1);break;case 27:K=0;if(9>k)return;F=p.c(5);p.shift(9);F?x=r:(d.Tb&&d.Tb(f,n),n.Fa=1);break;case 75:n.Gm=!0;p.shift(5);break;default:b.a.log(3,"checkmessage, unknown extension command "+e);a();return}break;case 33:if(5>
k)return;e=p.c(1);switch(e){case 12:if(9>k)return;e=p.c(5);if(0>e||1E4<=e){a();return}if(0==e)d.yk&&d.yk();else{if(k<9+e)return;d.Ud&&d.Ud(b.crypto.v(p.h(9,e),f.A).u())}n.Fa=1;p.shift(9+e);break;case 5:if(9>k)return;e=p.c(5);if(0>e||4096<=e){a();return}if(0==e)d.Af&&d.Af(f,n,""),p.shift(9+e);else{if(k<9+e+4)return;var da=p.c(9+e);if(0>da||1E4<=da){a();return}if(k<9+e+4+da)return;k="";e&&(k=b.crypto.v(p.h(9,e),f.A).u());var I="";da&&(I=b.crypto.v(p.h(9+e+4,da),f.A).u());p.shift(9+e+4+da);d.Af&&d.Af(f,
n,k,I)}n.Fa=1;break;case 10:if(9>k)return;d.Ak&&d.Ak(f,n,p.c(5));n.Fa=1;p.shift(9);break;case 11:if(9>k)return;e=p.c(5);da=D?4096:256E4;if(0>e||e>=da){a();return}da="";if(e){if(k<9+e)return;da=b.crypto.v(p.h(9,e),f.A).u()}D&&!da?d.Bk&&d.Bk():d.Xk&&d.Xk(f,n,da);p.shift(9+e);n.Fa=1;break;case 7:case 8:if(9>k)return;(k=7==e?d.as:d.$r)&&k(f,n,p.c(5));p.shift(9);n.Fa=1;break;case 9:if(9>k)return;n.mb=p.c(5);d.Wd&&d.Wd(f,n);p.shift(9);break;case 13:if(9>k)return;d.vk&&d.vk(f,n,p.c(5));p.shift(9);n.Fa=1;
break;default:b.a.log(3,"checkmessage, unknown playback command "+e);a();return}break;case 48:switch(n.cc){case 19:if(6>k)return;if(v=p.c(2)){d.Xd&&d.Xd(f,n,v);p.shift(6);n.mb=0;n.Fa=1;break}n.$j=!0;x=g;break;case 18:if(2>k)return;v=p.M(1);if(48!=v){d.yf&&d.yf(f,n,v);p.shift(2);n.mb=0;n.Fa=1;break}if(14>k)return;n.qa=4294967296*(p.c(10)>>>0)+(p.c(2)>>>0);n.data=new Uint8Array(n.qa);n.ja=0;n.U=0;n.Da=b.a.B()-1E3;p.shift(14);x=t;break;case 17:if(14>k)return;f.ca?(F=p.c(10),p.shift(14),x=r):(p.shift(10),
x=h);break;default:b.a.log(3,"checkmessage, quit thread: process init command,unknown request type "+n.cc);a();return}break;default:b.a.log(3,"checkmessage, quit thread: unknown command "+p.u(1));a();return}q()}}}function a(){c?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, quit"):(n.mb=0,c=!0,t(),x=b.o.Y,b.o.H(h),C())}n.j=h;n.connected=!0;var c=!1,z=null,g=!1,r=0,Y=0;h.onclose=h.onerror=function(){if(p.length())if(g=!0,c)b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose,alt");
else{if(z)return;r=0;Y=b.a.B();var a=p.length();x();var f=p.length();if(f&&f!=a)return}c?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose"):(c=!0,t(),x=b.o.Y,b.o.H(h),C())};h.onmessage=function(a){a=new H.a.g(a.data);p.C(a);c?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onmessage"):z||(r=0,Y=b.a.B(),x())};x=y;0!=p.length()&&(t(),r=0,Y=b.a.B(),x());n.disconnect=function(){c?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, disconnect"):
(n.mb=0,c=!0,t(),b.o.H(h),n.connected=!1,v())}},function(){C()});n.disconnect=function(){q&&q.disconnect();v()}};var t=B.oh;t.prototype._thread_status=function(b){if("undefined"===typeof b)return this.Fa;this.Fa=b};t.prototype._cache_item=function(b){if("undefined"===typeof b)return this.xr;this.xr=b};t.prototype._progress=function(b){if("undefined"===typeof b)return this.mb;this.mb=b};t.prototype._buffer=function(b){if("undefined"===typeof b)return this.buffer;this.buffer=b};t.prototype._buffer_offset=
function(b){if("undefined"===typeof b)return this.jc;this.jc=b};t.prototype._buffer_pointer=function(b){if("undefined"===typeof b)return this.Ia;this.Ia=b};t.prototype._buffer_end=function(b){if("undefined"===typeof b)return this.Pb;this.Pb=b};t.prototype._buffer_busy=function(b){if("undefined"===typeof b)return this.nf;this.nf=b};t.prototype._data=function(b){if("undefined"===typeof b)return this.data;this.data=b};t.prototype._connected=function(){return this.connected};t.prototype._busy=function(){return!this.Fa};
t.prototype._diskquota=function(){return this.Lh};t.prototype._diskusage=function(){return this.Mh};t.prototype._jn_bEnableWebOfficeEx=function(){return this.Ef};t.prototype._jn_bEnableJNRPassword=t.prototype.gr=function(){return this.Oe};t.prototype._m_bToArchive=function(){return this.Gm}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){return""+a.gc+"."+a.hc+"."+a.Sg+" built on 09/27/2021"}function B(){a.xd="";a.ym="";a.me="";a.F=b.b.R;a.aE=!1;a.Xe="";a.lG="";a.WD=!1;a.Re=!1;a.th={};a.ua=a.Pc=a.wb=a.Vf=1E7;a.Te=0;a.Ne=0;a.Tc=0;a.ZD=!0;a.ge=-1;a.XD=!1;a.be=!1;a.dE=!1;a.Ff=!1;a.xs=!1;a.eE=!1;a.Qe=!1;a.le=null;a.Zf=0;a.Yf=0;a.ie="";a.Kh=[]}function d(){this.Xc=0}function t(){this.dc="";this.gg=[];this.wa=0}function f(){}function p(){}function C(g,f){function d(d){g[d].zc=null;g[d].Bd?b.a.log(["joinnet connecting to backup mcu ",
g[d].aa,",",g[d].pa,"..."].join("")):f&&0==d?b.a.log(["joinnet connecting to (switched) primary mcu ",g[d].aa,",",g[d].pa,"..."].join("")):b.a.log(["joinnet connecting to primary mcu ",g[d].aa,",",g[d].pa,"..."].join(""));g[d].Cd=new b.protocol.um(a.gc,a.hc,a,g,d,function(){g[d].pd=!0;if(g[d].Lb)a:{var e;for(e=0;e<g.length;e++){if(!g[e].pd||!g[e].Lb)break a;var k=g[e].it;var h=g[e].Lb}w&&(clearTimeout(w),w=null);b.a.log("joinnet connecting to mcu fails");!k&&a.Qe?(c.Mc&&c.Mc(!1),a.oc=!1):a.ra?(b.a.log("using relay fails, clear relay setting and retry connect......"),
a.ra=!1,C(g,f)):(c.Ka&&c.ub(h),c.im&&c.im(),a.oc=!1)}else 0==d?(w&&(clearTimeout(w),w=null),n(0),t=0,new b.protocol.Se(a.gc,a.hc,g[0],g[0].aa,g[0].pa,p)):w||r()})}function r(){w=null;var c;for(c=0;c<g.length;c++)if(g[c].pd&&!g[c].Lb){n(c);t=c;new b.protocol.Se(a.gc,a.hc,g[c],g[c].aa,g[c].pa,p);break}}function n(b){var a;for(a=0;a<g.length;a++)g[a].zc?(clearTimeout(g[a].zc),g[a].zc=null):g[a].pd?a==b||g[a].Lb||g[a].j.close():g[a].Cd&&g[a].Cd.disconnect&&g[a].Cd.disconnect()}function p(d){if(d)1<g.length?
(f=0,b.a.log(["connection to mcu ",g[t].aa,g[t].pa," fails during key exchange, but we'd like to try other entries"].join("")),g.splice(t,1),C(g,f)):(a.oc=!1,3==d?a.Qe&&(c.Mc?c.Mc(!1):c.Ka&&c.ub(b.b.Hp)):2!=d&&a.Qe&&(c.Mc?c.Mc(!1):c.Ka&&c.ub(b.b.Ip)));else{d=t;a.he=g[d].he;a.$f=g[d].$f;a.wd=g[d].wd;a.ab=g[d].ab;a.Pe=g[d].Pe;a.vd=g[d].vd;a.Rc=g[d].Rc;a.Vc=g[d].Vc;a.Ih=g[d].Ih;var e=b.o.kg(a.Vc);a.jG=e.kb;a.kG=e.Db;e=b.o.kg(a.Ih);a.hG=e.kb;a.iG=e.Db;a.dg=g[d].dg;a.cg=g[d].cg;a.ag=g[d].ag;a.hd=g[d].hd;
a.da=g[d].da;a.W=g[d].W;a.dd=g[d].dd;a.xc=g[d].xc;a.j=g[d].j;a.Ed=g[d].Ed;a.aa=g[d].aa;a.pa=g[d].pa;a.dt=g[d].Bd;b.a.log(["joinnet connected with mcu ",a.aa,",",a.pa].join(""));d=a.j;if(a.Pe){e=new A.a.g("4");d.send(e.i());a.F==b.b.R&&12==a.ie.length&&(b.a.log("send reconnect name."),e.clear(),e.f(16),e.f(b.protocol.fn),e.C(b.crypto.K(a.ie,a.da)),d.send(e.i()));a.Qe&&(a.le&&(b.a.log("send reconnect ticket."),e.clear(),e.f(4+a.Oq),e.f(b.protocol.gn),e.C(b.crypto.K(a.le.u(),a.da)),d.send(e.i())),a.F===
b.b.R&&(a.Zf||a.Yf)&&(b.a.log("send meeting identity info: meeting_type="+a.Zf+",random_id="+a.Yf),e.clear(),e.f(12),e.f(b.protocol.dn),e.f(a.Zf),e.f(a.Yf),d.send(e.i())));a.tm&&(b.a.log("send make recording request."),e.clear(),e.f(4),e.f(b.protocol.cn),d.send(e.i()));a.ra&&(e.clear(),4==a.ba.Gb.length?(e.f(12),e.f(b.protocol.hn),e.Om(a.ba.Gb)):(e.f(24),e.f(b.protocol.ni),e.L(a.ba.Gb)),e.f(a.ba.port),d.send(e.i()));if(a.Zm&&a.aa.length){var r=b.a.ob(a.aa);var k=r.length;e.clear();e.f(4+k);e.f(b.protocol.mi);
e.L(r);d.send(e.i())}e.clear();e.f(7);e.f(b.protocol.li);e.L("WEB");d.send(e.i());b.o.vendor&&20>=b.o.vendor.length&&(e.clear(),e.f(4+b.o.vendor.length),e.f(b.protocol.oi),e.L(b.o.vendor),d.send(e.i()));a.me&&(r=a.me,k=r.length,e.clear(),e.f(4+k),e.f(b.protocol.en),e.L(r),d.send(e.i()),b.a.pe("send player_name "+a.me+" to mcu"));e.clear();e.f(0);d.send(e.i())}a.Ff?(e=new A.a.g("3"),e.jg(a.Xe),k=0,a.uh=a.Kc,a.vh=a.ud,a.Kc&&(k|=1),a.ud&&(k|=2),a.Lc=!1,k|=8,a.qc&&(k|=16),k|=32,c.Yb&&!c.Yb()?(a.Xf=1,
k|=64):a.Xf=0,e.m(k)):(e=a.F!=b.b.R?15==a.hb?new A.a.g("4"):5==a.hb&&a.bg?new A.a.g("5"):new A.a.g("1"):4==a.hb&&a.ke?new A.a.g("6"):new A.a.g("0"),15==a.hb?(e.jg(a.Xe),e.jg(a.ym)):a.F!=b.b.R?(r=b.a.ob(a.La),k=r.length,e.f(k),k&&e.C(b.crypto.K(r,a.da)),a.be&&(k=b.crypto.$c(a.$b),e.f(20),e.C(b.crypto.K(k,a.da)),5==a.hb&&a.bg&&(r=b.a.ob(a.bg),k=r.length,e.f(k),k&&e.C(b.crypto.K(r,a.da))))):(e.m(0),r=b.a.ob(a.La),k=r.length,e.f(k),k&&e.C(b.crypto.K(r,a.da)),a.be&&(95==a.La.charCodeAt(0)?-2!=a.he?(k=
a.We.length,e.f(k),k&&e.C(b.crypto.K(a.We,a.da)),b.a.pe("**, Guest name is "+a.We+" (utf branch)")):(k=a.Ve.length,e.f(k),k&&e.C(b.crypto.K(a.Ve,a.da)),b.a.pe("**, Guest name is "+a.Ve+" (multibyte branch)")):(k=b.crypto.$c(a.$b),e.f(20),e.C(b.crypto.K(k,a.da)))),k=0,a.uh=a.Kc,a.vh=a.ud,a.Kc&&(k|=1),a.ud&&(k|=2),a.Lc=!1,k|=8,a.qc&&(k|=16),k|=32,c.Yb&&!c.Yb()?(a.Xf=1,k|=64):a.Xf=0,e.m(k),a.be&&4==a.hb&&a.ke&&(r=b.a.ob(a.ke),k=r.length,e.f(k),k&&e.C(b.crypto.K(r,a.da)))));d.send(e.i());h()}}var t,v;
c.Ka&&c.Ka(b.b.Cp);for(v=0;v<g.length;v++)g[v].zc=setTimeout(d,500*v,v),g[v].Lb=b.b.Ng;var w=setTimeout(r,5E3);a.disconnect=function(){n(-1);a.oc=!1}}function h(){function g(){ia=null;var e=b.a.B()-a.fe>>>0,f=e;e&2147483648&&(f=-e>>>0);var d=f/1E3/60>>>0;f-=6E4*d;var r=d/60>>>0;d=("0000"+(d-60*r)).slice(-2);e&2147483648?d=["-",r,":",d].join(""):(d=["",r,":",d].join(""),f=6E4-f);!(e&2147483648||a.ge&2147483648)&&0<a.ge&&864E3>a.ge&&(e=(a.ge+59)/60>>>0,r=e/60>>>0,d+=" / "+r+":"+("0000"+(e-60*r)).slice(-2));
a.Jr=d;c.mm&&c.mm();ia=setTimeout(g,f+200)}function r(){h();H=setTimeout(function(){H=null;if(!a.w||a.oc)ca=0,r();else if(ca++,3<=ca)b.a.log("disconnect, local timeout"),Q();else{var e=new A.a.g;e.m(a.zg);e.L("0");G.send(e.i());r()}},2E4)}function h(){null!=H&&(clearTimeout(H),H=null)}function v(){null!=P&&(window.clearZeroTimeout(P),P=null)}function q(a){if(l.length()){var e=b.a.B()-qa;20<e||9<=la?(500<e&&b.a.log("info, jnkernel handler("+a+") depth="+la+",use "+e+"ms"),P||(P=window.setZeroTimeout(function(){P=
null;E()}))):(la++,X())}}function z(){if(a.Id||a.hf)b.a.log(a.Id?"disconnect, remote close":"disconnect, error"),Q()}function E(){var a=l.length();if(a){la=0;qa=b.a.B();X();var e=l.length();e&&e!=a||z()}else z()}function B(){L=new A.a.g(l);var g=l.M(0);switch(g){case a.J:if(!(5>l.length()))if(g=l.c(1),0<=g&&g<=a.Tp)ua[g]();else b.a.log(["disconnect, unknown command extension[",g,"]"].join("")),Q();break;case a.Jd:e();break;case a.qn:5>l.length()||(F(-2,l.c(1)),l.shift(5),M=L,q("COMMAND_FLIP"));break;
case a.Ag:5>l.length()||(g=l.c(1),a.ya=g,a.F==b.b.R&&a.Tc&&c.Hb(0),g!=a.D?a.Ja&&(a.Ja=!1):(a.tb=!1,a.Ja||(c.Xb&&c.Xb(),a.Ja=!0)),b.a.log(["data sender change to ",g,"; internal ",a.ta,",",a.ya,"; ",a.la,",",a.Ja].join("")),c.Lf&&c.Lf(g),l.shift(5),M=L,q("COMMAND_DATA_SENDER"));break;case a.zg:2>l.length()||(48==l.M(1)&&(g=new A.a.g,g.m(a.zg),g.L("1"),a.j.send(g.i())),l.shift(2),M=L,q("COMMAND_ALIVE_PACKET"));break;case a.Fg:if(!(5>l.length())){g=l.c(1);var f=a.ta,d=a.ya;!(0<=f)||a.O[f]&&a.O[f].Je||
(f=-1);!(0<=d)||a.O[d]&&a.O[d].Je||(d=-1);var r=c.ic();a.ta=g;a.ya=g;a.tb=!1;a.F==b.b.R&&a.Tc&&c.Hb(0);var h=c.ic();g==a.D&&-1!=a.D?a.la||(c.Xb&&c.Xb(),a.la=!0,a.Ja=!0,a.xh(r,h)):g!=a.D&&(c.de&&c.de(-1),a.la=!1,a.Ja=!1);b.a.log(["token holder change to ",g,"; internal ",a.ta,",",a.ya,"; ",a.la,",",a.Ja].join(""));c.El&&c.El(g,f,d);c.Lf&&c.Lf(g);l.shift(5);M=L;q("COMMAND_TOKEN_UPDATE")}break;case a.vn:S();break;case a.ad:if(!(5>l.length()))if(g=l.c(1),0<=g&&g<=a.Mq)J[g]();else b.a.log(["disconnect, unknown playback command [",
g,"]"].join("")),Q();break;case a.Ei:a:if(g=l.length(),!(5>g)){f=l.c(1);if(1==f)c.Sl&&c.Sl(),l.shift(5);else if(2==f){if(13>g)break a;c.hl&&c.hl(l.c(5),l.c(9));l.shift(13)}else{b.a.log(["disconnect, unknown tutor command ",f].join(""));Q();break a}M=L;q("COMMAND_TUTOR")}break;case a.tn:k();break;case a.mn:I(0);break;case a.si:5>l.length()||(g=l.c(1),0<=g&&g<a.$.length&&(a.$[g].Ye=!0,a.$[g].data&&(a.va-=a.$[g].data.length,a.$[g].data=null),c.cm&&c.cm(g)),l.shift(5),M=L,q("COMMAND_DELETE_SLIDE"));break;
case a.ri:5>l.length()||(g=l.c(1),0<=g&&g<a.$.length&&(a.$[g].gg=[],c.ee&&c.ee(1,g)),l.shift(5),M=L,q("COMMAND_CLEAR_MARK"));break;case a.on:5>l.length()||(g=l.c(1),c.Yl&&c.Yl(g),l.shift(5),M=L,q("COMMAND_DEFAULT_VIDEO_COMMAND"));break;case a.Yn:a.Wb=!0;l.shift(1);M=L;q("COMMAND_TOKEN_OWNER_NOTIFY");break;case a.Ai:a.tb&&(a.tb=!1,c.ys());l.shift(1);M=L;q("COMMAND_SKIP_QUESTION");break;case a.ti:b.a.log("quitsession: user is disconnected by owner");y();c.Ka&&c.ub(b.b.Gp);l.shift(1);M=L;q("COMMAND_DISCONNECT");
break;case a.Nn:f=l.length();9>f||(g=l.c(5),0>g||600<=g?(b.a.log("disconnect, COMMAND_QUESTION_REQUEST invalid len"),Q()):f<9+g||(f=l.c(1),f!=a.ya&&a.D==c.He()&&c.il&&c.il(f),l.shift(9+g),M=L,q("COMMAND_QUESTION_REQUEST")));break;case a.Rn:da();break;case a.$n:K();break;case a.zi:b.a.log("quitsession: meeting is over");y();a.Hh&&c.ce&&c.ce(a.Hh,"",-1);c.Ka&&c.ub(b.b.Lp);l.shift(1);M=L;q("COMMAND_SESSION_END");break;default:b.a.log(["disconnect, unknown command[",g,"/0x",g.toString(16),"]"].join("")),
Q()}}function w(){var b=l.length();if(!(9>b)){var e=l.c(1);if(e==a.Bn||e==a.An){if(21>b)return;l.shift(21)}else l.shift(9);M=L;q("Command_MulticastStartAddrEx,"+e)}}function k(){var e;var f=l.length();if(!(2>f)){var d=e=l.M(1);if(48==e){if(a.F!=b.b.op&&a.F!=b.b.Sq){if(a.F==b.b.R){if(102>f)return;a.D=l.c(2);a.sa=l.c(6);b.a.log(["my ssrc is ",a.D,", session_index is ",a.sa].join(""));a.wb=l.c(10);a.wb>b.b.mj&&(a.wb=b.b.mj);1E4>a.wb&&(a.wb=1E4);b.a.log(["max bandwidth is ",a.wb].join(""));a.ua=a.wb;
c.Qf&&c.Qf();c.Hb(0);f=l.c(98);e=b.crypto.v(l.h(38,20),a.da);d=b.crypto.v(l.h(58,40),a.da);a.Um={ia:e.u(),key:d.u()};a.W=b.crypto.$g(a.hd,a.Um);a.fe=b.a.B()-(f>>>0)>>>0;f=(new A.a.g(A.random.xa(4))).Mb();b.a.log(["statistics log anchor ",f].join(""));a.Ea(["==================== ",f," ====================\n\n\n"].join(""));a.Ea(["connected with mcu ",a.aa,",",a.pa].join(""));a.Ea(["info: meeting session,ssrc=",a.D,",session_index=",a.sa].join(""));f=new A.a.g;f.f(0);f.f(a.D);f.f(a.sa);f.L(a.xc.key);
f.L(a.xc.ia);a.le=f;l.shift(102)}else{if(18>f)return;a.D=-1;a.Wf=l.c(2);a.sa=l.c(6);a.wb=0;f=new A.a.g;f.f(1);f.f(a.Wf);f.f(a.sa);f.L(a.xc.key);f.L(a.xc.ia);a.le=f;l.shift(18)}a.HF=a.sa;a.F==b.b.R&&a.ra&&(a.Ic&&(a.Ic.disconnect(),a.Ic=null),a.Ic=new b.protocol.Ic(a));a.YD=!0;a.w=!0;a.oc=!1;a.Ca=-1;a.ta=-1;a.ya=-1;a.vb=-1;a.Ue=0;a.Re=!1;a.rh();a.F==b.b.R&&g();c.Xb&&c.Xb();c.Ka&&c.Ka(b.b.Dp);a.be&&a.F==b.b.R&&a.La&&1<=a.La.length&&95!=a.La.charCodeAt(0)&&(a.xs=!0)}M=L;q("COMMAND_INITIAL_INFO")}else{e==
b.b.xp&&a.F==b.b.R&&a.ie&&c.ce&&c.ce(a.ie,"",-1);if(e>b.b.zp||e<b.b.wp)b.a.log("disconnect, COMMAND_INITIAL_INFO return unknown error: "+e),e=b.b.Ng;else if(e==b.b.pp)a.F!=b.b.R?e=b.b.Kp:e=b.b.mf+e-256;else{if(e==b.b.bj){if(10>f)return;e=l.c(2);f=l.c(6);c.Hf&&c.Hf(b.b.bj,e,f);C();c.gb&&c.gb();return}if(e==b.b.aj){if(10>f)return;e=l.c(2);f=l.c(6);c.Hf&&c.Hf(b.b.aj,e,f);C();c.gb&&c.gb();return}if(e==b.b.cj){if(e=b.b.mf+e-256,4==a.hb||5==a.hb)a.$b=a.Uc=""}else e=b.b.mf+e-256}d!=b.b.yp&&c.Ka&&c.ub(e);
C();c.gb&&c.gb()}}}function e(){var e;var g=l.length();if(!(2>g)){var d=new f,r=l.M(1);if(r==b.b.Qp||r==b.b.Og){var k=(e=r==b.b.Og)?8:0;if(26>g)return;var h=l.c(22);if(0>h){b.a.log("disconnect, COMMAND_MARK.stroke invalid size");Q();return}if(g<26+8*h+k)return;d.Dm=l.c(2);d.U=l.c(6);d.Ha=l.c(10);d.Lm=l.c(14);d.Jt=l.c(18);d.Xc=D(d.Ha);d.Ec=r;d.Xj=new Int32Array(h);d.ak=new Int32Array(h);for(g=0;g<h;g++)d.Xj[g]=l.c(26+8*g),d.ak[g]=l.c(8*g+30);e?(d.nb=l.c(26+8*h),d.nd=l.c(8*h+30),d.qd=d.uf=0):d.nb=100;
l.shift(26+8*h+k)}else if(r==b.b.Rp||r==b.b.Pg){k=(e=r==b.b.Pg)?8:0;if(38>g)return;h=l.c(34);if(0>h||2048<h){b.a.log("disconnect, COMMAND_MARK.text invalid length");Q();return}if(g<38+h+k)return;d.Dm=l.c(2);d.U=l.c(6);d.Ha=l.c(10);d.Lm=l.c(14);d.an=l.c(18);d.mp=l.c(22);d.bn=l.c(26);d.$m=l.c(30);d.Xc=D(d.Ha);d.Ec=r;d.Ap=b.crypto.v(l.h(38,h),a.W).u();e?(d.nb=l.c(38+h),d.nd=l.c(38+h+4),d.qd=d.uf=0):d.nb=100;l.shift(38+h+k)}else if(r==b.b.lj){if(34>g)return;h=l.c(30);if(0>h){b.a.log("disconnect, COMMAND_MARK.move invalid size");
Q();return}if(g<34+4*h)return;d.U=l.c(2);d.Ha=l.c(6);d.qd=l.c(10);d.uf=l.c(14);d.Kt=l.c(18);d.nb=l.c(22);d.nd=l.c(26);d.Xc=D(d.Ha);d.Ec=r;d.Bm=new Int32Array(h);for(g=0;g<h;g++)d.Bm[g]=l.c(34+4*g);l.shift(34+4*h)}else if(r==b.b.kj){if(30>g)return;h=l.c(26);if(0>h){b.a.log("disconnect, COMMAND_MARK.customized invalid size");Q();return}if(g<30+h+4)return;d.U=l.c(2);d.Ha=l.c(6);d.qd=l.c(10);d.uf=l.c(14);d.nb=l.c(18);d.yt=l.c(22);d.Fx=h;d.Xc=D(d.Ha);d.Ec=r;d.Mt=l.h(30,h);d.nd=l.c(30+h);l.shift(30+h+4)}else{b.a.log("disconnect, COMMAND_MARK invalid mark type");
Q();return}0<=d.U&&d.U<a.$.length&&(a.$[d.U].gg.push(d),c.ee&&c.ee(0,d.U,d));M=L;q("COMMAND_MARK")}}function K(){var e=l.length();if(!(2>e)){var g=l.M(1);if(65==g||97==g){if(11>e)return;var f=l.c(7);if(0>f||128<=f){b.a.log("disconnect, COMMAND_USER_UPDATE invalid userid length");Q();return}if(e<11+f+4)return;var r=l.c(11+f);if(0>r||128<=r){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username length");Q();return}if(e<11+f+4+r+4)return;var k=l.c(11+f+4+r);if(0>k||128<=k){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username(2) length");
Q();return}var h=!1;97==g&&(h=!0);if(e<11+f+4+r+4+k+(h?8:0))return;e=l.c(3);0<=e&&e<b.b.za&&(g=new d,g.gd=l.M(2),g.nd=e,g.qd=l.h(11,f),g.gi=l.h(11+f+4,r),g.Je=!0,g.U=0,g.nb=0,h&&(g.U=l.c(11+f+4+r+4+k),g.nb=l.c(11+f+4+r+4+k+4)),g.Im=0,g.Jm=0,g.Xc=0,g.Oh=0,g.fg=0,g.Ph=new Uint8Array(250),g.$e=null,g.Ec=0,g.Em=!1,g.Fm=!1,a.O[e]=g,c.Xb&&c.Xb(),c.ll&&c.ll(e));l.shift(11+f+4+r+4+k+(h?8:0))}else if(68==g||100==g){if(6>e)return;e=l.c(2);0<=e&&e<b.b.za&&(a.O[e]&&(a.O[e].Je=!1,a.O[e].$e=null),c.sl&&c.sl(e,
100==g));l.shift(6)}else{b.a.log("disconnect, COMMAND_USER_UPDATE invalid type");Q();return}M=L;q("COMMAND_USER_UPDATE")}}function F(b,e){-1!=a.Ib&&c.Bb&&c.Bb(1,a.Ib);a.Ib=e;a.D!=c.ic()&&(-1!=a.Ib&&c.Bb&&c.Bb(2,a.Ib),a.D!=b&&c.Bb&&c.Bb(0,a.Ib))}function da(){var e=l.length();if(!(9>e)){var g=l.c(5),f=0;var d=0;if(-1==g){if(13>e)return;d=l.c(9);if(0>=d||4E3<d){b.a.log("disconnect, COMMAND_SLIDE_INFO invalid property len");Q();return}if(e<13+d+4)return;g=l.c(13+d);f=4+d+4}if(0>g||g>b.b.pj)b.a.log("disconnect, COMMAND_SLIDE_INFO invalid name len"),
Q();else if(!(e<9+f+g+4)){e=new t;e.Ha=l.c(1);e.Cb=l.h(9+f,g);e.Ye=l.c(9+f+g);if(f)for(e.ac=b.crypto.v(l.h(13,d),a.W),e.Ad=e.ac.u(),d=0;d<e.ac.length();d++)if(!e.ac.M(d)){e.Ad=e.ac.h(0,d);e.dc=e.ac.h(d+1);var r;for(r=d+1;r<e.ac.length();r++)if(!e.ac.M(r)){e.dc=e.ac.h(d+1,r-(d+1));break}break}e.dc||(e.dc=b.o.pt(e.Cb));b.a.endsWith(e.Cb,"blank page")&&(e.mh=!0,e.wa=1);e.U&&(e.Cb=b.a.bh("[Deleted]"+b.a.zb(e.Cb),b.b.pj));a.ss(e,a.$.length);e.index=a.$.length;a.$.push(e);r=c.ic();a.F==b.b.R&&-1!=r&&r!=
a.D&&e.index==a.Ib&&1==e.wa&&(d=new A.a.g,d.m(a.J),d.f(a.Eg),d.f(1),d.f(e.index),d.f(r),d.f(b.b.wj),a.j.send(d.i()));e.Rh=0;if(e.ac)for(d=a.$.length-2;0<=d;d--){var k=a.$[d];if(k.Ad==e.Ad&&k.ac&&k.dc==e.dc&&k.Ha==e.Ha){e.Rh=k.Rh+1;break}}c.jl&&c.jl(e);!a.ra||a.F!=b.b.R||e.Ye||e.mh||e.Hm||(d=new A.a.g,d.m(a.J),d.f(a.Bg),d.f(1),d.f(e.index),a.j.send(d.i()));a.D!=r&&a.F==b.b.R||-1!=(c.Jf?c.Jf():-1)||(e=a.Pj(),a.Ib=e,c.Bb&&c.Bb(0,e),a.F==b.b.R&&c.yh(e));l.shift(9+f+g+4);M=L;q("COMMAND_SLIDE_INFO")}}}
function I(e){var g=e?4:0,d=e?8:0;2==e&&(d+=12);var f=l.length();if(!(f<9+g)){var r=l.c(1+g);if(0>r||2048<=r)b.a.log("disconnect, Command_ChatText invalid len"),Q();else if(!(f<9+r+d)){f=l.c(5+g);g=b.crypto.v(l.h(9+g,r),a.W).u();if(c.Ba){var k;b.Z.jr()==b.b.R&&(k=b.a.B()-a.fe>>0);if(e){var h=l.c(13+r);if(2==e){k=l.c(17+r);var K=b.a.Ar(l.c(25+r),l.c(21+r))}c.Ba(h,-1,f,g,D(h),k,K)}else c.Ba(-1,-1,f,g,0,k)}l.shift(9+r+d);M=L;q("ChatText,"+e)}}}function S(){var a=l.M(0);b.a.log(["not support command[",
a,"/0x",a.toString(16),"]"].join(""));Q()}function C(){h();null!=ma&&(clearTimeout(ma),ma=null);v();ia&&(clearTimeout(ia),ia=null);a.Ra&&(a.Ra.disconnect(),a.Ra=null);a.Hc&&(a.Hc.disconnect(),a.Hc=null);a.Ic&&(a.Ic.disconnect(),a.Ic=null);a.Oa&&(a.Oa.disconnect(),a.Oa=null);a.yc&&(a.yc.disconnect(),a.yc=null);a.Zc&&(a.Zc.disconnect(),a.Zc=null);X=b.o.Y;b.o.H(G);a.w=!1;a.la=!1;a.Wb=!1;a.Ja=!1;a.tb=!1;a.Ca=-1;a.ta=-1;a.ya=-1;a.vb=-1;a.Ue=0;a.oc=!1;a.Re=!1;a.th={};a.Oc=0}function Q(){b.o.Cm(M,l);C();
c.gb&&c.gb();c.Mc&&c.Mc(!0)}var G=a.j;a.Id=a.hf=!1;var l=a.Ed,L=new A.a.g,M=new A.a.g,H=null,P=null,X=b.o.Y,ca=0,la=0,qa=0,ma=null,ia=null,ua=[function(){if(!(9>l.length())){a.Qc=l.c(5);if(a.F==b.b.R){N();var e=new A.a.g;e.m(a.J);e.f(a.yi);e.f(a.ae?1:0);a.j.send(e.i());a.ra&&(e=new A.a.g,e.m(a.J),e.f(a.Bg),4==a.ba.Gb.length?(e.f(2),e.Om(a.ba.Gb)):(e.f(3),e.L(a.ba.Gb)),e.ut(),e.Dd(a.ba.port),e.f(a.Rc),a.j.send(e.i()))}else a.F==b.b.Aa&&(N(),e=new A.a.g,e.m(a.ad),e.f(10),e.f(a.ae?1:0),a.j.send(e.i()));
l.shift(9);M=L;q("COMMAND_EXTENSION_MAX_SUPPORT")}},function(){if(!(9>l.length())){var b=l.c(5);c.nl&&c.nl(b);l.shift(9);M=L;q("COMMAND_END_QUESTION_REQUEST_EX")}},function(){if(!(17>l.length())){var b=l.c(5),e=l.c(9),g=l.c(13);if(0<=e&&e<a.$.length){var d=a.$[e].gg;d&&0<=g&&g<d.length&&d[g].Ha==b&&(b=d[g],d.splice(g,1),c.ee&&c.ee(2,e,b))}l.shift(17);M=L;q("COMMAND_UNDO_MARK_EX")}},S,S,function(){l.shift(5);M=L;q("COMMAND_PROLONG_MEETING_EX")},function(){if(!(6>l.length())){var b=l.M(5);0==b?c.Nc&&
c.Nc(a.Dh,1):1==b?c.Rf&&c.Rf(a.Dh):2==b&&c.Nc&&c.Nc(a.Dh,2);l.shift(6);M=L;q("COMMAND_WAIT_MESSAGE_EX")}},function(){var a=l.length();if(!(9>a)){var e=l.c(5);if(0>e||1E3<=e)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len1"),Q();else if(!(a<9+e+4)){var g=l.c(9+e);if(0>g||128<=g)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len2"),Q();else if(!(a<9+e+4+g)){a=l.h(9,e);var d=l.h(9+e+4,g);c.wl&&c.wl(a,d);l.shift(9+e+4+g);M=L;q("COMMAND_SHADOW_JOIN_REQUEST_EX")}}}},S,S,w,function(){9>
l.length()||(a.ge=l.c(5)>>>0,ia&&clearTimeout(ia),ia=setTimeout(g,0),l.shift(9),M=L,q("COMMAND_FULL_DURATION_EX"))},function(){var b=new A.a.g("Q");b.f(a.D);b.f(3);b.L("Yes");a.j.send(b.i());a.la||a.tb||a.pc||a.Ja||(a.tb=!0);l.shift(5);M=L;q("COMMAND_FORCE_ASK_QUESTION_EX")},function(){9>l.length()||(l.shift(9),M=L,q("COMMAND_RATE_CONTROL_EX"))},function(){b.a.log("quitsession: user is overwritten by another connection");y();c.Ka&&c.ub(b.b.Pp);l.shift(1);M=L;q("COMMAND_USER_OVERWRITE_EX")},S,S,S,
S,S,function(){if(!(13>l.length())){var a=l.c(9);if(0>a||a>b.b.qj)b.a.log("disconnect, COMMAND_JTBROWSING_EX invalid url len"),Q();else{for(var e=l.c(5),g=l.h(13,a),d=0;d<g.length;d++)if(0===g.charCodeAt(d)){g=g.slice(0,d);break}c.xl&&c.xl(e,g);l.shift(13+a);M=L;q("COMMAND_JTBROWSING_EX")}}},function(){9>l.length()||(l.shift(9),M=L,q("COMMAND_TCPMEDIA_EX"))},function(){if(!(9>l.length())){var b=l.c(5);c.yl&&c.yl(b);l.shift(9);M=L;q("COMMAND_JTBROWSING_MODE_EX")}},function(){if(!(33>l.length())){var b=
l.c(5);var a=l.c(9);var e=l.c(13);var g=l.c(17);var d=l.c(21);var f=l.c(25);var r=l.c(29);c.If&&c.If(b,a,e,g,d,f,r);l.shift(33);M=L;q("COMMAND_FOCUS_POINTER_EX")}},S,function(){if(!(10>l.length())){var b=l.M(5),a=l.c(6);if(0>a||128<=a)Q();else{var e=l.h(10,a);0==b?c.Nc&&c.Nc(e,1):1==b?c.Rf&&c.Rf(e):2==b&&c.Nc&&c.Nc(e,2);l.shift(10+a);M=L;q("COMMAND_WAIT_MESSAGE_2_EX")}}},function(){if(!(6>l.length())){var e=l.M(5);1==e?(e=a.F,a.F=b.b.Aa,a.ra?(b.a.log("Warning: mcu relay doesn't support playback, quit this session now..."),
Q()):(e!=b.b.Aa&&c.pl&&c.pl(),l.shift(6),M=L,q("COMMAND_THIRDPARTY_MODE_EX"))):3==e?(c.Ka&&c.ub(b.b.Fp),C(),c.gb&&c.gb()):4==e?(c.Ka&&c.ub(b.b.Ep),C(),c.gb&&c.gb()):(b.a.log("disconnect, COMMAND_THIRDPARTY_MODE_EX invalid mode"),Q())}},S,function(){9>l.length()||(0==l.c(5)?(b.a.log("prompt the user for sharejnr or thirdparty password"),c.Nf&&c.Nf(15==a.hb?1:0),l.shift(9),M=L,q("COMMAND_USERINFO2_DIRECTAUTH_EX")):(b.a.log("disconnect, COMMAND_USERINFO2_DIRECTAUTH_EX invalid auth type"),Q()))},function(){var e=
l.length();if(!(9>e)){var d=l.c(5);if(0==d){if(13>e)return;a.ge=l.c(9)>>>0;ia&&clearTimeout(ia);ia=setTimeout(g,0)}c.Ka&&c.ub(d?b.b.Np:b.b.Op);l.shift(0==d?13:9);M=L;q("COMMAND_PREPARATIONMODE_EX")}},function(){9>l.length()||(c.Ka&&c.ub(b.b.Mp),l.shift(9),M=L,q("COMMAND_TERMINATION_WARNING_EX"))},S,function(){9>l.length()||(a.qm=l.c(5),c.Ul&&c.Ul(),l.shift(9),M=L,q("COMMAND_RECORDING_STATUS_EX"))},function(){if(!(13>l.length())){var e=l.c(5),g=l.c(9);0<=e&&e<b.b.za&&a.O[e]&&(a.O[e].Im=g,c.fm&&c.fm(e));
l.shift(13);M=L;q("COMMAND_VIDEOSENDING_STATUS_EX")}},function(){c.Ka&&c.ub(b.b.Jp);l.shift(5);M=L;q("COMMAND_UNKNOWN_RECORDING_EX")},function(){var e=l.length();if(!(17>e)){var g=l.c(5);if(1==g){if(21>e)return;g=l.c(9);var d=l.c(13);e=l.c(17);0<=d&&d<b.b.za&&c.Tl&&c.Tl(d,g,e);l.shift(21)}else if(0==g){g=l.c(9);d=l.c(13);e=0>g||g>=a.$.length?b.b.Rq:1==a.$[g].wa?b.b.wj:0==a.$[g].wa&&a.Oa&&a.Oa.index==g?b.b.Pq:b.b.Qq;var f=new A.a.g;f.m(a.J);f.f(a.Eg);f.f(1);f.f(g);f.f(d);f.f(e);a.j.send(f.i());l.shift(17)}else{b.a.log("disconnect, COMMAND_POLL_SLIDEDOWNLOAD_EX invalid command");
Q();return}M=L;q("COMMAND_POLL_SLIDEDOWNLOAD_EX")}},S,function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(g==a.Fq){if(17>e)return;a.Uf=l.c(9);a.Sc=l.c(13);b.a.log(["Participant Channnel, video ",a.Uf,", audio ",a.Sc].join(""));a.Sc=Math.min(a.Sc,b.b.cd);a.Uf=Math.min(a.Uf,b.b.Nb);l.shift(17)}else if(g==a.Aq){if(13>e)return;a.Df=l.c(9);b.a.log(["discussion mode is now ",a.Df].join(""));l.shift(13)}else if(g==a.vj||g==a.Kq)if(a.F==b.b.Aa){if(17>e)return;l.shift(17)}else a.wh=g==a.vj?!0:!1,l.shift(9);
else if(g==a.Jq){if(21>e)return;var d=l.c(9);e=l.c(13);g=l.c(17);-1!=e&&g==b.b.Dq&&(0>e||e>=b.b.Nb||(a.ib[e]=d));l.shift(21)}else if(g==a.Gq||g==a.Lq){if(17>e)return;e=l.c(13);0>e||e>=b.b.Nb||(a.ib[e]=-1);l.shift(17)}else if(g==a.Fe||g==a.Cq){if(17>e)return;d=l.c(9);e=l.c(13);0>e||e>=b.b.cd||(g==a.Fe?b.a.log("user "+d+" becomes a speaker at channel "+e):b.a.log("speaker channel "+e+" is reset"),a.Zb[e]=g==a.Fe?d:-1,a.F==b.b.R&&a.Tc&&c.Hb(0),d==a.D&&-1!=a.D&&(a.pc=g==a.Fe,a.pc&&(a.tb=!1)),c.Gl&&c.Gl(d,
g==a.Fe,e));l.shift(17)}else if(g==a.Hq){if(17>e)return;if(l.c(13)){if(21>e)return;d=l.c(17);if(0>d||d>b.b.za){b.a.log("disconnect, PARTICIPANT_VIDEO_QUERY_VIEWER invalid count");Q();return}if(e<21+d)return;l.shift(21+d)}else l.shift(17)}else{b.a.log("disconnect, COMMAND_PARTICIPANT_VIDEO_EX invalid command");Q();return}M=L;q("COMMAND_PARTICIPANT_VIDEO_EX")}},function(){var a=l.length();if(!(9>a)){var e=l.c(5);if(1==e)c.am&&c.am(),l.shift(9);else if(2==e){if(17>a)return;c.kl&&c.kl(l.c(9),l.c(13));
l.shift(17)}else{b.a.log(["disconnect, unknown poll command ",e].join(""));Q();return}M=L;q("COMMAND_TOKEN_HOLDER_POLL_EX")}},function(){var e=l.length();if(!(9>e)){var g=l.c(5);1==g?(b.a.log("JoinNet is set to use mcu relay, however the MCU doesn't accept mcu relay"),l.shift(9),a.qh.port=0,setTimeout(function(){c.Cs();c.Gs()},0)):2==g?33>e||(e=l.c(9),0<=e&&e<a.$.length&&(a.$[e].hash=l.h(13,20),a.$[e].Hm=!0),l.shift(33),M=L,q("COMMAND_MCU_RELAY_EX")):(b.a.log("disconnect, COMMAND_MCU_RELAY_EX invalid command"),
Q())}},function(){if(!(9>l.length())){a.wd=b.crypto.v(l.h(5,4),a.da).c(0)>>>0;var e=a.ab;a.ab=b.a.B()-a.wd;(5E3<e-a.ab||-5E3>e-a.ab)&&b.a.log(["got mcu clock sync - server tick = ",a.wd," diff = ",a.ab].join(""));l.shift(9);M=L;q("COMMAND_SYNC_CLOCK_EX")}},S,S,S,function(){var e=l.length();if(!(21>e)){if(1==l.c(13)){if(25>e)return;var g=l.c(17);if(0>g||2048<=g){b.a.log("disconnect, COMMAND_PRIVATE_CHAT_TEXT_EX invalid len");Q();return}if(e<25+g)return;e=b.crypto.v(l.h(25,g),a.W).u();var d=e.indexOf("__command: dummypassword ");
-1!=d&&(e=e.slice(0,d+25)+"*");var f=l.c(5);d=l.c(9);var r=l.c(21),k=b.a.B()-a.fe>>0;c.Ba&&c.Ba(f,d,r,e,D(f),k);l.shift(25+g)}else l.shift(21);M=L;q("COMMAND_PRIVATE_CHAT_TEXT_EX")}},function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(g==a.In){if(13>e)return;a.Js=l.c(9);l.shift(13)}else if(g==a.Hn){if(57>e)return;g=l.c(29);if(0>g||g>=b.b.Eb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");Q();return}a.P[g]=a.P[g]||new p;a.P[g].active=1;a.P[g].tC=0;a.P[g].type=l.c(9);a.P[g].zG=l.c(21);
a.P[g].Vr=l.h(37,4)+l.h(43,2)+l.h(47,2)+l.h(49,8);a.P[g].Wj=b.a.yr(a.P[g].Vr);a.P[g].xt=l.c(33);a.P[g].Mm=l.c(25);a.P[g].jd=l.c(13);a.P[g].Gj=l.c(17)>>>0;a.P[g].FG=0;a.P[g].Ym=null;a.P[g].Da=b.a.B();a.P[g].ga=a.Nd;0>=a.P[g].jd&&(a.P[g].jd=1);a.P[g].yb=a.P[g].jd;c.Gf&&c.Gf(g);c.Hb(0);var d=a.P[g].Wj;"E5AF1A56-E29C-4BA6-839A-24C2F30EED02"==d?d="Shared Desktop{"+d+"}":"4FC0606A-DA4A-423F-A830-AC5D9853C201"==d&&(d="Remote Control{"+d+"}");a.Ea("appdata_new_channel,"+g+","+d+",max_rate="+a.P[g].jd+",ssrc="+
a.P[g].Mm);c.Mf&&c.Mf(0,a.P[g].xt,g);l.shift(57)}else if(g==a.Gn){if(17>e)return;g=l.c(9);b.a.log(-2,"appdata channel errorcode="+g);(g==b.b.vp||g==b.b.up||g==b.b.tp||g==b.b.sp||g==b.b.rp||g==b.b.qp)&&c.Mf&&c.Mf(g,l.c(13),-1);l.shift(17)}else if(g==a.xi){if(17>e)return;g=l.c(9);if(0>g||g>=b.b.Eb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");Q();return}if(!a.P[g].active){b.a.log("disconnect, COMMAND_PLUGIN_EX inactive channel got static data");Q();return}d=l.c(13);if(0>d||d>a.Qg){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size");
Q();return}if(e<17+d)return;e=b.crypto.v(l.h(17,d),a.W).u();a.P[g].Ym=e;c.Rl&&c.Rl(0,g,e);l.shift(17+d)}else if(g==a.wi){if(13>e)return;g=l.c(9);if(0>g||g>=b.b.Eb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");Q();return}if(!a.P[g]||!a.P[g].active){b.a.log("disconnect, COMMAND_PLUGIN_EX channel not active");Q();return}a.P[g].active=0;b.a.log(-2,"appdata channel "+g+" close");c.Ol&&c.Ol(0,g);l.shift(13)}else if(g==a.Fn){if(21>e)return;d=l.c(17);if(0>d||d>a.Qg){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size2");
Q();return}if(e<21+d)return;l.shift(21+d)}else{b.a.log("disconnect, COMMAND_PLUGIN_EX invalid command");Q();return}M=L;q("COMMAND_PLUGIN_EX")}},S,S,S,function(){17>l.length()||(a.eG=l.c(5),a.fG=l.c(9),a.gG=l.c(13),l.shift(17),M=L,q("COMMAND_RECORDING_FILEVERSION_EX"))},function(){a.vb=-1;a.Ca=a.ta=a.ya=-1;c.Hl&&c.Hl();l.shift(5);M=L;q("COMMAND_END_OF_RECORDINGFILE_EX")},function(){b.a.log("warning: server is going to be shut down!");c.Xl&&c.Xl();l.shift(5);M=L;q("COMMAND_SERVER_SHUTDOWN_EX")},function(){var e=
l.length();if(!(17>e)){var g=l.c(13);if(0>g||g>a.oj)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid size"),Q();else if(!(e<17+g))if(e=l.c(5),0>e||e>=b.b.Eb)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid channel"),Q();else{if(a.P[e]&&a.P[e].active){var d=l.c(9),f=b.crypto.v(l.h(17,g),a.W).u();c.Pl&&c.Pl(f,e,d)}l.shift(17+g);M=L;q("COMMAND_PLUGIN_CONTROL_DATA_EX")}}},function(){9>l.length()||(l.shift(9),M=L,q("COMMAND_DISABLE_UTF8_EX"))},function(){if(!(9>l.length())){a.ws=
l.c(5)&1?!0:!1;b.a.log("The network initialization has finished");for(var e=["audio codec preference [count: ",a.$d.length,"] is:"],g=0;g<a.$d.length;g++){var d=a.$d[g];e.push(" 0x",d.toString(16),"(",b.o.Zg(d),")")}b.a.log(e.join(""));e=["video codec preference [count: ",a.ne.length,"] is:"];for(g=0;g<a.ne.length;g++)d=a.ne[g],e.push(" 0x",d.toString(16),"(",b.o.Zg(d),")");b.a.log(e.join(""));a.oe||b.a.log("webrtc, this MCU doesn't support webrtc, or is not correctly configured, or lacks valid license");
(d=b.Z.Ms())&&b.a.log("the meetingid is "+d);c.Kf&&c.Kf();c.Yb&&x()&&(d=c.Yb(),a.Xf||!d)&&(b.a.log("update audio status upon start of meeting"),n(d?1:0));l.shift(9);M=L;q("COMMAND_SIP_CAP_EX")}},function(){if(!(13>l.length())){var e=l.c(5),g=l.c(9);0<=e&&e<b.b.za&&a.O[e]&&(a.O[e].Xc=g);l.shift(13);M=L;q("COMMAND_TEXT_CODEPAGE_EX")}},function(){I(1)},function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(1==g){if(13>e)return;var d=l.c(9);if(0>d||1E3<=d){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len");
Q();return}if(e<13+d+4)return;g=l.c(13+d);e=b.crypto.v(l.h(13,d),a.W).u();b.a.log("ssrc "+g+" request sip client "+e);0<=g&&g<b.b.za&&a.O[g]&&c.Vl&&c.Vl(g,a.O[g].gi,e);l.shift(17+d)}else if(3==g){if(13>e)return;d=l.c(9);if(0>d||1E3<=d){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len2");Q();return}if(e<13+d+4+4)return;g=l.c(13+d);var f=l.c(17+d);e=b.crypto.v(l.h(13,d),a.W).u();b.a.log("sip client "+e+" of ssrc "+g+" change status to "+f);c.km&&c.km(g,e,f);l.shift(21+d)}else if(10==g){if(13>
e)return;d=l.c(9);if(0>d||1E3<=d){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len3");Q();return}if(e<13+d+4+4)return;g=l.c(13+d);f=l.c(17+d);if(0>f||1E3<=f){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len4");Q();return}if(e<13+d+4+4+f)return;e=b.crypto.v(l.h(13,d),a.W).u();var r=b.crypto.v(l.h(21+d,f),a.W).u();b.a.log("sip client "+e+" of ssrc "+g+" is updated to "+r);c.lm&&c.lm(g,e,r);l.shift(21+d+f)}else{b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid command");Q();return}M=
L;q("COMMAND_SIP_CLIENT_EX")}},function(){a.dl=!0;b.a.log("this meeting adopts all questioners mode");l.shift(5);M=L;q("COMMAND_ALL_QUESTIONER_EX")},function(){9>l.length()||(a.rm=l.c(5),b.a.log(["this meeting let ",a.rm?"token holder":"coordinator"," accept uninvited guest"].join("")),l.shift(9),M=L,q("COMMAND_HOLDER_ACCEPT_GUEST_EX"))},S,function(){if(!(53>l.length())){var b=l.c(5);var a=l.c(9);var e=l.c(13);var g=l.c(17);var d=l.c(21);var f=l.c(25);var r=l.c(29);c.If&&c.If(b,a,e,g,d,f,r);l.shift(53);
M=L;q("COMMAND_NEW_FOCUS_POINTER_EX")}},S,function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);c.$l&&c.$l(b,a);l.shift(13);M=L;q("COMMAND_SYNC_FULL_SCREEN_EX")}},function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(200==g){if(17>e)return;a.Oe=l.c(9);a.Ef=l.c(13);l.shift(17)}else{if(a.F==b.b.Aa)0==g||1==g?(b.a.log("prompt the user for jnr password"),c.Nf&&c.Nf(2)):(b.a.log("too many tries to provide the correct jnr password"),c.Ka&&c.ub(b.b.mf+b.b.cj-256));else if(101==g||100==g)c.Sf&&c.Sf(g-100),
a.jh=g-100;else if(1==g||0==g)c.Sf&&c.Sf(g),a.jh=g;l.shift(9)}M=L;q("COMMAND_JNR_PASSWORD_EX")}},w,w,w,S,function(){var a=l.length();if(!(9>a)){var e=l.c(5);0>e||512<=e?(b.a.log("disconnect, COMMAND_JOINNET_AUTO_UPDATE_EX invalid len"),Q()):a<9+e||(l.shift(9+e),M=L,q("COMMAND_JOINNET_AUTO_UPDATE_EX"))}},function(){if(!(9>l.length())){var e=l.c(5),g=e&1?1:0;e=e&2?1:0;(g||e)&&b.a.log(["joinnet has restriction ",g&&e?"disable_upload_file,disable_save_slide":g?"disable_upload_file":"disable_save_slide"].join(""));
a.om=g;a.nm=e;l.shift(9);M=L;q("COMMAND_JOINNET_RESTRICTION_EX")}},function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(0>g||32<g)b.a.log("disconnect, COMMAND_AUDIO_PREFERENCE_EX invalid codec count"),Q();else if(!(e<9+4*g)){a.ts=g;a.$d=[];for(e=0;e<g;e++)a.$d.push(l.c(9+4*e));l.shift(9+4*g);M=L;q("COMMAND_AUDIO_PREFERENCE_EX")}}},function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(0>g||32<g)b.a.log("disconnect, COMMAND_VIDEO_PREFERENCE_EX invalid codec count"),Q();else if(!(e<9+4*g)){a.et=g;
a.ne=[];for(e=0;e<g;e++)a.ne.push(l.c(9+4*e));l.shift(9+4*g);M=L;q("COMMAND_VIDEO_PREFERENCE_EX")}}},function(){a.Am=!0;b.a.log("joinnet token holder video set to TRUE");l.shift(5);M=L;q("COMMAND_HOLDER_VIDEO_EX")},function(){9>l.length()||(a.Tc=l.c(5),b.a.log(["total av bandwidth is set to ",a.Tc].join("")),l.shift(9),M=L,q("COMMAND_TOTAL_AV_BANDWIDTH_EX"))},function(){a.zm=!0;a.F==b.b.R?(b.a.log("The recording file of this meeting will be archived by the system administrator. (Recording is enforced and 'pause recordng' is disabled)"),
c.hm&&c.hm()):b.a.log("The server turns on archiving");l.shift(5);M=L;q("COMMAND_ARCHIVE_RECORDING_EX")},function(){var e=l.length();if(!(17>e)){var g=l.c(13);if(0>=g||1E6<g)b.a.log("disconnect, COMMAND_SELF_PICTURE_EX invalid file size"),Q();else if(!(e<17+g)){e=l.c(5);var c=l.c(9);if(a.O[e])if(a.O[e].$e)b.a.log("download self picture for ssrc "+e+" fails. file already exist");else{var d=b.crypto.v(l.h(17,g),a.W).i();a.Vm(e,new Uint8Array(d),c)}l.shift(17+g);M=L;q("COMMAND_SELF_PICTURE_EX")}}},function(){if(!(9>
l.length())){var e=l.c(5);a.gl=!0;e?b.a.log("upload self picture abort due to error at server"):b.a.log("upload self picture completely");l.shift(9);M=L;q("COMMAND_SPIC_NOTIFY_EX")}},function(){if(!(10>l.length())){var e=l.c(5),g=l.M(9);0<=e&&e<b.b.za&&a.O[e]&&(a.O[e].gd=g&1?a.O[e].gd|1:a.O[e].gd&254,a.O[e].gd=g&2?a.O[e].gd|2:a.O[e].gd&253,c.ol&&c.ol(e,g&1,g&2),b.a.log("ssrc["+e+"]'s a/v cap to "+(g&1?1:0)+","+(g&2?1:0)));l.shift(10);M=L;q("COMMAND_CHANGE_CAP_EX")}},function(){b.a.log("the meeting does not request recording");
l.shift(5);M=L;q("COMMAND_JOINNET_NO_RECORDING_EX")},function(){if(!(9>l.length())){var e=l.c(5),g=c.ic();a.Ca=e;b.a.log(["controller change to ",e].join(""));c.Dl&&c.Dl();a.xh(g,c.ic());l.shift(9);M=L;q("COMMAND_CONTROLLER_UPDATE_EX")}},function(){if(!(9>l.length())){var e=l.c(5),g=c.ic();a.Jb=e;b.a.log(["control flag change to 0x",e.toString(16),"(",b.o.Hj(e),")"].join(""));a.xh(g,c.ic());c.Cl&&c.Cl(e);l.shift(9);M=L;q("COMMAND_MEETING_CONTROL_EX")}},function(){var e=l.length();if(!(9>e)){var g=
l.c(5);if(0==g){if(13>e)return;a.zh=l.c(9);a.zh&&b.a.log("The server support file conversion");l.shift(13)}else if(1==g){if(13>e)return;e=a.Oc;a.Oc=l.c(9);b.a.log(["The JoinNet has ",a.Oc," conversion ongoing at the server"].join(""));e!=a.Oc&&c.ql&&c.ql();l.shift(13)}else if(2==g){if(21>e)return;e=l.c(17);if(0>e||1E3<=e){b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid len");Q();return}a.Oc=l.c(9);g=l.c(13);var d=l.h(21,e);b.a.log(["The JoinNet has ",a.Oc," conversion ongoing at the server"].join(""));
b.a.log(["The conversion of file ",d," has error ",g].join(""));c.rl&&c.rl(d,g);l.shift(21+e)}else{b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid command");Q();return}M=L;q("COMMAND_FILE_CONVERSION_EX")}},function(){5>l.length()||(c.vl&&c.vl(),l.shift(5),M=L,q("COMMAND_FORCE_SYNC_EX"))},function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);c.Zl&&c.Zl(b,a);l.shift(13);M=L;q("COMMAND_SWAP_SLIDE_EX")}},function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);c.Al&&c.Al(b,a);l.shift(13);M=L;q("COMMAND_MOVE_SLIDE_EX")}},
function(){9>l.length()||(a.sm=l.c(5),b.a.log(["this meeting let ",a.sm?"token holder":"coordinator"," end meeting"].join("")),l.shift(9),M=L,q("COMMAND_HOLDER_END_MEETING_EX"))},function(){if(!(13>l.length())){var a=l.c(5),e=l.c(9);-1==e?b.a.log("ssrc "+a+" stops ForceSingleAudio"):b.a.log("ssrc "+a+" starts ForceSingleAudio of ssrc "+e);l.shift(13);M=L;q("COMMAND_FORCE_SINGLE_AUDIO_EX")}},function(){13>l.length()||(a.Zf=l.c(5),a.Yf=l.c(9),l.shift(13),M=L,q("COMMAND_MEETING_INFO_EX"))},function(){9>
l.length()||(a.vb=l.c(5),b.a.log(["assistant change to ",a.vb].join("")),c.Bl&&c.Bl(),l.shift(9),M=L,q("COMMAND_ASSIGN_ASSISTANT_EX"))},function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(0>g||30<=g)b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len"),Q();else if(!(e<9+g+4)){var d=l.c(9+g);0>d||128<=d?(b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len2"),Q()):e<9+g+4+d||(a.ie=a.Hh=l.h(9,g),a.ct=l.h(9+g+4,d),c.ce&&c.ce(a.Hh,a.ct,a.D),l.shift(9+g+4+d),M=L,q("COMMAND_RECONNECT_NAME_EX"))}}},
function(){13>l.length()||(F(l.c(5),l.c(9)),l.shift(13),M=L,q("COMMAND_FLIP_SLIDE_EX"))},function(){9>l.length()||(a.Ue=l.c(5),b.a.log(["opus preferred bitrate is ",a.Ue].join("")),l.shift(9),M=L,q("COMMAND_OPUS_EX"))},function(){I(2)},S,function(){var e=l.length();if(!(9>e)){var g=l.c(5);0>g||1E3<=g?(b.a.log("disconnect, COMMAND_WEBRTC_SIGNAL_SERVER_EX invalid length"),Q()):e<9+g||(a.oe=b.crypto.v(l.h(9,g),a.W).u(),b.a.log(["webrtc, signal server url is ",a.oe].join("")),l.shift(9+g),M=L,q("COMMAND_WEBRTC_SIGNAL_SERVER_EX"))}},
function(){if(!(10>l.length())){var e=l.c(5),g=l.M(9);0<=e&&e<b.b.za&&a.O[e]&&(a.O[e].Jm=g,c.gm&&c.gm(e));b.a.log(5,["webrtc, ssrc ",e," change status to ",g].join(""));l.shift(10);M=L;q("COMMAND_WEBRTC_NOTIFICATION_EX")}},function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(0>g||1E4<=g)b.a.log("disconnect, COMMAND_WEBRTC_TURN_SERVER_EX invalid length"),Q();else if(!(e<9+g)){e=b.crypto.v(l.h(9,g),a.W).u();try{var c=JSON.parse(e);b.a.isArray(c)&&(10<c.length&&(c.length=10),a.Jh=c)}catch(T){}a.Jh.length?
b.a.log("joinnet received turn server information from MCU"):b.a.log("joinnet received turn server information from MCU, but no valid entry found");l.shift(9+g);M=L;q("COMMAND_WEBRTC_TURN_SERVER_EX")}}},S,function(){var e=l.length();if(!(9>e)){var g=l.c(5);0>g||g>b.b.Rg?(b.a.log("disconnect, COMMAND_MEETINGID_NOTIFICATION_EX invalid length"),Q()):e<9+g||(a.vm=b.crypto.v(l.h(9,g),a.W).u(),l.shift(9+g),M=L,q("COMMAND_MEETINGID_NOTIFICATION_EX"))}},S,function(){var e=l.length();if(!(9>e)){var g=l.c(5);
0>g||g>b.b.Ld?(b.a.log("disconnect, COMMAND_MEETING_TITLE_EX invalid title len"),Q()):e<9+g||(a.Gh="",0!=g&&(a.Gh=b.crypto.v(l.h(9,g),a.W).u()),l.shift(9+g),c.zl&&c.zl(),M=L,q("COMMAND_MEETING_TITLE_EX"))}},function(){if(!(13>l.length())){var e=l.c(5),g=l.c(9);-1==e?(a.el=!!g,c.Of&&c.Of(e,g)):0<=e&&e<b.b.za&&a.O[e]&&(a.O[e].Em=!!g,c.Of&&c.Of(e,g));l.shift(13);M=L;q("COMMAND_SUPPRESS_AUDIO_EX")}},function(){if(!(13>l.length())){var e=l.c(5),g=l.c(9);-1==e?(a.fl=!!g,c.Pf&&c.Pf(e,g)):0<=e&&e<b.b.za&&
a.O[e]&&(a.O[e].Fm=!!g,c.Pf&&c.Pf(e,g));l.shift(13);M=L;q("COMMAND_SUPPRESS_VIDEO_EX")}},S],J=[function(){a.rs();a.sh();c.Yb&&!c.Yb()&&x()&&(b.a.log("update audio status upon restart of playback"),n(0));l.shift(5);M=L;q("PLAYBACK_NOTIFICATION_RESTART")},function(){function e(){if(!(412>l.length())){var b=l.h(20,128),e=b.indexOf("\x00");a.Kh.push(-1==e?b:b.slice(0,e));l.shift(412);h++;h==g&&(X=B);M=L;q("PLAYBACK_NOTIFICATION_MEETING_INFO,2")}}if(!(83>l.length())){var g=l.kc(79);if(0>g||g>=b.b.za)b.a.log("disconnect, PLAYBACK_NOTIFICATION_MEETING_INFO invalid usernum"),
Q();else{a.qc=!0;a.Lc=!0;var d=l.kc(23),f=l.kc(27),r=l.kc(19),k=[("0000"+l.kc(43)).slice(-2),":",("0000"+l.kc(47)).slice(-2)," ",l.kc(35),"/",l.kc(39),"/",l.kc(31)].join("");c.Il&&c.Il(d,f,r,k);c.Kf&&c.Kf();c.Yb&&!c.Yb()&&x()&&(b.a.log("update audio status upon start of playback"),n(0));l.shift(83);a.Kh=[];var h=0;0!=g?X=e:M=L;q("PLAYBACK_NOTIFICATION_MEETING_INFO")}}},function(){if(!(9>l.length())){var b=l.c(5);c.Nl&&c.Nl(b);l.shift(9);M=L;q("PLAYBACK_NOTIFICATION_TICK")}},function(){if(!(9>l.length())){var a=
l.c(5);0==a?b.a.log("the server start to decrypt the recording file"):1==a?b.a.log("the server finish decrypting the recording file"):b.a.log("the server encounter error during decrypting the recording file");c.Kl&&c.Kl(a);l.shift(9);M=L;q("PLAYBACK_NOTIFICATION_DECRYPTION_STATUS")}},function(){if(!(9>l.length())){var b=l.c(5);c.Jl&&c.Jl(b);l.shift(9);M=L;q("PLAYBACK_NOTIFICATION_DECRYPTION_PROGRESS")}},S,function(){var e=l.length();if(!(9>e)){var g=l.c(5);if(0>g||1E6<=g)b.a.log("disconnect, PLAYBACK_NOTIFICATION_PROPERTY invalid size"),
Q();else if(!(e<9+g)){e=b.crypto.v(l.h(9,g),a.W).u();if(window.DOMParser){var d=new DOMParser;try{var f=d.parseFromString(e,"text/xml");c.Ll&&c.Ll(f)}catch(W){}}l.shift(9+g);M=L;q("PLAYBACK_NOTIFICATION_PROPERTY")}}},S,S,S,S,S,S,S,function(){var e=l.length();if(!(28>e)){var g=0,d=23;if(a.Ff){g=4;d=l.c(5);if(23>=d||d>23+b.b.Rg){b.a.log("disconnect, PLAYBACK_NOTIFICATION_JNR_MEETINGINFO invalid len");Q();return}if(e<9+d)return;e=b.crypto.v(l.h(9,d),a.W).u();a.Eh=e.slice(23);a.Fh=e.slice(0,23)}else a.Fh=
b.crypto.v(l.h(5,d),a.W).u(),a.Eh="";c.Fl&&c.Fl();l.shift(5+g+d);M=L;q("PLAYBACK_NOTIFICATION_JNR_MEETINGINFO")}}];G.onclose=function(){h();a.Id=!0;P||E()};G.onerror=function(){h();a.hf=!0;P||E()};G.onmessage=function(a){ca=0;h();a=new A.a.g(a.data);l.C(a);ma||r();P||(la=0,qa=b.a.B(),X())};ca=0;(function(){ma=setTimeout(function(){ma=null;null==H&&r()},6E4)})();X=B;l.length()&&(v(),la=0,qa=b.a.B(),X());a.disconnect=C}function y(){a.disconnect&&(a.disconnect(),c.gb&&c.gb(),a.disconnect=null)}function N(){a.Re=
!0;if(a.ra)a.Hc&&(a.Hc.disconnect(),a.Hc=null),a.Hc=new b.protocol.Hc(a);else{var g=new A.a.g;g.m(a.J);g.f(a.Vn);g.f(1);a.j.send(g.i())}a.Ra&&(a.Ra.disconnect(),a.Ra=null);a.Ra=new b.protocol.Ra(a)}function v(g,c,d,f,h){if(a.Oa){if(a.Oa.index==g)return;a.Oa.disconnect();a.Oa=null}a.w?a.Oa=new b.protocol.Ws(a,g,c,d,f,h):setTimeout(function(){h&&h()},0)}function n(g){if(!a.w||!x())return 1;var c=new A.a.g;c.m(a.J);c.f(a.pi);c.f(g?1:0);a.j.send(c.i());b.a.log("request audio "+(g?"On":"Off"))}function D(g){return 0<=
g&&g<b.b.za&&a.O[g]?a.O[g].Xc:0}function q(){return a.la||a.Ja||a.pc}function x(){return a.Qc>=a.pi?!0:!1}function G(){return a.Qc>=a.vi?!0:!1}function z(){return a.Qc>=a.ui?!0:!1}function ca(){return a.Qc>=a.Bi?!0:!1}function X(){return a.Qc>=a.Ci?!0:!1}var A=window.V,a={gc:1,hc:42,Sg:0,va:0};b.a.log("hmtg jnkernel version "+H());var c=b.jnkernel=b.Z=b.Z||{};c.version=c.version=H;a.Zb=new Int32Array(b.b.cd);a.ib=new Int32Array(b.b.Nb);a.P=[];B();a.disconnect=null;a.La="";a.oc=!1;a.dG=2;a.Qm=5E3;
a.ng=2E4;a.Pm=2E5;a.qc=!0;a.ae=!1;a.Lc=!1;a.D=-1;a.Oq=72;a.tn=48;a.qn=65;a.mn=67;a.Ag=68;a.si=69;a.ri=71;a.Yn=73;a.Ai=74;a.ti=75;a.Jd=77;a.Nn=81;a.Rn=83;a.Fg=84;a.$n=85;a.zi=88;a.on=70;a.zg=66;a.Ei=116;a.ad=33;a.Lo=86;a.vn=118;a.J=122;a.$t=0;a.pn=1;a.Zn=2;a.Ln=3;a.tu=4;a.Au=5;a.qw=6;a.Gu=7;a.Cn=8;a.Hu=9;a.su=10;a.eu=11;a.cu=12;a.Bu=13;a.cv=14;a.Dn=15;a.dv=16;a.Xu=17;a.kn=18;a.Ut=19;a.wn=20;a.Vn=21;a.xn=22;a.rn=23;a.Yt=24;a.pw=25;a.Yu=26;a.bv=27;a.av=28;a.zu=29;a.Vu=30;a.yi=31;a.On=32;a.Ko=33;a.$u=
34;a.Eg=35;a.wu=36;a.kf=37;a.Di=38;a.Bg=39;a.Uu=40;a.Wt=42;a.Vt=43;a.Mn=44;a.Dg=45;a.nu=46;a.xu=47;a.Cg=48;a.Du=49;a.Zt=50;a.Fu=51;a.En=52;a.Xt=53;a.Iu=54;a.Xn=55;a.Wu=56;a.Pn=57;a.Rt=58;a.fu=59;a.mu=60;a.uu=61;a.lu=62;a.Un=63;a.un=64;a.Bn=65;a.ru=66;a.An=67;a.qu=68;a.iu=69;a.ku=70;a.Tt=71;a.ow=72;a.hu=73;a.Zu=74;a.St=75;a.Eu=76;a.Sn=77;a.ln=78;a.ju=79;a.nn=80;a.yn=81;a.au=82;a.sn=83;a.Tn=84;a.zn=85;a.gu=86;a.du=87;a.pu=88;a.jn=89;a.Cu=90;a.bu=91;a.vu=92;a.Wn=93;a.pi=94;a.rw=95;a.Mo=96;a.sw=97;a.Ri=
98;a.ou=99;a.vi=100;a.ui=101;a.Bi=102;a.Ci=103;a.Tp=103;a.Fq=0;a.xz=1;a.vj=2;a.Kq=3;a.Iq=4;a.Jq=5;a.Gq=6;a.Eq=7;a.Lq=8;a.wz=9;a.zq=10;a.Bq=11;a.Fe=12;a.Cq=13;a.vz=14;a.uz=15;a.Aq=16;a.Hq=17;a.Kn=1;a.xi=2;a.wi=3;a.Hn=4;a.Gn=5;a.Jn=6;a.Fn=7;a.In=8;a.yu=9;a.Lz=0;a.Iz=1;a.Nz=2;a.Fz=3;a.Ez=4;a.Mz=5;a.Kz=6;a.Hz=7;a.Dz=8;a.Cz=9;a.Oz=10;a.Pz=11;a.Jz=12;a.Gz=13;a.Mq=14;a.Qg=65536;a.oj=8192;a.Qu=1;a.Qn=2;a.Ru=3;a.Ju=4;a.Lu=5;a.Ku=6;a.Ou=7;a.Pu=8;a.Mu=9;a.Su=10;a.Nu=11;a.Tu=12;a.qs=function(b){b=b.split(",");
if(2!=b.length)return{};var a=parseInt(b[1].trim());if(!a)return{};b[0]=b[0].trim();if(0==b[0].length)return{};var g=A.a.sr(b[0]);null==g&&(g="");return{Sb:b[0],Gb:g,port:a}};a.Ea=function(g){if(a.F==b.b.R){var c=(new Date).toString().replace(/(GMT.*)/,""),d=b.a.B()-a.fe,f=d>>>0;d>>=0;var h=f;f&2147483648&&(h=-f>>>0);var n=h/1E3/60>>>0;h=n/60>>>0;n=("0000"+(n-60*h)).slice(-2);b.a.Aj("hmtg_log_stat","hmtg_log_stat_first_idx","hmtg_log_stat_count","hmtg_log_stat_size","hmtg_log_stat_item_",b.a.Vp,b.a.Wp,
b.a.pr+":"+c+(f&2147483648?["(-",h,":",n,",",d,") "].join(""):["(",h,":",n,",",d,") "].join(""))+g)}};a.mG=function(g){a.Ea(b.a.zb(g))};a.Pj=function(){var b;for(b=0;b<a.$.length;b++)if(!a.$[b].Ye)return b;return-1};a.xh=function(b,d){d!=b&&c.de&&c.de(-1);d==a.D&&-1!=a.D&&b!=d&&(b=c.Jf?c.Jf():-1,-1!=a.Ib&&c.Bb&&c.Bb(1,a.Ib),-1==b?(b=a.Pj(),c.Bb&&c.Bb(0,b),c.yh(b)):c.yh(b))};a.rh=function(){var b;for(b=0;b<a.$.length;b++){var c=a.Jc[b];c&&c.data&&(a.va-=c.data.length);a.Jc[b]=a.$[b]}a.$=[]};a.cl=function(){var b;
for(b=0;b<a.Jc.length;b++){var c=a.Jc[b];c.data&&(a.va-=c.data.length)}a.Jc=[]};a.ss=function(b,c){if(!(b.wa||a.Jc.length<=c)){var g=!1;c=a.Jc[c];c.data&&(c.Ha==b.Ha?c.Cb==b.Cb||c.Cb&&0==c.Cb.indexOf("[Deleted]")&&c.Cb.slice(9)==b.Cb?(b.data=c.data,b.ja=c.fb,b.fb=c.fb,b.qa=c.qa,b.wa=c.wa,b.hash=c.hash,b.ht=c.ht,c.data=null):g=!0:g=!0,g&&a.cl())}};a.rs=function(){c.Ds();a.Ca=-1;a.ta=-1;a.ya=-1;a.vb=-1;b.a.log("reset participant video channel status in jn_PlaybackRestart");var g;for(g=0;g<b.b.cd;g++)a.Zb[g]=
-1;for(g=0;g<b.b.Nb;g++)a.ib[g]=-1;a.vb=-1;a.Ca=-1;b.a.log("init controller to -1 (playback restart)");a.qc=!0;a.Lc=!0;g=a.O;for(var d in g)g.hasOwnProperty(d)&&(g[d].Je=!1,g[d].$e=null);a.rh();c.Ml&&c.Ml()};a.sh=function(){a.IF=b.a.B()};a.Vm=function(g,c,d){function f(a,c){function d(){b.a.log("download self picture for ssrc "+g+" fails. error in loading image")}try{if(5E7<a.length){d();return}var f=new Blob([a],{type:c});var e=window.URL.createObjectURL(f)}catch(F){d();return}var h=new Image;h.addEventListener("load",
function(){window.URL.revokeObjectURL(e);h.width&&h.height?(r&&(r.$e=h),b.Z.Wl&&b.Z.Wl(g),b.a.log("download self picture for ssrc "+g+" completely")):b.a.log("download self picture for ssrc "+g+" fails. zero image size")},!1);h.addEventListener("error",function(){window.URL.revokeObjectURL(e);d()},!1);h.src=e}var r=a.O[g],h="";1==d?(h="image/bmp",(d=b.Z.zs())?new d("unzip",c,function(b){f(b,h)},function(){b.a.log("download self picture for ssrc "+g+" fails. error in unzipping")}):b.a.log("download self picture for ssrc "+
g+" fails. cannot unzip")):(2==d?h="image/gif":3==d?h="image/jpeg":4==d&&(h="image/png"),f(c,h))};a.O={};a.Wb=!1;a.la=!1;a.Ja=!1;a.wh=!1;a.pc=!1;a.Df=!1;a.tb=!1;a.D=-1;a.ta=-1;a.ya=-1;a.Ca=-1;a.Jb=0;a.vb=-1;a.Zh=[];for(var P=0;P<b.b.Eb;P++)a.Zh.push({});a.$=[];a.Jc=[];a.va=0;a.Re=!1;for(P=0;P<b.b.cd;P++)a.Zb[P]=-1;for(P=0;P<b.b.Nb;P++)a.ib[P]=-1;d.prototype._m_jn_major=function(){return this.U};d.prototype._m_jn_minor=function(){return this.nb};d.prototype._szRealName=function(){return this.gi};d.prototype._cap=
function(){return this.gd};d.prototype._bLogged=function(){return this.Je};d.prototype._m_spic_img=function(){return this.$e};d.prototype._m_iVideoSendingStatus=function(){return this.Im};d.prototype._m_iWebRTCStatus=function(){return this.Jm};d.prototype._m_bIsAudioSuppressed=function(){return this.Em};d.prototype._m_bIsVideoSuppressed=function(){return this.Fm};t.prototype._m_iSource=function(){return this.Ha};t.prototype._index=function(){return this.index};t.prototype._m_szName=function(){return this.Cb};
t.prototype._is_blank_page=function(){return this.mh};t.prototype._m_bDeleted=function(){return this.Ye};t.prototype._downloaded=function(){return this.wa};t.prototype._data=function(){return this.data};t.prototype._mark_array=function(){return this.gg};t.prototype._m_szGroup=function(){return this.Ad};t.prototype._m_iGroupIndex=function(){return this.Rh};t.prototype._m_szOwnerName=function(){return this.dc};t.prototype._group_id=function(){return""+this.Ad+this.dc+this.Ha};t.prototype._is_active=
function(){return a.D==c.ic()&&a.F==b.b.R?!1:this.index==a.Ib};f.prototype._m_iColor=function(){return this.Dm};f.prototype._m_iIndex=function(){return this.U};f.prototype._m_iSource=function(){return this.Ha};f.prototype._m_nPenWidth=function(){return this.Lm};f.prototype._m_iShape=function(){return this.Jt};f.prototype._m_codepage=function(){return this.Xc};f.prototype._m_byMarkType=function(){return this.Ec};f.prototype._ax=function(){return this.Xj};f.prototype._ay=function(){return this.ak};
f.prototype._m_zoom=function(){return this.nb};f.prototype._m_iID=function(){return this.nd};f.prototype._m_offset_x=function(){return this.qd};f.prototype._m_offset_y=function(){return this.uf};f.prototype._m_rect_left=function(){return this.an};f.prototype._m_rect_top=function(){return this.mp};f.prototype._m_rect_right=function(){return this.bn};f.prototype._m_rect_bottom=function(){return this.$m};f.prototype._m_szContent=function(){return this.Ap};f.prototype._m_move_type=function(){return this.Kt};
f.prototype._id_array=function(){return this.Bm};f.prototype._m_iCustomizedMarkType=function(){return this.yt};f.prototype._m_pCustomizedMarkData=function(){return this.Mt};p.prototype._guid_str=function(){return this.Wj};p.prototype._active=function(){return this.active};p.prototype._static_data=function(){return this.Ym};p.prototype._stat=function(){return this.stat};p.prototype._data_rate_threshold=function(){return this.jd};p.prototype._jn_tokens=p.prototype.kr=function(){if(0<this.ga)return this.ga;
var a=b.a.B();this.ga+=(a-this.Da)*this.yb/8E3;this.Da=a;return this.ga};p.prototype._data_rate=function(b){if("undefined"===typeof b)return this.yb;a.w&&(this.yb=b,c.Hb(0))};c.wt=function(g,d){function f(g,d){var e=a.$[g];!e.data||d&&!b.a.endsWith(e.Cb,".jzf")||(a.va-=e.data.length,e.data=null,e.ja=0,e.fb=0,e.wa=0,e.qa=0,c.dm&&c.dm(g))}var r=b.Z.Wh();if(!(a.va+d<=r)){var h,n=a.$.length,p=Math.max(n-1-g,g);for(h=p;0<h;h--){var q=g-h;if(0<=q&&(f(q,!0),a.va+d<=r))return;q=g+h;if(q<n&&(f(q,!0),a.va+
d<=r))return}for(h=p;0<h;h--){q=g-h;if(0<=q&&(f(q,!1),a.va+d<=r))break;q=g+h;if(q<n&&(f(q,!1),a.va+d<=r))break}}};c.Wh=function(){return c.jm?1048576*c.jm():536870912};c._memory_usage=c.bC=function(){return a.va};c._cipher_name=c.er=function(){return a.hd};c._duration_str=c.cB=function(){return a.Jr};c._jn_bConnected=c.zj=function(){return a.w};c._jn_bConnecting=c.mB=function(){return a.oc};c._jn_UserArray=c.gB=function(){return a.O};c._jn_ssrc_index=c.SB=function(){return a.D};c._jn_iSessionIndex=
c.LB=function(){return a.sa};c._jn_dwSessionStartTick=c.yB=function(){return a.fe};c._jn_iWorkMode=c.jr=function(){return a.F};c._jn_szUserID=c.TB=function(){return a.La};c._jn_codetype=c.tB=function(){return a.hb};c._jn_opus_preferred_bitrate=c.QB=function(){return a.Ue};c._jn_audio_codec_array=c.hB=function(){return a.$d};c._jn_video_codec_array=c.YB=function(){return a.ne};c._jn_SlideArray=c.fB=function(){return a.$};c._jn_iActiveSlideIndex=c.zB=function(){return a.Ib};c._jn_bTokenOwner=c.sB=function(){return a.Wb};
c._jn_bTokenHolder=c.rB=function(){return a.la};c._jn_bDataSender=c.nB=function(){return a.Ja};c._jn_iSize_w=c.NB=function(){return a.Bh};c._jn_iSize_h=c.MB=function(){return a.Ah};c._jn_bPreferenceQuestioner=c.hr=function(){return a.qc};c._jn_iAssistant=c.BB=function(){return a.vb};c._jn_iTokenHolder=c.OB=function(){return a.ta};c._jn_iController=c.CB=function(){return a.Ca};c._jn_iControlFlag=c.ir=function(){return a.Jb};c._jn_iDataSender=c.DB=function(){return a.ya};c.is_talker=c.yC=function(b){if(0>
b)return!1;if(b==a.ta||b==a.ya)return!0;for(var g=0;g<a.Sc;g++)if(b==a.Zb[g])return!0;return!1};c.is_questioner=c.wC=function(b){if(0>b||b==a.ta)return!1;if(b==a.ya)return!0;for(var g=0;g<a.Sc;g++)if(b==a.Zb[g])return!0;return!1};c.is_speaker=c.xC=function(b){if(0>b)return!1;for(var g=0;g<a.Sc;g++)if(b==a.Zb[g])return!0;return!1};c._jn_iParticipantVideoSsrc=c.JB=function(){return a.ib};c._jn_iParticipantAudioSsrc=c.IB=function(){return a.Zb};c._jn_iAdjustedMaxBandwidth=c.AB=function(){return a.Pc};
c._jn_iMaxBandwidth=c.FB=function(){return a.wb};c._jn_tokens=c.kr=function(){if(0<a.ga)return a.ga;var g=b.a.B();a.ga+=(g-a.Da)*a.ua/8E3;a.Da=g;return a.ga};c._jn_auto_download_all=c.jB=function(){return a.us};c._jn_auto_download_next=c.kB=function(){return a.vs};c._jnj_opus_preferred_bitrate=c.aC=function(){return a.ft};c._stat_video=c.eC=function(){return a.Xm};c._stat_audio=c.dC=function(){return a.Wm};c._codec2str=c.bB=function(){return b.o.Zg};c._jn_bPreferenceQuestioner=c.hr=function(){return a.qc};
c._jn_bPreferenceBothVideo=c.oB=function(){return a.ae};c._jn_bRecvVideo=c.qB=function(){return a.Lc};c._jn_iMaxParticipantAudio=c.GB=function(){return a.Sc};c._jn_bQuestionRequest=c.pB=function(){return a.tb};c._jn_iControlFlag=c.ir=function(){return a.Jb};c._jn_conversion_support=c.vB=function(){return a.zh};c._jn_conversion_count=c.uB=function(){return a.Oc};c._jn_disable_upload_file=c.xB=function(){return a.om};c._jn_disable_save_slide=c.wB=function(){return a.nm};c._sync_ssrc=c.ic=function(){return a.Jb&
b.b.Ig?a.Ca:a.ta};c._is_sync_ssrc=c.yj=function(){var g=a.Jb&b.b.Ig?a.Ca:a.ta;return-1!=a.D&&a.D==g};c._q_ssrc=c.He=function(){return a.Jb&b.b.Xi?a.Ca:a.ta};c._fullscreen_ssrc=c.dB=function(){return a.Jb&b.b.Zi?a.Ca:a.ta};c._tab_ssrc=c.lr=function(){return a.Jb&b.b.$i?a.Ca:a.ta};c._poll_ssrc=c.cC=function(){return a.Jb&b.b.Iw?a.Ca:a.ta};c._jn_iRecordingStatus=c.KB=function(){return a.qm};c._jn_to_archive=c.VB=function(){return a.zm};c._jn_plugin_data=c.RB=function(){return a.P};c._has_jnr_password=
c.eB=function(){return a.jh};c._jn_bEnableJNRPassword=c.gr=function(){return a.Oe};c._jn_user_record=c.XB=function(){return a.Kh};c._jn_bAudioCap=c.lB=function(){return a.Kc};c._jn_webrtc_signal_server_url=c.$B=function(){if(!a.oe)return"";var g=b.crypto.$c(a.xc.ia.slice(0,16));g=g.Mb().slice(0,32);var c=b.crypto.$c(a.Um.ia.slice(0,16));c=(""+a.sa+"a"+c.Mb()).slice(0,36);return a.oe+"?peerName="+a.D+"&roomId="+c+"&hash="+g};c._jn_webrtc_check_auth=c.ZB=function(g){var c=b.crypto.$c(a.xc.key.slice(0,
16));c=c.Mb().slice(0,32);return c==g};c._jn_is_webrtc_supported=c.PB=function(){return!!a.oe};c._jn_turn_server_array=c.WB=function(){return a.Jh};c._jn_audio_rate=c.iB=function(b){if("undefined"===typeof b)return a.Ne;a.w&&(a.Ne=b,c.Hb(0))};c._jn_iMaxVideoBitrate=c.HB=function(b){if("undefined"===typeof b)return a.Vf;a.w&&(a.Vf=b,c.Hb(0))};c._jn_iMaxAppdataBitrate=c.EB=function(b){if("undefined"===typeof b)return a.Te;a.w&&(a.Te=b,c.Hb(0))};c._jn_targetrate=c.UB=function(g){if("undefined"===typeof g)return a.ua;
a.ua!=g&&a.w&&(b.a.log("JoinNet set target rate "+a.ua+" -> "+g),a.ua=g,c.Hb(0))};c.jn_command_Reset=c.TE=function(){a.F=b.b.R;a.$=[];a.Jc=[];a.va=0};c.jn_command_CallbackReady=c.jE=function(){var a=b.Z;a.tl=a.jn_callback_ErrorReport;a.zs=a.jn_callback_decompress;a.jm=a.jn_callback_memory_threshold;a.im=a.jn_callback_fail_to_connect;a.Ka=a.jn_callback_UpdateStatus;a.ub=a.jn_callback_UpdateStatus_MessageBox;a.Hf=a.jn_callback_ErrorWrongVersion;a.Mc=a.jn_callback_DisconnectFromMCU;a.ll=a.jn_callback_AddUser;
a.sl=a.jn_callback_DeleteUser;a.gb=a.jn_callback_EventQuitSession;a.ul=a.jn_callback_EventStartSession;a.jl=a.jn_callback_AddSlideTitle;a.Ba=a.jn_callback_ChatText;a.Kf=a.jn_callback_NetInitFinish;a.xl=a.jn_callback_JointBrowsing;a.mm=a.jn_callback_update_duration_str;a.Il=a.jn_callback_PlaybackInitStat;a.Nl=a.jn_callback_PlaybackTickUpdate;a.Ml=a.jn_callback_PlaybackRestart;a.pl=a.jn_callback_ChangeWorkMode;a.ml=a.jn_callback_AudioPacketRecved;a.em=a.jn_callback_VideoPacketRecved;a.bm=a.jn_callback_UnknownMediaAlert;
a.Jf=a.jn_callback_GetSelectedSlideIndex;a.Bb=a.jn_callback_FlipSlide;a.ee=a.jn_callback_mark_event;a.If=a.jn_callback_FocusPointer;a.cm=a.jn_callback_UpdateDeletedSlideTitle;a.dm=a.jn_callback_UpdateReleasedSlideTitle;a.El=a.jn_callback_NewTokenHolder;a.Lf=a.jn_callback_NewDataSender;a.Bl=a.jn_callback_NewAssistant;a.Dl=a.jn_callback_NewController;a.Cl=a.jn_callback_NewControlFlag;a.Gl=a.jn_callback_ParticipantVideoSpeakerStatus;a.Qf=a.jn_callback_VideoBitrateChanged;a.Gf=a.jn_callback_AppdataBitrateChanged;
a.il=a.jn_callback_AddQuestion;a.nl=a.jn_callback_CancelQuestion;a.wl=a.jn_callback_JoinRequest;a.Vl=a.jn_callback_SIPJoinRequest;a.km=a.jn_callback_sipclient_status_update;a.lm=a.jn_callback_sipclient_transfer_update;a.ys=a.jn_callbackQuestionSkipped;a.ql=a.jn_callback_ConversionCount;a.rl=a.jn_callback_ConversionResult;a.ol=a.jn_callback_ChangeCapability;a.Sl=a.jn_callback_PollRequest;a.hl=a.jn_callback_AddPollResult;a.am=a.jn_callback_TokenHolderPollRequest;a.kl=a.jn_callback_AddTokenHolderPollResult;
a.Nc=a.jn_callback_LeaveMessage;a.Rf=a.jn_callback_WaitForResponse;a.yl=a.jn_callback_JointBrowsingMode;a.$l=a.jn_callback_SyncFullScreen;a.Xl=a.jn_callback_ServerShutdown;a.Nf=a.jn_callback_PromptPassword;a.ce=a.jn_callback_ReconnectName;a.Wl=a.jn_callback_SelfPictureReady;a.vl=a.jn_callback_ForceSync;a.Zl=a.jn_callback_SwapSlide;a.Al=a.jn_callback_MoveSlide;a.de=a.jn_callback_ResetSlidePolling;a.Tl=a.jn_callback_PollSlideDownloadResult;a.Ul=a.jn_callback_RecordingStatusNotification;a.hm=a.jn_callback_archive_recording;
a.Sf=a.jn_callback_jnr_password_status;a.Mf=a.jn_callback_PlugInRequestChannelResponse;a.Ol=a.jn_callback_PlugInCloseChannelResponse;a.Rl=a.jn_callback_PlugInSetStaticDataResponse;a.Pl=a.jn_callback_PlugInControlChannelData;a.Ql=a.jn_callback_PlugInPacketRecved;a.fm=a.jn_callback_VideoSendingStatusNotification;a.Kl=a.jn_callback_PlaybackJNRDecryptionStatus;a.Jl=a.jn_callback_PlaybackJNRDecryptionProgress;a.Yl=a.jn_callback_SetDefaultPlaybackVideo;a.Xb=a.jn_callback_ForceIFrame;a.Ll=a.jn_callback_PlaybackJNRPropertyReady;
a.Yb=a.jn_callback_IsRecvingAudio;a.gm=a.jn_callback_WebRTCStatusNotification;a.Hl=a.jn_callback_PlaybackEndOfFile;a.zl=a.jn_callback_MeetingTitle;a.Of=a.jn_callback_SuppressAudio;a.Pf=a.jn_callback_SuppressVideo;a.Fl=a.jn_callback_NotifyJNRMeetinginfo};c.jn_command_read_jnj=c.AF=function(c){a.rh();a.cl();a.sh();var d=c.entries;B();a.Ps=d.portm>>>0;a.Qs=(d.portm2||0)>>>0;a.wm=d.ip;a.xm=d.backupip||"";a.Bh=d.size_w||320;a.Ah=d.size_h||240;8>a.Bh&&(a.Bh=8);8>a.Ah&&(a.Ah=8);a.us=d.auto_download_all;
a.vs="undefined"===typeof d.auto_download_next?!0:d.auto_download_next>>0;a.ft="undefined"===typeof d.opus_preferred_bitrate?0:d.opus_preferred_bitrate>>0;a.Xe=d.userinfo||"";a.wm=d.ip;a.xm=d.backupip||"";var g=a.hb=d.codetype||0;a.qh=a.qs(d.use_relay||"");a.tm=d.make_recording||0;if(0==g)b.a.log("no code type found in .jnj file");else{if(4==g||5==g){a.La=a.rc=(d.userid||"").slice(0,127);if(!a.rc)return b.a.log("no userid is specified in .jnj file"),!1;if((c=d.owner_passwd||"")&&b.a.localStorage[c]){var f=
b.a.se(b.a.localStorage[c]);"undefined"!==f&&f.time&&"string"===typeof f.value&&(f=b.crypto.v(f.value,b.crypto.gf).u(),a.xd=f.slice(0,99),b.a.sd||b.a.localStorage.removeItem(c))}a.Dh=(d.username||"").slice(0,127);a.bg=(d.playback_filename||"").slice(0,23);a.ke=(d.invite_ticket||"").slice(0,255);a.be=!0;a.$b=a.Uc="";if(5!=g||a.bg)4==g?(a.ke?(a.La=("_"+a.rc).slice(0,127),a.Ve=a.We="Invited Guest"):a.xd?(a.La=a.rc,a.Uc=b.a.ff(a.xd,b.b.nj),a.$b=a.Uc,a.xd=""):(a.La=("_"+a.rc).slice(0,127),a.Ve=a.We="Guest"),
a.F=b.b.R):(a.xd&&(a.La=a.rc,a.Uc=b.a.ff(a.xd,b.b.nj),a.$b=a.Uc,a.xd=""),a.F=b.b.Aa);else return b.a.log("no jnr is specified in playback jnj file"),!1;return!0}if(13==g||15==g){a.Xe=b.a.ff(d.userinfo||"",b.b.Yp);a.La=a.rc=(d.userid||"").slice(0,127);if(0==a.Xe.length)return b.a.log("no userinfo is specified in .jnj file"),!1;a.me=b.a.ff(d.player_name||"",128);a.me.length&&b.a.pe(["found player_name ",a.me," in jnj"].join(""));15==g?((c=d.owner_passwd||"")&&b.a.localStorage[c]&&(f=b.a.se(b.a.localStorage[c]),
"undefined"!==f&&f.time&&"string"===typeof f.value&&(f=b.crypto.v(f.value,b.crypto.gf).u(),a.ym=f.slice(0,99),b.a.sd||b.a.localStorage.removeItem(c))),a.be=!0,a.Ff=!1,a.F=b.b.Aa):(a.Ff=!0,a.F=d.action?b.b.Aa:b.b.R);a.$b=a.Uc="";return!0}}return!1};c.jn_command_initconnectmedia=c.Gs=function(d){a.dt=!1;a.w=!1;a.$D=!1;a.gl=!1;a.Wb=!1;a.la=!1;a.Ja=!1;a.wh=!1;a.pc=!1;a.Df=!1;a.tb=!1;a.fe=b.a.B();a.ua=a.Pc=a.wb=a.Vf=1E7;a.Te=0;a.Ne=0;a.Tc=0;a.D=-1;a.ta=-1;a.ya=-1;a.Ca=-1;a.Jb=0;a.vb=-1;a.Zh=[];for(var g=
0;g<b.b.Eb;g++)a.Zh.push({});a.Re=!1;for(g=0;g<b.b.cd;g++)a.Zb[g]=-1;for(g=0;g<b.b.Nb;g++)a.ib[g]=-1;a.O={};a.Lh=-1;a.Mh=-1;a.Ue=0;a.Uf=-1;a.Sc=-1;a.he=-3;a.Pe=!1;a.Js=-1;a.GF=-2;a.ws=!1;a.dl=!1;a.rm=0;a.sm=0;a.Oe=!1;a.Ef=!1;a.Am=!1;a.om=a.nm=0;a.ts=0;a.$d=[];a.et=0;a.ne=[];a.zm=!1;a.jh=!1;a.zh=0;a.Oc=0;a.qm=1;a.Zc&&(a.Zc.disconnect(),a.Zc=null);a.oe="";a.Jh=[];a.vm="";a.Gh="";a.el=!1;a.fl=!1;a.Fh="";a.Eh="";a.Kc=a.ud=!1;c.ul&&c.ul();a.Qe=d||!1;a.cE=!1;a.oc=!0;a.ra=!1;a.qh.port?a.F==b.b.Aa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):
(a.ba=a.qh,a.ra=!0,b.a.log(["using one time mcu relay ",a.ba.Sb,",",a.ba.port].join(""))):a.bE&&a.ba.port&&(a.F==b.b.Aa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):b.a.log(["using mcu relay ",a.ba.Sb,",",a.ba.port].join("")));a.Qc=0;a.$f=0;g=b.o.ai(a.wm,a.xm,a.Ps,a.Qs);d=g.Uh;g=g.fi;a.tm&&a.ra&&(b.a.log("make recording cannot use relay, clear relay setting and try to directly connect......"),a.ra=!1);C(d,g)};c.jn_command_QuitConnection=
c.Cs=function(){a.disconnect&&(b.a.log("disconnect, user(or a reconnection) quit connection"),y())};c.jn_command_OwnerResponse=c.zE=function(b,c){var d=new A.a.g;d.m(a.J);d.f(a.Cn);d.G(b);d.f(c);a.j.send(d.i());return 0};c.jn_command_SendChatText=c.UE=function(d,f){if(!a.w)return 1;if(b.a.startsWith(f,"__command:")){if(b.a.startsWith(f,"__command: swap ")){d=f.slice(16);f=d.indexOf(" ");if(-1==f)return c.Ba&&c.Ba(-1,-1,1,"syntax:",0),c.Ba&&c.Ba(-1,-1,1,"__command: swap m n",0),0;c.Es(parseInt(d),
parseInt(d.slice(f+1)))}else if(b.a.startsWith(f,"__command: move ")){d=f.slice(16);f=d.indexOf(" ");if(-1==f)return c.Ba&&c.Ba(-1,-1,1,"syntax:",0),c.Ba&&c.Ba(-1,-1,1,"__command: move index target_pos",0),0;c.As(parseInt(d),parseInt(d.slice(f+1)))}else c.Ba&&c.Ba(-1,-1,1,"list of commands:",0),c.Ba&&c.Ba(-1,-1,1,"__command: swap m n",0),c.Ba&&c.Ba(-1,-1,1,"__command: move index target_pos",0);return 0}if(f.length>=b.b.Xp)return 1;if(-1==d)return a.w?(d=new A.a.g("C"),d.f(f.length),f.length&&d.C(b.crypto.K(f,
a.W)),a.j.send(d.i()),f=0):f=1,f;var g=new A.a.g;g.m(a.J);g.f(a.Mn);g.f(d);g.f(f.length);f.length&&g.C(b.crypto.K(f,a.W));a.j.send(g.i());return 0};c.jn_command_UpdateTextCodePage=c.pF=function(c){if(!a.w||a.F!=b.b.R)return 1;var d=new A.a.g;d.m(a.J);d.f(a.Xn);d.f(c);a.j.send(d.i());return 0};c.jn_command_WebOfficeSetVisitorName=c.xF=function(b){a.Ve=a.We=b};c.jn_command_WebOfficeSetOwnerPassword=c.wF=function(b){a.La=a.rc;a.Uc=b;a.$b=a.Uc};c.jn_command_PlaybackPlay=c.FE=function(){if(!a.w||a.F!=
b.b.Aa)return 1;var c=new A.a.g;c.m(a.ad);c.f(9);a.j.send(c.i());return 0};c.jn_command_PlaybackPause=c.EE=function(){if(!a.w||a.F!=b.b.Aa)return 1;var c=new A.a.g;c.m(a.ad);c.f(7);a.j.send(c.i());return 0};c.jn_command_PlaybackRandomAccess=c.GE=function(c){if(!a.w||a.F!=b.b.Aa)return 1;var d=new A.a.g;d.m(a.ad);d.f(8);d.f(c);a.j.send(d.i());a.sh();return 0};c.jn_command_PlaybackRequestRepeat=c.HE=function(c){if(!a.w||a.F!=b.b.Aa)return 1;var d=new A.a.g;d.m(a.ad);d.f(c?6:5);a.j.send(d.i());return 0};
c.jn_command_PlaybackSetSpeed=c.IE=function(c){if(!a.w||a.F!=b.b.Aa||!G())return 1;var d=new A.a.g;d.m(a.J);d.f(a.vi);d.f(c);a.j.send(d.i());return 0};c.jn_command_TCPMedia=c.jF=N;c.jn_command_UnknownMedia=c.Fs=function(d,f,h){h=h?h:"";if(!a.th[d+h]){a.th[d+h]=!0;b.a.log("unknown media type "+d+h+" from ssrc "+f+", alert user");var g;a.O[f]?g=a.O[f].gi:g="ssrc"+f;c.bm&&c.bm(d,g,h)}};c.jn_command_write_timestamp_given=c.Is=function(b,c,d,f){var g=new A.a.g;g.m(b);g.f(f);g.f(d);g.f(a.D);g.f(a.sa);g.f(0);
g.C(new A.a.g(c));return g};c.jn_command_generate_auth_data=c.Tf=function(c){var d=b.a.B()-a.ab,g=new A.a.g;g.f(d);d=""+String.fromCharCode(g.M(0)^c.M(4));d+=String.fromCharCode(g.M(1)^c.M(8));d+=String.fromCharCode(g.M(2)^c.M(12));d+=String.fromCharCode(g.M(3)^c.M(16));return d=b.crypto.K(d,a.da).u()};c.jn_command_send_audio_pkt=c.BF=function(b){return a.Ra&&c.Ks()?a.Ra.At(b):!0};c.jn_command_send_video_pkt=c.DF=function(b){return a.Ra&&c.Ls()?a.Ra.Dt(b):!0};c.jn_command_send_plugin_pkt=c.CF=function(b,
d,c,f,h,n){return a.Ra?a.Ra.Bt(b,d,c,f,h,n):!0};c.jn_command_send_spic_pkt=c.Hs=function(b){return a.Ra?a.Ra.Ct(b):!0};c.jn_command_AskQuestion=c.gE=function(){if(a.w&&!(a.la||a.tb||a.pc||a.Ja)){var b=new A.a.g("Q");b.f(a.D);b.f(3);b.L("Yes");a.j.send(b.i());a.tb=!0}};c.jn_command_simulate_disconnect=c.EF=function(){b.a.log("simulate network disconnection");var d=new A.a.g("H");a.j.send(d.i())};c.jn_command_RefreshSlide=c.PE=function(b){a.w&&(a.Oa&&(a.Oa.disconnect(),a.Oa=null),b=a.$[b],b.data&&(a.va-=
b.data.length),b.data=null,b.ja=0,b.fb=0,b.wa=0,b.qa=0)};c.jn_command_DownloadSlide=c.oE=function(b,a,d,c){v(b,!1,a,d,c)};c.jn_command_DownloadSlideEx=c.pE=function(b,a,d,c){v(b,!0,a,d,c)};c.jn_command_StopSlideDownload=c.Ds=function(){a.Oa&&(a.Oa.disconnect(),a.Oa=null)};c.jn_command_UploadSlide=c.sF=function(d,c,f,h,n,p,q){a.yc&&(a.yc.disconnect(),a.yc=null);a.w?a.yc=new b.protocol.Zs(a,d,c,f,h,n,p,q):setTimeout(function(){q&&q()},0)};c.jn_command_StopSlideUpload=c.fF=function(){a.yc&&(a.yc.disconnect(),
a.yc=null)};c.jn_command_UploadSelfPicture=c.rF=function(d,c){a.Zc||1E6<c.length||(a.Zc=new b.protocol.bt(a,d,c))};c.jn_command_FlipSlide=c.yh=function(b){if(a.w){var d=new A.a.g("A");d.f(b);a.j.send(d.i());-1!=b&&c.Bs(b)}};c.jn_command_PollSlideDownload=c.Bs=function(b){c.de&&setTimeout(function(){c.de(b)},0);a.$h&&clearTimeout(a.$h);a.$h=setTimeout(function(){a.$h=null;if(a.w){var d=new A.a.g;d.m(a.J);d.f(a.Eg);d.f(0);d.f(b);a.j.send(d.i())}},1E3)};c.jn_command_FocusPointer=c.sE=function(b,d,c,
f,h,n,p){var g=new A.a.g;g.m(a.J);g.f(a.rn);g.f(b);g.f(d);g.f(c);g.f(f);g.f(h);g.f(n);g.f(p);a.j.send(g.i())};c.jn_command_SendNewStroke=c.YE=function(d,c,f,h,n,p){if(a.w){var g=new A.a.g;g.m(a.Jd);g.m(b.b.Og);g.f(c);g.f(d);g.f(a.D);g.f(f);g.f(h);g.f(n.length);for(d=0;d<n.length;d++)g.f(n[d]),g.f(p[d]);g.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):a.j.send(g.i())}};c.jn_command_SendNewText=c.ZE=function(d,c,f,h,n,p,q,t){if(a.w&&!(2048<=t.length)){var g=
new A.a.g;g.m(a.Jd);g.m(b.b.Pg);g.f(c);g.f(d);g.f(a.D);g.f(f);g.f(h);g.f(n);g.f(h+p);g.f(n+q);g.f(t.length);t.length&&g.C(b.crypto.K(t,a.W));g.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):a.j.send(g.i())}};c.jn_command_SendMarkMove=c.XE=function(d,c,f,h,n){if(a.w){var g=new A.a.g;g.m(a.Jd);g.m(b.b.lj);g.f(d);g.f(c);g.f(f);g.f(h);g.f(100);g.f(n.length);for(d=0;d<n.length;d++)g.f(n[d]);b.a.debug_mark_delay?setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):
a.j.send(g.i())}};c.jn_command_SendImageMark=c.WE=function(d,c,f,h,n,p,q,t,v){if(a.w){var g=1==c?8:4;if(5E5<g+t.length)return 1;var e=new A.a.g;e.m(a.Jd);e.m(b.b.kj);e.f(d);e.f(f);e.f(h);e.f(q);e.f(c);e.f(g+t.length);4!=c&&(e.Dd(f+n),e.Dd(h+p));5!=c&&e.Yc(v);e.C(new A.a.g(t));b.a.debug_mark_delay?setTimeout(function(){a.j.send(e.i())},1E3*b.a.debug_mark_delay):a.j.send(e.i())}};c.jn_command_ConvertCustomizedData=c.lE=function(b,a,d,c,f,h,n){var g=new A.a.g;4!=b&&(g.Dd(a+c),g.Dd(d+f));5!=b&&g.Yc(n);
g.C(new A.a.g(h));return g.h(0)};c.jn_command_ChangeCapability=c.kE=function(b,d){!a.w||!!a.uh==!!b&&!!a.vh==!!d||(a.Kc=b,a.ud=d,b=new A.a.g,b.m(a.J),b.f(a.ln),d=0,a.uh=a.Kc,a.vh=a.ud,a.Kc&&(d|=1),a.ud&&(d|=2),b.m(d),a.j.send(b.i()))};c.jn_command_AdjustVideoBitrate=c.Hb=function(d){var g,f=a.ua,h=a.Pc,n=a.wb;if(a.Tc){var p=1;a.ya!=a.ta&&p++;for(g=0;g<b.b.cd;g++)-1!=a.Zb[g]&&p++;n=Math.min(a.Tc/p,n)}n=Math.min(a.Vf+a.Ne,n)>>0;a.Pc=n>>0;p=a.ua;if(d){f=p;var q=a.ua/20;q=Math.max(3E3,q);q+=500*Math.random();
p+=q*d>>0;p=Math.max(f>>1,p);p=Math.min(f<<1,p)}p=Math.min(n-a.Ne,p);p=Math.max(b.b.Zp,p);a.ua=p;if(f!=a.ua||h!=a.Pc)f!=a.ua&&a.w&&(a.Ea("rate control, targetrate "+f+" -> "+a.ua),a.F==b.b.R&&b.a.log("rate control, targetrate "+f+" -> "+a.ua)),h!=a.Pc&&a.w&&(a.Ea("max bandwidth "+h+" -> "+a.Pc),a.F==b.b.R&&b.a.log("max bandwidth "+h+" -> "+a.Pc)),c.Qf&&c.Qf();for(g=0;g<b.b.Eb;g++)a.P[g]&&a.P[g].active&&(q=a.P[g].jd/20,q=Math.max(3E3,q),q+=500*Math.random(),p=a.P[g].yb,p+=q*d>>0,f=a.P[g].jd,a.Te&&
(f=Math.min(a.Te,f)>>0),p=Math.min(f,p),p=Math.max(1E3,p),p=Math.max(a.P[g].yb>>1,p),p=Math.min(a.P[g].yb<<1,p),a.P[g].yb!=p&&(a.w&&a.Ea("appdata channel "+g+", data rate "+a.P[g].yb+" -> "+p),a.P[g].yb=p,c.Gf&&c.Gf(g)))};c.jn_command_UpdatePreference=c.oF=function(b){if(a.w&&(!b||!a.qc)&&(b||a.qc)){a.qc=b;var d=new A.a.g;d.m(a.J);d.f(a.Ln);d.f(a.D);d.f(b?1:0);a.j.send(d.i())}};c.jn_command_UpdateBothVideoPreference=c.nF=function(d){if(a.w&&(!d||!a.ae)&&(d||a.ae)){a.ae=d;var c=new A.a.g;a.F==b.b.R?
(c.m(a.J),c.f(a.yi)):(c.m(a.ad),c.f(10));c.f(d?1:0);a.j.send(c.i())}};c.jn_command_RequestVideo=c.SE=function(b){if(a.w&&(!b||!a.Lc)&&(b||a.Lc)){a.Lc=b;var d=new A.a.g;d.m(a.Lo);d.f(b?1:0);a.j.send(d.i())}};c.jn_command_ParticipantVideoRequest=c.BE=function(d){for(var c,g=c=-1,f=0;f<b.b.Nb;f++){if(a.ib[f]==d){c=f;break}-1==a.ib[f]&&(g=f)}if(a.F==b.b.R){if(!a.w)return 1;if(-1!=c)return 0;c=new A.a.g;c.m(a.J);c.f(a.kf);c.f(a.Iq);c.f(d);a.j.send(c.i())}else if(a.F==b.b.Aa){if(!a.w)return 1;if(-1!=c)return 0;
-1==g&&(c=new A.a.g,c.m(a.J),c.f(a.Cg),c.f(a.ib[0]),c.f(0),a.j.send(c.i()),g=0);c=new A.a.g;c.m(a.J);c.f(a.Cg);c.f(d);c.f(1);a.j.send(c.i());0<=d&&d<b.b.za&&(a.ib[g]=d)}return 0};c.jn_command_ParticipantVideoStop=c.CE=function(d){var c;if(!a.w)return 1;var g=-1;for(c=0;c<b.b.Nb;c++)if(a.ib[c]==d){g=c;break}if(-1==g)return 0;a.F==b.b.R?(c=new A.a.g,c.m(a.J),c.f(a.kf),c.f(a.Eq),c.f(d),a.j.send(c.i()),a.ib[g]=-1):a.F==b.b.Aa&&(a.ib[g]=-1,c=new A.a.g,c.m(a.J),c.f(a.Cg),c.f(d),c.f(0),a.j.send(c.i()));
return 0};c.jn_command_ParticipantVideoAssignSpeaker=c.AE=function(d){if(!a.w)return 1;if(a.D!=c.He())return 0;if(a.F==b.b.R){b.a.log("assign speaker to ssrc "+d);var g=new A.a.g;g.m(a.J);g.f(a.kf);g.f(a.zq);g.f(d);a.j.send(g.i())}return 0};c.jn_command_ParticipantVideoStopSpeaker=c.DE=function(d){if(!a.w)return 1;var g=c.He();if(d!=a.D&&a.D!=g)return 0;a.F==b.b.R&&(b.a.log("stop speaker ssrc "+d),g=new A.a.g,g.m(a.J),g.f(a.kf),g.f(a.Bq),g.f(d),a.j.send(g.i()));return 0};c.jn_command_GiveoutToken=
c.uE=function(d){if(!a.w)return 1;if(d!=a.D&&!a.la)return 0;b.a.log("change token to "+d+" - giveout token");var c=new A.a.g;c.m(a.Fg);c.f(d);a.j.send(c.i());return 0};c.jn_command_GiveoutToken2=c.vE=function(d,c){var g;if(!a.w)return 1;if(d!=a.D&&a.la||!a.la&&0==a.D&&d==a.D||!a.la&&a.D==a.vb&&d==a.D||a.Jb&b.b.Yi&&!a.la&&a.D==a.Ca&&d==a.D){if("undefined"==typeof c){c=[];var f={};f[d]=1;a.ya==a.ta||f[a.ya]||(f[a.ya]=1,c.push(a.ya));var h=a.Zb;for(g=0;g<h.length;g++)-1==h[g]||f[h[g]]||(f[h[g]]=1,c.push(h[g]));
a.la&&!f[a.D]&&c.push(a.D)}f=new A.a.g;if(c.length)for(f.m(a.J),f.f(a.Dn),f.f(d),f.f(c.length),g=0;g<c.length;g++)f.f(c[g]);else f.m(a.Fg),f.f(d);a.j.send(f.i());b.a.log("change token to "+d+" - "+(a.la?"holder":0==a.D?"owner":a.D==a.vb?"assistant":"controller")+" GiveoutToken2"+(c.length?" with question ["+c.toString()+"]":""))}return 0};c.jn_command_AllowQuestion=c.fE=function(d){if(!a.w)return 1;if(a.D==c.He()){var g=new A.a.g;g.m(a.Ag);g.f(d);a.j.send(g.i());b.a.log("set datasender to "+d)}return 0};
c.jn_command_SkipQuestion=c.eF=function(b){if(!a.w)return 1;if(a.D==c.He()){var d=new A.a.g;d.m(a.Ai);d.f(b);a.j.send(d.i())}return 0};c.jn_command_EndQuestion=c.qE=function(){if(!a.w)return 1;var b=new A.a.g;b.m(a.Ag);b.f(-1);a.j.send(b.i());return 0};c.jn_command_EndQuestionRequest=c.rE=function(){if(!a.w)return 1;var b=new A.a.g;b.m(a.J);b.f(a.pn);b.f(a.D);a.j.send(b.i());a.tb=!1;return 0};c.jn_command_Disconnect=c.nE=function(b){if(!a.w)return 1;var d=new A.a.g;d.m(a.ti);d.f(b);a.j.send(d.i());
return 0};c.jn_command_BanUserID=c.iE=function(b){if(!a.w||!a.Wb&&a.D!=a.vb)return 1;var d=new A.a.g;d.m(a.J);d.f(a.kn);d.f(b);a.j.send(d.i());return 0};c.jn_command_SetController=c.aF=function(d){if(!a.w||!a.Wb&&!a.la&&a.D!=a.Ca)return 1;var c=new A.a.g;c.m(a.J);c.f(a.nn);c.f(d);a.j.send(c.i());b.a.log((a.Wb?"owner":a.la?"holder":"controller")+" change controller to "+d);return 0};c.jn_command_AssignAssistant=c.hE=function(b){if(!a.w||!a.Wb&&a.D!=a.vb)return 1;var d=new A.a.g;d.m(a.J);d.f(a.jn);
d.f(b);a.j.send(d.i());return 0};c.jn_command_TerminateSession=c.kF=function(){if(!a.w)return 1;var b=new A.a.g;b.m(a.zi);a.j.send(b.i());return 0};c.jn_command_SetControlFlag=c.$E=function(d){if(!a.w||!a.Wb&&!a.la&&a.D!=a.Ca)return 1;var c=new A.a.g;c.m(a.J);c.f(a.yn);c.f(d);a.j.send(c.i());b.a.log([a.Wb?"owner":a.la?"holder":"controller"," change control flag to 0x",d.toString(16),"(",b.o.Hj(d),")"].join(""));return 0};c.jn_command_DeleteSlide=c.mE=function(b){if(!a.w)return 1;var d=new A.a.g;d.m(a.si);
d.f(b);a.j.send(d.i());return 0};c.jn_command_SendClearMarking=c.VE=function(d){if(!a.w)return 1;var c=new A.a.g;c.m(a.ri);c.f(d);b.a.debug_mark_delay?setTimeout(function(){a.j.send(c.i())},1E3*b.a.debug_mark_delay):a.j.send(c.i());return 0};c.jn_command_UndoMark=c.mF=function(d){if(!a.w)return 1;var c=new A.a.g;c.m(a.J);c.f(a.Zn);c.f(a.D);c.f(d);b.a.debug_mark_delay?setTimeout(function(){a.j.send(c.i())},1E3*b.a.debug_mark_delay):a.j.send(c.i());return 0};c.jn_command_GlobalUndoMark=c.wE=function(d,
c){if(!a.w)return 1;var f=new A.a.g;f.m(a.Jd);f.L("u");f.f(d);f.f(c);b.a.debug_mark_delay?setTimeout(function(){a.j.send(f.i())},1E3*b.a.debug_mark_delay):a.j.send(f.i());return 0};c.jn_command_PollResult=c.NE=function(b,d){if(!a.w)return 1;var c=new A.a.g;1==b?c.m(a.Ei):(c.m(a.J),c.f(a.Di));c.f(2);c.f(d);a.j.send(c.i());return 0};c.jn_command_TokenHolderPoll=c.lF=function(){if(!a.w)return 1;var b=new A.a.g;b.m(a.J);b.f(a.Di);b.f(1);a.j.send(b.i());return 0};c.jn_command_UserContinue=c.vF=function(){var b=
new A.a.g;b.f(1);a.j.send(b.i())};c.jn_command_UserCancel=c.uF=function(){var d=new A.a.g;d.f(0);a.j.send(d.i());b.a.log("user choose not to continue");setTimeout(function(){y()},1E3)};c.jn_command_JointBrowsingMode=c.yE=function(b){if(!a.w)return 1;var d=new A.a.g;d.m(a.J);d.f(a.xn);d.f(b);a.j.send(d.i());return 0};c.jn_command_SyncFullScreen=c.iF=function(b,d){if(!a.w)return 1;var c=new A.a.g;c.m(a.J);c.f(a.Un);c.f(b);c.f(d);a.j.send(c.i());return 0};c.jn_command_ProvidePassword=c.OE=function(d){d=
b.crypto.$c(d);var c=new A.a.g;c.f(20);c.C(b.crypto.K(d,a.da));a.j.send(c.i())};c.jn_command_JointBrowsing=c.xE=function(d,c){if(!(c.length>=b.b.qj)){var f=new A.a.g;f.m(a.J);f.f(a.wn);f.f(d);f.G(c);a.j.send(f.i())}};c.jn_command_ForceSync=c.tE=function(){if(!a.w)return 1;var b=new A.a.g;b.m(a.J);b.f(a.sn);a.j.send(b.i())};c.jn_command_SetRecordingStatus=c.dF=function(b){if(!a.w)return 1;var d=new A.a.g;d.m(a.J);d.f(a.On);d.f(b);a.j.send(d.i())};c.jn_command_PlugInSetRecvingPrio=c.LE=function(d,c){if(0>
d||d>b.b.Eb||!a.w)return 1;var f=new A.a.g;f.m(a.J);f.f(a.Dg);f.f(a.Jn);f.f(d);f.f(c);a.j.send(f.i());a.Ea("appdata_set_recv_prio(channel "+d+") "+c)};c.jn_command_SwapSlide=c.Es=function(b,d){if(!a.w)return 1;var c=new A.a.g;c.m(a.J);c.f(a.Tn);c.f(b);c.f(d);a.j.send(c.i())};c.jn_command_MoveSlide=c.As=function(b,d){if(!a.w)return 1;var c=new A.a.g;c.m(a.J);c.f(a.zn);c.f(b);c.f(d);a.j.send(c.i())};c.jn_command_RequestPlugInChannel=c.RE=function(d,f,h,n){if(!a.w||a.F!=b.b.R||c.lr()!=a.D)return 1;var g=
new A.a.g;g.m(a.J);g.f(a.Dg);g.f(a.Kn);g.f(h);g.f(d);g.f(0);g.f(0);g.f(n);g.L(f);a.j.send(g.i())};c.jn_command_PlugInSetStaticData=c.ME=function(d,c){if(0>d||d>b.b.Eb||!a.w||a.F!=b.b.R||c.length>a.Qg)return 1;var f=new A.a.g;f.m(a.J);f.f(a.Dg);f.f(a.xi);f.f(d);f.f(c.length);c.length&&f.C(b.crypto.K(c,a.W));a.j.send(f.i())};c.jn_command_PlugInCloseChannel=c.JE=function(d){if(0>d||d>b.b.Eb||!a.w||a.F!=b.b.R||a.P[d].Mm!=a.D)return 1;var c=new A.a.g;c.m(a.J);c.f(a.wi);c.f(d);a.j.send(c.i())};c.jn_command_PlugInControlChannelSend=
c.KE=function(d,c,f,h,n){if(0>d||d>b.b.Eb||!a.w||n.length>a.oj)return 1;var g=new A.a.g;g.m(a.J);g.f(a.En);g.f(d);g.f(c);g.f(h);g.f(n.length);n.length&&g.C(b.crypto.K(n,a.W));g.f(f);a.j.send(g.i())};c.jn_command_SetJNRPassword=c.bF=function(d){if(!a.w||27<d.length)return 1;var c=new A.a.g;c.m(a.J);c.f(a.un);c.f(d.length);d.length&&c.C(b.crypto.K(d,a.W));a.j.send(c.i())};c.jn_command_UpdateVideoSendingStatus=c.qF=function(d){if(!a.w||a.F!=b.b.R)return 1;var c=new A.a.g;c.m(a.J);c.f(a.Ko);c.f(d?1:2);
a.j.send(c.i())};c.jn_command_UseReconnectName=c.tF=function(b){a.ie=b&&12==b.length?b:""};c.jn_command_sipclient_response=c.FF=function(d,c,f){if(!a.w||a.F!=b.b.R)return 1;var g=new A.a.g;g.m(a.J);g.f(a.Pn);g.f(a.Qn);g.f(c.length);c.length&&g.C(b.crypto.K(c,a.W));g.f(d);g.f(f);a.j.send(g.i())};c.jn_command_RequestAudio=c.QE=n;c.jn_command_WebRTCStatusNotification=c.zF=function(b){if(!a.w)return 1;var d=new A.a.g;d.m(a.J);d.f(a.Mo);d.m(b);a.j.send(d.i())};c.jn_command_WebRTCMediaStatusNotification=
c.yF=function(b,d,c){if(!(a.w&&a.Qc>=a.Ri))return 1;var f=new A.a.g;f.m(a.J);f.f(a.Ri);f.m(b);f.f(d);f.m(c);a.j.send(f.i())};c.jn_command_SetMeetingTitle=c.cF=function(d){if(!a.w||!z()||0!=a.D||d.length>b.b.Ld)return 1;var c=new A.a.g;c.m(a.J);c.f(a.ui);c.f(d.length);d.length&&c.C(b.crypto.K(d,a.W));a.j.send(c.i())};c.jn_command_SuppressAudio=c.gF=function(b,d){if(!a.w||!ca()||0!=a.D&&!a.la&&a.D!=a.Ca)return 1;var c=new A.a.g;c.m(a.J);c.f(a.Bi);c.f(b);c.f(d);a.j.send(c.i())};c.jn_command_SuppressVideo=
c.hF=function(b,d){if(!a.w||!X()||0!=a.D&&!a.la&&a.D!=a.Ca)return 1;var c=new A.a.g;c.m(a.J);c.f(a.Ci);c.f(b);c.f(d);a.j.send(c.i())};c.jn_info_GetUserTextCodePage=c.NF=D;c.jn_info_GetWebOfficeVisitorTargetID=c.PF=function(){return 4!=a.hb||a.ke||95!=a.La.charCodeAt(0)?"":a.rc};c.jn_info_GetWebOfficeOwnerTargetID=c.OF=function(){return 5!=a.hb||a.$b?"":a.rc};c.jn_info_IsWOOwnerWrongPassword=c.bG=function(){var b=!a.le&&5==a.hb&&!a.$b;return!a.le&&4==a.hb&&!a.ke&&95!=a.La.charCodeAt(0)&&!a.$b||b?a.La:
""};c.jn_info_IsSlideSameGroup=c.XF=function(b,d){b=a.$[b];d=a.$[d];return b.Ad==d.Ad&&b.dc==d.dc&&b.Ha==d.Ha?!0:!1};c.jn_info_IsSlideDownloading=c.WF=function(){return a.Oa&&-1!=a.Oa.index};c.jn_info_CanSendAudio=c.Ks=function(){return a.la||a.Ja||a.pc||a.Df};c.jn_info_CanSendVideo=c.Ls=function(){return a.la||a.Ja||a.pc&&a.wh};c.jn_info_IsTalker=c.$F=q;c.jn_info_CanAddMark=c.JF=function(){return a.Qc>=a.Wn?q()||b.Z.yj():a.Ja||a.pc||b.Z.yj()};c.jn_info_HasMyPicture=c.QF=function(){return!!a.Zc};
c.jn_info_joinnet_token_holder_video=c.cG=function(){return!!a.Am};c.jn_info_IsAllQuestionerMeeting=c.RF=function(){return a.dl};c.jn_info_IsNoAudioSupportedByMCU=c.UF=x;c.jn_info_IsPlaybackSpeedSupportedByMCU=c.VF=G;c.jn_info_GetMMCMeetingID=c.Ms=function(){return a.vm};c.jn_info_IsMeetingTitleSupportedByMCU=c.TF=z;c.jn_info_IsSuppressAudioSupportedByMCU=c.YF=ca;c.jn_info_IsSuppressVideoSupportedByMCU=c.ZF=X;c.jn_info_GetMeetingTitle=c.MF=function(){return a.Gh};c.jn_info_IsAudioSuppressed=c.SF=
function(){return a.el};c.jn_info_IsVideoSuppressed=c.aG=function(){return a.fl};c.jn_info_GetJNRMeetingInfo=c.LF=function(){return a.Fh};c.jn_info_GetJNRMeetingID=c.KF=function(){return a.Eh}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){return""+w.gc+"."+w.hc+"."+w.Sg+" built on 09/27/2021"}function B(){if(!b.a.sd){var a=Date.now(),d;for(d in b.a.localStorage)if(b.a.localStorage.hasOwnProperty(d)&&0==d.indexOf("hmtg_temp_autodelete_")){var c=b.a.se(b.a.localStorage[d]);("undefined"===c||!c.time||!c.value||6E4<a-c.time)&&b.a.localStorage.removeItem(d)}}}function d(a){t(a);a.I=b.b.hp;k.T&&k.T(a);a.ye=setTimeout(function(){a.ye=null;36E3>a.od&&(a.od+=a.od+1);g(a)},1E3*a.od);b.a.log(6,["schedule to retry connecting ",
a.od," seconds later for ",a.l].join(""))}function t(b){null!=b.ye&&(clearTimeout(b.ye),b.ye=null)}function f(a,d,c,f){if(!a.bb[d]){var e=b.a.B(),g=new v;g.ih=d;g.U=c;g.ue="";g.lb={};g.lb[c]=e-6E4;g.count=1;"undefined"===typeof g.lb[f]&&(g.count++,g.lb[f]=e-6E4);p(a,g);a.bb[d]=g;a.yd++;k.Qa&&k.Qa(a,d)}}function p(b,a){if(128<=a.ue.length+(" - "+a.count+"()").length)a.Za=a.ue;else{a.Za=a.ue+" - "+a.count+"(";if(!(128<=a.Za.length+4)){var e=1,d;for(d in a.lb)if(a.lb.hasOwnProperty(d)){var c=k.bl(b,
d);if(e)if(e=0,128<=a.Za.length+c.length+(1==a.count?1:5)){a.Za+="...";break}else a.Za+=c;else if(128<=a.Za.length+1+c.length+(1==a.count?1:5)){a.Za+=",...";break}else a.Za+=","+c}}a.Za+=")"}}function C(){}function h(){this.lh=function(){this.zd={};this.jb={};this.oa=[];this.Ze=[];this.bc=[];this.bb={};this.yd=0;this.hg=[];this.Xh=[];this.kh=this.Ta="";this.hi=[]};this.od=0;this.ye=null;this.lh();this.Ec=this.nb=this.Na="";this.U={};this.nd={};this.qd={}}function y(){}function N(){}function v(){}
function n(){for(var a=[],d=0;d<w.ka.length;d++){var c=w.ka[d],f={};f.office_name=c.Na;f.homepage=c.fa;f.visitor_folded=c.Ae;f.share_file_folded=c.df;f.event_folded=c.Qd;f.publish_file_folded=c.cf;f.pgc_folded=c.te;f.noncontact_folded=c.re;f.guest=c.S;c.S||(f.last_status=c.eg,f.userid=c.N,(f.saved_password=c.Fd)&&(f.password=b.crypto.K(c.password,b.crypto.gf).u()));a.push(f)}b.a.localStorage.hmtg_wbl=JSON.stringify(a)}function D(b,a,d,c){var e;for(e=0;e<w.ka.length;e++){var f=w.ka[e];if(f.S==b&&f.fa==
d&&(b||a==f.N)){f.eg=c;break}}}function q(a){a.S&&(a.Qb=1);a.I=b.b.No;var e=O.a.ot(a.fa),d=a.Uj=""+b.a.B()+Date.now()+(new O.a.g(O.random.xa(8))).Mb();e&&e.path&&"/raw/"==e.path.toLowerCase()?x(d,a,e.host,"",e.port,0):(k.ek&&k.ek(d,a,a.fa,x),a.disconnect=function(){a.Uj=""+b.a.B()+Date.now()+(new O.a.g(O.random.xa(8))).Mb();a.I=b.b.Be;k.T&&k.T(a);b.a.log("sign out for "+a.l)})}function x(a,d,c,f,g,h){a==d.Uj&&(d.disconnect=function(){},"undefined"===typeof c?(d.Mj?k.s&&k.s(d,b.b.gq):k.s&&k.s(d,b.b.eq),
d.I=b.b.Ro,k.T&&k.T(d),b.a.log(["download jnj fail for ",d.l].join(""))):c&&g?(b.a.log(2,["getmcuinfo for ",d.fa,": ip=",c,",backupip=",f,",port=",g,",port2=",h].join("")),d.Gb=c,d.qr=f,d.port=g,d.port2=h,c=b.o.ai(c,f,g,h),a=c.Uh,c=c.fi,d.I=b.b.Si,k.T&&k.T(d),G(d,a,c)):(k.s&&k.s(d,b.b.sq),d.I=b.b.Zo,k.T&&k.T(d),b.a.log(["download jnj invalid for ",d.l].join(""))))}function G(a,c,f){function e(e){c[e].zc=null;c[e].Bd?b.a.log(["msgr connecting to backup mcu ",c[e].aa,",",c[e].pa,"..."].join("")):f&&
0==e?b.a.log(["msgr connecting to (switched) primary mcu ",c[e].aa,",",c[e].pa,"..."].join("")):b.a.log(["msgr connecting to primary mcu ",c[e].aa,",",c[e].pa,"..."].join(""));c[e].Cd=new b.protocol.um(w.gc,w.hc,null,c,e,function(){c[e].pd=!0;c[e].Lb?h():0==e?(q&&(clearTimeout(q),q=null),n(0),K=0,a.I=b.b.Wi,k.T&&k.T(a),new b.protocol.Se(w.gc,w.hc,c[0],c[0].aa,c[0].pa,p)):q||g()})}function g(){q=null;var e;for(e=0;e<c.length;e++)if(c[e].pd&&!c[e].Lb){n(e);K=e;a.I=b.b.Wi;k.T&&k.T(a);new b.protocol.Se(w.gc,
w.hc,c[e],c[e].aa,c[e].pa,p);break}}function h(){var e;for(e=0;e<c.length;e++)if(!c[e].pd||!c[e].Lb)return;q&&(clearTimeout(q),q=null);a.Ke&&k.s&&k.s(a,b.b.fq);a.I=b.b.So;k.T&&k.T(a);a.Nj&&(a.Ke=0,d(a),a.disconnect=function(){t(a)})}function n(b){var a;for(a=0;a<c.length;a++)c[a].zc?(clearTimeout(c[a].zc),c[a].zc=null):c[a].pd?a==b||c[a].Lb||c[a].j.close():c[a].Cd&&c[a].Cd.disconnect&&c[a].Cd.disconnect()}function p(e){if(e)1<c.length?(f=0,b.a.log(["connection to mcu ",c[K].aa,",",c[K].pa," fails during key exchange, but we'd like to try other entries"].join("")),
c.splice(K,1),G(a,c,f)):(a.Ke&&k.s&&k.s(a,b.b.rj),a.I=b.b.Ti,k.T&&k.T(a));else{e=K;var d=c[e].Pe;a.jt=c[e].Vc;var g=b.o.kg(a.jt);a.Gd=g.kb;a.pg=g.Db;a.Et=g.ef;a.oG=c[e].dg;a.nG=c[e].cg;a.hd=c[e].hd;a.A=c[e].da;a.j=c[e].j;a.Ed=c[e].Ed;a.aa=c[e].aa;a.port=c[e].pa;a.Zm=c[e].Bd;e=a.j;if(d){d=new O.a.g("4");e.send(d.i());if(a.Zm&&c[0].aa.length){g=b.a.ob(c[0].aa);var h=g.length;d.clear();d.f(4+h);d.f(b.protocol.mi);d.L(g);e.send(d.i())}d.clear();d.f(7);d.f(b.protocol.li);d.L("WEB");e.send(d.i());b.o.vendor&&
20>=b.o.vendor.length&&(d.clear(),d.f(4+b.o.vendor.length),d.f(b.protocol.oi),d.L(b.o.vendor),e.send(d.i()));d.clear();d.f(0);e.send(d.i())}z(a)}}var K,l;for(l=0;l<c.length;l++)c[l].zc=setTimeout(e,500*l,l),c[l].Lb=b.b.Ng;var q=setTimeout(g,5E3);a.disconnect=function(){n(-1);a.I=b.b.Be;k.T&&k.T(a);b.a.log("sign out for "+a.l)}}function z(e){function c(){ja||(ja=window.setZeroTimeout(function(){ja=null;x()}))}function g(){h();oa=setTimeout(function(){oa=null;e.j!=ha&&(b.a.log("!!!Info, need take care of this(3)!!!"),
k.s&&k.s(e,99993));ra++;if(3<=ra)b.o.H(ha),b.a.log(["time out(try again) for ",e.l].join("")),e.Ke=0,e.ye||d(e);else{var a=new O.a.g;a.m(w.Fi);a.L("0");ha.send(a.i());g()}},2E4)}function h(){null!=oa&&(clearTimeout(oa),oa=null)}function n(){null!=ja&&(window.clearZeroTimeout(ja),ja=null)}function q(a){if(u.length()&&!e.Dc){var d=b.a.B()-sa;20<d||9<=na?(500<d&&b.a.log("info, jmkernel handler("+a+") depth="+na+",use "+d+"ms"),c()):(na++,fa())}}function r(){e.Fc||!e.Id&&!e.hf||(b.a.log([e.Id?"peer close for ":
"recv error(try again) for ",e.l].join("")),e.Ke=0,J(),d(e))}function x(){if(!e.Dc){var a=u.length();if(a){na=0;sa=b.a.B();fa();var c=u.length();c&&c!=a||r()}else r()}}function z(){T=new O.a.g(u);var a=u.M(0);if(0<=a&&a<=w.Sp)return va[a]();b.a.log(["unknown command[",a,"/0x",a.toString(16),"] for ",e.l].join(""));J(b.b.Ui)}function l(){var a=u.M(0);k.s&&k.s(e,b.b.tj);b.a.log(["unknown(unsupported) command[",a,"/0x",a.toString(16),"] for ",e.l].join(""));J(b.b.Ui)}function B(){var a=u.length();if(!(5>
a)){var c=u.c(1);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[OFFICE_JNJ?,200] for "+e.l),J(b.b.bd);else if(!(a<5+c)){var d=u.M(0),f="",g=0;if(d==w.Pi||d==w.Gg){if(a<5+c+4)return;g=u.c(5+c);if(0>g||128<=g){k.s&&k.s(e,b.b.Ga);b.a.log("wrong jnj len[OFFICE_JNJ?,500] for "+e.l);J(b.b.eb);return}if(a<5+c+4+g)return;f=u.h(5+c+4,g);g=4+g}a=b.crypto.v(u.h(5,c),e.A).u();d==w.Gg&&(e.Nm=0);e.ca||d==w.Ji||(a=k.gs(a,e.password));d==w.Gg?k.nk&&k.nk(e,f):d==w.eo?(b.a.log("exceed diskquota, "+e.l),k.lk&&
k.lk(e)):d==w.Pi?k.rk&&k.rk(e,a,f):d==w.Ji?k.Ud&&k.Ud(a,!0):k.Ud&&k.Ud(a);u.shift(5+c+g);W=T;q("COMMAND_US_OFFICE_JNJ_PLUS")}}}function C(){var a=u.length();if(!(6>a)){var c=u.c(2);if(0>c||128<=c)k.s&&k.s(e,b.b.Ee),b.a.log("recv error[JOIN_REQUEST_ERROR,200] for "+e.l),J(b.b.Ac);else if(!(a<6+c+4)){var d=u.c(6+c);if(0>d||128<=d)k.s&&k.s(e,b.b.Ga),b.a.log("wrong username len[JOIN_REQUEST_ERROR,500] for "+e.l),J(b.b.eb);else{var f=u.M(1),g=u.h(6,c),h=u.h(6+c+4,d);if(u.M(0)==w.to){if(a<6+c+4+d+4)return;
a=u.c(6+c+4+d)>>>0;k.cs&&k.cs(e,g,h,f,a);u.shift(6+c+4+d+4)}else{if(a<6+c+4+d)return;f!=b.b.Zq&&k.bs&&k.bs(e,g,h,f);u.shift(6+c+4+d)}W=T;q("COMMAND_US_JOIN_REQUEST_ERROR_PLUS")}}}}function D(){var a=u.length();if(!(17>a)){var c=u.c(13);if(0>c||128<=c)k.s&&k.s(e,b.b.Ga),b.a.log("wrong username len[VISITOR_SESSION,200] for "+e.l),J(b.b.eb);else if(!(a<17+c)){var d=u.c(1);a=u.c(5);var f=u.c(9),g=u.h(17,c);if(u.M(0)==w.Oi)d?(1==d||2==d)&&k.Rk&&k.Rk(e,g,d):k.hs(e);else{var h=!1;if(d)h={},h.visitor_name=
g,h.start_tick=f,h.iSessionIndex=a,e.Ze.push(h),h=!0,k.Yk&&k.Yk(e,g);else for(g=0;g<e.Ze.length;g++)if(d=e.Ze[g],d.iSessionIndex==a&&d.start_tick==f){e.Ze.splice(g,1);h=!0;break}h&&k.Vk&&k.Vk(e)}u.shift(17+c);W=T;q("COMMAND_US_VISITOR_SESSION")}}}function E(){var a=u.length();if(!(5>a)){var c=u.c(1);0>c||128<=c?(b.a.log("wrong peer id len[ShortTyping 500] for "+e.l),J()):a<5+c||(a=u.h(5,c),k.Sk&&k.Sk(e,a),u.shift(5+c),W=T,q("COMMAND_US_SHORT_TYPING"))}}function G(){var a="",c=0;var d=u.length();if(!(5>
d)){var f=u.c(1);if(0>f||128<=f)k.s&&k.s(e,b.b.Ga),b.a.log("wrong username len[WEBRTC_SIGNAL,200] for "+e.l),J(b.b.eb);else if(!(d<5+f+4)){var g=u.c(5+f);if(0>g||1E4<=g)k.s&&k.s(e,b.b.Ga),b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,300] for "+e.l),J(b.b.lf);else if(!(d<5+f+4+g)){var h=u.M(0);if(h==w.Qi){if(d<5+f+4+g+4)return;var l=u.c(9+f+g);if(0>l||128<=l){k.s&&k.s(e,b.b.Ga);b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,400] for "+e.l);J(b.b.lf);return}if(d<5+f+4+g+4+l+4)return}d=u.h(5,f);if(h==
w.Qi)h=u.c(13+f+g+l),c=8+l,a=u.h(13+f+g,l),k.Me(e,h,d,a);else{if(l=Y(e,d))a=l.username;a||(a=d)}l=b.crypto.v(u.h(5+f+4,g),e.A).u();k.Zk&&k.Zk(e,l,d,a);u.shift(9+f+g+c);W=T;q("COMMAND_US_WEBRTC_SIGNAL")}}}}function H(){var a="",c="",d="",f=0;var g=u.length();if(!(5>g)){var h=u.c(1);if(0>h||128<=h)k.s&&k.s(e,b.b.Ga),b.a.log("wrong username len[SHORT_MESSAGE?,200] for "+e.l),J(b.b.eb);else if(!(g<5+h+4)){var l=u.c(5+h);if(0>l||500<=l)k.s&&k.s(e,b.b.De),b.a.log("wrong short message len[SHORT_MESSAGE?,500] for "+
e.l),J(b.b.Ce);else if(!(g<5+h+4+l+4)){var n=u.c(5+h+4+l);if(0>n||100<=n)k.s&&k.s(e,b.b.aq),b.a.log("wrong homepage len[SHORT_MESSAGE?,800] for "+e.l),J(b.b.Hg);else{var p=u.M(0),K=5+h+4+l+4+n;if(p!=w.Do){if(g<K+4)return;var F=u.c(K);if(0>F||5E3<=F){k.s&&k.s(e,b.b.De);b.a.log("wrong short message2 len[SHORT_MESSAGE?,1100] for "+e.l);J(b.b.Ce);return}a=b.crypto.v(u.h(K+4,F),e.A).u();K+=4+F;if(p==w.Ni||p==w.Li||p==w.Ki){if(g<K+4)return;F=u.c(K);if(0>F||128<=F){k.s&&k.s(e,b.b.De);b.a.log("wrong param->guest user name len[SHORT_MESSAGE?,1400] for "+
e.l);J(b.b.Ce);return}c=u.h(K+4,F);K+=4+F;if(p==w.Li||p==w.Ki){if(g<K+4)return;f=u.c(K);K+=4}}}g=u.h(5,h);F=b.crypto.v(u.h(5+h+4,l),e.A).u();h=u.h(5+h+4+l+4,n);if(l=Y(e,g))d=l.username;d||(d=g);k.Pk&&k.Pk(e,p,F,a,g,h,c,f,d);u.shift(K);W=T;q("COMMAND_US_SHORT_MESSAGE_PLUS")}}}}}function N(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)k.s&&k.s(e,b.b.Ee),b.a.log("wrong target userid len in short message failure[MESSAGE_FAILURE?,200] for "+e.l),J(b.b.Ac);else if(!(a<5+c+4)){var d=u.c(5+c);
if(0>d||500<=d)k.s&&k.s(e,b.b.De),b.a.log("wrong short message len[MESSAGE_FAILURE?,500] for "+e.l),J(b.b.Ce);else if(!(a<5+c+4+d+4)){var f=u.c(5+c+4+d);if(0>f||5E3<=f)k.s&&k.s(e,b.b.De),b.a.log("wrong short message2 len[MESSAGE_FAILURE?,800] for "+e.l),J(b.b.Ce);else if(!(a<5+c+4+d+4+f)){a=u.h(5,c);var g=b.crypto.v(u.h(5+c+4,d),e.A).u();var h=b.crypto.v(u.h(5+c+4+d+4,f),e.A).u();k.Qk&&k.Qk(e,a,g,h,u.M(0));u.shift(5+c+4+d+4+f);W=T;q("COMMAND_US_SHORT_MESSAGE_FAILURE_PLUS")}}}}}function P(){var a=
u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[JoinGroup2 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[JoinGroup2 500] for "+e.l),J();else if(!(a<5+c+4+d+4)){var f=u.c(5+c+4+d);if(0>f||500<=f)b.a.log("wrong user name len[JoinGroup2 800] for "+e.l),J();else if(!(a<5+c+4+d+4+f+8)){if(a=u.h(5,c))if(61!=a.charCodeAt(0))k.td(e,a);else{var g=u.h(5+c+4,d),h=u.c(5+c+4+d+4+f+4)>>>0,l=e.bb[a];if(l&&l.count==h&&"undefined"===
typeof l.lb[g]){h=u.h(5+c+4+d+4,f);var n=u.c(5+c+4+d+4+f);l.lb[g]=b.a.B()-6E4;l.count++;p(e,l);e.ca&&k.Me(e,n,g,h);k.Ab&&k.Ab(e,a,g,h)}else k.td(e,a),k.Yd&&k.Yd(e,a),l&&(delete e.bb[a],e.yd--);k.Qa&&k.Qa(e,a)}u.shift(5+c+4+d+4+f+8);W=T;q("COMMAND_US_JOIN_GROUP2_PLUS")}}}}}function R(){var a=u.length();if(!(13>a)){var c=u.c(9);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[MMC_JOIN_REQUEST_JNJ?,200] for "+e.l),J(b.b.bd);else if(!(a<13+c)){a=u.c(1)>>>0;var d=u.c(5),f=u.h(13,c);0==d&&c&&(f=
b.crypto.v(f,e.A).u());k.uk&&k.uk(e,a,d,f);u.shift(13+c);W=T;q("COMMAND_US_MMC_JOIN_REQUEST_JNJ_PLUS")}}}function X(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[SHARE_FILE,200] for "+e.l),J(b.b.bd);else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||100<=d)k.s&&k.s(e,b.b.sj),b.a.log("wrong homepage len[SHARE_FILE,500] for "+e.l),J(b.b.Hg);else if(!(a<5+c+4+d+4)){var f=u.c(5+c+4+d);if(0>f||128<=f)k.s&&k.s(e,b.b.Ga),b.a.log("wrong owner name len[SHARE_FILE,800] for "+
e.l),J(b.b.eb);else if(!(a<5+c+4+d+4+f+4)){var g=u.c(5+c+4+d+4+f);if(0>g||128<=g)k.s&&k.s(e,b.b.Ga),b.a.log("wrong title len[SHARE_FILE,1100] for "+e.l),J(b.b.eb);else{var h=u.M(0)==w.wo?4:0;if(!(a<5+c+4+d+4+f+4+g+8+h+4)){var l=u.c(5+c+4+d+4+f+4+g+8+h);if(0>l||128<=l)k.s&&k.s(e,b.b.Ga),b.a.log("wrong subject len[SHARE_FILE,1600] for "+e.l),J(b.b.eb);else if(!(a<5+c+4+d+4+f+4+g+8+h+4+l)){a={};a.jnj=u.h(5,c);a.owner_homepage=u.h(5+c+4,d);a.owner_name=u.h(5+c+4+d+4,f);a.title=u.h(5+c+4+d+4+f+4,g);a.duration=
u.c(5+c+4+d+4+f+4+g);a.share_type=u.c(5+c+4+d+4+f+4+g+4);var n=0;h&&(n=u.c(5+c+4+d+4+f+4+g+8));a.recv_tick=b.a.time()-n;a.subject=u.h(5+c+4+d+4+f+4+g+8+h+4,l);a.read=0;A(e,a);k.Ub(e);k.qk&&k.qk(e,a);u.shift(5+c+4+d+4+f+4+g+8+h+4+l);W=T;q("COMMAND_US_SHARE_FILE_PLUS")}}}}}}}}function aa(a){a.Dc&&(a.Fj&&a.Fj(),a.Dc=!1,a.ii=null);a.Yh&&(a.Yh.stop(),a.Yh=null);a.Va&&(clearTimeout(a.Va),a.Va=null);a.vc&&(a.vc.stop(),a.vc=null);a.Fc&&(clearTimeout(a.Fc),a.Fc=null,b.a.log("quit() stop delayed disconnect for "+
a.l))}function J(a){b.o.Cm(W,u);h();t(e);n();fa=b.o.Y;aa(e);e.I=a||b.b.Po;k.T&&k.T(e);b.o.H(e.j);k.wf&&k.wf(e)}function ba(c){if(e.Fc)b.a.log("disconnect() found delayed disconnect in progress for "+e.l);else if(e.Va||e.vc)b.a.log("disconnect() start delayed disconnect for "+e.l),e.Fc=setTimeout(function(){e.Fc=null;b.a.log("disconnect() execute delayed disconnect for "+e.l);ba(c)},1E3),e.Va&&(clearTimeout(e.Va),e.Va=null,a(e));else return h(),t(e),n(),fa=b.o.Y,aa(e),e.I=c||b.b.Be,k.T&&k.T(e),b.o.H(e.j),
b.a.log("sign out for "+e.l),k.wf&&k.wf(e),!0}var ha=e.j;e.Id=e.hf=!1;var u=e.Ed,T=new O.a.g,W=new O.a.g,oa=null,ja=null,fa=b.o.Y,ra=0,ta=0,na=0,sa=0;e.ii=function(){c()};var va=[function(){var a=u.length();if(!(2>a)){switch(u.M(1)){case b.b.ar:k.s&&k.s(e,b.b.lq);e.I=b.b.lf;break;case b.b.Uq:k.s&&k.s(e,b.b.bq);e.I=b.b.Qo;break;case b.b.cr:k.s&&k.s(e,b.b.oq);e.I=b.b.Uo;break;case b.b.br:e.S||(e.bf=1);k.s&&k.s(e,b.b.mq);e.I=b.b.To;break;case b.b.Vq:k.s&&k.s(e,b.b.pq);e.I=b.b.Vo;break;case b.b.Tq:k.s&&
k.s(e,b.b.cq);e.I=b.b.Oo;break;case b.b.Wq:e.S||(e.bf=1);if(10>a)return;var c=u.c(2),d=u.c(6);if(0>d||1E4<=d){k.s&&k.s(e,b.b.rj);b.a.log("recv error[INIT_INFO,300] for for "+e.l);J(b.b.Ti);return}if(a<10+d)return;a=u.h(10,d);k.Cf&&k.Cf(e,c,a);e.I=b.b.Wo;u.shift(8+d);break;case b.b.$q:k.s&&k.s(e,b.b.rq);e.I=b.b.Xo;break;case b.b.Yq:k.s&&k.s(e,b.b.qq);e.I=b.b.$o;break;case b.b.Xq:k.s&&k.s(e,b.b.tq);e.I=b.b.Yo;break;default:k.s&&k.s(e,b.b.jz),e.I=b.b.bp}u.shift(2);b.a.log("init info quit for for "+e.l);
J(e.I)}},l,function(){k.s&&k.s(e,b.b.uq);u.shift(1);W=T;b.a.log("being overwritten for "+e.l);ba(b.b.ap)},function(){k.s&&k.s(e,b.b.vq);u.shift(1);W=T;b.a.log("being removed for "+e.l);ba(b.b.cp)},B,B,B,C,l,l,l,B,B,function(){function a(b,a,e,c){if(b.S||!b.Qb||a==(b.ca?b.Pa:b.N))return!1;var d,f=!1;for(d=0;d<b.oa.length;d++){var g=b.oa[d],h;for(h=0;h<g.m_pContactArray.length;h++){var l=g.m_pContactArray[h];if(l.id==a){l.name!=e&&(l.name=e,f=!0);l.pm!=c&&(l.pm=c,f=!0);break}}}f&&k.Ub(b)}var c,d,f=
u.length();if(!(13>f)){var g=u.c(1);var h=u.c(5),l=u.c(9);if(0>l||128<=l)k.s&&k.s(e,b.b.Ee),b.a.log("wrong userid len[STATUS_CHANGE,200] for "+e.l),J(b.b.Ac);else if(!(f<13+l+4)){var n=u.c(13+l);if(0>n||128<=n)k.s&&k.s(e,b.b.Ga),b.a.log("wrong username len[STATUS_CHANGE,500] for "+e.l),J(b.b.Ac);else if(!(f<13+l+4+n+16)){f=u.c(13+l+4+n);var p=u.c(13+l+4+n+4),K=u.c(13+l+4+n+8),F=u.c(13+l+4+n+12);if(0>F||128<=F)k.s&&k.s(e,b.b.Ga),b.a.log("wrong personal_info len[STATUS_CHANGE,900] for "+e.l),J(b.b.Ac);
else{var r=u.h(13,l),t=u.h(13+l+4,n),I=u.h(13+l+4+n+16,F);t||(b.a.log(1,"office "+e.fa+", username is empty for userid "+r+", reset it using userid"),t="EmptyName_status("+r+")".slice(0,127));var v=0,w;if(e.ca){g=c=d=0;if(w=e.zd[r]){if(c=w.status,g=w.Sa,t!=w.username&&(d=1),t!=w.username||I!=w.Ta)v=1}else w=new y,v=1,e.zd[r]=w;w.status=h;w.Sa=f;w.kb=p;w.Db=K;w.N=r;w.username=t;w.Ta=I;v&&(v=a(e,r,t,I));d&&k.ph(e,r);k.Zd&&k.Zd(e,w);e.sg&&e.Pa!=r&&(c==b.b.Ob||!c&&!g)&&h!=b.b.Ob&&(h||f)&&k.xk&&k.xk(e,
r)}else{w=e.jb[g];w||(w=new y,e.jb[g]=w,v=1);d=0;c=w.status;g=w.Sa;t!=w.username&&(d=1);if(t!=w.username||I!=w.Ta)v=1;w.status=h;w.Sa=f;w.kb=p;w.Db=K;w.N=r;w.username=t;w.Ta=I;v&&(v=a(e,r,t,I));d&&k.ph(e,r);k.Zd&&k.Zd(e,w);e.sg&&e.N!=r&&(c==b.b.Ob||!c&&!g)&&h!=b.b.Ob&&(h||f)&&k.wk&&k.wk(e,r)}k.zf&&k.zf(e,w);u.shift(13+l+4+n+16+F);W=T;q("COMMAND_US_STATUS_CHANGE")}}}}},function(){if(!(5>u.length())){var a=u.c(1);0<=a&&a<b.b.za&&e.jb&&e.jb[a]&&(e.jb[a].status=0,e.jb[a].Sa=0,e.jb[a].N&&(k.Zd&&k.Zd(e,
e.jb[a]),k.zf&&k.zf(e,e.jb[a])));u.shift(5);W=T;q("COMMAND_US_STATUS_REMOVE")}},l,function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[INVITE,200] for "+e.l),J(b.b.bd);else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||100<=d)k.s&&k.s(e,b.b.sj),b.a.log("wrong homepage len[INVITE,500] for "+e.l),J(b.b.Hg);else if(!(a<5+c+4+d+4)){var f=u.c(5+c+4+d);if(0>f||128<=f)k.s&&k.s(e,b.b.Ee),b.a.log("wrong userid len[INVITE,800] for "+e.l),J(b.b.Ac);else if(!(a<
5+c+4+d+4+f)){a=b.crypto.v(u.h(5,c),e.A).u();var g=u.h(5+c+4,d),h=u.h(5+c+4+d+4,f);k.mk&&k.mk(e,a,h,g);u.shift(5+c+4+d+4+f);W=T;q("COMMAND_US_INVITE")}}}}},B,function(){var a=u.length();if(!(5>a)){var c=u.c(1);e.qg&&!e.S&&3==e.Sa&&e.Sa!=c&&(e.Wa==b.b.Ob&&k.ks(e.qg,e),e.qg=0);e.Sa=c;if(!e.ca&&e.Sa){if(9>a)return;c=u.c(5);if(0>c||1E4<=c){k.s&&k.s(e,b.b.ed);b.a.log("wrong jnj len[OFFICE_STATUS,300] for "+e.l);J(b.b.bd);return}if(a<9+c)return;e.vG=b.crypto.v(u.h(9,c),e.A).u();u.shift(4+c)}k.T&&k.T(e);
u.shift(5);W=T;q("COMMAND_US_OFFICE_STATUS")}},function(){k.ns(e,!1);u.shift(1);W=T;q("COMMAND_US_UPDATE_PROFILE")},function(){var a=u.length();if(!(33>a)){e.kt=u.c(1);e.Hr=u.c(5);e.Ir=u.c(9);e.sG=u.c(13);e.Km=u.c(17);e.rG=u.c(21);e.uG=u.c(25);var c=u.c(29);if(0>c||128<=c)k.s&&k.s(e,b.b.Ga),b.a.log("wrong username len[VIEW_PROFILE,200] for "+e.l),J(b.b.eb);else if(!(a<33+c+4)){var d=e.username;e.username=u.h(33,c);var f=u.c(33+c);if(0>f||f>=b.b.Up)k.s&&k.s(e,b.b.iq),b.a.log("wrong email len[VIEW_PROFILE,500] for "+
e.l),J(b.b.fp);else if(!(a<33+c+4+f+8)){e.ah=u.h(33+c+4,f);var g=u.c(33+c+4+f+4);if(0>g||1E4<=g)k.s&&k.s(e,b.b.ed),b.a.log("recv error[VIEW_PROFILE,900] for "+e.l),J(b.b.bd);else if(!(a<33+c+4+f+8+g)){b.crypto.v(u.h(33+c+4+f+8,g),e.A).u();if(e.ca)e.rf=0;else{if(a<33+c+4+f+8+g+4)return;e.rf=u.c(33+c+4+f+8+g);u.shift(4)}e.Nm=1;e.ji||e.Km&&k.pk&&k.pk(e,e.Km);e.ji=1;d!=e.username&&b.Vb.ph(e,e.ca?e.Pa:e.N);k.Wk&&k.Wk(e);u.shift(33+c+4+f+8+g);W=T;q("COMMAND_US_VIEW_PROFILE")}}}}},function(){b.a.log("server shutdown, "+
e.l);k.Nk&&k.Nk(e);e.Va&&(clearTimeout(e.Va),e.Va=null,a(e));u.shift(1);W=T;q("COMMAND_US_SERVER_SHUTDOWN")},function(){ta||(ta=1);e.sg=1;k.T&&k.T(e);k.Hk&&k.Hk(e);u.shift(1);W=T;q("COMMAND_US_STATUS_INITED")},l,D,D,function(){5>u.length()||(e.Ft=u.c(1),e.S||(e.bf=0),u.shift(5),W=T,q("COMMAND_US_SIP_CAP"))},function(){if(!(2>u.length())){if(48==u.M(1)){var b=new O.a.g;b.m(w.Fi);b.L("1");ha.send(b.i())}u.shift(2);W=T;q("COMMAND_US_ALIVE")}},function(){e.ca=1;k.T&&k.T(e);u.shift(1);W=T;q("COMMAND_US_MMC_FLAG")},
function(){var a=u.length();if(!(9>a)){var c=u.c(5);0>c||1E4<=c?(k.s&&k.s(e,b.b.kq),b.a.log("wrong len[MMC_INTERNAL_ERROR,200] for "+e.l),J(b.b.lf)):a<9+c||((a=u.c(1))&&k.Cf&&k.Cf(e,a,u.h(9,c)),u.shift(9+c),W=T,q("COMMAND_US_MMC_INTERNAL_ERROR"))}},function(){var a=u.length();if(!(5>a)){var c=u.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.jq),b.a.log("wrong userid len[MMC_INTERNAL_ID,200] for "+e.l),J(b.b.Ac)):a<5+c+4||(a=u.c(5+c),0>a||128<=a?(k.s&&k.s(e,b.b.Ga),b.a.log("wrong mmc username len[MMC_INTERNAL_ID,500] for "+
e.l),J(b.b.eb)):(e.Pa=b.crypto.v(u.h(5,c),e.A).u(),e.tG=b.crypto.v(u.h(5+c+4,a),e.A).u(),u.shift(5+c+4+a),W=T,q("COMMAND_US_MMC_INTERNAL_ID")))}},l,function(){var a=u.length();if(!(13>a)){var c=u.c(9);if(0>c||1E4<=c)k.s&&k.s(e,b.b.ed),b.a.log("wrong jnj len[INVITE_JNJ_GENERATION,200] for "+e.l),J(b.b.bd);else if(!(a<13+c)){a=u.c(1)>>>0;var d=u.c(5),f=u.h(13,c);!d&&f.length&&(f=b.crypto.v(f,e.A).u());k.kk&&k.kk(e,a,d,f);u.shift(13+c);W=T;q("COMMAND_US_INVITE_JNJ_GENERATION")}}},C,R,function(){var a=
u.length();if(!(13>a)){var c=u.c(9);if(0>c||500<=c)k.s&&k.s(e,b.b.nq),b.a.log("wrong jnj len[QUERY_URL_MMC,200] for "+e.l),J(b.b.gp);else if(!(a<13+c)){a=u.c(1)>>>0;var d=u.c(5),f=u.h(13,c);0==d&&c&&(f=b.crypto.v(f,e.A).u());k.Gk&&k.Gk(e,a,d,f);u.shift(13+c);W=T;q("COMMAND_US_QUERY_URL_MMC")}}},H,l,l,l,H,H,function(){var a=u.length();if(!(5>a)){var c=u.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.Ee),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+e.l),J(b.b.Ac)):a<5+c||(e.tf=b.crypto.v(u.h(5,
c),e.A).u(),u.shift(5+c),W=T,q("COMMAND_US_GUEST_USER_ID"))}},N,l,function(){var a=u.length();if(!(5>a)){var c=u.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.Ga),b.a.log("wrong user name len in invite failure[INVITE_FAILURE,200] for "+e.l),J(b.b.eb)):a<5+c||(k.jk&&k.jk(e,u.h(5,c)),u.shift(5+c),W=T,q("COMMAND_US_INVITE_FAILURE"))}},l,l,function(){function a(){var a=u.length();if(!(16>a)){var c=u.c(12);if(0>c||c>b.b.Rg)b.a.log("wrong meeting id len in update event list[UpdateEventList,300] for "+e.l),J();else if(!(a<
16+c+4)){var g=u.c(16+c);if(0>g||g>=b.b.Ld)b.a.log("wrong title len in update event list[UpdateEventList,600] for "+e.l),J();else if(!(a<16+c+4+g+4)){var h=u.c(16+c+4+g);if(0>h||128<=h)b.a.log("wrong owner id len in update event list[UpdateEventList,900] for "+e.l),J();else if(!(a<16+c+4+g+4+h+4)){var l=u.c(16+c+4+g+4+h);if(0>l||128<=l)b.a.log("wrong owner name len in update event list[UpdateEventList,1200] for "+e.l),J();else if(!(a<16+c+4+g+4+h+4+l+4)){a={};a.start_time=u.c(0);a.duration=u.c(4);
a.advance_time=u.c(8);a.meeting_id=b.crypto.v(u.h(16,c),e.A).u();a.title=b.crypto.v(u.h(16+c+4,g),e.A).u();a.owner_id=b.crypto.v(u.h(16+c+4+g+4,h),e.A).u();a.owner_name=b.crypto.v(u.h(16+c+4+g+4+h+4,l),e.A).u();a.invited=u.c(16+c+4+g+4+h+4+l);a:{var n,p=e.hg;for(n=0;n<p.length;n++)if(a.start_time<p[n].start_time){p.splice(n,0,a);break a}p.splice(n,0,a)}u.shift(16+c+4+g+4+h+4+l+4);f++;f==d&&(fa=z,w.Pr||(e.hg=[]),k.Tk&&k.Tk(e));W=T;q("COMMAND_US_UPDATE_EVENT_LIST,2")}}}}}}if(!(9>u.length())){var c=
b.crypto.v(u.h(1,8),e.A),d=c.c(0);if(0>d||200<d)b.a.log("too many events in the event list for "+e.l),J();else{e.lt=c.c(4);e.gt=b.a.time();u.shift(9);e.hg=[];var f=0;d?fa=a:W=T;q("COMMAND_US_UPDATE_EVENT_LIST")}}},l,N,function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||5E8<=c)k.s&&k.s(e,b.b.hq),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+e.l),J(b.b.ep);else if(!(a<5+c)){if(0==c)b.a.log("receive client_info for "+e.l+": [Empty]"),e.Qb=1;else{a=b.crypto.v(u.h(5,c),e.A);
var d=a.u();b.a.log("receive client_info for "+e.l+": "+c+","+b.a.zb(a.u()));e.Yh=new ca(e,d)}u.shift(5+c);W=T;q("COMMAND_US_CLIENT_INFO")}}},function(){if(!(5>u.length())){var b=e.di;e.di=u.c(1);b!=e.di&&k.zk&&k.zk(e);u.shift(5);W=T;q("COMMAND_US_IM_LOG")}},l,B,X,function(){var a=u.length();if(!(5>a)){var c=u.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.Ga),b.a.log("wrong user name len in share file failure[SHARE_FILE_FAILURE,200] for "+e.l),J(b.b.eb)):a<5+c||(k.Ok&&k.Ok(e,u.h(5,c)),u.shift(5+c),W=T,q("COMMAND_US_SHARE_FILE_FAILURE"))}},
function(){function a(){var a=u.length();if(!(8>a)){var g=u.c(4);if(0>g||4096<=g)b.a.log("wrong blackbox data len in update publish_file list[UpdatePublishFileList,300] for "+e.l),J();else if(!(a<8+g+4)){var h=u.c(8+g);if(0>h||h>=b.b.Ld)b.a.log("wrong title len in update publish_file list[UpdatePublishFileList,600] for "+e.l),J();else if(!(a<8+g+4+h+4)){var l=u.c(8+g+4+h);if(0>l||128<=l)b.a.log("wrong owner name len in update publish_file list[UpdatePublishFileList,900] for "+e.l),J();else if(!(a<
8+g+4+h+4+l)){a={};a.duration=u.c(0);a.blackbox_data=b.crypto.v(u.h(8,g),e.A).u();a.title=b.a.zb(b.crypto.v(u.h(8+g+4,h),e.A).u());a.owner_name=b.a.zb(b.crypto.v(u.h(8+g+4+h+4,l),e.A).u());var n=/(.+)\/([^\/]+)/.exec(a.title);n&&(a.title=n[2],a.group=n[1]);c(a);u.shift(8+g+4+h+4+l);f++;f==d&&(fa=z,k.Uk&&k.Uk(e));W=T;q("COMMAND_US_UPDATE_PUBLISH_FILE_LIST,2")}}}}}function c(b){var a,c=e.Xh;for(a=0;a<c.length;a++)if(c[a].group){if(b.group){if(b.group.toLowerCase()<c[a].group.toLowerCase()){c.splice(a,
0,b);return}if(!(b.group.toLowerCase()>c[a].group.toLowerCase())&&b.title.toLowerCase()<c[a].title.toLowerCase()){c.splice(a,0,b);return}}}else{if(b.group){c.splice(a,0,b);return}if(b.title.toLowerCase()<c[a].title.toLowerCase()){c.splice(a,0,b);return}}c.splice(a,0,b)}if(!(5>u.length())){var d=b.crypto.v(u.h(1,4),e.A).c(0);if(0>d||200<d)b.a.log("too many publish_files in the publish_file list for "+e.l),J();else{u.shift(5);e.Xh=[];var f=0;d?fa=a:W=T;q("COMMAND_US_UPDATE_PUBLISH_FILE_LIST")}}},l,
R,N,H,H,l,function(){if(!(5>u.length())){var b=u.c(1);e.Vj=b&1?1:0;e.Nt=b&2?1:0;e.Mr=b&4?1:0;e.fC=b&8?0:1;e.Bj=b&16?1:0;u.shift(5);W=T;q("COMMAND_US_INIT_INFO")}},function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[CreateGroup 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[CreateGroup 500] for "+e.l),J();else if(!(a<5+c+4+d)){if(a=u.h(5,c))if(61!=a.charCodeAt(0))k.td(e,a);else{var g=u.h(5+c+4,d),h=e.ca?e.Pa:
e.N;f(e,a,h,g);k.Ab&&k.Ab(e,a,h,e.username);g!=h&&k.Ab&&k.Ab(e,a,g,k.bl(e,g));k.xf&&k.xf(e,a,g)}u.shift(5+c+4+d);W=T;q("COMMAND_US_CREATE_GROUP")}}}},function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[CreateGroup2 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[CreateGroup2 500] for "+e.l),J();else if(!(a<5+c+4+d+4)){var g=u.c(5+c+4+d);if(0>g||128<=g)b.a.log("wrong user name len[CreateGroup2 800] for "+e.l),
J();else if(!(a<5+c+4+d+4+g+4)){if(a=u.h(5,c))if(61!=a.charCodeAt(0))k.td(e,a);else{var h=u.h(5+c+4,d),l=u.h(5+c+4+d+4,g);k.Me(e,u.c(5+c+4+d+4+g),h,l);var n=e.ca?e.Pa:e.N;f(e,a,h,n);k.Ab&&k.Ab(e,a,n,e.username);h!=n&&k.Ab&&k.Ab(e,a,h,l);k.xf&&k.xf(e,a,h)}u.shift(5+c+4+d+4+g+4);W=T;q("COMMAND_US_CREATE_GROUP2")}}}}},l,function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupMessage2 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[GroupMessage2 500] for "+
e.l),J();else if(!(a<5+c+4+d+4)){var f=u.c(5+c+4+d);if(0>f||500<=f)b.a.log("wrong short message len[GroupMessage2 800] for "+e.l),J();else if(!(a<5+c+4+d+4+f+4)){var g=u.c(5+c+4+d+4+f);if(0>g||5E3<=g)b.a.log("wrong short message2 len[GroupMessage2 1100] for "+e.l),J();else if(!(a<5+c+4+d+4+f+4+g+4)){if(a=u.h(5,c)){var h=u.h(5+c+4,d),l=u.c(5+c+4+d+4+f+4+g)>>>0,n=e.bb[a];n&&n.count==l&&"undefined"!==typeof n.lb[h]?(l=b.crypto.v(u.h(5+c+4+d+4,f),e.A).u(),n=b.crypto.v(u.h(5+c+4+d+4+f+4,g),e.A).u(),k.fk&&
k.fk(e,a,l,n,h)):(k.td(e,a),k.Yd&&k.Yd(e,a),n&&(delete e.bb[a],e.yd--,k.Qa&&k.Qa(e,a)))}u.shift(5+c+4+d+4+f+4+g+4);W=T;q("COMMAND_US_GROUP_MESSAGE2")}}}}}},l,function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[LeaveGroup2 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[LeaveGroup2 500] for "+e.l),J();else if(!(a<5+c+4+d+4)){if(a=u.h(5,c)){var f=e.bb[a];if(f){var g=u.h(5+c+4,d),h=u.c(5+c+4+d)>>>0;1234567890==
h||h!=f.count||"undefined"===typeof f.lb[g]?(1234567890!=h&&k.td(e,a),k.Yd&&k.Yd(e,a),delete e.bb[a],e.yd--):(delete f.lb[g],f.count--,p(e,f),k.tk&&k.tk(e,a,g));k.Qa&&k.Qa(e,a)}}u.shift(5+c+4+d+4);W=T;q("COMMAND_US_LEAVE_GROUP2")}}}},l,P,function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong peer id len[CreateGroupFail 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[CreateGroupFail 500] for "+e.l),J();else if(!(a<5+c+4+d+
4)){a=u.h(5,c);var f=u.h(5+c+4,d),g=u.c(5+c+4+d);k.ck&&k.ck(e,a,f,g);u.shift(5+c+4+d+4);W=T;q("COMMAND_US_CREATE_GROUP_FAIL")}}}},function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[JoinGroupFail 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[JoinGroupFail 500] for "+e.l),J();else if(!(a<5+c+4+d+4)){if(a=u.h(5,c)){var f=u.h(5+c+4,d),g=u.c(5+c+4+d);k.sk&&k.sk(e,a,f,g)}u.shift(5+c+4+d+4);W=T;q("COMMAND_US_JOIN_GROUP_FAIL")}}}},
function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupMessageFail 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||500<=d)b.a.log("wrong user name len[GroupMessageFail 800] for "+e.l),J();else if(!(a<5+c+4+d+4)){var f=u.c(5+c+4+d);if(0>f||5E3<=f)b.a.log("wrong user name len[GroupMessageFail 1100] for "+e.l),J();else if(!(a<5+c+4+d+4+f+4)){var g=3<e.Gd||3==e.Gd&&23<=e.pg;a=u.h(5+c+4,d);var h=u.h(5+c+4+d+4,f);g&&(a&&(a=b.crypto.v(a,e.A).u()),
h&&(h=b.crypto.v(h,e.A).u()));g=u.c(5+c+4+d+4+f);k.gk&&k.gk(e,"",a,h,g);u.shift(5+c+4+d+4+f);W=T;q("COMMAND_US_GROUP_MESSAGE_FAIL")}}}}},l,l,B,function(){var a=u.length();if(!(17>a)){var c=u.c(13);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileRequest 200] for "+e.l),J();else if(!(a<17+c+4)){var d=u.c(17+c);if(0>d||1E3<=d)b.a.log("wrong file name len[SendFileRequest 500] for "+e.l),J();else{var f=17+c+4+d,g=u.c(5),h;var l=h="";if(2==g||1==g){if(a<f+4)return;h=u.c(f);if(0>h||128<=h){b.a.log("wrong len[SendFileRequest 800] for "+
e.l);J();return}f+=4+h;if(a<f+4)return;h=u.h(f-h,h);l=u.c(f);if(0>l||100<=l){b.a.log("wrong len[SendFileRequest 1100] for "+e.l);J();return}f+=4+l;if(a<f)return;l=u.h(f-l,l)}var n="";var p=0;if(0==g||1==g){if(a<f+4)return;n=u.c(f);if(0>n||128<=n){b.a.log("wrong len[SendFileRequest 1400] for "+e.l);J();return}f+=4+n+4;if(a<f)return;n=u.h(f-n-4,n);p=u.c(f-4)}a=u.c(1)>>>0;var K=u.c(9)>>>0,F=u.h(17,c);c=u.h(17+c+4,d);2!=g&&k.Me(e,p,F,n);k.Kk&&k.Kk(e,a,g,K,F,n,c,h,l,p);u.shift(f);W=T;q("COMMAND_US_SENDFILE_REQUEST")}}}},
function(){var a=u.length();if(!(25>a)){var c=u.c(21);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileAction 200] for "+e.l),J();else if(!(a<25+c)){a=u.c(1)>>>0;var d=u.c(5),f=u.c(9),g=u.c(13),h=u.c(17),l=u.h(25,c);k.Jk&&k.Jk(e,g,h,f,a,d,l);u.shift(25+c);W=T;q("COMMAND_US_SENDFILE_ACTION")}}},function(){var a=u.length();if(!(17>a)){var c=u.c(13);if(0>c||128<=c)b.a.log("wrong peer id len[SendFileSend 200] for "+e.l),J();else if(!(a<17+c)){var d=u.c(5)>>>0,f=d>>>30,g=d&536870911;if(0>=g||4096<g||
3==f)b.a.log("wrong peer id len[SendFileSend 400] for "+e.l),J();else if(!(a<17+c+g)){a=u.c(1)>>>0;var h=u.c(9),l=u.h(17,c),n=b.crypto.v(u.h(17+c,g),e.A).u();k.Lk&&k.Lk(e,d,h,n,a,f,l);u.shift(17+c+g);W=T;q("COMMAND_US_SENDFILE_SEND")}}}},l,X,l,function(){var a=u.length();if(!(5>a)){var c=u.c(1);0>c||128<=c?(k.s&&k.s(e,b.b.Ga),b.a.log("wrong userid len[USERNAME,200] for "+e.l),J(b.b.eb)):a<5+c||(e.username=b.crypto.v(u.h(5,c),e.A).u(),u.shift(5+c),W=T,q("COMMAND_US_USERNAME"))}},l,l,function(){var a=
u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[GroupTyping2 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong peer id len[GroupTyping2 500] for "+e.l),J();else if(!(a<5+c+4+d+4)){if(a=u.h(5,c)){var f=u.h(5+c+4,d),g=u.c(5+c+4+d)>>>0;k.hk&&k.hk(e,a,f,g)}u.shift(5+c+4+d+4);W=T;q("COMMAND_US_GROUP_TYPING2")}}}},E,E,l,P,l,l,l,l,function(){var a=u.length();if(!(9>a)){var c=u.c(5);0>c||512<=c?(b.a.log("wrong peer id len[ServerLogError 200] for "+
e.l),J()):a<9+c||(a=u.c(1),k.Bf&&k.Bf(e,a,u.h(9,c)),u.shift(9+c),W=T,q("COMMAND_US_SERVER_LOG_ERROR"))}},function(){var a=u.length();if(!(17>a)){var c=u.c(5);if(0>c||512<=c)b.a.log("wrong peer id len[ServerLogData 200] for "+e.l),J();else if(!(a<17+c)){var d=u.c(13);if(0>d||1E4<=d)b.a.log("wrong peer id len[ServerLogData 400] for "+e.l),J();else if(!(a<17+c+d)){a=u.c(1);var f=u.c(9),g=u.h(17,c),h=b.crypto.v(u.h(17+c,d),e.A).u();-1!=h.indexOf("\x00")?k.Bf&&k.Bf(e,a,g):k.Mk&&k.Mk(e,a,g,f,h);u.shift(17+
c+d);W=T;q("COMMAND_US_SERVER_LOG_DATA")}}}},l,function(){function a(){var a=u.length();if(!(8>a)){var c=u.c(0),d=u.c(4);if(0>d||128<=d)b.a.log("wrong id len[PGCAnnounce 1300] for "+e.l),J();else if(!(a<8+d+4)){var g=u.h(8,d),l=u.c(8+d);if(0>l||128<=l)b.a.log("wrong name len[PGCAnnounce 1600] for "+e.l),J();else if(!(a<8+d+4+l)){k.Me(e,c,g,u.h(8+d+4,l));t[g]||(I++,t[g]=r-6E4);u.shift(8+d+4+l);w++;if(w==F&&(fa=z,f&&!e.bb[f])){a=new v;a.ih=f;a.U=h;a.ue=n;a.lb=t;a.count=I;if(K){var da=e.ca?e.Pa:e.N;
a.lb[da]=r-6E4;a.count++}p(e,a);e.bb[f]=a;e.yd++;K&&k.Ab&&k.Ab(e,f,da,e.username);k.Qa&&k.Qa(e,f)}W=T;q("COMMAND_US_PGC_ANNOUNCE,2")}}}}var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[PGCAnnounce 200] for "+e.l),J();else if(!(c<5+d+4)){var f=u.h(5,d),g=u.c(5+d);if(0>g||128<=g)b.a.log("wrong owner id len[PGCAnnounce 500] for "+e.l),J();else if(!(c<5+d+4+g+4)){var h=u.h(5+d+4,g),l=u.c(5+d+4+g);if(0>l||128<=l)b.a.log("wrong pgc name len[PGCAnnounce 800] for "+e.l),
J();else if(!(c<5+d+4+g+4+l+8)){var n=u.h(5+d+4+g+4,l),K=u.c(5+d+4+g+4+l),F=u.c(5+d+4+g+4+l+4)>>>0;u.shift(5+d+4+g+4+l+8);if(0>F||1E5<=F)b.a.log("wrong size[PGCAnnounce 1100] for "+e.l),J();else{var r=b.a.B(),t={},I=0,w=0;0!=F?fa=a:W=T;q("COMMAND_US_PGC_ANNOUNCE")}}}}}},function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||128<=c)b.a.log("wrong group id len[RenamePgc 200] for "+e.l),J();else if(!(a<5+c+4)){var d=u.c(5+c);if(0>d||128<=d)b.a.log("wrong name len[RenamePgc 500] for "+e.l),J();else if(!(a<
5+c+4+d+4)){var f=u.c(5+c+4+d);if(0>f||128<=f)b.a.log("wrong srcid len[RenamePgc 800] for "+e.l),J();else if(!(a<5+c+4+d+4+f)){if(a=u.h(5,c)){var g=u.h(5+c+4,d),h=u.h(5+c+4+d+4,f),l=e.bb[a];l?(l.ue=g,p(e,l),k.Ik&&k.Ik(e,a,g,h),k.Qa&&k.Qa(e,a)):k.td(e,a)}u.shift(5+c+4+d+4+f);W=T;q("COMMAND_US_PGC_RENAME")}}}}},function(){var a=u.length();if(!(9>a)){var c=u.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineJoin 200] for "+e.l),J();else if(!(a<9+c+4)){var d=u.c(9+c);if(0>d||128<=d)b.a.log("wrong name len[OfflineJoin 500] for "+
e.l),J();else if(!(a<9+c+4+d)){if(a=u.h(9,c)){var f=u.c(1),g=u.h(9+c+4,d);k.Dk&&k.Dk(e,f,a,g)}u.shift(9+c+4+d);W=T;q("COMMAND_US_OFFLINE_JOIN_GROUP2")}}}},function(){var a=u.length();if(!(9>a)){var c=u.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineLeave 200] for "+e.l),J();else if(!(a<9+c+4)){var d=u.c(9+c);if(0>d||128<=d)b.a.log("wrong name len[OfflineLeave 500] for "+e.l),J();else if(!(a<9+c+4+d)){if(a=u.h(9,c)){var f=u.c(1),g=u.h(9+c+4,d);k.Ek&&k.Ek(e,f,a,g)}u.shift(9+c+4+d);W=T;q("COMMAND_US_OFFLINE_LEAVE_GROUP2")}}}},
function(){var a=u.length();if(!(9>a)){var c=u.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflineGroupMessage 200] for "+e.l),J();else if(!(a<9+c+4)){var d=u.c(9+c);if(0>d||128<=d)b.a.log("wrong name len[OfflineGroupMessage 500] for "+e.l),J();else if(!(a<9+c+4+d+4)){var f=u.c(9+c+4+d);if(0>f||500<=f)b.a.log("wrong name len[OfflineGroupMessage 800] for "+e.l),J();else if(!(a<9+c+4+d+4+f+4)){var g=u.c(9+c+4+d+4+f);if(0>g||5E3<=g)b.a.log("wrong name len[OfflineGroupMessage 1100] for "+e.l),J();
else if(!(a<9+c+4+d+4+f+4+g)){if(a=u.h(9,c)){var h=u.c(1),l=u.h(9+c+4,d),n=u.h(9+c+4+d+4,f),p=u.h(9+c+4+d+4+f+4,g);if(3<e.Gd||3==e.Gd&&23<=e.pg)n&&(n=b.crypto.v(n,e.A).u()),p&&(p=b.crypto.v(p,e.A).u());k.Ck&&k.Ck(e,h,a,l,n,p)}u.shift(9+c+4+d+4+f+4+g);W=T;q("COMMAND_US_OFFLINE_GROUP_MESSAGE2")}}}}}},function(){var a=u.length();if(!(9>a)){var c=u.c(5);if(0>c||128<=c)b.a.log("wrong group id len[OfflinePgcRename 200] for "+e.l),J();else if(!(a<9+c+4)){var d=u.c(9+c);if(0>d||128<=d)b.a.log("wrong name len[OfflinePgcRename 500] for "+
e.l),J();else if(!(a<9+c+4+d+4)){var f=u.c(9+c+4+d);if(0>f||128<=f)b.a.log("wrong name len[OfflinePgcRename 800] for "+e.l),J();else if(!(a<9+c+4+d+4+f)){if(a=u.h(9,c)){var g=u.c(1),h=u.h(9+c+4,d),l=u.h(9+c+4+d+4,f);k.Fk&&k.Fk(e,g,a,h,l)}u.shift(9+c+4+d+4+f);W=T;q("COMMAND_US_OFFLINE_PGC_RENAME")}}}}},l,G,G,function(){var a=u.length();if(!(5>a)){var c=u.c(1);if(0>c||1E4<=c)k.s&&k.s(e,b.b.Ga),b.a.log("wrong username len[TURN_SERVER,100] for "+e.l),J(b.b.eb);else if(!(a<5+c)){a=b.crypto.v(u.h(5,c),
e.A).u();try{var d=JSON.parse(a);b.a.isArray(d)&&(10<d.length&&(d.length=10),e.hi=d)}catch(ya){}e.hi.length?b.a.log("msgr received turn server information from MCU for "+e.l):b.a.log("msgr received turn server information from MCU, but no valid entry found, for "+e.l);u.shift(5+c);W=T;q("COMMAND_US_TURN_SERVER")}}},l];ha.onclose=function(){e.j!=ha&&(b.a.log("!!!Info, need take care of this(1)!!!"),k.s&&k.s(e,99991));h();e.Id=!0;ja||x()};ha.onerror=function(){e.j!=ha&&(b.a.log("!!!Info, need take care of this(2)!!!"),
k.s&&k.s(e,99992));h();e.hf=!0;ja||x()};ha.onmessage=function(a){ra=0;h();a=new O.a.g(a.data);u.C(a);g();ja||e.Dc||(na=0,sa=b.a.B(),fa())};var ea=new O.a.g("U");ha.send(ea.i());if(e.S){ea.clear();ea.f(0);var ka=e.tf?e.tf.length:0;ea.f(ka);ka&&ea.C(b.crypto.K(e.tf,e.A))}else ea.clear(),ka=e.N?e.N.length:0,ea.f(ka),ka&&ea.C(b.crypto.K(e.N,e.A)),ka=e.password?e.password.length:0,ea.f(ka),ka&&ea.C(b.crypto.K(e.password,e.A));ha.send(ea.i());e.od=0;e.S||(e.Wa?e.eh?w.Rj||(e.eh=0,e.Wa=b.b.Md):e.Wa==b.b.Md&&
w.Rj&&(e.eh=1,e.Wa=b.b.uj):e.Wa=w.$a,ea.clear(),ea.m(w.Mi),ea.f(e.Wa),ea.m(w.qo),ea.f(b.a.time()),ha.send(ea.i()));e.Nj=1;e.disconnect=ba;b.a.log(1,["msgr connection is established for ",e.l].join(""));b.a.log(2,["msgr connection param for ",e.l,": param->addr=[",e.aa,"],port=",e.port].join(""));e.Mj=!0;e.I=b.b.ma;k.T&&k.T(e);ra=ta=e.sg=0;g();fa=z;u.length()&&(n(),na=0,sa=b.a.B(),fa())}function ca(a,c){var e=this;a.Qb=1;e.stop=function(){};if(window.DOMParser){var d=new DOMParser;try{var f=d.parseFromString(c.replace(/\n/g,
"&#10;"),"text/xml")}catch(L){return}try{var g=f.getElementsByTagName("ci")[0];if(g)if(g.getAttribute("compression")){var h=g.getAttribute("size");if(!(h&&1E9<h)){var k=b.Vb.es;if(k){var n=b.a.Fb(g.childNodes[0].nodeValue);k=k();var l=new k("zlib_decompress",b.a.ei(n),function(c){e.stop=function(){};var d=new DOMParser;try{var f=d.parseFromString(b.a.Cj(c).replace(/\n/g,"&#10;"),"text/xml")}catch(xa){return}X(a,f)},function(){e.stop=function(){}});a.Qb=0;e.stop=function(){a.Qb=1;l.stop();e.stop=function(){}}}else a.Qb=
0}}else X(a,f)}catch(L){}}}function X(a,b){var e=!1;a.Qb=1;try{var c=b.getElementsByTagName("ci")[0];if(!c)return;var d;(d=c.getAttribute("office_name"))&&100>d.length&&(a.Na=d);(d=c.getAttribute("personal_info"))&&128>d.length&&(a.Ta=d);(d=c.getAttribute("im_font"))&&256>d.length&&(a.kh=d);d=c.getAttribute("im_style");a.vf=d?d>>>0:0;var f,g,h=c.getElementsByTagName("contactgroup");for(f=0;f<(h?h.length:0);f++)if(b={},d=h[f].getAttribute("groupname")){var n=!1;for(g=0;g<a.oa.length;g++){var l=a.oa[g];
if(l.m_szGroupName==d){n=!0;break}else if(d.toLowerCase()<l.m_szGroupName.toLowerCase())break}if(!n){a.oa.splice(g,0,b);b.m_szGroupName=d;d=h[f].getAttribute("contact_folded");b.contact_folded=d?d>>>0:0;b.m_pContactArray=[];var p,q=h[f].getElementsByTagName("contact");for(p=0;p<(q?q.length:0);p++)if((d=q[p].getAttribute("userid"))&&128>d.length&&(a.S||!E(a,d))){var K={};n=!1;for(g=0;g<b.m_pContactArray.length;g++)if(d==b.m_pContactArray[g].id){n=!0;break}else if(d<b.m_pContactArray[g].id)break;if(!n){b.m_pContactArray.splice(g,
0,K);K.id=d;var r=Y(a,d);d=q[p].getAttribute("username");K.name=d&&128>d.length?d:K.id;d=q[p].getAttribute("pm");K.pm=d&&128>d.length?d:"";r&&(r.username&&r.username!=K.name&&(K.name=r.username,e=!0),r.Ta&&r.Ta!=K.pm&&(K.pm=r.Ta,e=!0))}}}}if((d=c.getElementsByTagName("share_file"))&&d.length){var t=d[0].getElementsByTagName("file");for(f=0;f<(t?t.length:0);f++){var v=t[f];c={};if((d=v.getAttribute("jnj"))&&1E4>d.length&&(c.jnj=d,(d=v.getAttribute("username"))&&128>d.length&&(c.owner_name=d,(d=v.getAttribute("homepage"))&&
100>d.length&&(c.owner_homepage=d,(d=v.getAttribute("title"))&&128>d.length)))){c.title=d;if(d=v.getAttribute("subject")){if(!(128>d.length))continue;c.subject=d}else c.subject="";d=v.getAttribute("duration");null!=d&&(c.duration=d>>>0,d=v.getAttribute("share_type"),null==d||0>d||2<d||(c.share_type=d>>>0,d=v.getAttribute("tick"),null!=d&&(c.recv_tick=d>>>0,d=v.getAttribute("read"),c.read=null==d?1:d>>>0,A(a,c))))}}}}catch(la){return}k.ms(a);k.al();k.ls(a);e&&k.Ub(a);k.T&&k.T(a);k.bk&&k.bk(a)}function A(a,
b){var e=b.owner_name,c=b.subject||b.title,d=/(.+)\/([^\/]+)$/.exec(c);d?(b.name=d[2],b.group=e+" - "+d[1],b.group2=b.owner_name+" - "+d[1]):(b.name=c,b.group=e+" ",b.group2=b.owner_name+" ");e=a.bc;for(a=0;a<e.length;a++){if(b.group<e[a].group){e.splice(a,0,b);return}if(!(b.group.toLowerCase()>e[a].group.toLowerCase())&&b.name.toLowerCase()<e[a].name.toLowerCase()){e.splice(a,0,b);return}}e.splice(a,0,b)}function a(a){function e(e){var c=this,d=new n("zlib_compress",b.a.ei(e),0,function(d){c.stop=
function(){};d='<ci size="'+e.length+'" compression="1">'+b.a.nc(b.a.Cj(d))+"</ci>";var f=d.length,g=new O.a.g;g.m(w.Gi);g.f(f);f&&g.C(b.crypto.K(d,a.A));a.j.send(g.i());b.a.log("save client_info for "+a.l+": "+f+","+d);a.vc=null},function(){a.vc=null});c.stop=function(){d.stop();c.stop=function(){}}}a.vc&&(a.vc.stop(),a.vc=null);var c="<ci",d=b.a.Ot;a.Na&&(c+=' office_name="'+d(a.Na)+'"');a.Ta&&(c+=' personal_info="'+d(a.Ta)+'"');a.kh&&(c+=' im_font="'+d(a.kh)+'"');a.vf&&(c+=' im_style="'+a.vf+'"');
c+=">\n";var f;if(a.oa.length)for(f=0;f<a.oa.length;f++){c+="<contactgroup";var g=a.oa[f];c+=' groupname="'+d(g.m_szGroupName)+'" contact_folded="'+(g.contact_folded?1:0)+'">\n';var h;for(h=0;h<g.m_pContactArray.length;h++){var k=g.m_pContactArray[h];c+='<contact userid="'+d(k.id)+'" username="'+d(k.name);k.pm&&(c+='" pm="'+d(k.pm));c+='"/>\n'}c+="</contactgroup>\n"}if(a.bc.length){c+="<share_file>\n";for(f=0;f<a.bc.length;f++)g=a.bc[f],c+='<file duration="'+g.duration+'" share_type="'+g.share_type+
'" tick="'+g.recv_tick+'" jnj="'+d(g.jnj)+'" username="'+d(g.owner_name)+'" homepage="'+d(g.owner_homepage)+'" title="'+d(g.title),g.read||(c+='" read="'+g.read),g.subject&&(c+='" subject="'+g.subject),c+='"/>\n';c+="</share_file>\n"}c+="</ci>";d=c.length;var n=b.Vb.ds();500<d&&n?a.vc=new e(c):(f=new O.a.g,f.m(w.Gi),f.f(d),d&&f.C(b.crypto.K(c,a.A)),a.j.send(f.i()),b.a.log("save client_info for "+a.l+": "+d+","+b.a.zb(c)))}function c(a){a&&a.disconnect&&a.disconnect()}function P(a){a.lh();a.Lr=0;a.tt=
0;a.Qb=a.S?1:0;a.kC=0;a.ji=0;a.ca=0;a.Vj=0;a.Nt=0;a.Ft=0;a.Bj=0}function g(a){if(!a.Fc)if(b.a.log("just in case that the existing connection is still alive, prepare to sign out existing connection before reconnection for "+a.l),c(a),P(a),a.Nj){b.a.log("start quick reconnection for "+a.l);a.disconnect=function(){};var e=b.o.ai(a.Gb,a.qr,a.port,a.port2),d=e.Uh;e=e.fi;a.I=b.b.Si;k.T&&k.T(a);G(a,d,e)}else b.a.log("start complete reconnection for "+a.l),a.disconnect=function(){},q(a)}function r(a,c){b.a.localStorage.hmtg_msgr_g_us_status=
JSON.stringify(a);w.$a=a;for(var e=0,d=0;d<w.Rb.length;d++){var f=w.Rb[d];if(!(c&&c!=f||f.S)&&f.Wa!=a&&(e=1,D(f.S,f.N,f.fa,a),f.eh=0,f.Wa=a,f.nh=1,c||(f.qg=0),f.I==b.b.ma)){k.T&&k.T(f);var g=new O.a.g;g.m(w.Mi);g.f(f.Wa);f.j.send(g.i())}}e&&n()}function Y(a,b){if(a.ca)return a.zd[b];a=a.jb;for(var e in a)if(a.hasOwnProperty(e)){var c=a[e];if(c.N==b)return c}return null}function aa(a,c,d,f,g,h,k){a.f(c);d.ca?a.f(h):(a.f(23),a.C(b.crypto.K(g,d.A)));k||f.j.send(a.i())}function ba(a,b){return b.S!=a.S||
a.fa!=b.fa||!a.S&&a.N!=b.N?!1:!0}function R(a,b){if(!a.S&&b==(a.ca?a.Pa:a.N))return!1;for(var e=0;e<a.oa.length;e++)for(var c=a.oa[e],d=0;d<c.m_pContactArray.length;d++)if(b==c.m_pContactArray[d].id)return!0;return!1}function E(a,b){return b==(a.ca?a.Pa:a.N)}var O=window.V,w={gc:1,hc:26,Sg:0};b.a.log("hmtg jmkernel version "+H());var k=b.jmkernel=b.Vb=b.Vb||{};k.version=k.version=H;w.vv=0;w.Uv=1;w.Ov=2;w.Sv=3;w.Pi=4;w.Gg=5;w.Ji=6;w.Av=7;w.no=8;w.Mi=9;w.oo=10;w.Iv=11;w.iv=12;w.ew=13;w.gw=14;w.hv=15;
w.jo=16;w.eo=17;w.Jv=18;w.kw=19;w.Io=20;w.Yv=21;w.fw=22;w.Hi=23;w.nw=24;w.Oi=25;w.bw=26;w.Fi=27;w.Dv=28;w.Ev=29;w.Fv=30;w.so=31;w.Ii=32;w.to=33;w.Gv=34;w.Rv=35;w.Do=36;w.lo=37;w.ev=38;w.Tv=39;w.Eo=40;w.Ni=41;w.sv=42;w.$v=43;w.ko=44;w.wv=45;w.tv=46;w.ov=47;w.jw=48;w.ro=49;w.fv=50;w.Gi=51;w.uv=52;w.yo=53;w.Qv=54;w.Co=55;w.Zv=56;w.lw=57;w.uo=58;w.Hv=59;w.aw=60;w.Ki=61;w.Li=62;w.Vv=63;w.gv=64;w.jv=65;w.kv=66;w.ho=67;w.pv=68;w.po=69;w.Cv=70;w.mo=71;w.xv=72;w.lv=73;w.zv=74;w.qv=75;w.nv=76;w.cw=77;w.dw=
78;w.Ao=79;w.zo=80;w.Bo=81;w.hw=82;w.wo=83;w.Ho=84;w.mw=85;w.mv=86;w.io=87;w.rv=88;w.Fo=89;w.Go=90;w.fo=91;w.yv=92;w.vo=93;w.qo=94;w.co=95;w.bo=96;w.Xv=97;w.Wv=98;w.ao=99;w.Pv=100;w.xo=101;w.Lv=102;w.Mv=103;w.Kv=104;w.Nv=105;w.Bv=106;w.Jo=107;w.Qi=108;w.iw=109;w.Sp=109;w.Rb=[];w.ka=[];w.$a=b.a.se(b.a.localStorage.hmtg_msgr_g_us_status);"undefined"===w.$a&&(w.$a=b.b.Md);w.$a!=b.b.Md&&w.$a!=b.b.wq&&w.$a!=b.b.xq&&w.$a!=b.b.uj&&w.$a!=b.b.Ob&&(w.$a=b.b.Md);w.Rj=0;w.Pr=!0;w.Y=function(){};C.prototype._g_us_status=
function(a){if("undefined"===typeof a)return w.$a;w.$a=a};w.Or=new C;h.prototype._blocking=function(a){this.Dc&&b.a.log(-1,"alert, _blocking, should not occur, need investigation for "+this.l);this.Dc=!0;this.Fj=a};h.prototype._unblocking=function(){this.Dc||b.a.log(-1,"alert, _unblocking, should not occur, need investigation for "+this.l);this.Dc=!1;this.ii&&this.ii()};h.prototype._homepage=function(){return this.fa};h.prototype._guest=function(){return this.S};h.prototype._userid=function(){return this.N};
h.prototype._my_id=function(){return this.ca?this.Pa:this.N};h.prototype._connection_status=function(){return this.I};h.prototype._us_status=function(a){if("undefined"===typeof a)return this.Wa;this.Wa=a};h.prototype._office_status=function(){return this.Sa};h.prototype._mmc_messenger=function(){return this.ca};h.prototype._server_version_major=function(){return this.Gd};h.prototype._server_version_minor=function(){return this.pg};h.prototype._server_version_subminor=function(){return this.Et};h.prototype._personal_info=
function(a){if("undefined"===typeof a)return this.Ta;this.Ta=a};h.prototype._office_name=function(a){if("undefined"===typeof a)return this.Na;this.Na=a};h.prototype._name_or_homepage=function(){return this.Na?this.Na:this.fa};h.prototype._name_or_homepage2=function(){return this.Na?this.Na:(this.S?"guest":this.username)+" @ "+this.fa};h.prototype._name_or_homepage3=function(){return this.Na?this.Na:"["+(this.S?"guest":this.username)+" @ "+this.fa+"]"};h.prototype._quit=function(){return this.Ua};
h.prototype._internal_id=function(){return this.Pa};h.prototype._m_pContactGroupArray=function(){return this.oa};h.prototype._client_info_loaded=function(){return this.Qb};h.prototype._noncontact_folded=function(a){if("undefined"===typeof a)return this.re;this.re=a};h.prototype._m_p_mmc_user_hash=function(){return this.zd};h.prototype._m_User=function(){return this.jb};h.prototype._user_status_inited=function(){return this.sg};h.prototype._user_info_ever_recvd=function(){return this.ji};h.prototype._disk_usage=
function(){return this.Ir};h.prototype._username=function(a){if("undefined"===typeof a)return this.username;this.username=a};h.prototype._to_restore_status=function(){return this.qg};h.prototype._im_style_flag=function(a){if("undefined"===typeof a)return this.vf;this.vf=a};h.prototype._ngclass=function(a){if("undefined"===typeof a)return this.nb;this.nb=a};h.prototype._ngstyle=function(a){if("undefined"===typeof a)return this.Ec;this.Ec=a};h.prototype._imstyle=function(a){if("undefined"===typeof a)return this.U;
this.U=a};h.prototype._file_transfer_cap=function(){return this.Mr};h.prototype._group_im_cap=function(){return this.Vj};h.prototype._password=function(a){if("undefined"===typeof a)return this.password;this.password=a};h.prototype._password_error=function(a){if("undefined"===typeof a)return this.bf;this.bf=a};h.prototype._ever_connected=function(){return this.Mj};h.prototype._server_im_log=function(){return this.di};h.prototype._share_file_folded=function(){return this.df};h.prototype._old_psf_folded=
function(){return this.nd};h.prototype._m_pShareFileArray=function(){return this.bc};h.prototype._publish_file_count=function(){return this.tt};h.prototype._publish_file_folded=function(){return this.cf};h.prototype._old_publish_folded=function(){return this.qd};h.prototype._mmc_publish_file_array=function(){return this.Xh};h.prototype._visitor_folded=function(a){if("undefined"===typeof a)return this.Ae;this.Ae=a};h.prototype._m_pVisitorArray=function(){return this.Ze};h.prototype._event_count=function(){return this.Lr};
h.prototype._event_folded=function(a){if("undefined"===typeof a)return this.Qd;this.Qd=a};h.prototype._mmc_event_array=function(){return this.hg};h.prototype._mcu_tick=function(){return this.lt};h.prototype._local_tick=function(){return this.gt};h.prototype._allow_group_im_force_leave=function(){return this.Bj};h.prototype._email=function(a){if("undefined"===typeof a)return this.ah;this.ah=a};h.prototype._deny_message=function(a){if("undefined"===typeof a)return this.rf;this.rf=a};h.prototype._jnj_ip=
function(){return this.aa};h.prototype._port=function(){return this.port};h.prototype._profile_up_to_date=function(){return this.Nm};h.prototype._max_outconnection=function(){return this.kt};h.prototype._disk_quota=function(){return this.Hr};h.prototype._pgc_folded=function(a){if("undefined"===typeof a)return this.te;this.te=a};h.prototype._m_pPgcHash=function(){return this.bb};h.prototype._m_PgcCount=function(){return this.yd};h.prototype._cipher_name=h.prototype.er=function(){return this.hd};h.prototype._turn_server_array=
function(){return this.hi};y.prototype._status=function(a){if("undefined"===typeof a)return this.status;this.status=a};y.prototype._office_status=function(){return this.Sa};y.prototype._username=function(){return this.username};y.prototype._personal_info=function(){return this.Ta};y.prototype._userid=function(){return this.N};y.prototype._major=function(){return this.kb};y.prototype._minor=function(){return this.Db};y.prototype._is_offline=function(){return 0==this.status&&0==this.Sa||this.status==
b.b.Ob};N.prototype._saved_password=function(){return this.Fd};v.prototype._pgc_name=function(){return this.ue};v.prototype._full_name=function(){return this.Za};v.prototype._group_id=function(){return this.ih};v.prototype._owner_id=function(){return this.U};v.prototype._count=function(){return this.count};v.prototype._member_hash=function(){return this.lb};k.jm_command_CallbackReady=k.GC=function(){var a=b.Vb;a.ds=a.jm_callback_compress;a.es=a.jm_callback_decompress;a.ek=a.jm_callback_GetMcuInfo;
a.T=a.jm_callback_UpdateConnectionStatus;a.s=a.jm_callback_ShowError;a.Zd=a.jm_callback_UpdateUser;a.dk=a.jm_callback_DeleteConnectionParam;a.Ud=a.jm_callback_LaunchJoinNet;a.Nk=a.jm_callback_ServerShutdown;a.lk=a.jm_callback_JnjExceedDiskQuota;a.Cf=a.jm_callback_ShowMMCError;a.Pk=a.jm_callback_ShortMessage;a.mk=a.jm_callback_JnjInvite;a.rk=a.jm_callback_JnjVisit;a.nk=a.jm_callback_JnjNewMessage;a.pk=a.jm_callback_JnjNewMessageCount;a.Wk=a.jm_callback_UserInfoUpdated;a.kk=a.jm_callback_InviteJnjGeneration;
a.uk=a.jm_callback_MMCJnjGeneration;a.Gk=a.jm_callback_QueryURLMMC;a.Kk=a.jm_callback_SendFileRequest;a.Ck=a.jm_callback_OfflineGroupMessage;a.fk=a.jm_callback_GroupMessage;a.qk=a.jm_callback_JnjShareFile;a.Qk=a.jm_callback_ShortMessageFailure;a.jk=a.jm_callback_InviteFailure;a.Ok=a.jm_callback_ShareFileFailure;a.gk=a.jm_callback_GroupMessageFail;a.zf=a.jm_callback_NotifyIMStatusChange;a.Bf=a.jm_callback_ServerLogError;a.Mk=a.jm_callback_ServerLogData;a.wf=a.jm_callback_DisconnectGroupConversationWindow;
a.Hk=a.jm_callback_ReconnectGroupConversationWindow;a.ik=a.jm_callback_IMNewItem;a.Vd=a.jm_callback_MsgNewItem;a.Tb=a.jm_callback_MessageEndOfFile;a.yk=a.jm_callback_NotifyPlaybackResult;a.Af=a.jm_callback_NotifyShareResult;a.Ak=a.jm_callback_NotifyUnshareResult;a.Bk=a.jm_callback_NotifyViewRecordResult;a.as=a.jm_callback_NotifyJnrPasswordResult;a.$r=a.jm_callback_NotifyChangeTitleResult;a.Wd=a.jm_callback_NotifyChangeFileProgress;a.vk=a.jm_callback_NotifyJeditorResult;a.yf=a.jm_callback_NotifyDownloadResult;
a.Xd=a.jm_callback_NotifyUploadResult;a.Xk=a.jm_callback_ViewRecord;a.Tk=a.jm_callback_UpdateEventList;a.Uk=a.jm_callback_UpdatePublishFileList;a.bk=a.jm_callback_ClientInfoLoaded;a.Qa=a.jm_callback_UpdatePgc;a.Vk=a.jm_callback_UpdateVisitor;a.Rk=a.jm_callback_ShowTalkToError;a.Yk=a.jm_callback_VisitorSessionAlert;a.Jk=a.jm_callback_SendFileAction;a.Lk=a.jm_callback_SendFileSend;a.hk=a.jm_callback_GroupTyping;a.Sk=a.jm_callback_TypingIn;a.xk=a.jm_callback_NotifyOnlineAlertMMC;a.wk=a.jm_callback_NotifyOnlineAlert;
a.Ab=a.jm_callback_JoinGroup;a.tk=a.jm_callback_LeaveGroup;a.Yd=a.jm_callback_StopPgc;a.xf=a.jm_callback_InitPgc;a.Dk=a.jm_callback_OfflineJoin;a.Ek=a.jm_callback_OfflineLeave;a.Fk=a.jm_callback_OfflinePgcRename;a.Ik=a.jm_callback_RenamePgc;a.ck=a.jm_callback_CreateGroupFail;a.sk=a.jm_callback_JoinGroupFail;a.zk=a.jm_callback_NotifyServerIMLogChange;a.Zk=a.jm_callback_WebRTCSignal};k.jm_command_ReadWBL=k.mD=function(){B();w.ka=[];var a=[];b.a.localStorage.hmtg_wbl&&"string"===typeof b.a.localStorage.hmtg_wbl&&
b.a.localStorage.hmtg_wbl.length&&(a=b.a.se(b.a.localStorage.hmtg_wbl),"undefined"===a?a=[]:b.a.isArray(a)||(a=[]));for(var c=0;c<a.length;c++){var d=a[c],f=new N;f.Na="string"===typeof d.office_name?d.office_name:"";f.fa="string"===typeof d.homepage?d.homepage:"";f.Ae=!!d.visitor_folded;f.df=!!d.share_file_folded;f.Qd=!!d.event_folded;f.cf=!!d.publish_file_folded;f.te=!!d.pgc_folded;f.re=!!d.noncontact_folded;f.S=!!d.guest;d.guest||(f.eg=d.last_status,f.N="string"===typeof d.userid?d.userid:"",f.Fd=
!!d.saved_password,d.saved_password&&(d.password&&"string"===typeof d.password||(d.password=""),f.password=b.crypto.v(d.password,b.crypto.gf).u()));w.ka.push(f)}};k.jm_command_WriteWBL=k.al=n;k.jm_command_ReorderWBL=k.tD=function(a){var b=[],c,d=!1;for(c=0;c<a.length;c++){var e;a:{for(e=0;e<w.ka.length;e++)if(ba(a[c].pointer,w.ka[e]))break a;e=-1}-1!=e&&(e!=c&&(d=!0),b.push(w.ka[e]))}d&&(w.ka=b,k.al())};k.jm_command_AddWebOffice=k.DC=function(a,c,d,f,g){var e=0,h;for(h=0;h<w.ka.length;h++){var k=
w.ka[h];if(k.S==c&&k.fa==a&&(c||f==k.N)){e=1;k.zr=1;k.S=c;k.Fd=d;c||(k.N=f,d&&(k.password=g));break}}e||(k=new N,k.zr=1,k.eg=b.b.Md,k.fa=a,k.S=c,!c&&(k.N=f,k.Fd=d)&&(k.password=g),w.ka.push(k))};k.jm_command_UpdateWebOfficeLastStatus=k.JD=D;k.jm_command_SignInOffice=k.CD=function(a,d,f,n,p){for(var e=0,K=null,t=0;t<w.Rb.length;t++)if(K=w.Rb[t],K.fa==f&&(a&&K.S||!K.S&&!a&&K.N==n)){e=1;break}if(e){e=K;if(1E4>e.I){if(e.S)return;if(e.password==p){w.$a=d;e.Wa!=d&&(e.I==b.b.ma?r(d,e):(e.Wa=d,e.nh=1));return}b.a.log("add office and force existing connection to sign out for "+
e.l)}c(e);e.S||(w.$a=e.Wa=d,e.nh=1,e.password=p);e.I=b.b.Be;g(e)}else e=new h,e.Ke=!0,e.I=b.b.Vi,e.S=a,e.S||(w.$a=e.Wa=d,e.nh=1,e.N=n,e.password=p,e.username=n),e.fa=f,w.Rb.push(e),e.l=(e.S?"guest":e.N)+" @ homepage "+e.fa,b.a.log(1,["signin, start thread for ",e.l].join("")),k.T&&k.T(e),q(e)};k.jm_command_SignOutOffice=k.DD=c;k.jm_command_ReconnectOffice=k.nD=g;k.jm_command_RemoveOffice=k.pD=function(a){a&&a.disconnect&&a.disconnect();a&&(a.Ua=!0);var b=w.Rb.indexOf(a);-1!=b&&w.Rb.splice(b,1);k.dk&&
k.dk(a)};k.jm_command_ConnectAllOffice=k.MC=function(a){for(var c=0;c<w.ka.length;c++){var d=w.ka[c],e=new h;e.I=b.b.Vi;e.S=d.S;e.Ae=d.Ae;e.df=d.df;e.Qd=d.Qd;e.cf=d.cf;e.te=d.te;e.re=d.re;e.Wa=d.eg;e.Na=d.Na;e.fa=d.fa;d.S||(e.N=d.N,d.Fd?e.password=d.password:(e.password="",e.bf=1),e.username=e.N);w.Rb.push(e);e.l=(e.S?"guest":e.N)+" @ homepage "+e.fa;a&&(d.S||d.Fd)?(b.a.log(1,"init, start thread for "+e.l),q(e)):e.I=b.b.Be;k.T&&k.T(e)}};k.jm_command_FindWebOffice=k.WC=function(a){for(var b,c=0;c<
w.ka.length;c++)if(b=w.ka[c],ba(a,b))return b;return null};k.jm_command_CreateDummyOffice=k.NC=function(a,b){var c=new h;c.S=!1;c.N=a;c.fa=b;return c};k.jm_command_RemoveWebOffice=k.rD=function(a){a=w.ka.indexOf(a);-1!=a&&w.ka.splice(a,1)};k.jm_command_UpdateWebOfficeFoldStatus=k.ID=function(a,b,c){var d;for(d=0;d<w.ka.length;d++){var e=w.ka[d];if(ba(a,e)){0==b?e.Ae=c:2==b?e.re=c:3==b?e.Qd=c:4==b?e.df=c:5==b?e.cf=c:6==b&&(e.te=c);break}}};k.jm_command_UpdateWebOfficeName=k.ms=function(a){var b;for(b=
0;b<w.ka.length;b++){var c=w.ka[b];if(ba(a,c)){c.Na=a.Na;break}}};k.jm_command_UpdateWebOfficeProfile=k.KD=function(a){var b;for(b=0;b<w.ka.length;b++){var c=w.ka[b];if(ba(a,c)){c.password=a.password;break}}};k.jm_command_LaunchOffice=k.hs=function(a){var b=new O.a.g;b.m(w.oo);a.j.send(b.i())};k.jm_command_AppendDefaultPassword=k.gs=function(a,c){if(!c)return a;B();var d="hmtg_temp_autodelete_"+(new O.a.g(O.random.xa(20))).Mb();c={time:Date.now(),value:b.crypto.K(c,b.crypto.gf).u()};b.a.localStorage[d]=
JSON.stringify(c);a+="\nowner_passwd="+d+"\n";b.a.sd||setTimeout(function(){b.a.localStorage.removeItem(d)},6E4);return a};k.jm_command_AppendPlayerName=k.EC=function(a,c){if(c.S)return a;var d=c.username;d?(d+=" @ "+c.fa,d=b.a.ff(d,128)):d="Guest";return a+("\nplayer_name="+d+"\n")};k.jm_command_Base64HashPassword=k.FC=function(a){var c=b.crypto.$c(a.password);a=b.crypto.K(c,a.A);return b.a.nc(a)};k.jm_command_Visit=k.ND=function(a,c){if(!a.Ua&&a.I==b.b.ma){var d=new O.a.g;d.m(w.no);d.G(c);a.j.send(d.i());
return!0}};k.jm_command_SetStatus=k.ks=r;k.jm_command_MMCVisit=k.eD=function(a,c,d,f,g){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;e.m(w.so);e.f(c);e.G(d);c=g?1:0;e.f(c);c||e.G(f);a.j.send(e.i());return!0}};k.jm_command_MMCRequestInviteUserJnj=k.dD=function(a,b,c,d,f){var e=new O.a.g;e.m(a==b?w.lo:w.Ii);e.f(c);e.G(a==b?d:f);a.j.send(e.i())};k.jm_command_RequestInviteUserJnj=k.uD=function(a,b,c,d){b=new O.a.g;b.m(w.Ii);b.f(c);b.G(d);a.j.send(b.i())};k.jm_command_InviteUser=k.ZC=function(a,c,d,f,g){a.Ua||
!a.Sa&&!a.ca||(b.a.pe("inviting user '"+f+"'(name: '"+g+"') @ '"+c.fa+"', invitor '"+(a.ca?a.Pa:a.N)+"'(name: '"+a.username+"') @ '"+a.fa+"'"),g=new O.a.g,g.m(w.jo),g.G(f),g.G(a.fa),g.G(a.ca?a.username:a.N),a=d.length,g.f(a),a&&g.C(b.crypto.K(d,c.A)),c.j.send(g.i()))};k.jm_command_InviteGuest=k.YC=function(a,c,d,f,g){if(!a.Ua&&(a.Sa||a.ca)){b.a.pe("inviting guest "+g+" @ '"+c.fa+"', invitor '"+(a.ca?a.Pa:a.N)+"'(name: '"+a.username+"') @ '"+a.fa+"'");var e=new O.a.g;e.m(w.ko);e.G(f);e.G(a.fa);e.G(a.ca?
a.username:a.N);a=d.length;e.f(a);a&&e.C(b.crypto.K(d,c.A));e.G(g);c.j.send(e.i())}};k.jm_command_SendMessage=k.xD=function(a,c,d,f,g,h,k,n){var e=new O.a.g;c?(e.m(w.ho),e.G(c),k=d.length,e.f(k),k&&e.C(b.crypto.K(d,a.A)),k=f.length,e.f(k),k&&e.C(b.crypto.K(f,a.A))):(c=g||a.S,e.m(c?w.Ni:w.Eo),e.G(k),k=d.length,e.f(k),k&&e.C(b.crypto.K(d,a.A)),k=f.length,e.f(k),k&&e.C(b.crypto.K(f,a.A)),e.G(a.S?a.tf:a.ca?a.Pa:a.N),e.G(n),c&&e.G(h));a.j.send(e.i())};k.jm_command_SendWebRTCSignal=k.yD=function(a,c,d){var e=
new O.a.g;e.m(w.Jo);e.G(d);d=c.length;e.f(d);d&&e.C(b.crypto.K(c,a.A));a.j.send(e.i())};k.jm_command_ParamFindUser=k.js=Y;k.jm_command_DownloadServerLog=k.UC=function(a,c,d,f,g,h,k){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;e.m(w.co);e.f(c);e.f(f);e.f(g);e.L(h);e.f(k);e.G(d);a.j.send(e.i());return!0}};k.jm_command_DeleteServerLog=k.SC=function(a,c,d,f){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;e.m(w.bo);e.f(c);e.f(f);e.G(d);a.j.send(e.i());return!0}};k.jm_command_DecodeServerLogLine=k.OC=function(a){var c=
{};if(35==a.charCodeAt(0)){c.text_type=b.b.Jg;a=b.a.Fb(a.slice(1));var d=new O.a.g(a)}else a=b.a.Fb(a),d=new O.a.g(a),c.text_type=d.c(8);if(d.M(a.length-1))return null;c.tick=d.c(0);var e=12;switch(c.text_type){case b.b.gj:c.delay=d.c(12),e=16;case b.b.ij:var f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");if(-1==d)return null;var g=a.slice(e+f+d+2).indexOf("\x00");if(e+f+d+g+3!=a.length||256<=f||500<=d||5E3<=g)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,
d);c.s3=a.substr(e+f+d+2,g);break;case b.b.Mg:case b.b.dj:c.delay=d.c(12),e=16;case b.b.Kg:case b.b.Lg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||256<=f)return null;c.s1=a.substr(e,f);break;case b.b.ej:c.delay=d.c(12);e=16;f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");if(e+f+d+2!=a.length||256<=f||256<=d)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);break;case b.b.hj:case b.b.fj:c.delay=d.c(12);c.size=d.c(16)>>>0;e=20;f=a.slice(e).indexOf("\x00");
if(e+f+1!=a.length||5E3<=f)return null;c.s3=a.substr(e,f);break;case b.b.Jg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||500<=f)return null;c.s3=""+d.c(8)+" ("+a.substr(e,f)+")";break;default:return null}return c};k.jm_command_CheckIM=k.KC=function(a,c,d){return new b.protocol.fs(a,c,d)};k.jm_command_CheckMsg=k.LC=function(a,c,d){return new b.protocol.oh(a,"","",0,d)};k.jm_command_CheckFilteredMsg=k.JC=function(a,c,d,f,g){return new b.protocol.oh(a,c,d,0,g)};k.jm_command_Playback=k.lD=function(a,
c,d,f){var e=new O.a.g;a.ca?(e.f(1),e.f(f),c.Fa=0,c.j.send(e.i())):(e.m(w.yo),e.C(b.crypto.K(d,a.A)),a.j.send(e.i()))};k.jm_command_Delete=k.PC=function(a,b,c,d){var e=new O.a.g;aa(e,2,a,b,c,d)};k.jm_command_MarkRead=k.fD=function(a,b,c,d){var e=new O.a.g;aa(e,6,a,b,c,d)};k.jm_command_MarkUnread=k.gD=function(a,b,c,d){var e=new O.a.g;aa(e,7,a,b,c,d)};k.jm_command_MMCPlaybackSharedFile=k.cD=function(a,c,d){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;e.m(w.uo);e.f(c);e.G(d);a.j.send(e.i());return!0}};k.jm_command_MMCEditProfile=
k.bD=function(a,c){if(!a.Ua&&a.I==b.b.ma){var d=new O.a.g;d.m(w.Hi);d.f(c);a.j.send(d.i());return!0}};k.jm_command_JoinEvent=k.aD=function(a,c,d,f,g,h){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;e.m(w.ro);e.f(c);e.G(d);e.G(f);e.f(g?1:0);g||e.G(h);a.j.send(e.i());return!0}};k.jm_command_UpdatePersonalInfo=k.ls=function(a){var b=new O.a.g;b.m(w.Ho);b.G(a.Ta);a.j.send(b.i())};k.jm_command_SpeedupClientInfo=k.ED=function(){var b;for(b=0;b<w.Rb.length;b++){var c=w.Rb[b];!c.S&&c.Va&&(clearTimeout(c.Va),c.Va=
null,a(c))}};k.jm_command_TouchClientInfo=k.Ub=function(b){b.Qb&&!b.Fc&&(b.Va&&clearTimeout(b.Va),b.Va=setTimeout(function(){b.Va=null;a(b)},6E4))};k.jm_command_RemoveShareFile=k.qD=function(a,b){b=a.bc.indexOf(b);-1!=b&&(a.bc.splice(b,1),k.Ub(a))};k.jm_command_RemoveAllShareFile=k.oD=function(a,b){var c;for(c=a.bc.length-1;0<=c;c--)a.bc[c].group==b&&a.bc.splice(c,1);k.Ub(a)};k.jm_command_UpdateUserInfo=k.Me=function(a,b,c,d){var e;if(a.ca){if(e=a.zd[c])return;e=new y;a.zd[c]=e}else{if(e=a.jb[b])return;
e=new y;a.jb[b]=e}e.status=0;e.Sa=0;e.kb=0;e.Db=0;e.N=c;e.username=d;e.Ta=""};k.jm_command_TalkToVisitor=k.FD=function(a,c,d,f){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;e.m(w.Oi);e.f(c);e.f(d);e.G(f);a.j.send(e.i());return!0}};k.jm_command_SendFileAction=k.wD=function(a,c,d,f,g,h,k){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;e.m(w.zo);e.f(c);e.f(d);e.f(f);e.f(g);e.f(h);e.G(k);a.j.send(e.i());return!0}};k.jm_command_NotifyFileTransfer=k.hD=function(a,c,d,f,g,h,k,n,p){if(!a.Ua&&a.I==b.b.ma){k&&(c|=2147483648);
var e=new O.a.g;e.m(w.vo);e.f(c);e.f(d);e.f(g);e.G(h);e.G(f);k&&(e.G(n),e.G(p));a.j.send(e.i());return!0}};k.jm_command_Typing=k.GD=function(a,c,d,f){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;c?(e.m(w.io),e.G(c)):(e.m(f?w.Go:w.Fo),e.G(d));a.j.send(e.i());return!0}};k.jm_command_PgcUsernameChange=k.ph=function(a,b){var c=a.bb,d={},e;for(e in c)if(c.hasOwnProperty(e)){var f=a.bb[e];"undefined"!==typeof f.lb[b]&&(p(a,f),d[e]||(k.Qa&&k.Qa(a,e),d[e]=1))}};k.jm_command_RequestSendFile=k.vD=function(a,c,d,
f,g,h,k,n,p){if(!a.Ua&&a.I==b.b.ma){var e=new O.a.g;e.m(w.Ao);e.f(c);e.f(d);e.f(f);e.G(g);e.G(h);k&&(e.G(n),e.G(p));a.j.send(e.i());return!0}};k.jm_command_FileSend=k.VC=function(a,c,d,f,g,h,k){if(!a.Ua&&a.I==b.b.ma){var e=d.length;e=e|f<<30|(c?1:0)<<29;c=new O.a.g;c.m(w.Bo);c.f(g);c.f(e);c.f(h);c.G(k);c.C(b.crypto.K(d,a.A));a.j.send(c.i());return!0}};k.jm_command_AddPerson=k.CC=function(a,b,c,d){var e=new O.a.g;e.m(b?w.mo:w.ao);e.G(b?b:c);e.G(d);a.j.send(e.i())};k.jm_command_LeaveGroup=k.td=function(a,
b){var c=new O.a.g;c.m(w.po);c.G(b);a.j.send(c.i())};k.jm_command_PgcRemove=k.jD=function(a,b){b=b.ih;delete a.bb[b];a.yd--;k.Qa&&k.Qa(a,b)};k.jm_command_PgcRename=k.kD=function(a,b,c){var d=new O.a.g;d.m(w.xo);d.G(b);d.G(c);a.j.send(d.i())};k.jm_command_ForceLeaveGroup=k.XC=function(a,b,c){var d=new O.a.g;d.m(w.fo);d.G(b);d.G(c);a.j.send(d.i())};k.jm_command_ViewProfile=k.ns=function(a){var b=new O.a.g;b.m(w.Io);b.f(0);a.j.send(b.i())};k.jm_command_Share=k.AD=function(a,c,d,f,g,h,k,n,p,l){var e=
new O.a.g;aa(e,9,a,c,d,f,!0);d=new O.a.g;d.f(k?n:0);k=21;p&&(p=b.crypto.$c(b.a.ob(l)),d.C(p),k=1);for(p=0;p<k;p++)d.m(0);e.C(b.crypto.K(d,a.A));g==a&&h?e.G(h):e.f(0);c.j.send(e.i())};k.jm_command_Unshare=k.HD=function(a,b,c,d){var e=new O.a.g;aa(e,12,a,b,c,d)};k.jm_command_ViewRecord=k.MD=function(a,b,c,d){var e=new O.a.g;aa(e,15,a,b,c,d)};k.jm_command_ChangeTitle=k.IC=function(a,c,d,f,g){var e=new O.a.g;aa(e,11,a,c,d,f,!0);e.f(g.length);g.length&&e.C(b.crypto.K(g,a.A));c.j.send(e.i())};k.jm_command_ChangeJNRPassword=
k.HC=function(a,c,d,f,g,h){var e=new O.a.g;aa(e,10,a,c,d,f,!0);e.f(g.length);g.length&&e.C(b.crypto.K(g,a.A));e.f(h.length);h.length&&e.C(b.crypto.K(h,a.A));c.j.send(e.i())};k.jm_command_ShareFileToUser=k.BD=function(a,c,d,f,g,h,k,n,p,l,q){if(c.I==b.b.ma)return a=new O.a.g,a.m(w.Co),a.G(d),a.G(h),a.G(g),a.G(l),a.G(f),a.G(k),a.f(p),a.f(q),a.G(n),c.j.send(a.i()),!0};k.jm_command_ParseViewRecord=k.iD=function(a){var b=new O.a.g(a),c=b.c(12);return 0>c||128<=c||c+16>a.length?null:[c,b.h(16,c),b.c(0),
b.c(8),b.c(4)]};k.jm_command_AddContactGroup=k.BC=function(a,b){var c={},d,e=!1;for(d=0;d<a.oa.length;d++){var f=a.oa[d];if(f.m_szGroupName==b){e=!0;break}else if(b.toLowerCase()<f.m_szGroupName.toLowerCase())break}e||(a.oa.splice(d,0,c),c.m_szGroupName=b,c.contact_folded=0,c.m_pContactArray=[],k.Ub(a))};k.jm_command_RenameContactGroup=k.sD=function(a,b,c){var d,e=!1;for(d=0;d<a.oa.length;d++){var f=a.oa[d];if(f==b){a.oa.splice(d,1);e=!0;break}}if(e){b.m_szGroupName=c;e=!1;for(d=0;d<a.oa.length;d++)if(f=
a.oa[d],f.m_szGroupName==c){e=!0;break}else if(c.toLowerCase()<f.m_szGroupName.toLowerCase())break;e||(a.oa.splice(d,0,b),k.Ub(a))}};k.jm_command_DeleteContactGroup=k.RC=function(a,b){var c,d=!1;for(c=0;c<a.oa.length;c++)if(a.oa[c]==b){a.oa.splice(c,1);d=!0;break}d&&k.Ub(a)};k.jm_command_AddContact=k.AC=function(a,b,c,d){var e={},f,g=!1;for(f=0;f<b.m_pContactArray.length;f++)if(c==b.m_pContactArray[f].id){g=!0;break}else if(c<b.m_pContactArray[f].id)break;g||(b.m_pContactArray.splice(f,0,e),e.id=
c,(b=Y(a,c))?(e.name=b.username||d,e.pm=b.Ta):(e.name=d,e.pm=""),k.Ub(a))};k.jm_command_DeleteContact=k.QC=function(a,b,c){var d,e=!1;for(d=0;d<b.m_pContactArray.length;d++)if(c==b.m_pContactArray[d].id){b.m_pContactArray.splice(d,1);e=!0;break}else if(c<b.m_pContactArray[d].id)break;e&&k.Ub(a)};k.jm_command_SetGroup=k.zD=function(a,b,c,d,f){var e=new O.a.g;aa(e,16,a,b,c,d,!0);e.G(f);b.j.send(e.i())};k.jm_command_Jeditor=k.$C=function(a,b,c,d,f){b.cc=17;var e=new O.a.g;aa(e,17,a,b,c,d,!0);e.G(f);
b.j.send(e.i())};k.jm_command_Download=k.TC=function(a,b,c,d){b.cc=18;var e=new O.a.g;aa(e,18,a,b,c,d,!0);b.j.send(e.i())};k.jm_command_Upload=k.LD=function(a,c,d){function e(){if(1E4<c.Ia&&!c.nf&&c.jc+c.Pb<d.size){var e=Math.min(d.size,c.jc+c.Ia+2E4),f=new FileReader;f.onload=function(a){c.buffer&&(c.buffer.set(c.buffer.slice(c.Ia,c.Pb)),c.buffer.set(new Uint8Array(a.target.result),c.Pb-c.Ia),c.Pb=c.Pb-c.Ia+a.target.result.byteLength,c.jc+=c.Ia,c.Ia=0,c.nf=!1)};f.onerror=function(){c.buffer&&(c.buffer=
null,c.ea&&(c.ea.terminate(),c.ea=null),k.Xd&&k.Xd(a,c,b.b.dr))};f.readAsArrayBuffer(d.slice(c.jc+c.Pb,e));c.nf=!0}}c.$j=!1;c.cc=19;var f=new O.a.g;f.f(c.cc);f.f(d.size>>>0);f.f(d.size/4294967296>>>0);f.C(b.crypto.K(c.buffer.slice(0,74),a.A));c.Ia=74;c.j.send(f.i());c.ea=new Worker("worker/worker_interval.js");c.ea.onmessage=function(){if(a.I!=b.b.ma||!c.connected||1!=c.j.readyState)c.connected&&1==c.j.readyState&&c.j.close(),c.mb=0,c.buffer=null,c.ea&&(c.ea.terminate(),c.ea=null);else if(c.$j&&!c.j.bufferedAmount){var n=
b.a.B();if(k.Wd&&500<n-g){var p=(c.jc+c.Ia)/d.size*100>>>0;p!=h&&(h=p,c.mb=p,k.Wd(a,c));g=n}for(p=0;100>p;p++){if(512>c.Pb-c.Ia&&c.Pb+c.jc!=d.size){e();break}var l=Math.min(512,c.Pb-c.Ia);var q=c.buffer.subarray(c.Ia,c.Ia+l);c.Ia+=l;f.clear();f.C(b.crypto.K(q,a.A));c.j.send(f.i());if(c.Ia+c.jc==d.size){c.buffer=null;c.ea&&(c.ea.terminate(),c.ea=null);break}if(20<b.a.B()-n){e();break}}}};c.ea.postMessage({command:"set",delay:10});var g=b.a.B()-1E3,h=0};k.jm_command_WriteUserProfile=k.OD=function(a){if(a.I==
b.b.ma){var c=new O.a.g;c.m(w.Hi);c.G(a.username);c.G(a.ah);var d=a.password?a.password.length:0;c.f(d);d&&c.C(b.crypto.K(a.password,a.A));c.f(a.rf);a.j.send(c.i());return!0}};k.jm_info_GlobalPointer=k.SD=function(){return w.Or};k.jm_info_TestSameOffice=k.VD=ba;k.jm_info_HaveNonContact=k.TD=function(a){if(a.ca){var c=a.zd;for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if((e.status||e.Sa)&&(e.status!=b.b.Ob||e.N==a.Pa)&&a.Pa!=e.N&&!R(a,e.N))return!0}}else for(d in c=a.jb,c)if(c.hasOwnProperty(d)&&
(e=c[d],(e.status||e.Sa)&&(e.status!=b.b.Ob||e.N==a.N)&&a.N!=e.N&&!R(a,e.N)))return!0;return!1};k.jm_info_IsContact=k.UD=R;k.jm_info_CanTargetUserAcceptInvitation=k.PD=function(a,c){return(a=Y(a,c))&&a.status!=b.b.Ob&&0!=a.status&&1<=a.kb?!0:!1};k.jm_info_CheckSelf=k.QD=E;k.jm_info_GetUserName=k.bl=function(a,b){if(E(a,b))return a.username;var c=k.js(a,b);if(c)return c.username;for(c=0;c<a.oa.length;c++){var d=a.oa[c],e;for(e=0;e<d.m_pContactArray.length;e++){var f=d.m_pContactArray[e];if(f.id==b)return f.name}}return b};
k.jm_info_GetOfficeCount=k.RD=function(){return w.ka.length}})(window.hmtg);
