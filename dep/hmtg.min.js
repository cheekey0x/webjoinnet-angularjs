"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,m,e){var p=null;"undefined"===typeof e&&(e=["web","flash"]);var h=!1,a=null,d;for(d in e){var c=e[d];try{if("flash"===c||"both"===c){if(null===m[0])throw{message:"Flash local storage not available."};p=b.apply(this,m);h="flash"===c}if("web"===c||"both"===c)m[0]=window.localStorage,p=b.apply(this,m),h=!0}catch(g){a=g}if(h)break}if(!h)throw a;return p}function F(b,m){E(b,m,null)}function c(b,m,e){var p=q(b,m);if(null!==p&&e in p){delete p[e];e=!0;for(var h in p){e=!1;break}e&&
(p=null);E(b,m,p)}}function y(b,m,e){b=q(b,m);null!==b&&(b=e in b?b[e]:null);return b}function h(b,m,e,h){var p=q(b,m);null===p&&(p={});p[e]=h;E(b,m,p)}function q(b,m){if(!b)throw{message:"WebStorage not available."};m=b.getItem(m);if(b.kh)if(null===m.og){if(m.error)throw m.error;m=null}else m=m.og;null!==m&&(m=JSON.parse(e.Ib(m)));return m}function E(b,m,h){if(!b)throw{message:"WebStorage not available."};null===h?b=b.removeItem(m):(h=e.oc(JSON.stringify(h)),b=b.setItem(m,h));if("undefined"!==typeof b&&
!0!==b.og)throw b.error;}var e=b.a=b.a||{};"undefined"!==typeof window.V&&window.V.bf?(e.bf=window.V.bf,"function"===typeof setImmediate?e.setImmediate=setImmediate:e.setImmediate=e.bf):"function"===typeof setImmediate?(e.setImmediate=setImmediate,e.bf=function(b){return setImmediate(b)}):(e.setImmediate=function(b){setTimeout(b,0)},e.bf=e.setImmediate);e.isArray=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)};e.Kr=function(b){return"undefined"!==typeof ArrayBuffer&&
b instanceof ArrayBuffer};var D=[];"undefined"!==typeof Int8Array&&D.push(Int8Array);"undefined"!==typeof Uint8Array&&D.push(Uint8Array);"undefined"!==typeof Uint8ClampedArray&&D.push(Uint8ClampedArray);"undefined"!==typeof Int16Array&&D.push(Int16Array);"undefined"!==typeof Uint16Array&&D.push(Uint16Array);"undefined"!==typeof Int32Array&&D.push(Int32Array);"undefined"!==typeof Uint32Array&&D.push(Uint32Array);"undefined"!==typeof Float32Array&&D.push(Float32Array);"undefined"!==typeof Float64Array&&
D.push(Float64Array);e.Lr=function(b){for(var p=0;p<D.length;++p)if(b instanceof D[p])return!0;return!1};e.g=function(b){this.data="";this.read=0;if("string"===typeof b)this.data=b;else if(e.Kr(b)||e.Lr(b)){b=new Uint8Array(b);try{this.data=String.fromCharCode.apply(null,b)}catch(I){for(var p=0;p<b.length;++p)this.o(b[p])}}else b instanceof e.g&&(this.data=b.data,this.read=b.read)};e.g.prototype.length=function(){return this.data.length-this.read};e.g.prototype.Mr=function(){return 0>=this.length()};
e.g.prototype.o=function(b){this.data+=String.fromCharCode(b)};e.g.prototype.eh=function(b,m){b=String.fromCharCode(b);for(var p=this.data;0<m;)m&1&&(p+=b),m>>>=1,0<m&&(b+=b);this.data=p};e.g.prototype.K=function(b){this.data+=b};e.g.prototype.Cm=function(b){this.data+=b.split("").reverse().join("")};e.g.prototype.H=function(b){this.f(b.length);this.data+=b};e.g.prototype.jg=function(b){b=e.qb(b);this.f(b.length);this.data+=b};e.g.prototype.gt=function(){this.data+=String.fromCharCode(0)+String.fromCharCode(0)};
e.g.prototype.f=function(b){this.data+=String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};e.g.prototype.Fd=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)};e.g.prototype.Zc=function(b){this.data+=String.fromCharCode(b&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>24&255)};e.g.prototype.D=function(b){this.data+=b.ya()};e.g.prototype.Lj=function(){return this.data.charCodeAt(this.read++)};
e.g.prototype.getInt32=function(){var b=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);this.read+=4;return b};e.g.prototype.c=function(b){return this.data.charCodeAt(this.read+b)<<24^this.data.charCodeAt(this.read+b+1)<<16^this.data.charCodeAt(this.read+b+2)<<8^this.data.charCodeAt(this.read+b+3)};e.g.prototype.lc=function(b){return this.data.charCodeAt(this.read+b+3)<<24^this.data.charCodeAt(this.read+
b+2)<<16^this.data.charCodeAt(this.read+b+1)<<8^this.data.charCodeAt(this.read+b)};e.g.prototype.Pd=function(b){return this.data.charCodeAt(this.read+b)<<8^this.data.charCodeAt(this.read+b+1)};e.g.prototype.Fr=function(){var b=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return b};e.g.prototype.ya=function(b){if(b){b=Math.min(this.length(),b);var p=this.data.slice(this.read,this.read+b);
this.read+=b}else 0===b?p="":(p=0===this.read?this.data:this.data.slice(this.read),this.clear());return p};e.g.prototype.u=function(b){return"undefined"===typeof b?this.data.slice(this.read):this.data.slice(this.read,this.read+b)};e.g.prototype.h=function(b,m){return"undefined"===typeof m?this.data.slice(this.read+b):this.data.slice(this.read+b,this.read+b+m)};e.g.prototype.L=function(b){return this.data.charCodeAt(this.read+b)};e.g.prototype.compact=function(){0<this.read&&(this.data=this.data.slice(this.read),
this.read=0);return this};e.g.prototype.shift=function(b){this.read+=b;1024<this.data.length&&(4096<this.read||this.read>this.data.length>>1)&&(this.data=this.data.slice(this.read),this.read=0)};e.g.prototype.clear=function(){this.data="";this.read=0;return this};e.g.prototype.truncate=function(b){b=Math.max(0,this.length()-b);this.data=this.data.substr(this.read,b);this.read=0;return this};e.g.prototype.i=function(){for(var b=new ArrayBuffer(this.data.length-this.read),m=new Uint8Array(b),e=0,h=
this.read;h<this.data.length;++h,++e)m[e]=this.data.charCodeAt(h);return b};e.g.prototype.Pb=function(){for(var b="",m=this.read;m<this.data.length;++m){var e=this.data.charCodeAt(m);16>e&&(b+="0");b+=e.toString(16)}return b};e.g.prototype.toString=function(){return e.Ab(this.u())};e.createBuffer=function(b,m){void 0!==b&&"utf8"===(m||"raw")&&(b=e.qb(b));return new e.g(b)};e.Gj=function(){for(var b=String.fromCharCode(0),m=64,e="";0<m;)m&1&&(e+=b),m>>>=1,0<m&&(b+=b);return e};e.bG=function(b,m,e){for(var p=
"",h,a="",d=0,c=0;0<e;--e,++d)h=b.charCodeAt(d)^m.charCodeAt(d),10<=c&&(p+=a,a="",c=0),a+=String.fromCharCode(h),++c;return p+a};e.Ic=function(b){var p="",e=0;b.length&1&&(e=1,p+=String.fromCharCode(parseInt(b[0],16)));for(;e<b.length;e+=2)p+=String.fromCharCode(parseInt(b.substr(e,2),16));return p};e.Wg=function(b){return e.createBuffer(b).Pb()};e.cC=function(b){return String.fromCharCode(b>>24&255)+String.fromCharCode(b>>16&255)+String.fromCharCode(b>>8&255)+String.fromCharCode(b&255)};var v=[62,
-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];e.oc=function(b,m){if(window.btoa)return btoa(b);for(var p="",e="",h,a,d,c=0;c<b.length;)h=b.charCodeAt(c++),a=b.charCodeAt(c++),d=b.charCodeAt(c++),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h>>2),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((h&
3)<<4|a>>4),isNaN(a)?p+="==":(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((a&15)<<2|d>>6),p+=isNaN(d)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d&63)),m&&p.length>m&&(e+=p.substr(0,m)+"\r\n",p=p.substr(m));return e+p};e.Cj=function(b,m){for(var p="",e="",h,a,d,c=0;c<b.length;)h=b.charCodeAt(c++),a=b.charCodeAt(c++),d=b.charCodeAt(c++),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(h>>2),p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((h&
3)<<4|a>>4),isNaN(a)?p+="==":(p+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt((a&15)<<2|d>>6),p+=isNaN(d)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=".charAt(d&63)),m&&p.length>m&&(e+=p.substr(0,m)+"\r\n",p=p.substr(m));return e+p};e.Ib=function(b){if(window.atob)try{return atob(b)}catch(T){try{if(b.length)return atob(b.slice(0,-1))}catch(g){}}b=b.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var p="",e,h,c,a,d=0;d<b.length;)e=v[b.charCodeAt(d++)-43],
h=v[b.charCodeAt(d++)-43],c=v[b.charCodeAt(d++)-43],a=v[b.charCodeAt(d++)-43],p+=String.fromCharCode(e<<2|h>>4),64!==c&&(p+=String.fromCharCode((h&15)<<4|c>>2),64!==a&&(p+=String.fromCharCode((c&3)<<6|a)));return p};e.Bj=function(b){return e.Ib(b.replace(/[-|_]/g,function(b){return"-"==b?"+":"/"}))};e.qb=function(b){try{return unescape(encodeURIComponent(b))}catch(m){return b}};e.Ab=function(b){try{return decodeURIComponent(escape(b))}catch(m){return b}};e.sr=function(b){var p;return p=e.Ib(b.sr(e.oc(p)).og)};
e.Jr=function(b){b=b.Jr(e.oc(void 0)).og;return null===b?null:e.Ib(b)};e.setItem=function(b,m,e,c,t){H(h,arguments,t)};e.getItem=function(b,m,e,h){return H(y,arguments,h)};e.removeItem=function(b,m,e,h){H(c,arguments,h)};e.SB=function(b,m,e){H(F,arguments,e)};e.at=function(b){var m=/\/\/\[.+\]:/.test(b)?/^(https?):\/\/\[(.+)\]:?(\d*)(.*)$/g:/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;m.lastIndex=0;m=m.exec(b);if(b=null===m?null:{Ar:b,scheme:m[1],host:m[2],port:m[3],path:m[4]})b.Ke=b.host,b.port?80!=
b.port&&"http"===b.scheme?b.Ke+=":"+b.port:443!=b.port&&"https"===b.scheme&&(b.Ke+=":"+b.port):"http"===b.scheme?b.port=80:"https"===b.scheme&&(b.port=443),b.Ar=b.scheme+"://"+b.Ke;return b};var B=null;e.Hr=function(b){function m(b){var m={};b=b.split("&");for(var e=0;e<b.length;e++){var a=b[e].indexOf("=");if(0<a){var d=b[e].substring(0,a);a=b[e].substring(a+1)}else d=b[e],a=null;d in m||(m[d]=[]);d in Object.prototype||null===a||m[d].push(unescape(a))}return m}"undefined"===typeof b?(null===B&&
("undefined"===typeof window?B={}:B=m(window.location.search.substring(1))),b=B):b=m(b);return b};e.$s=function(b){var m=b,h="",p=b.indexOf("?");0<p&&(m=b.substring(0,p),h=b.substring(p+1));b=m.split("/");0<b.length&&""===b[0]&&b.shift();p=""===h?{}:e.Hr(h);return{ct:m,ht:h,path:b,query:p}};e.IF=function(b){var m=e.$s(b),h={path:m.ct,query:m.ht,Gr:function(b){return"undefined"===typeof b?m.path:m.path[b]},Sd:function(b,e){"undefined"===typeof b?b=m.query:(b=m.query[b])&&"undefined"!==typeof e&&(b=
b[e]);return b},aC:function(b,e){return(b=h.Sd(b))?b[b.length-1]:e}};return h};e.HF=function(){};e.YF=function(b,e,h){if("object"===typeof b&&null!==b)for(var m=0,p=e.length;m<p;){var a=e[m++];if(m==p)b[a]=h;else{var d=a in b;if(!d||d&&"object"!==typeof b[a]||d&&null===b[a])b[a]={};b=b[a]}}};e.Gr=function(b,e,h){for(var m=0,c=e.length,a=!0;a&&m<c&&"object"===typeof b&&null!==b;){var d=e[m++];(a=d in b)&&(b=b[d])}return a?b:h};e.VB=function(b,e){if("object"===typeof b&&null!==b)for(var m=0,h=e.length;m<
h;){var c=e[m++];if(m==h)delete b[c];else{if(!(c in b)||"object"!==typeof b[c]||null===b[c])break;b=b[c]}}};e.Mr=function(b){for(var e in b)if(b.hasOwnProperty(e))return!1;return!0};e.format=function(b){var e=/%./g,h,c,p=0,a=[];for(c=0;h=e.exec(b);)switch(c=b.substring(c,e.lastIndex-2),0<c.length&&a.push(c),c=e.lastIndex,h=h[0][1],h){case "s":case "o":p<arguments.length?a.push(arguments[p++ +1]):a.push("<?>");break;case "%":a.push("%");break;default:a.push("<%"+h+"?>")}a.push(b.substring(c));return a.join("")};
e.vf=function(b,e,h,c){var m=isNaN(e=Math.abs(e))?2:e;e=void 0===h?",":h;c=void 0===c?".":c;h=0>b?"-":"";var a=parseInt(b=Math.abs(+b||0).toFixed(m),10)+"",d=3<a.length?a.length%3:0;return h+(d?a.substr(0,d)+c:"")+a.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+c)+(m?e+Math.abs(b-a).toFixed(m).slice(2):"")};e.YB=function(b){return b=1073741824<=b?e.vf(b/1073741824,2,".","")+" GiB":1048576<=b?e.vf(b/1048576,2,".","")+" MiB":1024<=b?e.vf(b/1024,0)+" KiB":e.vf(b,0)+" bytes"};e.fr=function(b){return-1!==b.indexOf(".")?
e.gr(b):-1!==b.indexOf(":")?e.hr(b):null};e.gr=function(b){b=b.split(".");if(4!==b.length)return null;for(var h=e.createBuffer(),c=0;c<b.length;++c){var p=parseInt(b[c],10);if(isNaN(p))return null;h.o(p)}return h.ya()};e.hr=function(b){var h=0;b=b.split(":").filter(function(a){0===a.length&&++h;return!0});for(var c=2*(8-b.length+h),p=e.createBuffer(),t=0;8>t;++t)if(b[t]&&0!==b[t].length){var a=e.Ic(b[t]);2>a.length&&p.o(0);p.K(a)}else p.eh(0,c),c=0;return p.ya()};e.PB=function(b){return 4===b.length?
e.ir(b):16===b.length?e.jr(b):null};e.ir=function(b){if(4!==b.length)return null;for(var e=[],h=0;h<b.length;++h)e.push(b.charCodeAt(h));return e.join(".")};e.jr=function(b){if(16!==b.length)return null;for(var h=[],c=[],p=0,t=0;t<b.length;t+=2){for(var a=e.Wg(b[t]+b[t+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var d=c[c.length-1],B=h.length;d&&B===d.end+1?(d.end=B,d.end-d.start>c[p].end-c[p].start&&(p=c.length-1)):c.push({start:B,end:B})}h.push(a)}0<c.length&&(b=c[p],0<b.end-b.start&&(h.splice(b.start,
b.end-b.start+1,""),0===b.start&&h.unshift(""),7===b.end&&h.push("")));return h.join(":")};e.XB=function(b,h){function c(b,t,g){if(0===t){var d=Math.floor(b.reduce(function(a,b){return a+b},0)/b.length);e.Aj=Math.max(1,d);URL.revokeObjectURL(a);h(null,e.Aj)}else m(g,function(a,d){b.push(p(g,d));c(b,t-1,g)})}function m(b,e){for(var d=[],r=[],h=0;h<b;++h){var c=new Worker(a);c.addEventListener("message",function(a){r.push(a.data);if(r.length===b){for(a=0;a<b;++a)d[a].terminate();e(null,r)}});d.push(c)}for(h=
0;h<b;++h)d[h].postMessage(h)}function p(a,b){for(var d=[],r=0;r<a;++r)for(var e=b[r],h=d[r]=[],c=0;c<a;++c)if(r!==c){var m=b[c];(e.te>m.te&&e.te<m.Dj||m.te>e.te&&m.te<e.Dj)&&h.push(c)}return d.reduce(function(a,b){return Math.max(a,b.length)},0)}"function"===typeof b&&(h=b,b={});b=b||{};if("cores"in e&&!b.update)return h(null,e.Aj);var a=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(){for(var a=Date.now(),b=a+4;Date.now()<b;);self.postMessage({te:a,Dj:b})})}.toString(),
")()"],{type:"application/javascript"}));c([],5,16)}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(e,p,m,q,A){function t(){if(q)for(var a=0;4>a;++a)O[a]=E.getInt32();else for(a=0;4>a;++a)O[a]=N[a]^E.getInt32();F(v,O,C,q);if(q){for(a=0;4>a;++a)X.f(N[a]^C[a]);N=O.slice(0)}else{for(a=0;4>a;++a)X.f(C[a]);N=C}}function a(){F(v,O,C,!1);for(var a=0;2>a;++a)O[a]=O[2+a],O[2+a]=E.getInt32();for(a=0;2>a;++a){var b=O[2+a]^C[a];q||(O[2+a]=b);X.f(b)}}function d(){F(v,O,C,!1);for(var a=0;4>a;++a)O[a]=E.getInt32();for(a=0;4>a;++a)X.f(O[a]^C[a]),O[a]=C[a]}function D(){F(v,O,C,!1);for(var a=
3;0<=a;--a)if(4294967295===O[a])O[a]=0;else{++O[a];break}for(a=0;4>a;++a)X.f(E.getInt32()^C[a])}var g=null;h||y();A=(A||"CBC").toUpperCase();if("string"===typeof e&&(16===e.length||24===e.length||32===e.length))e=b.a.createBuffer(e);else if(b.a.isArray(e)&&(16===e.length||24===e.length||32===e.length)){var r=e;e=b.a.createBuffer();for(var z=0;z<r.length;++z)e.o(r[z])}if(!b.a.isArray(e)){r=e;e=[];var B=r.length();if(16===B||24===B||32===B)for(B>>>=2,z=0;z<B;++z)e.push(r.getInt32())}if(!b.a.isArray(e)||
4!==e.length&&6!==e.length&&8!==e.length)return g;r=-1!==["CFB","OFB","CTR"].indexOf(A);var G="CBC"===A,v=c(e,q&&!r),I=16,E,X,O,C,N,x;g={ig:null};if("CBC"===A)var n=t;else if("CFB"===A)n=a,I=8;else if("OFB"===A)n=d;else if("CTR"===A)n=D;else throw{message:'Unsupported block cipher mode of operation: "'+A+'"'};g.update=function(a){for(x||E.D(a);E.length()>=I||0<E.length()&&x;)n()};g.finish=function(a){var b=!0,f=E.length()%I;if(!q)if(a)b=a(I,E,q);else if(G){var d=E.length()===I?I:I-E.length();E.eh(d,
d)}b&&(x=!0,g.update());q&&(G&&(b=0===f),b&&(a?b=a(I,X,q):G&&(d=X.length(),d=X.L(d-1),16<d?b=!1:X.truncate(d))));!G&&!a&&0<f&&X.truncate(I-f);return b};g.start=function(a,d){null===a&&(a=N.slice(0));if("string"===typeof a&&16===a.length)a=b.a.createBuffer(a);else if(b.a.isArray(a)&&16===a.length){var f=a;a=b.a.createBuffer();for(var w=0;16>w;++w)a.o(f[w])}b.a.isArray(a)||(f=a,a=Array(4),a[0]=f.getInt32(),a[1]=f.getInt32(),a[2]=f.getInt32(),a[3]=f.getInt32());E=b.a.createBuffer();X=d||b.a.createBuffer();
N=a.slice(0);O=Array(4);C=Array(4);x=!1;g.ig=X;if(-1!==["CFB","OFB","CTR"].indexOf(A)){for(w=0;4>w;++w)O[w]=N[w];N=null}};null!==p&&g.start(p,m);return g}function F(b,e,h,c){var m=b.length/4-1;if(c){var p=v[0];var a=v[1];var d=v[2];var I=v[3];var g=E}else p=D[0],a=D[1],d=D[2],I=D[3],g=q;var r=e[0]^b[0];var z=e[c?3:1]^b[1];var B=e[2]^b[2];e=e[c?1:3]^b[3];for(var G=3,aa=1;aa<m;++aa){var y=p[r>>>24]^a[z>>>16&255]^d[B>>>8&255]^I[e&255]^b[++G];var F=p[z>>>24]^a[B>>>16&255]^d[e>>>8&255]^I[r&255]^b[++G];
var X=p[B>>>24]^a[e>>>16&255]^d[r>>>8&255]^I[z&255]^b[++G];e=p[e>>>24]^a[r>>>16&255]^d[z>>>8&255]^I[B&255]^b[++G];r=y;z=F;B=X}h[0]=g[r>>>24]<<24^g[z>>>16&255]<<16^g[B>>>8&255]<<8^g[e&255]^b[++G];h[c?3:1]=g[z>>>24]<<24^g[B>>>16&255]<<16^g[e>>>8&255]<<8^g[r&255]^b[++G];h[2]=g[B>>>24]<<24^g[e>>>16&255]<<16^g[r>>>8&255]<<8^g[z&255]^b[++G];h[c?1:3]=g[e>>>24]<<24^g[r>>>16&255]<<16^g[z>>>8&255]<<8^g[B&255]^b[++G]}function c(b,h){b=b.slice(0);for(var c,p=1,A=b.length,t=4*(A+6+1),a=A;a<t;++a)c=b[a-1],0===
a%A?(c=q[c>>>16&255]<<24^q[c>>>8&255]<<16^q[c&255]<<8^q[c>>>24]^e[p]<<24,p++):6<A&&4===a%A&&(c=q[c>>>24]<<24^q[c>>>16&255]<<16^q[c>>>8&255]<<8^q[c&255]),b[a]=b[a-A]^c;if(h){c=v[0];p=v[1];A=v[2];var d=v[3],D=b.slice(0);t=b.length;a=0;for(var g=t-4;a<t;a+=4,g-=4)if(0===a||a===t-4)D[a]=b[g],D[a+1]=b[g+3],D[a+2]=b[g+2],D[a+3]=b[g+1];else for(var r=0;4>r;++r)h=b[g+r],D[a+(3&-r)]=c[q[h>>>24]]^p[q[h>>>16&255]]^A[q[h>>>8&255]]^d[q[h&255]];b=D}return b}function y(){h=!0;e=[0,1,2,4,8,16,32,64,128,27,54];for(var b=
Array(256),c=0;128>c;++c)b[c]=c<<1,b[c+128]=c+128<<1^283;q=Array(256);E=Array(256);D=Array(4);v=Array(4);for(c=0;4>c;++c)D[c]=Array(256),v[c]=Array(256);var m=0,I=0;for(c=0;256>c;++c){var A=I^I<<1^I<<2^I<<3^I<<4;A=A>>8^A&255^99;q[m]=A;E[A]=m;var t=b[A];var a=b[m];var d=b[a];var y=b[d];t=t<<24^A<<16^A<<8^A^t;d=(a^d^y)<<24^(m^y)<<16^(m^d^y)<<8^m^a^y;for(var g=0;4>g;++g)D[g][m]=t,v[g][A]=d,t=t<<24|t>>>8,d=d<<24|d>>>8;0===m?m=I=1:(m=a^b[b[b[a^y]]],I^=b[b[I]])}}var h=!1,q,E,e,D,v;b.Za=b.Za||{};b.Za.ve=
function(b,e,h,c){return H(b,e,h,!1,c)};b.Za.pr=function(b,e){return H(b,null,null,!1,e)};b.Za.ue=function(b,e,h,c){return H(b,e,h,!0,c)};b.Za.or=function(b,e){return H(b,null,null,!0,e)};b.Za.Tq=function(b){h||y();return c(b,!1)};b.Za.$q=F})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(B,p){"string"!==typeof B||8!==B.length&&24!==B.length||(B=b.a.createBuffer(B));var m=F(B),I=1,A=0,t=0,a=!1,d=null,T=null,g=32===m.length?3:9;var r=3===g?[0,32,2]:[0,32,2,62,30,-2,64,96,2];var z=null;return z={start:function(g,e){g?("string"===typeof g&&8===g.length&&(g=b.a.createBuffer(g)),I=1,A=g.getInt32(),t=g.getInt32()):I=0;a=!1;d=b.a.createBuffer();T=e||b.a.createBuffer();z.ig=T},update:function(b){for(a||d.D(b);8<=d.length()||0<d.length()&&a;){var z=A,B=t;b=(z>>>4^B)&
252645135;B^=b;z^=b<<4;b=(z>>>16^B)&65535;B^=b;z^=b<<16;b=(B>>>2^z)&858993459;z^=b;B^=b<<2;b=(B>>>8^z)&16711935;z^=b;B^=b<<8;b=(z>>>1^B)&1431655765;B^=b;z^=b<<1;z=z<<1|z>>>31;B=B<<1|B>>>31;for(var Z=0;Z<g;Z+=3){for(var F=r[Z+1],X=r[Z+2],O=r[Z];O!=F;O+=X){var C=B^m[O],N=(B>>>4|B<<28)^m[O+1];b=z;z=B;B=b^(y[C>>>24&63]|q[C>>>16&63]|e[C>>>8&63]|v[C&63]|c[N>>>24&63]|h[N>>>16&63]|E[N>>>8&63]|D[N&63])}b=z;z=B;B=b}z=z>>>1|z<<31;B=B>>>1|B<<31;b=(z>>>1^B)&1431655765;B^=b;z^=b<<1;b=(B>>>8^z)&16711935;z^=b;B^=
b<<8;b=(B>>>2^z)&858993459;z^=b;B^=b<<2;b=(z>>>16^B)&65535;B^=b;z^=b<<16;b=(z>>>4^B)&252645135;B^=b;z^=b<<4;1===I&&(A=d.getInt32(),t=d.getInt32(),z^=A,B^=t,p&&(A=z,t=B));T.f(z);T.f(B)}},finish:function(){var b=d.length()%8;b||(b=8);a=!0;z.update();T.truncate(8-b);return!0}}}function F(b){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],h=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,
67109121,68157696,68157697],c=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],A=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],t=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],d=[0,268435456,524288,268959744,2,268435458,
524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],q=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],g=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],r=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],z=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,
1056800,1056768,1056800],D=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],G=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],B=8<b.length()?3:1,y=[],E=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],O=0,C,N=0;N<B;N++){var x=b.getInt32(),n=b.getInt32();C=(x>>>4^n)&252645135;n^=C;x^=C<<4;C=(n>>>-16^x)&65535;
x^=C;n^=C<<-16;C=(x>>>2^n)&858993459;n^=C;x^=C<<2;C=(n>>>-16^x)&65535;x^=C;n^=C<<-16;C=(x>>>1^n)&1431655765;n^=C;x^=C<<1;C=(n>>>8^x)&16711935;x^=C;n^=C<<8;C=(x>>>1^n)&1431655765;n^=C;x^=C<<1;C=x<<8|n>>>20&240;x=n<<24|n<<8&16711680|n>>>8&65280|n>>>24&240;n=C;for(var f=0;f<E.length;f++){E[f]?(x=x<<2|x>>>26,n=n<<2|n>>>26):(x=x<<1|x>>>27,n=n<<1|n>>>27);x&=-15;n&=-15;var w=e[x>>>28]|h[x>>>24&15]|c[x>>>20&15]|A[x>>>16&15]|t[x>>>12&15]|a[x>>>8&15]|d[x>>>4&15],Q=q[n>>>28]|g[n>>>24&15]|r[n>>>20&15]|z[n>>>
16&15]|D[n>>>12&15]|G[n>>>8&15]|v[n>>>4&15];C=(Q>>>16^w)&65535;y[O++]=w^C;y[O++]=Q^C<<16}}return y}var c=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,
16778240,16778240,0,65540,66560,0,16842756],y=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,
-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],h=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,
134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],q=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],E=[256,
34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,
524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],e=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,
541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],D=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,
0,2099202,69206016,2048,67108866,67110912,2048,2097154],v=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,
266240,4160,4160,262208,268435456,268701696];b.mc=b.mc||{};b.mc.ve=function(b,e,h){b=H(b,!0);b.start(e,h);return b};b.mc.pr=function(b){return H(b,!0)};b.mc.ue=function(b,e,h){b=H(b,!1);b.start(e,h);return b};b.mc.or=function(b){return H(b,!1)}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,c,y){for(var e,h,v,q,p,m,I,A,t=y.length();64<=t;){h=b.rb;v=b.sb;q=b.tb;p=b.ub;m=b.Td;for(A=0;16>A;++A)e=y.getInt32(),c[A]=e,I=p^v&(q^p),e=(h<<5|h>>>27)+I+m+1518500249+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;for(;20>A;++A)e=c[A-3]^c[A-8]^c[A-14]^c[A-16],e=e<<1|e>>>31,c[A]=e,I=p^v&(q^p),e=(h<<5|h>>>27)+I+m+1518500249+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;for(;32>A;++A)e=c[A-3]^c[A-8]^c[A-14]^c[A-16],e=e<<1|e>>>31,c[A]=e,I=v^q^p,e=(h<<5|h>>>27)+I+m+1859775393+e,m=p,p=q,q=v<<30|v>>>2,v=h,
h=e;for(;40>A;++A)e=c[A-6]^c[A-16]^c[A-28]^c[A-32],e=e<<2|e>>>30,c[A]=e,I=v^q^p,e=(h<<5|h>>>27)+I+m+1859775393+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;for(;60>A;++A)e=c[A-6]^c[A-16]^c[A-28]^c[A-32],e=e<<2|e>>>30,c[A]=e,I=v&q|p&(v^q),e=(h<<5|h>>>27)+I+m+2400959708+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;for(;80>A;++A)e=c[A-6]^c[A-16]^c[A-28]^c[A-32],e=e<<2|e>>>30,c[A]=e,I=v^q^p,e=(h<<5|h>>>27)+I+m+3395469782+e,m=p,p=q,q=v<<30|v>>>2,v=h,h=e;b.rb+=h;b.sb+=v;b.tb+=q;b.ub+=p;b.Td+=m;t-=64}}var F=b.Id=b.Id||{};b.gb=b.gb||
{};b.gb.He=b.gb.He||{};b.gb.Id=b.gb.He.sha1=F;var c=null,y=!1;F.create=function(){y||(c=String.fromCharCode(128),c+=b.a.Gj(),y=!0);var h=null,q=b.a.createBuffer(),E=Array(80),e={algorithm:"sha1",er:64,tr:20,yb:0,start:function(){e.yb=0;q=b.a.createBuffer();h={rb:1732584193,sb:4023233417,tb:2562383102,ub:271733878,Td:3285377520};return e}};e.start();e.update=function(c,v){"utf8"===v&&(c=b.a.qb(c));e.yb+=c.length;q.K(c);H(h,E,q);(2048<q.read||0===q.length())&&q.compact();return e};e.digest=function(){var D=
e.yb,v=b.a.createBuffer();v.K(q.u());v.K(c.substr(0,64-(D+8)%64));v.f(D>>>29&255);v.f(D<<3&4294967295);D={rb:h.rb,sb:h.sb,tb:h.tb,ub:h.ub,Td:h.Td};H(D,E,v);v=b.a.createBuffer();v.f(D.rb);v.f(D.sb);v.f(D.tb);v.f(D.ub);v.f(D.Td);return v};return e}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){function H(b,e,c){for(var p,m,v,A,t,a,d,D=c.length();64<=D;){m=b.rb;v=b.sb;A=b.tb;t=b.ub;for(d=0;16>d;++d)e[d]=c.Fr(),p=t^v&(A^t),p=m+p+E[d]+e[d],a=q[d],m=t,t=A,A=v,v+=p<<a|p>>>32-a;for(;32>d;++d)p=A^t&(v^A),p=m+p+E[d]+e[h[d]],a=q[d],m=t,t=A,A=v,v+=p<<a|p>>>32-a;for(;48>d;++d)p=v^A^t,p=m+p+E[d]+e[h[d]],a=q[d],m=t,t=A,A=v,v+=p<<a|p>>>32-a;for(;64>d;++d)p=A^(v|~t),p=m+p+E[d]+e[h[d]],a=q[d],m=t,t=A,A=v,v+=p<<a|p>>>32-a;b.rb=b.rb+m&4294967295;b.sb=b.sb+v&4294967295;b.tb=b.tb+A&4294967295;
b.ub=b.ub+t&4294967295;D-=64}}function F(){y=String.fromCharCode(128);y+=b.a.Gj();h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9];q=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21];E=Array(64);for(var c=0;64>c;++c)E[c]=Math.floor(4294967296*Math.abs(Math.sin(c+1)));e=
!0}var c=b.Qh=b.Qh||{};b.gb=b.gb||{};b.gb.He=b.gb.He||{};b.gb.Qh=b.gb.He.md5=c;var y=null,h=null,q=null,E=null,e=!1;c.create=function(){e||F();var c=null,h=b.a.createBuffer(),q=Array(16),p={algorithm:"md5",er:64,tr:16,yb:0,start:function(){p.yb=0;h=b.a.createBuffer();c={rb:1732584193,sb:4023233417,tb:2562383102,ub:271733878};return p}};p.start();p.update=function(e,v){"utf8"===v&&(e=b.a.qb(e));p.yb+=e.length;h.K(e);H(c,q,h);(2048<h.read||0===h.length())&&h.compact();return p};p.digest=function(){var e=
p.yb,v=b.a.createBuffer();v.K(h.u());v.K(y.substr(0,64-(e+8)%64));v.Zc(e<<3&4294967295);v.Zc(e>>>29&255);e={rb:c.rb,sb:c.sb,tb:c.tb,ub:c.ub};H(e,q,v);v=b.a.createBuffer();v.Zc(e.rb);v.Zc(e.sb);v.Zc(e.tb);v.Zc(e.ub);return v};return p}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){(b.wc=b.wc||{}).create=function(H){function F(b){if(32<=h.vc[0].yb)return c(),b();h.Yh(32-h.vc[0].yb<<5,function(e,q){if(e)return b(e);h.sf(q);c();b()})}function c(){var e=b.gb.Id.create();e.update(h.vc[0].digest().ya());h.vc[0].start();for(var c=1,q=1;32>q;++q)c=31===c?2147483648:c<<2,0===c%h.Fm&&(e.update(h.vc[q].digest().ya()),h.vc[q].start());c=e.digest().ya();e.start();e.update(c);e=e.digest().ya();h.key=h.hc.fh(c);h.yc=h.hc.gh(e);++h.Fm;h.sd=0;h.time=+new Date}function y(e){var c=
null;if("undefined"!==typeof window){var h=window.crypto||window.msCrypto;h&&h.getRandomValues&&(c=function(b){return h.getRandomValues(b)})}var q=b.a.createBuffer();if(c)for(;q.length()<e;){var p=Math.max(1,Math.min(e-q.length(),65536)/4),m=new Uint32Array(Math.floor(p));try{for(c(m),p=0;p<m.length;++p)q.f(m[p])}catch(I){}}if(q.length()<e)for(c=Math.floor(65536*Math.random());q.length()<e;)for(p=16807*(c&65535),c=16807*(c>>16),p+=(c&32767)<<16,p+=c>>15,p=(p&2147483647)+(p>>31),c=p&4294967295,p=0;3>
p;++p)m=c>>>(p<<3),m^=Math.floor(256*Math.random()),q.o(String.fromCharCode(m&255));return q.ya(e)}var h={hc:H,key:null,yc:null,time:null,Fm:0,sd:0};H=H.gb;for(var q=Array(32),E=0;32>E;++E)q[E]=H.create();h.vc=q;h.lg=0;h.Kj=function(c,q){function e(t){if(t)return q(t);if(A.length()>=c)return q(null,A.ya(c));1048576<=h.sd&&(t=+new Date,null===h.time||100<t-h.time)&&(h.key=null);if(null===h.key)return F(e);t=B(h.key,h.yc);h.sd+=t.length;A.K(t);h.key=m(B(h.key,p(h.yc)));h.yc=I(B(h.key,h.yc));b.a.setImmediate(e)}
if(!q)return h.Er(c);var B=h.hc.B,p=h.hc.Qj,m=h.hc.fh,I=h.hc.gh,A=b.a.createBuffer();e()};h.Er=function(e){for(var q=h.hc.B,v=h.hc.Qj,B=h.hc.fh,p=h.hc.gh,m=b.a.createBuffer();m.length()<e;){if(1048576<=h.sd){var I=+new Date;if(null===h.time||100<I-h.time)h.key=null}null===h.key&&(32<=h.vc[0].yb||h.sf(h.lt(32-h.vc[0].yb<<5)),c());I=q(h.key,h.yc);h.sd+=I.length;m.K(I);h.key=B(q(h.key,v(h.yc)));h.yc=p(q(h.key,h.yc))}return m.ya(e)};h.Yh=function(b,c){try{c(null,y(b))}catch(v){c(v)}};h.lt=y;h.sf=function(b){for(var c=
b.length,e=0;e<c;++e)h.vc[h.lg].update(b.substr(e,1)),h.lg=31===h.lg?0:h.lg+1};h.tf=function(b,c){for(var e="",q=0;q<c;q+=8)e+=String.fromCharCode(b>>q&255);h.sf(e)};h.SF=function(b){b===self?h.Yh=function(b,c){function e(b){b=b.data;b.W&&b.W.wc&&(self.removeEventListener("message",e),c(b.W.wc.xr,b.W.wc.u))}self.addEventListener("message",e);self.postMessage({W:{wc:{Zs:b}}})}:b.addEventListener("message",function(c){c=c.data;c.W&&c.W.wc&&h.Yh(c.W.wc.Zs,function(c,e){b.postMessage({W:{wc:{xr:c,u:e}}})})})};
return h}})(window.W);"undefined"===typeof window.W&&(window.W={});
(function(b){b.random&&b.random.ya||function(H){var F={},c=Array(4),y=b.a.createBuffer();F.fh=function(c){var e=b.a.createBuffer(c);c=Array(4);c[0]=e.getInt32();c[1]=e.getInt32();c[2]=e.getInt32();c[3]=e.getInt32();return b.Za.Tq(c)};F.gh=function(c){var e=b.a.createBuffer(c);c=Array(4);c[0]=e.getInt32();c[1]=e.getInt32();c[2]=e.getInt32();c[3]=e.getInt32();return c};F.B=function(e,h){b.Za.$q(e,h,c,!1);y.f(c[0]);y.f(c[1]);y.f(c[2]);y.f(c[3]);return y.ya()};F.Qj=function(b){++b[3];return b};F.gb=b.gb.Id;
var h=b.wc.create(F);F=null;if("undefined"!==typeof window){var q=window.crypto||window.msCrypto;q&&q.getRandomValues&&(F=function(b){return q.getRandomValues(b)})}if(b.WB||!F){h.tf(+new Date,32);if("undefined"!==typeof navigator){F="";for(var E in navigator)try{"string"==typeof navigator[E]&&(F+=navigator[E])}catch(e){}h.sf(F);F=null}H&&(H().mousemove(function(b){h.tf(b.clientX,16);h.tf(b.clientY,16)}),H().keypress(function(b){h.tf(b.charCode,8)}))}if(b.random)for(E in h)b.random[E]=h[E];else b.random=
h;b.random.ya=function(c,h){return b.random.Kj(c,h)};b.random.ZB=function(c){return b.random.Kj(c)}}(null)})(window.W);"undefined"===typeof window.hmtg&&(window.hmtg={});var oa=window.hmtg,k=oa.b=oa.b||{};oa.config=oa.b;k.APP_VERSION=k.hi="";k.NORMAL=k.R=0;k.PLAYBACK=k.Fa=1;k.PLAYER=k.yz=2;k.DOWNLOAD=k.$o=3;k.UPLOAD=k.Fq=4;k.MTU_SIZE=k.Ec=500;k.TS_SIZE=k.ic=21;k.UTF8_CODEPAGE=k.pA=65001;k.RECORDING_STATUS_NORECORDING=k.Uz=0;k.RECORDING_STATUS_RESUMED=k.Wz=1;k.RECORDING_STATUS_PAUSED=k.Vz=2;k.PARTICIPANT_VIDEO_ERROR_OK=k.qq=0;k.PARTICIPANT_VIDEO_ERROR_FULL=k.jz=1;k.PARTICIPANT_VIDEO_ERROR_NOTSUPPORTED=k.mz=2;
k.PARTICIPANT_VIDEO_ERROR_NOTONLINE=k.lz=3;k.PARTICIPANT_VIDEO_ERROR_NOCAP=k.kz=4;k.PARTICIPANT_AUDIO_ERROR_FULL=k.dz=5;k.PARTICIPANT_AUDIO_ERROR_NOTSUPPORTED=k.ez=6;k.MAX_USER=k.Ha=5E3;k.MAX_USERID=k.py=128;k.MAX_PASSWORD=k.fj=28;k.MAX_USERNAME=k.Ya=128;k.MAX_USERAUTH=k.Lp=1E4;k.MAX_SESSIONID=k.my=20;k.MAX_SESSIONID_PL=k.ny=500;k.MAX_MEMBERID=k.hy=20;k.MAX_REGION=k.ly=128;k.MAX_URL=k.ij=4096;k.MAX_SLIDENAME=k.hj=600;k.MAX_XML_DATA=k.qy=9E3;k.MAX_THIRDPARTY_MEETINGTITLE=k.Qg=512;
k.MAX_THIRDPARTY_MEETINGID=k.Kp=128;k.DEFAULT_MAX_BANDWIDTH=k.ww=24E3;k.BANDWIDTH_FOR_AUDIO=k.Bt=1E4;k.MAX_BANDWIDTH=k.ej=5E6;k.MIN_BANDWIDTH_FOR_VIDEO=k.Mp=1E4;k.JN_ERROR_BASE=k.qf=2E4;k.JN_GC_ERROR_BASE=k.Fx=25E3;k.JN_PROXY_ERROR_BASE=k.Ox=3E4;k.JN_SLIDE_ERROR_BASE=k.Yx=35E3;var U=k.JN_CODE_BASE=k.ux=5E4;k.JN_PRINTER_DRIVER_BASE=k.Nx=7E4;k.JN_MCU_RELAY_BASE=k.bj=71E3;k.JN_OK=k.Mx=0;k.JN_UNKNOWN_ERROR=k.Mg=U+0;k.JN_RESOLVE_PROXY=k.Wx=U+1;k.JN_CONNECTING_GC=k.vx=U+2;k.JN_BLANK=k.tx=U+3;
k.JN_CONNECT_GC_UNKNOWN_ERROR=k.xx=U+4;k.JN_FAIL_CONNECT_GC=k.Bx=U+5;k.JN_CONNECT_GC_BROKEN=k.wx=U+6;k.JN_CONNECTING_MCU=k.pp=U+7;k.JN_FAIL_CONNECT_MCU=k.Ld=U+8;k.JN_NO_SCHEDULE=k.Lx=U+9;k.JN_WRONG_IP_PASSWD=k.dy=U+10;k.JN_WRONG_AUTH_PASSWD=k.cy=U+11;k.JN_MEETING_NOT_EXIST2=k.xp=U+12;k.JN_TOOMANY_USER_2=k.$x=U+13;k.JN_CONNECTION_ESTABLISHED=k.qp=U+14;k.JN_QUESTION_CANCEL_DUE_TRANSFER=k.Rx=U+15;k.JN_YOU_HAVENOT_TOKEN=k.ey=U+16;k.JN_NEW_USER=k.Jx=U+17;k.JN_USER_LEAVE=k.ay=U+18;
k.JN_QUESTION_FINISH=k.Sx=U+19;k.JN_USER_QUESTION_START=k.by=U+20;k.JN_QUESTION_ACCEPTED=k.Px=U+21;k.JN_QUESTION_IN_QUEUE=k.Tx=U+22;k.JN_QUESTION_SKIPPED=k.Ux=U+23;k.JN_DISCONNECT_BY_OWNER=k.tp=U+24;k.JN_MEETING_OVER=k.yp=U+25;k.JN_QUESTION_CANCELED=k.Qx=U+26;k.JN_USER_OVERWRITE=k.Cp=U+27;k.JN_YOU_HAVE_TOKEN=k.fy=U+28;k.JN_FILE_READ_ERROR=k.Ex=U+29;k.JN_FILE_PAGE_ERROR=k.Dx=U+30;k.JN_NO_MCU=k.Kx=U+31;k.JN_CONNECT_PROXY_NO_CONNECT_MCU=k.yx=U+32;k.JN_MCU_TALK_MISMATCH=k.Ix=U+33;
k.JN_TESTING_AV=k.Zx=U+34;k.JN_FAIL_UDP=k.Cx=U+35;k.JN_CORRUPT_SERVER_PARAMETER=k.zx=U+36;k.JN_DELETE_FILE_OK=k.sp=U+37;k.JN_DELETE_FILE_FAIL=k.rp=U+38;k.JN_JNJ_FILE_READ_ERROR=k.Gx=U+39;k.JN_JNJ_UNKNOWN_CODE_TYPE=k.Hx=U+40;k.JN_JNR_FILE_ERROR=k.wp=U+41;k.JN_MEETING_TERMINATED=k.zp=U+42;k.JN_PREPARATION_MODE=k.Ap=U+43;k.JN_PREPARATION_SWITCH_TO_NORMAL=k.Bp=U+44;k.JN_SHARE_DESKTOP_FAIL=k.Xx=U+45;k.JN_REQUEST_DESKTOP_FAIL=k.Vx=U+46;k.JN_DESKTOP_CONFLICT_MCURELAY=k.Ax=U+47;
k.JN_EARLY_DISCONNECTION_1=k.up=U+48;k.JN_EARLY_DISCONNECTION_2=k.vp=U+49;k.ERROR_WRONG_USERID=k.mp=255;k.ERROR_WRONG_PASSWD=k.Vi=254;k.ERROR_ALREADY_LOGGED=k.Lw=253;k.ERROR_VERSION=k.nx=252;k.ERROR_PARAMETER=k.$w=251;k.ERROR_SESSIONID=k.ix=250;k.ERROR_MEETING_NOT_EXIST=k.ap=249;k.ERROR_INTERNAL=k.Tw=248;k.ERROR_FILE_ERROR=k.Qw=247;k.ERROR_TOOMANY_PLAYBACK=k.kx=246;k.ERROR_ILLEGAL_FILE=k.Rw=245;k.ERROR_FILE_WRONG_VERSION=k.Ui=244;k.ERROR_WRONG_PASSWD2=k.ox=243;k.ERROR_TOOMANY_DOWNLOAD=k.jx=242;
k.ERROR_TOOMANY_USER=k.lx=241;k.ERROR_CALL_REJECTED=k.Nw=240;k.ERROR_CALL_NOT_ACCEPTED=k.Mw=239;k.ERROR_JOINNETMODE=k.Vw=238;k.ERROR_USER_NOT_CONTINUE=k.lp=237;k.ERROR_SESSION_CLOSED=k.kp=236;k.ERROR_TOO_MANY_SESSION=k.mx=235;k.ERROR_CAN_NOT_RECORD=k.Ow=234;k.ERROR_MESSAGE_NOT_EXIST=k.Xw=233;k.ERROR_LINE_BUSY=k.Ww=232;k.ERROR_FILE_NEED_HIGHER_VERSION=k.Ti=231;k.ERROR_EXCEED_DISK_QUOTA=k.Pw=230;k.ERROR_WRONG_USERINFO2=k.px=229;k.ERROR_OWNER_IN_PREPARATION_MODE=k.Zw=228;
k.ERROR_PREPARATION_MODE_TOO_LATE=k.hx=227;k.ERROR_ILLEGAL_REQUEST=k.Sw=226;k.ERROR_OUT_OF_MEMORY=k.Yw=225;k.ERROR_INVALID_LICENSE=k.Uw=224;k.ERROR_REQUEST_REJECTED=k.jp=223;k.MRP_ERROR_CONTINUE=k.Dc=1;k["MRP_ERROR_QUITPROGRAM\t"]=k.Py=2;k.MRP_ERROR_NOTALLOWED=k.My=3;k.MRP_ERROR_BUSY=k.Jy=4;k.MRP_ERROR_NOTSUPPORTED=k.Ny=5;k.MRP_ERROR_CONNECTFAIL=k.Ky=6;k.MRP_ERROR_NOSESSIONGROUP=k.Ly=7;k.MRP_ERROR_SLIDENOTREADY=k.Np=8;k.MRP_ERROR_ONLY_PRIMARY_PORT=k.Oy=9;k.CONNECTION_STATUS_INIT=k.Ni=1;
k.CONNECTION_STATUS_RESOLVING=k.sw=2;k.CONNECTION_STATUS_CONNECTTING=k.Ki=3;k.CONNECTION_STATUS_SIGN_IN=k.Oi=4;k.CONNECTION_STATUS_CONNECTED=k.pa=5;k.CONNECTION_STATUS_PARSE_HOMEPAGE=k.rw=6;k.CONNECTION_STATUS_DOWNLOAD_JNJ=k.Ao=7;k.CONNECTION_STATUS_E_UNKNOWN_ERROR=k.Po=1E4;k.CONNECTION_STATUS_E_RESOLVING=k.qw=10001;k.CONNECTION_STATUS_E_FAIL_CONNECT=k.Fo=10002;k.CONNECTION_STATUS_E_BROKEN_CONNECT=k.Li=10003;k.CONNECTION_STATUS_E_INVALID_S_STRING=k.ew=10004;
k.CONNECTION_STATUS_E_NOT_SUPPORTED=k.gw=10005;k.CONNECTION_STATUS_E_WRONG_USERID_LEN=k.Cc=10006;k.CONNECTION_STATUS_E_WRONG_USERNAME_LEN=k.hb=10007;k.CONNECTION_STATUS_E_WRONG_JNJ_LEN=k.cd=10008;k.CONNECTION_STATUS_E_ERROR_PARAMETER=k.pf=10009;k.CONNECTION_STATUS_E_BUSY=k.Do=10010;k.CONNECTION_STATUS_E_INVALID_USERID=k.Ho=10011;k.CONNECTION_STATUS_E_INVALID_PASSWORD=k.Go=10012;k.CONNECTION_STATUS_E_MEMORY_ALLOCATION=k.Io=10013;k.CONNECTION_STATUS_E_ALREADY_LOGGED=k.Bo=10014;
k.CONNECTION_STATUS_E_OVERWRITTEN=k.Oo=10015;k.CONNECTION_STATUS_E_USERID_REMOVED=k.Qo=10016;k.CONNECTION_STATUS_E_UNKNOWN_COMMAND=k.Mi=10017;k.CONNECTION_STATUS_E_WRONG_EMAIL_LEN=k.So=10018;k.CONNECTION_STATUS_E_PARSE_HOMEPAGE=k.hw=10019;k.CONNECTION_STATUS_E_DOWNLOAD_JNJ=k.Eo=10020;k.CONNECTION_STATUS_E_PARSE_IP_PORT=k.iw=10021;k.CONNECTION_STATUS_E_BREAK_MAIN_LOOP=k.Co=10022;k.CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=k.Gg=10023;k.CONNECTION_STATUS_E_MULTIPLE_SIGNIN=k.fw=10024;
k.CONNECTION_STATUS_PREPARE_RECONNECT=k.Uo=10025;k.CONNECTION_STATUS_E_PROXY_CONNECT_FAIL=k.kw=10026;k.CONNECTION_STATUS_E_PROXY_CONNECT_BROKEN=k.jw=10027;k.CONNECTION_STATUS_E_PROXY_NO_AUTH=k.nw=10028;k.CONNECTION_STATUS_E_PROXY_NO_CONNECT=k.ow=10029;k.CONNECTION_STATUS_E_PROXY_NOT_SOCKS5=k.mw=10030;k.CONNECTION_STATUS_E_PROXY_HTTPS_FAIL=k.lw=10031;k.CONNECTION_STATUS_E_PROXY_RESOLVE=k.pw=10032;k.CONNECTION_STATUS_E_MMC_FAILURE=k.Jo=10033;k.CONNECTION_STATUS_E_NOT_SUPPORTED2=k.Ko=10034;
k.CONNECTION_STATUS_E_NO_MESSENGER=k.No=10035;k.CONNECTION_STATUS_E_NO_LICENSE=k.Lo=10036;k.CONNECTION_STATUS_E_NO_MCU=k.Mo=10037;k.CONNECTION_STATUS_E_WRONG_URL_LEN=k.To=10038;k.CONNECTION_STATUS_E_WRONG_SHORT_MESSAGE_LEN=k.Ae=10039;k.CONNECTION_STATUS_E_SIGNOUT=k.ze=10040;k.CONNECTION_STATUS_E_WRONG_CLIENT_INFO_LEN=k.Ro=10041;k.ONLINE_STATUS_ONLINE=k.Md=1;k.ONLINE_STATUS_BUSY=k.jq=2;k.ONLINE_STATUS_RIGHTBACK=k.kq=3;k.ONLINE_STATUS_AWAY=k.mj=4;k.ONLINE_STATUS_APPEAROFF=k.Rb=5;
k.ONLINE_STATUS_MOBILE=k.bz=6;k.ONLINE_STATUS_WEB=k.cz=7;k.ONLINE_STATUS_UNKNOWN=k.lq=999;k.MSGR_ERROR_UNKNOWN_ERROR=k.lq=1;k.MSGR_ERROR_CAN_NOT_PARSE=k.Uy=2;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE1=k.Ry=3;k.MSGR_ERROR_CAN_NOT_DOWNLOAD_JNJ=k.Tp=4;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE2=k.Sy=5;k.MSGR_ERROR_CAN_NOT_CONNECT_HOMEPAGE3=k.Rp=6;k.MSGR_ERROR_NO_MCU_SERVER=k.fq=7;k.MSGR_ERROR_CAN_NOT_MULTIPLE_CONNECT=k.Ty=8;k.MSGR_ERROR_CAN_NOT_CONNECT_MCU=k.Sp=9;k.MSGR_ERROR_CONNECTION_BROKEN=k.jj=10;
k.MSGR_ERROR_BAD_SERVER_VERSION_STRING=k.Qy=11;k.MSGR_ERROR_SERVER_NOT_SUPPORT_MSGR=k.Vy=12;k.MSGR_ERROR_INVALID_USERID_LEN=k.Ce=13;k.MSGR_ERROR_INVALID_USERNAME_LEN=k.Ea=14;k.MSGR_ERROR_INVALID_JNJ_LEN=k.fd=15;k.MSGR_ERROR_INVALID_HOMEPAGE_LEN=k.kj=16;k.MSGR_ERROR_INVALID_PARAMETER=k.Yp=17;k.MSGR_ERROR_ALL_LINE_BUSY=k.Pp=18;k.MSGR_ERROR_INVALID_USERID=k.aq=19;k.MSGR_ERROR_INVALID_PASSWORD=k.Zp=21;k.MSGR_ERROR_MEMORY_ALLOCATION=k.bq=22;k.MSGR_ERROR_ALREADY_SIGNIN=k.Qp=23;
k.MSGR_ERROR_MSGR_VERSION_NOT_SUPPORTED=k.eq=24;k.MSGR_ERROR_MSGR_BAD_CONFIGURATION=k.cq=25;k.MSGR_ERROR_NO_MSGR_LICENSE=k.gq=26;k.MSGR_ERROR_OVERWRITTEN=k.hq=27;k.MSGR_ERROR_REMOVED=k.iq=28;k.MSGR_ERROR_INVALID_EMAIL_LEN=k.Vp=29;k.MSGR_ERROR_INVALID_MMCERROR_LEN=k.Xp=30;k.MSGR_ERROR_INVALID_INTERNALID_LEN=k.Wp=31;k.MSGR_INVITE_FAILED=k.Xy=32;k.MSGR_ERROR_INVALID_URL_LEN=k.$p=33;k.MSGR_ERROR_INVALID_SHORT_MESSAGE_LEN=k.Be=34;k.MSGR_CONNECTION_STATUS_E_WRONG_HOMEPAGE_LEN=k.Op=35;
k.MSGR_ERROR_INVALID_CLIENT_INFO_LEN=k.Up=36;k.MSGR_ERROR_UNKNOWN_COMMAND=k.lj=37;k.MSGR_ERROR_UNKNOWN_COMMAND=k.lj=37;k.WEBOFFICE_EX_ERROR_SUCCESS=k.GA=0;k.WEBOFFICE_EX_ERROR_INVALID_LICENSE=k.wA=1;k.WEBOFFICE_EX_ERROR_GENERAL_FAILURE=k.tA=2;k.WEBOFFICE_EX_ERROR_OPEN_FILE=k.EA=3;k.WEBOFFICE_EX_ERROR_INVALID_JNR=k.vA=4;k.WEBOFFICE_EX_ERROR_NOT_ALLOW_EDIT=k.DA=5;k.WEBOFFICE_EX_ERROR_FILE_ACCESS=k.Rq=6;k.WEBOFFICE_EX_ERROR_INVALID_PASSWORD=k.xA=7;k.WEBOFFICE_EX_ERROR_SERVER_SHUTDOWN=k.FA=8;
k.WEBOFFICE_EX_ERROR_WRITE_ERROR=k.JA=9;k.WEBOFFICE_EX_ERROR_TOO_LARGE_DATA=k.HA=10;k.WEBOFFICE_EX_ERROR_MEMORY=k.AA=11;k.WEBOFFICE_EX_ERROR_NETWORK_ERROR=k.CA=12;k.WEBOFFICE_EX_ERROR_EXCEED_QUOTA=k.sA=13;k.WEBOFFICE_EX_ERROR_DATE_TOO_NEW=k.qA=14;k.WEBOFFICE_EX_ERROR_MMC_ERROR=k.BA=15;k.WEBOFFICE_EX_ERROR_UNKNOWN_CMD=k.IA=16;k.WEBOFFICE_EX_ERROR_INVALID_CMD=k.uA=17;k.WEBOFFICE_EX_ERROR_JNR_TOONEW=k.zA=18;k.WEBOFFICE_EX_ERROR_JNR_TOOBIG=k.yA=19;k.WEBOFFICE_EX_ERROR_EDIT=k.rA=20;
k.US_ERROR_PARAMETER=k.Oq=255;k.US_ERROR_BUSY=k.Hq=254;k.US_ERROR_WRONG_USERID=k.Qq=253;k.US_ERROR_WRONG_PASSWD=k.Pq=252;k.US_ERROR_ALREADY_LOGGED=k.Gq=251;k.US_ERROR_MEMORY_ALLOCATION=k.Iq=250;k.US_ERROR_NOT_ONLINE=k.mA=249;k.US_ERROR_NOT_JOIN_SELF=k.lA=248;k.US_ERROR_NOT_READY=k.Mq=247;k.US_ERROR_OWNER_NO_RESPONSE=k.oA=246;k.US_ERROR_MMC_FAIL=k.Jq=245;k.US_ERROR_NOT_SUPPORTED=k.Nq=244;k.US_ERROR_MMC_NO_MESSENGER=k.Lq=243;k.US_ERROR_MMC_NO_LICENSE=k.Kq=242;k.US_ERROR_OFFICE_NOT_OPEN=k.nA=241;
k.US_ERROR_MMC_GENERAL=k.Ee=54321;k.US_ERROR_MMC_GENERAL=k.Ee=1;k.US_ERROR_MMC_GENERAL=k.Ee=2;k.US_ERROR_MMC_GENERAL=k.Ee=3;k.US_ERROR_MMC_GENERAL=k.Ee=4;k.US_ERROR_MMC_GENERAL=k.Ee=5;k.DEFAULT_PLAY_SOUND=k.xw=!0;k.DEFAULT_LOG_LEVEL=k.Zo=2;k.DEFAULT_ALERT_ONLINE=k.vw=!0;k.DEFAULT_ALERT_NEWMESSAGE=k.uw=!0;k.DEFAULT_SHOW_OTHER_USER=k.zw=!0;k.DEFAULT_SHOW_OFFLINE_USER=k.yw=!0;k.CONTROLLER_ACCEPT_GUEST=k.Vo=1;k.CONTROLLER_END_MEETING=k.Wo=2;k.CONTROLLER_QUESTION_CONTROL=k.Pi=4;
k.CONTROLLER_POLL=k.Xo=8;k.CONTROLLER_SYNC=k.Hg=16;k.CONTROLLER_RETRIEVE_TOKEN=k.Qi=32;k.CONTROLLER_SYNC_TAB=k.Si=64;k.CONTROLLER_SYNC_FULLSCREEN=k.Ri=128;k.PLUG_IN_TYPE_BASE=k.Aq=128;k.AUDIO_DFLT=k.sg=129;k.AUDIO_G711=k.tg=120;k.AUDIO_ILBC=k.wg=152;k.AUDIO_G726=k.vg=168;k.AUDIO_G726_11=k.lf=184;k.AUDIO_G711_11=k.ug=255;k.AUDIO_OPUS=k.xg=232;k.VIDEO_DFLT=k.Rg=130;k.VIDEO_SPIC=k.pj=4;k.VIDEO_H264=k.Tg=200;k.VIDEO_F264=k.Sg=216;k.VIDEO_MJPG=k.Ug=248;k.VIDEO_VPX=k.Vg=64;k.MEDIA_NONE=k.Ey=0;
k.MEDIA_AUDIO_PCM=k.Dy=1;k.MEDIA_AUDIO_HMAUDIO=k.zy=2;k.MEDIA_VIDEO_HMVIDEO=k.Iy=3;k.MEDIA_AUDIO_ILBC0=k.Ay=4;k.MEDIA_AUDIO_ILBC1=k.By=5;k.MEDIA_AUDIO_G711_50MS=k.ty=6;k.MEDIA_AUDIO_G711_20MS=k.sy=7;k.MEDIA_AUDIO_G726_16K=k.vy=8;k.MEDIA_AUDIO_G726_24K=k.wy=9;k.MEDIA_AUDIO_G726_32K=k.xy=10;k.MEDIA_AUDIO_G726_40K=k.yy=11;k.MEDIA_AUDIO_G711_11K_89K_40MS=k.ry=14;k.MEDIA_AUDIO_G726_11K_45K_80MS=k.uy=15;k.MEDIA_VIDEO_H264_BASELINE=k.Hy=16;k.MEDIA_VIDEO_F264_BASELINE=k.Fy=18;
k.MEDIA_VIDEO_F264_HIGH=k.Gy=19;k.MEDIA_AUDIO_OPUS=k.Cy=20;k.SLIDE_DOWNLOAD_STATUS_UNKNOWN=k.Zz=0;k.SLIDE_DOWNLOAD_STATUS_NOTRECEIVED=k.Eq=1;k.SLIDE_DOWNLOAD_STATUS_NOTDOWNLOADED=k.Dq=2;k.SLIDE_DOWNLOAD_STATUS_PARTIALDATA=k.Yz=3;k.SLIDE_DOWNLOAD_STATUS_DOWNLOADING=k.Cq=4;k.SLIDE_DOWNLOAD_STATUS_DOWNLOADED=k.oj=5;k.MARK_STROKE=k.Dp=83;k.MARK_STROKE2=k.Ng=115;k.MARK_TEXT=k.Ep=84;k.MARK_TEXT2=k.Og=116;k.MARK_MOVE=k.dj=109;k.MARK_CUSTOMIZED=k.cj=99;k.UNDO=k.kA="UNDO";k.MAX_TEXT_LEN=k.oy=512;
k.MAX_LONG_TEXT_LEN=k.Jp=2048;k.MAX_PARTICIPANT_AUDIO_OLD=k.jy=2;k.MAX_PARTICIPANT_VIDEO_OLD=k.ky=6;k.MAX_PARTICIPANT_AUDIO=k.dd=16;k.MAX_PARTICIPANT_VIDEO=k.Qb=16;k.TAB_VIEW_BOARD=k.$z=0;k.TAB_VIEW_BROWSER=k.aA=1;k.TAB_VIEW_DESKTOP_SHARING=k.bA=2;k.TAB_VIEW_REMOTE_CONTROL=k.cA=3;k.SHOW_MYPICTURE_DELAY=k.Xz=5E3;k.MAX_MYPICTURE_SIZE=k.iy=2E5;k.MYPICTURE_TYPE_BMP=k.Yy=1;k.MYPICTURE_TYPE_GIF=k.Zy=2;k.MYPICTURE_TYPE_JPG=k.$y=3;k.MYPICTURE_TYPE_PNG=k.az=4;k.MAX_PLUG_IN_CHANNEL=k.Fb=8;
k.PLUGIN_CHANNEL_TYPE_UDP_1=k.Az=1;k.PLUGIN_CHANNEL_TYPE_TCP_2=k.zz=2;k.DT_CAPTURE_INFO=k.Bw=0;k.DT_CAPTURE_END=k.Aw=1;k.DT_SCREEN_DATA=k.Iw=2;k.DT_REQUEST_RECT=k.Hw=3;k.DT_MOUSE_POS=k.Dw=4;k.DT_NULL_DATA=k.Ew=5;k.DT_FRAME_END=k.Cw=6;k.DT_RDC_SIGNAL=k.Gw=7;k.DT_RDC_INPUT=k.Fw=8;k.DT_SCREEN_DATA1=k.Jw=9;k.DT_SCREEN_DATA2=k.Kw=10;k.RDC_CMD_END_CONTROL=k.Lz=0;k.RDC_CMD_REQUEST_CONTROL=k.Oz=1;k.RDC_CMD_ACK_REQUEST_CONTROL=k.Dz=2;k.RDC_CMD_START_CONTROL=k.Sz=3;k.RDC_CMD_DESIRED_BIT_DEPTH=k.Iz=5;
k.RDC_CMD_MAX_BIT_DEPTH=k.Nz=6;k.RDC_CMD_ASSIGN_CONTROL=k.Fz=7;k.RDC_CMD_ACK_ASSIGN_CONTROL=k.Bz=8;k.RDC_CMD_SHOW_CONTENT_WHILE_DRAGGING=k.Rz=9;k.RDC_CMD_CONTROL_NOT_SUPPORTED=k.Hz=10;k.RDC_CMD_KEYBOARD_LANG_ID=k.Mz=11;k.RDC_CMD_REQUEST_CONTROL_DENY=k.Pz=12;k.RDC_CMD_DUMMY_MODE_PASSWORD_ERR=k.Kz=13;k.RDC_CMD_DESIRED_GRAYSCALE_DEPTH=k.Jz=14;k.RDC_CMD_REQUEST_MONITOR=k.Qz=15;k.RDC_CMD_ACK_REQUEST_MONITOR=k.Ez=16;k.RDC_CMD_ASSIGN_MONITOR=k.Gz=17;k.RDC_CMD_ACK_ASSIGN_MONITOR=k.Cz=18;
k.RDC_STATUS_WINDOW_SIZEMOVE=k.Tz=128;k.ERROR_PLUGIN_REQUESTCHANNEL_UNKNOWN_TYPE=k.hp=1;k.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_NOTALLOWED=k.gp=2;k.ERROR_PLUGIN_REQUESTCHANNEL_NO_RECORDING=k.fp=3;k.ERROR_PLUGIN_REQUESTCHANNEL_CHANNEL_FULL=k.ep=4;k.ERROR_PLUGIN_SETDATA_CHANNEL_NOT_EXISTED=k.fx=5;k.ERROR_PLUGIN_SETDATA_NOT_OWNER=k.gx=6;k.ERROR_PLUGIN_CLOSECHANNEL_CHANNEL_NOT_EXISTED=k.ax=7;k.ERROR_PLUGIN_CLOSECHANNEL_NOT_OWNER=k.bx=8;k.ERROR_PLUGIN_RECVPRIO_CHANNEL_NOT_EXISTED=k.dx=9;
k.ERROR_PLUGIN_NOT_ENABLED=k.cp=10;k.ERROR_PLUGIN_NOT_ALLOWED=k.bp=11;k.ERROR_PLUGIN_REQUESTCHANNEL_RECORDING_FAILED=k.ex=12;k.ERROR_PLUGIN_OLD_RELAY=k.cx=13;k.TYPE_US_SHORT_MESSAGE2=k.gA=40;k.TYPE_US_SHORT_MESSAGE3=k.hA=41;k.TYPE_US_SHORT_MESSAGE_FAILURE=k.iA=43;k.TYPE_US_ASYMMETRICAL_SHORT_MESSAGE=k.dA=50;k.TYPE_US_SHORT_MESSAGE_OFFLINE=k.jA=60;k.TYPE_US_OFFLINE_MESSAGE2=k.eA=61;k.TYPE_US_OFFLINE_MESSAGE3=k.fA=62;k.IM_TARGET_TYPE_PEER=k.sx=1;k.IM_TARGET_TYPE_GUEST=k.rx=2;
k.IM_TARGET_TYPE_GROUP=k.op=3;k.IM_TEXT_TYPE_SEND_TEXT=k.aj=1;k.IM_TEXT_TYPE_RECV_TEXT=k.Zi=2;k.IM_TEXT_TYPE_SEND_FILE=k.$i=3;k.IM_TEXT_TYPE_RECV_FILE=k.Yi=4;k.IM_TEXT_TYPE_JOIN_GROUP=k.Jg=5;k.IM_TEXT_TYPE_LEAVE_GROUP=k.Kg=6;k.IM_TEXT_TYPE_ERROR=k.Ig=7;k.IM_TEXT_TYPE_OFFLINE_JOIN=k.Lg=8;k.IM_TEXT_TYPE_OFFLINE_LEAVE=k.Wi=9;k.IM_TEXT_TYPE_PGC_RENAME=k.Xi=10;"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(b,f,c){var l=c.length;l=h(0,(b.length>l?b.length:l)*z,0);B(l,b);b=T(f,2);c=T(c,2);O.length!=c.length&&(O=v(c));if(0==(c[0]&1))for(B(O,l),p(l,1);!E(b);){b[0]&1&&d(l,O,c);A(b,2);var w,e;var r=O;var P=c;for(f=r.length;0<f&&!r[f-1];f--);var m=f>P.length?2*f:2*P.length;G.length!=m&&(G=Array(m));p(G,0);for(e=0;e<f;e++){m=G[2*e]+r[e]*r[e];G[2*e]=m&C;m>>=z;for(w=e+1;w<f;w++)m=G[e+w]+2*r[e]*r[w]+m,G[e+w]=m&C,m>>=z;G[e+f]=m}a(G,P);B(r,G)}else{p(O,0);for(f=c.length;0<f&&!c[f-1];f--);
P=0;for(r=c.length-1;0<=r;r--)P=(P*N+c[r])%N;r=N-F(P,N);O[f]=1;d(l,O,c);aa.length!=l.length?aa=v(l):B(aa,l);for(f=b.length-1;0<f&!b[f];f--);if(0==b[f])p(l,1);else{for(P=1<<z-1;P&&!(b[f]&P);P>>=1);for(;;){if(!(P>>=1)){f--;if(0>f){g(l,n,c,r);break}P=1<<z-1}g(l,l,c,r);P&b[f]&&g(l,aa,c,r)}}}return T(l,1)}function F(b,a){for(var f=1,l=0;;){if(1==b)return f;if(0==b)return 0;l-=f*Math.floor(a/b);a%=b;if(1==a)return l;if(0==a)return 0;f-=l*Math.floor(b/a);b%=a}}function c(b,a,f){var l,d=b.length,g=a.length;
for(l=g-1-f;l<d&&0<=l;l++)if(0<b[l])return 1;for(l=d-1+f;l<g;l++)if(0<a[l])return 0;for(l=(d+f<g?d+f:g)-1;l>=f;l--){if(b[l-f]>a[l])return 1;if(b[l-f]<a[l])break}return 0}function y(b,a){var f,l=b.length<a.length?b.length:a.length;for(f=b.length;f<a.length;f++)if(a[f])return 0;for(f=a.length;f<b.length;f++)if(b[f])return 1;for(f=l-1;0<=f;f--){if(b[f]>a[f])return 1;if(b[f]<a[f])break}return 0}function h(b,a,f){a=Math.ceil(a/z)+1;f=Array(f>a?f:a);p(f,b);return f}function q(b,a,f){var l,d,g=b.length;
if(-1==a){for(d=[];;){a=Array(d.length+1);for(l=0;l<d.length;l++)a[l+1]=d[l];a[0]=parseInt(b,10);d=a;var c=b.indexOf(",",0);if(1>c)break;b=b.slice(c+1);if(0==b.length)break}return d.length<f?(a=Array(f),B(a,d),a):d}d=h(0,a*g,0);for(l=0;l<g;l++){c=x.indexOf(b.slice(l,l+1),0);36>=a&&36<=c&&(c-=26);if(c>=a||0>c)break;var w,e,n=d,r=a;if(r){var P=n.length;for(e=w=0;e<P;e++){w+=n[e]*r;var m=0;0>w&&(m=-(w>>z),w+=m*N);n[e]=w&C;w=(w>>z)-m}}m=d;m[0]+=c;P=m.length;for(e=w=0;e<P&&(w+=m[e],c=0,0>w&&(c=-(w>>z),
w+=c*N),m[e]=w&C,w=(w>>z)-c,w);e++);}for(g=d.length;0<g&&!d[g-1];g--);g=f>g+1?f:g+1;a=Array(g);b=g<d.length?g:d.length;for(l=0;l<b;l++)a[l]=d[l];for(;l<g;l++)a[l]=0;return a}function E(b){var a;if(0!=b[0])return 0;for(a=1;a<b.length;a++)if(b[a])return 0;return 1}function e(b){var a;for(a=0;a<b.length;a++)if(b[a])return 0;return 1}function D(b,a){var f="";X.length!=b.length?X=v(b):B(X,b);if(-1==a){for(a=b.length-1;0<a;a--)f+=b[a]+",";f+=b[0]}else for(;!e(X);)b=A(X,a),f=x.slice(b,b+1)+f;0==f.length&&
(f="0");return f}function v(b){var a=Array(b.length);B(a,b);return a}function B(b,a){var f,l=b.length<a.length?b.length:a.length;for(f=0;f<l;f++)b[f]=a[f];for(f=l;f<b.length;f++)b[f]=0}function p(b,a){var f=a;for(a=0;a<b.length;a++)b[a]=f&C,f>>=z}function m(b,a){var f,l=Math.floor(a/z);if(l){for(f=0;f<b.length-l;f++)b[f]=b[f+l];for(;f<b.length;f++)b[f]=0;a%=z}for(f=0;f<b.length-1;f++)b[f]=C&(b[f+1]<<z-a|b[f]>>a);b[f]>>=a}function I(b,a){var f,l=Math.floor(a/z);if(l){for(f=b.length;f>=l;f--)b[f]=b[f-
l];for(;0<=f;f--)b[f]=0;a%=z}if(a){for(f=b.length-1;0<f;f--)b[f]=C&(b[f]<<a|b[f-1]>>z-a);b[f]=C&b[f]<<a}}function A(b,a){var f,l=0;for(f=b.length-1;0<=f;f--)l=l*N+b[f],b[f]=Math.floor(l/a),l%=a;return l}function t(b,a,f,d){var l;var g=b.length<d+a.length?b.length:d+a.length;var c=b.length;var w=0;for(l=d;l<g;l++)w+=b[l]+f*a[l-d],b[l]=w&C,w>>=z;for(l=g;w&&l<c;l++)w+=b[l],b[l]=w&C,w>>=z}function a(b,a){ba.length!=b.length?ba=v(b):B(ba,b);Y.length!=b.length&&(Y=v(b));var f=Y,d,l;B(b,ba);for(d=a.length;0==
a[d-1];d--);var g=a[d-1];for(l=0;g;l++)g>>=1;l=z-l;I(a,l);I(b,l);for(g=b.length;0==b[g-1]&&g>d;g--);for(p(f,0);!c(a,b,g-d);){var w,e=b,n=a,r=g-d;var h=e.length<r+n.length?e.length:r+n.length;var Q=e.length;var P=0;for(w=r;w<h;w++)P+=e[w]-n[w-r],e[w]=P&C,P>>=z;for(w=h;P&&w<Q;w++)P+=e[w],e[w]=P&C,P>>=z;f[g-d]++}for(--g;g>=d;g--){for(f[g-d]=b[g]==a[d-1]?C:Math.floor((b[g]*N+b[g-1])/a[d-1]);;)if(h=(1<d?a[d-2]:0)*f[g-d],P=h>>z,h&=C,Q=P+f[g-d]*a[d-1],P=Q>>z,Q&=C,P==b[g]?Q==b[g-1]?h>(1<g?b[g-2]:0):Q>b[g-
1]:P>b[g])f[g-d]--;else break;t(b,a,-f[g-d],g-d);if(b[b.length-1]>>z-1&1){e=b;n=a;r=g-d;h=e.length<r+n.length?e.length:r+n.length;Q=e.length;P=0;for(w=r;w<h;w++)P+=e[w]+n[w-r],e[w]=P&C,P>>=z;for(w=h;P&&w<Q;w++)P+=e[w],e[w]=P&C,P>>=z;f[g-d]--}}m(a,l);m(b,l)}function d(b,f,d){var l;G.length!=2*b.length&&(G=Array(2*b.length));p(G,0);for(l=0;l<f.length;l++)f[l]&&t(G,b,f[l],l);a(G,d);B(b,G)}function T(b,a){var f;for(f=b.length;0<f&&!b[f-1];f--);a=Array(f+a);B(a,b);return a}function g(b,a,d,g){var l,c,
w=d.length,e=a.length;f.length!=w&&(f=Array(w));for(p(f,0);0<w&&0==d[w-1];w--);for(;0<e&&0==a[e-1];e--);var n=f.length-1;for(l=0;l<w;l++){var r=f[0]+b[l]*a[0];var h=(r&C)*g&C;var m=r+h*d[0]>>z;r=b[l];for(c=1;c<e-4;)m+=f[c]+h*d[c]+r*a[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+h*d[c]+r*a[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+h*d[c]+r*a[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+h*d[c]+r*a[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+h*d[c]+r*a[c],f[c-1]=m&C,m>>=z,c++;for(;c<e;)m+=f[c]+h*d[c]+r*a[c],f[c-1]=m&C,m>>=z,c++;for(;c<w-4;)m+=f[c]+
h*d[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+h*d[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+h*d[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+h*d[c],f[c-1]=m&C,m>>=z,c++,m+=f[c]+h*d[c],f[c-1]=m&C,m>>=z,c++;for(;c<w;)m+=f[c]+h*d[c],f[c-1]=m&C,m>>=z,c++;for(;c<n;)m+=f[c],f[c-1]=m&C,m>>=z,c++;f[c-1]=m&C}if(!y(d,f)){a=f;c=a.length<d.length?a.length:d.length;for(g=l=0;g<c;g++)l+=a[g]-d[g],a[g]=l&C,l>>=z;for(g=c;l&&g<a.length;g++)l+=a[g],a[g]=l&C,l>>=z}B(b,f)}var r=window.W,z,Z,G,aa,ba,Y,X,O;var C=z=0;var N=C+1;var x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_=!@#$%^&*()[]{}|;:,.<>/?`~ \\'\"+-";
for(z=0;1<<z+1>1<<z;z++);z>>=1;C=(1<<z)-1;N=C+1;var n=h(1,1,1);var f=O=X=Y=ba=aa=G=Z=[];b=b.dh=b.nc=b.nc||{};var w=q("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE65381FFFFFFFFFFFFFFFF",16,0),Q=q("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AACAA68FFFFFFFFFFFFFFFF",
16,0),J=q("2",10,0);b.str2bigInt=b.st=function(b,a,f){return q(b,a,f)};b.powMod=b.OF=function(b,a,f){return H(b,a,f)};b.bigInt2str=b.wj=function(b,a){return D(b,a)};b.createKeyPair=b.qr=function(){var b=q((new r.a.g(r.random.ya(10))).Pb(),16,0),a=H(J,b,w);return{Xh:b,mg:a}};b.createKeyPair_2048=b.rr=function(){var b=q((new r.a.g(r.random.ya(20))).Pb(),16,0),a=H(J,b,Q);return{Xh:b,mg:a}};b.agreeKey=b.ar=function(b,a){return H(a,b,w)};b.agreeKey_2048=b.br=function(b,a){return H(a,b,Q)};b.generateSharedKey=
b.Dr=function(b,a,f,d,g,c){c=c||128;var l=r.Id.create(),w=new r.a.g;b=D(b,16);b=r.a.Ic(b);var e;if(b.length<c)for(e=0;e<c-b.length;e++)w.K("\x00");w.K(b);b=D(a,16);b=r.a.Ic(b);if(b.length<c)for(e=0;e<c-b.length;e++)w.K("\x00");w.K(b);b=D(f,16);b=r.a.Ic(b);if(b.length<c)for(e=0;e<c-b.length;e++)w.K("\x00");w.K(b);w.K(d);w.K(g);l.update(w.u());l.update("A");a=l.digest();l.start();l.update(w.u());l.update("B");f=l.digest();l.start();l.update(w.u());l.update(f.u());l=l.digest();f.D(l);return{ja:a.u(),
key:f.u()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){c.localStorage=c.localStorage={};c.localStorage.clear=H}var F=window.W,c=b.util=b.a=b.a||{},y=c.app_id=c.cr=(new F.a.g(F.random.ya(2))).Pb(),h=c.MAX_LOG_ITEM=c.Hp=5E3,q=c.MAX_LOG_SIZE=c.Ip=5E5,E=0,e=Date.now();c.GetTickCount=c.A=function(){if("undefined"===typeof performance||"undefined"===typeof performance.now){var b=Date.now();b<e&&(E+=e-b);e=b;return b+E>>>0}return performance.now()>>>0};c.time=c.time=function(){return Date.now()/1E3>>>0};c.checkBrowser=c.RB=function(){window.File&&
window.FileReader&&window.FileList&&window.Blob&&window.URL||console.log("File API not supported in this browser");window.localStorage||console.log("Local Storage not supported in this browser");window.Worker||console.log("Worker not supported in this browser");window.WebSocket||console.log("WebSocket not supported in this browser");return""};c.log=c.log=function(e,p){var m=b.a.Yc(c.localStorage.hmtg_log_level);"undefined"===m&&(m=b.b.Zo);0>m&&(m=0);"undefined"===typeof p&&(p=e,e=0);if(!(e>m)){m=
(new Date).toString().replace(/(GMT.*)/,"");if(0>e&&(console.log(m+p),-1!=e))return;c.sj("hmtg_log","hmtg_log_first_idx","hmtg_log_count","hmtg_log_size","hmtg_log_item_",h,q,y+":"+m+p)}};c.add_hmtg_log_item=c.sj=function(b,e,h,p,a,d,q,g){var r=c.localStorage[e]>>0,m=c.localStorage[h]>>0,t=c.localStorage[p]>>0;0==m&&c.localStorage[b]&&c.localStorage[b].length&&(c.localStorage[a+"0"]=c.localStorage[b],m=1,t=c.localStorage[b].length,r=0);c.localStorage[b]="";if(m>d||r>=d)t=m=r=0;m==d&&((b=c.localStorage[a+
r])&&b.length?(t-=b.length,m--,r++,r==d&&(r=0)):t=m=r=0);var A=r+m;for(A>=d&&(A-=d);0!=m&&t+g.length>q;){b=c.localStorage[a+r];if(!b||!b.length){t=m=r=0;break}t-=b.length;m--;r++;r==d&&(r=0)}c.localStorage[a+A]=g;t+=g.length;m++;c.localStorage[e]=r;c.localStorage[h]=m;c.localStorage[p]=t};c.read_hmtg_log=c.PF=function(){var b=c.localStorage.hmtg_log_first_idx>>0,e=c.localStorage.hmtg_log_count>>0;if(e>h||b>=h)return c.Gm(),"";var p=[],t;for(t=0;t<e;t++){var a=b+t;a>=h&&(a-=h);a=c.localStorage["hmtg_log_item_"+
a];if(!a||!a.length)return c.Gm(),"";p.push(a)}return 0==p.length?c.localStorage.hmtg_log:p.join("\n")};c.reset_hmtg_log=c.Gm=function(){c.localStorage.hmtg_log="";c.localStorage.hmtg_log_first_idx=0;c.localStorage.hmtg_log_count=0;c.localStorage.hmtg_log_size=0};c.read_hmtg_log_stat=c.QF=function(){var b=c.localStorage.hmtg_log_stat_first_idx>>0,e=c.localStorage.hmtg_log_stat_count>>0;if(e>h||b>=h)return c.Hm(),"";var p=[],t;for(t=0;t<e;t++){var a=b+t;a>=h&&(a-=h);a=c.localStorage["hmtg_log_stat_item_"+
a];if(!a||!a.length)return c.Hm(),"";p.push(a)}return 0==p.length?c.localStorage.hmtg_log_stat:p.join("\n")};c.reset_hmtg_log_stat=c.Hm=function(){c.localStorage.hmtg_log_stat="";c.localStorage.hmtg_log_stat_first_idx=0;c.localStorage.hmtg_log_stat_count=0;c.localStorage.hmtg_log_stat_size=0};c.logUtf8=c.oe=function(b,e){"undefined"===typeof e?c.log(c.Ab(b)):c.log(b,c.Ab(e))};c.getQuery=c.Sd=function(b){for(var c=window.location.search.slice(1).split("&"),e=0;e<c.length;e++){var h=c[e].split("=");
if(h[0]==b)return h[1]}};c.encodeUtf8Ex=c.$g=function(b,c){try{for(var e=unescape(encodeURIComponent(b));e.length&&e.length>=c;)b=b.slice(0,b.length-1),e=unescape(encodeURIComponent(b));return e}catch(t){return""}};c.truncateStr=c.aG=function(b,e){b=c.$g(b,e);try{return decodeURIComponent(escape(b))}catch(A){return""}};c.truncateStrUtf8=c.hf=function(b,c){try{for(;b.length&&b.length>=c;){var e=decodeURIComponent(escape(b));e=e.slice(0,e.length-1);b=unescape(encodeURIComponent(e))}return b}catch(t){return""}};
c.startsWith=c.startsWith=function(b,c){return b.slice(0,c.length)==c};c.endsWith=c.endsWith=function(b,c){return b.slice(-c.length)==c};c.scroll_to_top=c.VF=function(b){if(b=document.getElementById(b))b.scrollTop=0};c.scroll_to_bottom=c.UF=function(b){if(b=document.getElementById(b))b.scrollTop=b.scrollHeight};c.getExt=c.$B=function(b){var c=b.lastIndexOf(".");if(-1==c)return"";b=b.slice(c);return 1==b.length||-1!=b.indexOf(" ")?"":b};c.decode64=c.Ib=F.a.Ib;c.encode64=c.oc=F.a.oc;c.decode64_url=
c.Bj=F.a.Bj;c.encode64_url=c.Cj=F.a.Cj;c.encodeUtf8=c.qb=F.a.qb;c.decodeUtf8=c.Ab=F.a.Ab;c.isArray=c.isArray=F.a.isArray;c.array2str=c.uj=function(b){try{var c=String.fromCharCode.apply(null,b)}catch(t){c="";var e;for(e=0;e<b.length;e++)c+=String.fromCharCode(b[e])}return c};c.str2array=c.ai=function(b){for(var c=new Uint8Array(b.length),e=0;e<b.length;e++)c[e]=b.charCodeAt(e);return c};c.calc_guid_descr=c.lr=function(b){b=F.a.Wg(b).toUpperCase();return b.slice(0,8)+"-"+b.slice(8,12)+"-"+b.slice(12,
16)+"-"+b.slice(16,20)+"-"+b.slice(20)};c.parseJSON=c.Yc=function(b){try{return JSON.parse(b)}catch(I){return"undefined"}};c.selectText=c.WF=function(b){if(document.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(b);c.select()}else if(window.getSelection){var e=window.getSelection();c=document.createRange();c.selectNodeContents(b);e.removeAllRanges();e.addRange(c)}};var D=window.onerror,v={},B=c.Sd("alert");c.test_error=c.$F=c.Sd("error")||0;if(c.Sd("show_log")){var p=
document.getElementById("log_report");p&&(p.style.display="")}c.error_array=c.md=[];window.onerror=function(e,h,p,t,a){var d;!window.pb&&h&&a&&a.stack||(d=!0);var m=""+e+h+p+t;v[m]?v[m]++:v[m]=1;var g=v[m];t="Javascript Error("+g+" times), "+e+", location="+h+":"+p+("undefined"!=typeof t?":":"")+t;t=a&&a.stack?t+(",\nstack trace=\n"+a.stack):t+",\nstack trace not supported";var r;if(!d){for(r=0;r<c.md.length;r++)if(m===c.md[r].tag){c.md.splice(r,1);break}c.md.push({tag:m,text:t,time:new Date});100<
c.md.length&&c.md.shift()}if(1==g||10==g||100==g||1E3==g){try{b.a.log((d?"(Log Only)":"")+t)}catch(z){}!d&&B&&(t+="\n------------------------------\nTotal Error: "+c.md.length+"\n",t+=(new Date).toString().replace(/(GMT.*)/,"")+"\n",t+="appid="+y+"\n",t+="Browser Information: "+navigator.userAgent+"\n",b.$&&b.$.version&&(t+="hmtg jnkernel version "+b.$.version()+"\n"),b.Yb&&b.Yb.version&&(t+="hmtg jmkernel version "+b.Yb.version()+"\n"),b.b&&b.b.hi&&(t+="Web JoinNet version "+b.b.hi+"\n"),alert(t))}if(!d){if(d=
document.getElementById("error_report"))d.style.display="";b.$&&b.$.jl&&b.$.jl()}return D?D(e,h,p):h&&a&&a.stack?!0:!1};window.onerrorWorker=function(b){window.onerror(b.message,b.filename,b.lineno,b.colno,b.error)};c.isPrivateStorage=c.td=!1;if(!window.localStorage||"object"!==typeof window.localStorage||"undefined"!==typeof window.localStorage.hmtg_log&&"string"!==typeof window.localStorage.hmtg_log)c.localStorage=c.localStorage={},c.td=!0;else if(c.localStorage=c.localStorage=window.localStorage,
"undefined"===typeof window.localStorage.hmtg_log)try{c.localStorage.hmtg_log=""}catch(m){c.localStorage=c.localStorage={},c.td=!0,c.localStorage.hmtg_log=""}c.Sd("reset")&&confirm("Are you sure to reset the localStorage?")&&window.localStorage.clear();c.log("Web JoinNet starts");c.td&&(c.localStorage.clear=H,c.log("This browser is using private Storage. The changes of settings cannot be saved if the Web App is closed."));c.log("Browser Information: "+navigator.userAgent);c.calcOffset=c.QB=function(b,
c){var e=0,h=0;if("undefined"!==typeof b.offsetParent){do e+=b.offsetLeft+b.clientLeft,h+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}c.x=e;c.y=h};c.schemeURL=c.TF=function(b){return(b=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*):/.exec(b))&&b[1]?b[1].toLowerCase():""};c.xml_escape=c.At=function(b){return b.replace(/\&/g,"&amp;").replace(/\'/g,"&apos;").replace(/\"/g,"&quot;").replace(/\</g,"&lt;").replace(/\>/g,"&gt;")};c.convert32_64=c.nr=function(b,c){return 0>b>>0?-(4294967296*((b^4294967295)>>>0)+((c^
4294967295)>>>0)+1):4294967296*(b>>>0)+(c>>>0)};c.convert64_32=c.UB=function(b){if(0>b){b=-b;b--;var c=(b/4294967296>>>0^4294967295)>>0;b=(b%4294967296>>>0^4294967295)>>0}else c=b/4294967296>>>0,b=b%4294967296>>>0;return[c,b]}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.m=b.m||{};F.vendor="";F.ZF=function(b){for(var c=(new Date).getTime();!((new Date).getTime()-c>b););};F.kg=function(b){if("string"!==typeof b)return{mb:1,Eb:0,gf:0};b=b.split(".");return 2>b.length?{mb:1,Eb:0,gf:0}:3>b.length?{mb:parseInt(b[0].trim()),Eb:parseInt(b[1].trim()),gf:0}:{mb:parseInt(b[0].trim()),Eb:parseInt(b[1].trim()),gf:parseInt(b[2].trim())}};F.Y=function(){};F.I=function(b){b.onopen=b.onclose=b.onerror=b.onmessage=F.Y;b.close()};F.xm=function(c){var y=
"https:"==window.location.protocol?"wss://wvv.":"ws://wvw.",h;try{b.m.bh||(h=new WebSocket(y+c))}catch(q){return}b.m.bh||(h.onopen=function(){h.close()})};F.Wh=function(b,y,h,q){var c=[],e=0;0!=q&&q!=h&&(e=q);q={};q.Z=b;q.ma=h;q.Dd=0;c.push(q);e&&(q={},q.Z=b,q.ma=e,q.Dd=0,c.push(q));b=y.split(",");for(y=0;y<b.length;y++){var D=b[y].trim();if(!(0==D.length||100<=D.length)){for(q=0;q<c.length&&c[q].Z!=D;q++);q==c.length&&20>c.length&&(q={},q.Z=D,q.ma=h,q.Dd=1,c.push(q),e&&20>c.length&&(q={},q.Z=D,q.ma=
e,q.Dd=1,c.push(q)))}}return{bi:0,Ph:c}};F.Ij=function(b){for(var c,h,q,E="",e=b.length(),D=(e+15)/16>>>0,v=0,B=0;B<D-1&&5E3>=74*(B+1)+1;B++){h=q="";for(var p=0;16>p;p++,v++)c=b.L(v),q+=16>c?"0":"",q+=c.toString(16),q+=" ",h+=32>=c?".":b.h(v,1);E+=("0000000"+(16*B).toString(16)).slice(-4)+"h: ";E+=q+"; "+h+"\n"}if(5E3>=74*D+1&&(e-=16*(D-1),0<e)){h=q="";for(p=0;16>p;p++,v++)p<e?(c=b.L(v),q+=16>c?"0":"",q+=c.toString(16),q+=" ",h+=32>=c?".":b.h(v,1)):q+="   ";E+=("0000000"+(16*(D-1)).toString(16)).slice(-4)+
"h: ";E+=q+"; "+h+"\n"}return E};F.qm=function(c,y){if(y.length()){var h="\nDisconnect Dump:";c.length()&&(h+="\npre-disconnect log:\n"+F.Ij(c));h+="\nat-disconnect log:\n"+F.Ij(y)+"\n";b.a.log(h)}};F.Xg=function(c){switch(c){case b.b.sg:case b.b.Rg:c="dflt";break;case b.b.wg:c="ilbc";break;case b.b.tg:c="g711";break;case b.b.vg:c="g726";break;case b.b.lf:c="g726 11K";break;case b.b.ug:c="g711 11K";break;case b.b.xg:c="opus";break;case b.b.Tg:c="hm264";break;case b.b.Sg:c="f264";break;case b.b.Ug:c=
"mjpg";break;case b.b.Vg:c="vpx";break;default:c="unknown"}return c};F.zj=function(c){var y="",h=1;c&b.b.Vo&&(y+=(h?"":",")+"ACCEPT_GUEST",h=0);c&b.b.Wo&&(y+=(h?"":",")+"END_MEETING",h=0);c&b.b.Pi&&(y+=(h?"":",")+"QUESTION_CONTROL",h=0);c&b.b.Xo&&(y+=(h?"":",")+"POLL",h=0);c&b.b.Hg&&(y+=(h?"":",")+"SYNC",h=0);c&b.b.Qi&&(y+=(h?"":",")+"RETRIEVE_TOKEN",h=0);c&b.b.Si&&(y+=(h?"":",")+"SYNC_TAB",h=0);c&b.b.Ri&&(y+=(h?"":",")+"SYNC_FULLSCREEN");return y};F.bt=function(c){if(40==c.charCodeAt(0)){var y=c.indexOf(")");
if(-1!=y&&1!=y)return b.a.$g(b.a.Ab(c.slice(1,y)),b.b.Ya)}return""};F.Ds=function(b){return b.Pd(15)};F.Es=function(b){return b.Pd(11)};F.Gs=function(b){return b.c(5)};F.Hs=function(b){return b.Pd(9)<<16^b.Pd(13)};F.Ah=function(b){return b.Pd(3)};F.Fs=function(b){return b.Pd(1)};F.gd=new Uint8Array(256);F.gd[b.b.sg]=1;F.gd[b.b.wg]=1;F.gd[b.b.tg]=1;F.gd[b.b.vg]=1;F.gd[b.b.lf]=1;F.gd[b.b.xg]=1;F.dC=function(b){return!!F.gd[b]};F.xe=new Uint8Array(256);F.xe[b.b.Rg]=1;F.xe[b.b.Tg]=1;F.xe[b.b.Sg]=1;F.xe[b.b.Ug]=
1;F.xe[b.b.Vg]=1;F.hC=function(b){return!!F.xe[b]};F.dt=function(b){return 8+b<<4};F.Rj=function(c){return(c&143)==b.b.Aq};F.et=function(b){return(b&112)>>4};F.xt=function(c,y,h){var q=y.length;512<q&&(q=512);var E=H.Id.create();E.update(b.crypto.M(y.subarray(0,q),h).u());return E.digest().u()==c}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W;b=b.crypto=b.crypto||{};b.ad=function(){for(var b=H.Id.create(),c=arguments.length,y=0;y<c;++y)b.update(arguments[y]);return b.digest()};b.Yg=function(b,c){var y={};switch(b){case "3des":y.ja=c.ja.slice(0,8);y.ld=H.mc.ve(c.key.slice(0,24),y.ja,null);y.Od=H.mc.ue(c.key.slice(0,24),y.ja,null);break;case "des":y.ja=c.ja.slice(0,8);y.ld=H.mc.ve(c.key.slice(0,8),y.ja,null);y.Od=H.mc.ue(c.key.slice(0,8),y.ja,null);break;case "aes128":y.ja=c.ja.slice(0,16);y.ld=H.Za.ve(c.key.slice(0,
16),y.ja,null,"cfb");y.Od=H.Za.ue(c.key.slice(0,16),y.ja,null,"cfb");break;case "aes192":y.ja=c.ja.slice(0,16);y.ld=H.Za.ve(c.key.slice(0,24),y.ja,null,"cfb");y.Od=H.Za.ue(c.key.slice(0,24),y.ja,null,"cfb");break;case "aes256":y.ja=c.ja.slice(0,16),y.ld=H.Za.ve(c.key.slice(0,32),y.ja,null,"cfb"),y.Od=H.Za.ue(c.key.slice(0,32),y.ja,null,"cfb")}return y};b.jf=b.Yg("aes256",{ja:H.a.Ic("9a46099c65b2988422cb177c159625a4586c353d"),key:H.a.Ic("40142bcd47a450d82a1e4109df9cb37852ca2a4ab6f87e739503d7919d89dd834e077fe123f420d4")});
b.M=function(b,c){if(c&&c.ld){var y=c.ld;y.start(c.ja);y.update(new H.a.g(b));y.finish();return y.ig}console.log(Error("******debug, crypto.crypto_cfb_EncryptData stack trace").stack);return b};b.w=function(b,c){if(c&&c.Od){var y=c.Od;y.start(c.ja);y.update(new H.a.g(b));y.finish();return y.ig}console.log(Error("******debug, crypto.crypto_cfb_DecryptData stack trace").stack);return b}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F="succeeded;continue...;MCU relay proxy is shut down;the request is not allowed;MCU relay proxy is busy;the request is not supported;can not connect to MCU;MCU relay proxy doesn't has group connection to the MCU;MCU relay proxy is downloading this slide;MCU relay proxy only support primary port;unknown".split(";"),c=b.protocol=b.protocol||{};c.Um=10001;c.Vm=10002;c.mf=10003;c.ki=10004;c.ji=10005;c.ii=10006;c.Sm=10007;c.Qm=10008;c.Rm=10009;c.Ct=10010;c.Tm=10011;c.hm=function(c,
h,q,E,e,D){function v(){d.disconnect=function(){}}function B(a){p();Z=setTimeout(function(){Z=null;a&&b.a.log(a);b.a.log(6,"websocket("+Y+") timeout");b.m.I(z);m(b.b.Ld)},6E4)}function p(){null!=Z&&(clearTimeout(Z),Z=null)}function m(a){p();ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, finish"):(E[e].Ob=a,ba=!0,z.onclose=z.onerror=z.onmessage=null,v(),D())}function y(){var a=r.Lj();if(a!=b.b.Dc){if(0>=a||a>=F.length)a=F.length-1;b.a.log("mcu relay proxy failed, error = "+
F[a]);b.m.I(z);m(b.b.bj+a)}else aa=new b.protocol.Re(c,h,E[e],q.ca.Vb,q.ca.port,A)}function A(a){aa=null;a?(b.a.log("mcu relay proxy: dh key exchange fails"),m(b.b.Ld)):(E[e].ed=E[e].ea,E[e].xd=E[e].cb,E[e].Dh=E[e].tc,a=new H.a.g,a.Fd(0),a.Fd(E[e].ma),a.jg(E[e].Z),G=t,B("mcu relay proxy: recv nothing after dh key exchange"),z.send(a.i()),0!=r.length()&&G())}function t(){var d=r.Lj();if(0!=d){if(0>d||d>=F.length)d=F.length-1;E[e].Us=1;b.a.log("mcu relay proxy failed, error = "+F[d]);b.m.I(z);m(b.b.bj+
d)}else G=a,B(),0!=r.length()&&G()}function a(){var a=q.ca.Jb.length?0:4,d=r.length();if(!(d<4+a)){if(a){a+=r.c(4)==b.protocol.ji?16:4;if(d<4+a)return;q.ca.Jb=r.h(8,a-4)}E[e].Sc=r.getInt32();a&&r.shift(a);b.a.log("mcu relay proxy: established");m(0)}}var d=this;var T=E[e].Z;var g=E[e].ma,r=E[e].Gd=new H.a.g,z,Z=null,G=b.m.Y,aa=null,ba=!1;this.disconnect=function(){};if(q&&q.sa){b.a.log(["connect through mcu relay ",q.ca.Vb,",",q.ca.port].join(""));T=q.ca.Vb;-1!=T.indexOf(":")&&-1==T.indexOf("[")&&
(T="["+T+"]");var Y=T+":"+q.ca.port+"/websocket/"}else-1!=T.indexOf(":")&&-1==T.indexOf("[")&&(T="["+T+"]"),Y=T+":"+g+"/websocket/";G=function(){b.m.I(z);m(b.b.Ld)};try{var X="https:"==window.location.protocol?"wss://":"ws://";this.j=E[e].j=z=new WebSocket(X+Y,"hmtg")}catch(O){this.j=E[e].j=z={};b.a.log("cannot create WebSocket for "+X+Y+". "+O);m(b.b.Ld);return}z.binaryType="arraybuffer";z.onopen=function(){p();if(q&&q.sa){var b=new H.a.g("~");b.f(q.ca.Jb.length?7:8);G=y;B();z.send(b.i());0!=r.length()&&
G()}else m(0)};z.onclose=function(){b.a.log(6,"websocket("+Y+") onclose");b.m.I(z);m(b.b.Ld)};z.onerror=function(){b.a.log(6,"websocket("+Y+") onerror");b.m.I(z);m(b.b.Ld)};z.onmessage=function(a){p();a=new H.a.g(a.data);r.D(a);ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, onmessage"):(B(),G())};B();0!=r.length()&&G();this.disconnect=function(){b.a.log(6,"websocket("+Y+") disconnect");ba?b.a.log(-1,"alert, jn_mcu_connect_thread, should not occur, need investigation, disconnect"):
(b.m.I(z),ba=!0,p(),null!=aa&&(aa.stop(),aa=null),v())}};c.Re=function(c,h,q,E,e,D){function v(a){B();r=setTimeout(function(){b.a.log("disconnect,timeout error in dh key exchange");p(a)},6E4)}function B(){null!=r&&(clearTimeout(r),r=null)}function p(a){a&&b.m.I(t);B();ba?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, finish"):(ba=!0,D(a))}function m(){var d=a.length();if(!(4>d)){var g=a.c(0);if(0>g||4096<g)b.a.log("disconnect, incorrect server public key"),
p(3);else if(!(d<4+g)){d=H.a.Wg(a.h(4,g));d=b.nc.st(d,16,0);var e=2048==G?b.nc.br(aa.Xh,d):b.nc.ar(aa.Xh,d);d=b.nc.Dr(aa.mg,d,e,c+"."+h,q.tc,2048==G?256:128);q.zc=d;a.shift(4+g);Z=y;0!=a.length()&&Z()}}}function y(){var d=a.length();if(!(4>d)){var g=a.c(0);if(0>g||4096<g)b.a.log("disconnect, incorrect hostkey key"),p(3);else if(!(d<4+g+4)){var c=a.c(4+g);if(0>c||4096<c)b.a.log("disconnect, incorrect hostkey signature"),p(3);else if(!(d<4+g+4+c)){d=a.h(4,g);var h=H.a.oc(d);b.a.log(["hostkey of ",E,
",",e," is ",h].join(""));h=H.Qh.create();h.update(d);d=h.digest();d=H.a.oc(d.u());b.a.log(["hostkey fingerprint of ",E,",",e," is ",d].join(""));a.shift(4+g+4+c);q.Ye="";q.Xe="";q.cg="";z=1;Z=A;0!=a.length()&&Z()}}}}function A(){for(;;){var c=a.length();if(4>c)break;var e=a.c(0);if(0==e){a.shift(4);q.ba=q.ea;t.onerror=d;t.onmessage=F;t.onclose=g;p(0);break}if(4>e||1024<=e){b.a.log("disconnect, incorrect server parameter(0), len="+e);p(1);break}if(c<4+e)break;a.shift(4);c=e;var h=a.c(0);switch(h){case 10001:h=
a.c(4);if(c!=h+8||0>=h||100<=h){b.a.log(["disconnect, incorrect server parameter(1), len=",c," cipher_len=",h].join(""));p(2);return}c=a.h(8,h);q.jd=c;q.ea=b.crypto.Yg(c,q.zc);if(!q.ea.ld){b.a.log("unknown cipher "+c);p(2);return}b.a.log("got mcu parameter - cipher = "+c);break;case 10002:if(8!=c){b.a.log("disconnect, incorrect server parameter(2), len="+c);p(1);return}q.bg=b.crypto.w(a.h(4,4),q.ea).c(0);b.a.log("got mcu parameter - multicast port: "+q.bg);break;case 10003:if(8!=c){b.a.log("disconnect, incorrect server parameter(3), len="+
c);p(1);return}q.yd=b.crypto.w(a.h(4,4),q.ea).c(0)>>>0;q.cb=b.a.A()-q.yd;b.a.log(["got mcu parameter - server tick = ",q.yd,", diff = ",q.cb].join(""));break;case 10004:var r=a.c(4);if(c!=r+8||0>=r||500<=r){b.a.log(["disconnect, incorrect server parameter(4), len=",c," serial_len=",r].join(""));p(1);return}q.Ye=b.crypto.w(a.h(8,r),q.ea).u();break;case 10008:h=a.c(4);if(c!=h+8||0>=h||100<=h){b.a.log(["disconnect, incorrect server parameter(5), len=",c," licensesource_len=",r].join(""));p(1);return}q.Xe=
b.crypto.w(a.h(8,h),q.ea).u();break;case 10005:if(8!=c){b.a.log("disconnect, incorrect server parameter(6), len="+c);p(1);return}q.ge=b.crypto.w(a.h(4,4),q.ea).c(0);b.a.log("got mcu parameter - utf8 support, codepage = "+q.ge);break;case 10006:if(4!=c){b.a.log("disconnect, incorrect server parameter(7), len="+c);p(1);return}q.Oe=!0;b.a.log("got mcu parameter - mcu accept client parameter");break;case 10007:b.a.log("got mcu parameter - mcu support real time conversion");q.cg="";4!=c&&(q.cg=a.h(4,c-
4));break;default:b.a.log("warning, unknown server parameter type="+h)}a.shift(e)}}var t=q.j,a=q.Gd,d=t.onerror,F=t.onmessage,g=t.onclose,r=null,z=3,Z=b.m.Y,G=0,aa;q.ge=-2;t.onclose=t.onerror=function(){p(3)};t.onmessage=function(d){B();d=new H.a.g(d.data);a.D(d);ba?b.a.log(-1,"alert, jn_control_session_key_exchange, should not occur, need investigation, onmessage"):(v(z),Z())};var ba=!1,Y=new H.a.g("!");Y.f(c);Y.f(h);Z=function(){var d=a.length();if(!(4>d)){var g=a.c(0);if(0>g||100<=g)b.a.log("disconnect, recv return error in dh key exchange"),
p(3);else if(!(d<4+g)){q.tc=a.h(4,g);var c=b.m.kg(q.tc);b.a.log(["server version of ",E,",",e," is ",q.tc].join(""));d=new H.a.g;if(3<c.mb||3==c.mb&&23<c.Eb||3==c.mb&&23==c.Eb&&1<=c.gf){G=2048;d.f(4099);d.f(256);aa=b.nc.rr();c=b.nc.wj(aa.mg,16);var h=H.a.Ic(c);c=256-h.length}else G=1024,d.f(128),aa=b.nc.qr(),c=b.nc.wj(aa.mg,16),h=H.a.Ic(c),c=128-h.length;0!=c&&d.eh(0,c);d.K(h);t.send(d.i());a.shift(4+g);Z=m;0!=a.length()&&Z()}}};v(3);t.send(Y.i());0!=a.length()&&Z();this.stop=function(){ba=!0;B()}};
c.ie=function(c,h,q,E){function e(){v.disconnect=function(){}}function y(){null!=B&&(clearTimeout(B),B=null)}var v=this,B=null,p=!1;this.disconnect=function(){};-1!=c.indexOf(":")&&-1==c.indexOf("[")&&(c="["+c+"]");h=c+":"+h+"/websocket/";try{var m="https:"==window.location.protocol?"wss://":"ws://";var I=new WebSocket(m+h,"hmtg")}catch(A){I={};b.a.log("cannot create WebSocket for "+m+h+". "+A);p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, new WebSocket"):(p=!0,e(),
E());return}I.binaryType="arraybuffer";I.onopen=function(){y();p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onopen"):(p=!0,e(),q(I))};I.onclose=I.onerror=function(){y();p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, onclose"):(p=!0,b.m.I(I),e(),E())};(function(){y();B=setTimeout(function(){B=null;b.m.I(I);p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, turn_on_timer"):(p=!0,e(),E())},6E4)})();this.disconnect=
function(){p?b.a.log(-1,"alert, jn_simple_connect, should not occur, need investigation, disconnect"):(y(),p=!0,b.m.I(I),e())}};c.Nb=function(c,h,q,E,e,D){function v(){m.disconnect=function(){}}function B(){null!=y&&(clearTimeout(y),y=null)}function p(){if(!(32>E.length())){var m=b.a.A()-c;var a=new H.a.g;a.K(E.h(0,32));a.f(m);m=new H.a.g;m.D(b.crypto.M(a.u(),h));q.send(m.i());E.shift(32);B();A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, handler"):(A=!0,v(),
e(q,E))}}var m=this,y=null,A=!1;q.onclose=q.onerror=function(){B();A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onclose"):(A=!0,p=b.m.Y,b.m.I(q),v(),D())};q.onmessage=function(c){c=new H.a.g(c.data);E.D(c);A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, onmessage"):p()};(function(){B();y=setTimeout(function(){y=null;b.m.I(q);A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, setTimeout"):
(A=!0,v(),D())},6E4)})();0!=E.length()&&p();this.disconnect=function(){A?b.a.log(-1,"alert, jn_request_authentication, should not occur, need investigation, disconnect"):(B(),A=!0,b.m.I(q),v())}};c.As=function(c,h,q,E,e){function y(){p.disconnect=function(){}}function v(){B();m=setTimeout(function(){m=null;b.m.I(h);A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, setTimeout"):(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}var p=this,m=null,I=b.m.Y,
A=!1;h.onclose=h.onerror=function(){B();A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onclose"):(A=!0,I=b.m.Y,b.m.I(h),y(),e(1))};h.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, onmessage"):(v(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, disconnect"):(B(),A=!0,b.m.I(h),y())};var t=new H.a.g("~");t.f(1);t.f(c.Sc);
t.f(c.ta);I=function(){var a=q.L(0);q.shift(1);B();A?b.a.log(-1,"alert, jn_media_tcp_relay, should not occur, need investigation, handler"):(A=!0,y(),a!=b.b.Dc?e(-1):E())};v();h.send(t.i());0!=q.length()&&I()};c.as=function(c,h,q,E,e){function y(){p.disconnect=function(){}}function v(){B();m=setTimeout(function(){m=null;b.m.I(h);A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, setTimeout"):(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}
var p=this,m=null,I=b.m.Y,A=!1;h.onclose=h.onerror=function(){B();A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onclose"):(A=!0,I=b.m.Y,b.m.I(h),y(),e(1))};h.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, onmessage"):(v(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, disconnect"):(B(),A=
!0,b.m.I(h),y())};var t=new H.a.g("~");t.f(5);t.f(c.Sc);t.f(c.ta);t.f(1);I=function(){var a=q.L(0);q.shift(1);B();A?b.a.log(-1,"alert, jn_MRP_TCPMedia_Notify_relay, should not occur, need investigation, handler_relay_response"):(A=!0,y(),a!=b.b.Dc?e(-1):E())};v();h.send(t.i());0!=q.length()&&I()};c.bs=function(c,h,q,E,e){function y(){p.disconnect=function(){}}function v(){B();m=setTimeout(function(){m=null;b.m.I(h);A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, setTimeout"):
(A=!0,y(),e(1))},6E4)}function B(){null!=m&&(clearTimeout(m),m=null)}var p=this,m=null,I=b.m.Y,A=!1;h.onclose=h.onerror=function(){B();A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onclose"):(A=!0,I=b.m.Y,b.m.I(h),y(),e(1))};h.onmessage=function(a){B();a=new H.a.g(a.data);q.D(a);A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, onmessage"):(v(),I())};this.disconnect=function(){A?b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, disconnect"):
(B(),A=!0,b.m.I(h),y())};var t=new H.a.g("~");t.f(4);t.f(c.Sc);t.f(c.ta);t.f(c.G);I=function(){var a=q.L(0);q.shift(1);B();if(A)b.a.log(-1,"alert, jn_NotifyMCURelaySessionIndex_relay, should not occur, need investigation, handler_relay_response");else if(A=!0,y(),a!=b.b.Dc){if(0>=a||a>=F.length)a=F.length-1;b.a.log("mcu relay proxy failed, error = "+F[a]);e(-1)}else E()};v();h.send(t.i());0!=q.length()&&I()};c.Ks=function(y,h,q,E,e,D,v,B){function p(){a.disconnect=function(){}}function m(){I();d=
setTimeout(function(){d=null;b.m.I(E);g?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, setTimeout"):(g=!0,p(),B())},6E4)}function I(){null!=d&&(clearTimeout(d),d=null)}function A(){g?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, normal_disconnect"):(I(),g=!0,b.m.I(E),p())}function t(){var a=e.length(),d=e.L(0);d==b.b.Np?9>a||((a=q.ra=e.c(1),-1==a)?(g=!0,I(),F=b.m.Y,b.m.I(E),p(),B()):(d=e.c(5),q.vj?500<b.a.A()-q.Ba&&(v((d-(a-q.pe))/
q.qg),q.Ba=b.a.A()):(q.vj=!0,q.pe=q.ra-d,q.qg=q.ra+q.pe,b.a.log("in mrp slide download, mrp_filelen = "+q.pe+"(filelen = "+a+")"),v(0),q.Ba=b.a.A()),e.shift(9))):d==b.b.Dc?(I(),e.shift(1),g=!0,p(),D()):(I(),g=!0,F=b.m.Y,b.m.I(E),p(),B())}var a=this,d=null,F=b.m.Y,g=!1;E.onclose=E.onerror=function(){I();g?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onclose"):(g=!0,F=b.m.Y,b.m.I(E),p(),B())};E.onmessage=function(a){I();a=new H.a.g(a.data);e.D(a);g?b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, onmessage"):
(m(),F())};this.disconnect=A;var r=new H.a.g("~");r.f(2);r.f(y.Sc);r.f(y.ta);r.f(h);F=function(){var d=e.L(0);e.shift(1);I();if(g)b.a.log(-1,"alert, jn_requestslide_relay, should not occur, need investigation, handler_relay_response");else if(d!=b.b.Dc)g=!0,F=b.m.Y,b.m.I(E),p(),B();else{var h=E.onerror,r=E.onmessage;d=new c.Nb(y.xd,y.ed,E,e,function(){E.onclose=E.onerror=h;E.onmessage=r;F=t;a.disconnect=A;m();0!=e.length()&&F()},function(){g=!0;p();B()});a.disconnect=d.disconnect}};m();E.send(r.i());
0!=e.length()&&F()};c.Ns=function(y,h,q,E,e){function D(){I.disconnect=function(){}}function v(){B();A=setTimeout(function(){A=null;b.m.I(h);a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, setTimeout"):(a=!0,D(),e())},6E4)}function B(){null!=A&&(clearTimeout(A),A=null)}function p(){a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, normal_disconnect"):(B(),a=!0,b.m.I(h),D())}function m(){q.length();q.L(0)==b.b.Dc?(B(),q.shift(1),a=!0,D(),
E()):(b.a.log("mcu relay proxy is not ready to upload slide"),B(),a=!0,t=b.m.Y,b.m.I(h),D(),e())}var I=this,A=null,t=b.m.Y,a=!1;h.onclose=h.onerror=function(){B();a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onclose"):(a=!0,t=b.m.Y,b.m.I(h),D(),e())};h.onmessage=function(d){B();d=new H.a.g(d.data);q.D(d);a?b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, onmessage"):(v(),t())};this.disconnect=p;var d=new H.a.g("~");d.f(3);d.f(y.Sc);d.f(y.ta);
t=function(){var d=q.L(0);q.shift(1);B();if(a)b.a.log(-1,"alert, jn_sendslide_relay, should not occur, need investigation, handler_relay_response");else if(d!=b.b.Dc)a=!0,t=b.m.Y,b.m.I(h),D(),e();else{var g=h.onerror,r=h.onmessage;d=new c.Nb(y.xd,y.ed,h,q,function(){h.onclose=h.onerror=g;h.onmessage=r;t=m;I.disconnect=p;v();0!=q.length()&&t()},function(){a=!0;D();e()});I.disconnect=d.disconnect}};v();h.send(d.i());0!=q.length()&&t()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(c,q,y,e,D,v,B,p){var h=b.b.Ec-21;if(!(p.length>h||0>q||q>=b.b.Ha)&&c.U[q]){var I=e&32768;e&=32767;var A=c.U[q],t=A.srv,a=b.a.A();t||(t=A.srv={},t.X=0,t.count=0,t.na=0,t.Wc=!1,t.uc=t.Ih=0,t.ha=t.Na=a-1E5);t.type=B;if(t.Wc){if(y==t.uc&&e==t.Ih)return;if(A.Rd!=y||A.nd!=e){var d=y-t.uc;0>d&&(d+=65536);0==d?t.na+=e-t.Ih-1:0<d&&32768>d&&(t.na+=d-1+e+1)}}t.X+=p.length+21;t.count++;1E4<a-t.Na>>>0?(t.ha=a,t.X=0,t.count=0,t.na=0):3E3<a-t.ha&&(t.rate=0,0<t.count&&(t.tick=a,t.rate=8E3*
t.X/(a-t.ha)>>0,c.Ca("video_recv_rate(ssrc "+q+"),"+t.rate)),t.loss_rate=0,0<t.na&&(t.tick=a,t.loss_rate=t.na/(t.na+t.count)*1E4>>0,c.Ca("video_loss_rate(ssrc "+q+"),"+t.loss_rate)),t.ha=a,t.X=0,t.count=0,t.na=0);t.Na=a;t.uc=y;t.Ih=e;t.Wc=!0;if(A.Rd==y)if(A.nd==e)if(0==e&&(A.data=""),A.data+=p,I)A.Rd=y+1&65535,A.nd=0;else{if(p.length!=h)return;A.nd++;return}else{A.Rd=y+1&65535;A.nd=0;return}else if(0==e)if(A.data=p,I)A.Rd=y+1&65535,A.nd=0;else{if(p.length!=h)return;A.Rd=y;A.nd=1;return}else{A.Rd=
y+1&65535;A.nd=0;return}if(q==c.ua)c=0;else if(q==c.za)c=1;else{y=-1;for(e=0;e<b.b.Qb;e++)if(c.kb[e]==q){y=e;break}if(-1!=y)c=2+y;else return}-1!=c&&(1>=A.data.length||b.$.Tl&&b.$.Tl(A.data,B,q,D,v))}}function F(h,q,y,e,D){function v(b){var e=new c.a.g;e.o(h.N);e.f(h.Fn);e.f(b);h.j.send(e.i())}if(!(0>q||q>=b.b.Ha||!h.U[q]||500<D.length)){var B=h.U[q];if(!B.Jh){var p=y>>16;y&=65535;if(!(0>=p||2E3<p||0>y||y>=p||B.Kh[y>>3]&1<<(y&7))){if(!B.Lh)B.Lh=p,B.fg=0,B.Nh=new Uint8Array(500*p),B.Oh=0;else if(B.Lh!=
p){B.Jh=1;v(q);b.a.log("download self picture for ssrc "+q+" fails. total num not match");return}B.Nh.set(b.a.ai(D),500*y);B.Oh+=D.length;B.Kh[y>>3]|=1<<(y&7);B.fg++;B.fg==B.Lh&&(B.Jh=1,v(q),B.fg=0,D=B.Nh.subarray(0,B.Oh),B.Nh=null,h.Jm(q,D,e))}}}}var c=window.W,y=b.protocol=b.protocol||{};y.zs=function(h,q,E){function e(b){var e=new c.a.g;if(h.sa){var m=new y.As(h,b,e,function(){new D(b,e)},function(b){E(b)});v.disconnect=function(){m.disconnect()}}else new D(b,e)}function D(e,m){if(h.sa)var p=new y.Nb(h.xd,
h.ed,e,m,function(){q(e,m)},function(){E(1)});else if(h.F==b.b.R){var a=new c.a.g("M");a.f(h.ta);a.f(h.G);e.send(a.i());p=new y.Nb(h.cb,h.ea,e,m,function(){q(e,m)},function(){E(1)})}else h.F==b.b.Fa&&(a=new c.a.g("m"),a.f(h.ta),a.f(h.Yf),e.send(a.i()),p=new y.Nb(h.cb,h.ea,e,m,function(){q(e,m)},function(){E(1)}));v.disconnect=function(){p.disconnect()}}var v=this;if(h.sa){var B=h.ca.Vb;var p=h.ca.port}else B=h.Z,p=h.ma;var m=new y.ie(B,p,function(b){new e(b)},function(){E(1)});this.disconnect=function(){m.disconnect()}};
y.Sa=function(h){function q(){p.disconnect=function(){}}function E(){b.a.log("mediatcp is stopped while connecting");I&&(clearTimeout(I),I=null);A&&A.disconnect();q()}function e(){b.$.rj()?(t=!1,A=new y.zs(h,v,D),p.disconnect=E):q()}function D(a){A=null;0<a?(m++,60<m&&(m=60),b.a.log("mediatcp: connecting fails, try again..."),I=setTimeout(function(){I=null;e()},1E3*(m+1))):(q(),b.a.log("mediatcp: connecting fails, give up"))}function v(a,d){function g(){P&&(clearInterval(P),P=null)}function r(){z();
n=setTimeout(function(){n=null;b.m.I(a);f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, setTimeout"):(f=!0,G(),g(),p.v.terminate(),x(),b.a.log("mediatcp: break due to timeout"))},6E4)}function z(){null!=n&&(clearTimeout(n),n=null)}function G(){p.v.onmessage&&(p.v.onmessage=null,p.v.postMessage({command:"clear"}))}function A(){p.v.onmessage=null;d.length()&&(w=0,Q=b.a.A(),v())}function C(){if(d.length()){var a=b.a.A()-Q;20<a||9<=w?(500<a&&b.a.log("info, mediatcp handler depth="+
w+",use "+a+"ms"),p.v.onmessage||(p.v.onmessage=A,p.v.postMessage({command:"set"}))):(w++,v())}}function v(){var l=d.length();if(!(5>l)){var c=d.c(0);if(4293844428==c>>>0&&187==d.L(4))d.shift(5),C();else if(21>=c||25E3<=c)z(),f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, handler"):(b.a.log("mediatcp: break due to illegal recv length: "+c),f=!0,G(),g(),p.v.terminate(),v=b.m.Y,b.m.I(a),x());else if(!(l<c+4)){d.shift(4);if(h.ta==b.m.Ds(d)){if(b.m.Rj(d.L(0))){if(29>=
c){d.shift(c);C();return}l=d.h(0,29);var e=b.crypto.w(d.h(29,c-21-8),h.ba).u()}else l=d.h(0,21),e=b.crypto.w(d.h(21,c-21),h.ba).u();var w=l.charCodeAt(0);l=b.m.Es(d);w==b.b.lf&&2==e.charCodeAt(0)&&(w=b.b.ug);if(w==b.b.tg||w==b.b.ug||w==b.b.xg||w==b.b.sg||w==b.b.wg||w==b.b.vg||w==b.b.lf)a:{var r=b.m.Ah(d),n=w;if(!(0>l||l>=b.b.Ha)&&h.U[l]){var Q=h.U[l];w=Q.sra;var m=b.a.A();w||(w=Q.sra={},w.X=0,w.count=0,w.na=0,w.Wc=!1,w.uc=0,w.ha=w.Na=m-1E5);w.type=n;if(w.Wc){Q=r-w.uc;if(0==Q)break a;0>Q&&(Q+=65536);
1!=Q&&0<Q&&32768>Q&&(w.na+=Q-1)}w.X+=e.length+21;w.count++;1E4<m-w.Na>>>0?(w.ha=m,w.X=0,w.count=0,w.na=0):3E3<m-w.ha&&(w.rate=0,0<w.count&&(w.tick=m,w.rate=8E3*w.X/(m-w.ha)>>0,h.Ca("audio_recv_rate(ssrc "+l+"),"+w.rate)),w.loss_rate=0,0<w.na&&(w.tick=m,w.loss_rate=w.na/(w.na+w.count)*1E4>>0,h.Ca("audio_loss_rate(ssrc "+l+"),"+w.loss_rate)),w.ha=m,w.X=0,w.count=0,w.na=0);w.Na=m;w.uc=r;w.Wc=!0;b.$.cl&&b.$.cl(e,n,l)}}else if(w==b.b.Tg||w==b.b.Sg||w==b.b.Ug||w==b.b.Vg||w==b.b.Rg)H(h,l,b.m.Ah(d),b.m.Fs(d),
b.m.Gs(d),b.m.Hs(d),w,e);else if(b.m.Rj(w))a:{if(r=b.m.Ah(d),n=e,e=d.c(25)&65535,!(0>l||l>=b.b.Ha)&&h.U[l]){w=b.m.et(w);var J=h.U[l];m=J["srp"+w];Q=b.a.A();m||(m=J["srp"+w]={},m.X=0,m.count=0,m.na=0,m.Wc=!1,m.uc=0,m.ha=m.Na=Q-1E5);m.channel=w;if(m.Wc){J=r-m.uc;if(0==J)break a;0>J&&(J+=65536);1!=J&&0<J&&32768>J&&(m.na+=J-1)}m.X+=n.length+21;m.count++;1E4<Q-m.Na>>>0?(m.ha=Q,m.X=0,m.count=0,m.na=0):3E3<Q-m.ha&&(m.rate=0,0<m.count&&(m.tick=Q,m.rate=8E3*m.X/(Q-m.ha)>>0,h.Ca("appdata_recv_rate(channel "+
w+",ssrc "+l+"),"+m.rate)),m.loss_rate=0,0<m.na&&(m.tick=Q,m.loss_rate=m.na/(m.na+m.count)*1E4>>0,h.Ca("appdata_loss_rate(channel "+w+",ssrc "+l+"),"+m.loss_rate)),m.ha=Q,m.X=0,m.count=0,m.na=0);m.Na=Q;m.uc=r;m.Wc=!0;b.$.El&&b.$.El(n,w,l,e)}}else w==b.b.pj?F(h,l,d.c(1),d.c(5),e):b.$.ss(w,l)}d.shift(c);C()}}}function x(){b.$.rj()?(t=!1,J=setTimeout(function(){J=null;e();b.a.log("mediatcp: reconnecting...")},2E3),p.disconnect=function(){clearTimeout(J);G();p.v.terminate();q()}):q()}m=0;b.a.log("mediatcp: enter main loop");
h.F==b.b.R&&b.$.$b&&b.$.$b();t=!0;p.j=a;var n=null,f=!1;p.v=new Worker("worker/worker_timeout.js");p.v.onmessage=null;var w=0,Q=0,J=null,P=null,l=b.a.A();a.onclose=a.onerror=function(){z();f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onclose"):(f=!0,G(),g(),p.v.terminate(),v=b.m.Y,b.m.I(a),x(),b.a.log("mediatcp: break due to network error"))};a.onmessage=function(a){l=b.a.A();z();a=new c.a.g(a.data);d.D(a);f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, onmessage"):
(r(),p.v.onmessage||(w=0,Q=b.a.A(),v()))};r();(function(){g();P=setInterval(function(){if(2E4<b.a.A()-l){var f=new c.a.g;f.f(4293844428);f.o(187);a.send(f.i());p.V()}},2E4)})();0!=d.length()&&(G(),w=0,Q=b.a.A(),v());p.disconnect=function(){f?b.a.log(-1,"alert, jn_media_tcp_thread/main_loop, should not occur, need investigation, disconnect"):(t=!1,f=!0,b.a.log("mediatcp is stopped"),z(),G(),g(),p.v.terminate(),J&&(clearTimeout(J),J=null),b.m.I(a),q())};p.V=function(){l=b.a.A();z();r()}}function B(a,
d,g){r=Math.min(a,r);if(2E3<d-z||-2>=r)a=h.va,b.$.Kb(r),a!=h.va&&h.Ca("tcp_media_rate_control,worst_command = "+r+",targetrate = "+h.va+",queue="+g+",avg="+(T>>0)),r=1,z=d}var p=this,m=0,I=null,A=null,t=!1;e();b.a.log("mediatcp: connecting...");var a=b.a.A(),d=0;this.ot=function(a){if(!t)return!0;var d=new c.a.g;d.f(a.length());d.K(a.h(0,17));d.K(b.$.Uf(a));d.D(b.crypto.M(a.h(21),h.ba));this.j.send(d.i());this.V();return!0};this.mt=function(a){if(!t)return!0;var d=b.a.A(),e=this.j.bufferedAmount;
g=e;T+=.1*(e-T);e=h.Km;e||(e=h.Km={},e.X=0,e.ha=e.Na=d-1E5);var r=new c.a.g;r.f(a.length());r.K(a.h(0,17));r.K(b.$.Uf(a));r.D(b.crypto.M(a.h(21),h.ba));this.j.send(r.i());e.X+=a.length();1E4<d-e.Na>>>0?(e.ha=d,e.X=0):3E3<d-e.ha&&(e.rate=0,0<e.X&&(e.tick=d,e.rate=8E3*e.X/(d-e.ha)>>0,h.Ca("audio_send_rate2,"+e.rate)),e.ha=d,e.X=0);e.Na=d;this.V();return!0};h.Ba=b.a.A();h.Nd=4*b.b.Ec;h.ga=h.Nd;this.pt=function(e){if(!t)return!0;var r=b.a.A(),m=this.j.bufferedAmount,z=m-g;g=m;T+=.1*(m-T);h.ga+=(r-h.Ba)*
h.va/8E3;h.Ba=r;if(0>h.ga)return!0;m>h.Em?(a=r,d=0):10<d&&1E4<r-a?(B(1,r,m),a=r,d=0):d++;if(m>h.Dm)return B(-2,r,m),e=Math.max(h.Nd,20*h.va/8E3),h.ga>e&&(h.ga=e),!0;m>h.ng&&B(z>h.ng?-2:-1,r,m);m=h.Lm;m||(m=h.Lm={},m.X=0,m.ha=m.Na=r-1E5);z=e.length()-b.b.ic;var p=(z+(b.b.Ec-b.b.ic)-1)/(b.b.Ec-b.b.ic)>>0,q;for(q=0;q<p;q++){if(q==p-1){var v=z%(b.b.Ec-b.b.ic);0==v&&(v=b.b.Ec-b.b.ic)}else v=b.b.Ec-b.b.ic;var C=new c.a.g;C.K(e.h(0,b.b.ic));C.K(e.h(b.b.ic+q*(b.b.Ec-b.b.ic),v));h.ga-=C.length();m.X+=C.length();
v=new c.a.g;v.f(C.length());v.K(C.h(0,1));v.o(q>>8&255|(q==p-1?128:0));v.o(q&255);v.K(C.h(3,14));v.K(b.$.Uf(C));v.D(b.crypto.M(C.h(21),h.ba));this.j.send(v.i())}e=Math.max(h.Nd,20*h.va/8E3);h.ga>e&&(h.ga=e);1E4<r-m.Na>>>0?(m.ha=r,m.X=0):3E3<r-m.ha&&(m.rate=0,0<m.X&&(m.tick=r,m.rate=8E3*m.X/(r-m.ha)>>0,h.Ca("video_send_rate2,"+m.rate)),m.ha=r,m.X=0);m.Na=r;this.V();return!0};this.nt=function(e,r,m,z,p,q){if(!t||0>r)return!0;var v=b.a.A(),C=h.P[r],A=this.j.bufferedAmount,x=A-g;g=A;T+=.1*(A-T);C.ga+=
(v-C.Ba)*C.zb/8E3;C.Ba=v;if(0>C.ga)return!0;A>h.Em?(a=v,d=0):10<d&&1E4<v-a?(B(1,v,A),a=v,d=0):d++;if(A>h.Dm)return B(-2,v,A),e=Math.max(h.Nd,C.yj,20*C.zb/8E3),C.ga>e&&(C.ga=e),!0;A>h.ng&&B(x>h.ng?-2:-1,v,A);A=C.stat;A||(A=C.stat={},A.X=0,A.ha=A.Na=v-1E5);A.channel=r;C.ga-=e.length()+8;A.X+=e.length()+8;x=new c.a.g;x.f(e.length()+8);x.o(b.m.dt(r));x.K(e.h(1,16));x.K(b.$.Uf(e));x.f(m);p||(z|=2147483648);q||(z|=1073741824);x.f(z);x.D(b.crypto.M(e.h(21),h.ba));this.j.send(x.i());e=Math.max(h.Nd,C.yj,
20*C.zb/8E3);C.ga>e&&(C.ga=e);1E4<v-A.Na>>>0?(A.ha=v,A.X=0):3E3<v-A.ha&&(A.rate=0,0<A.X&&(A.tick=v,A.rate=8E3*A.X/(v-A.ha)>>0,h.Ca("appdata_send_rate2(channel "+r+"),"+A.rate)),A.ha=v,A.X=0);A.Na=v;this.V();return!0};var T=0,g=0,r=1,z=b.a.A()};y.Jc=function(h){function q(p){var m=new c.a.g,q=new y.as(h,p,m,function(){new E(p,m)},function(){b.a.log("MRP_TCPMedia_Notify: connection with mcu relay proxy fails");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}function E(c,m){var p=
null;var q=new y.Nb(h.xd,h.ed,c,m,function(){b.a.log("successfully notify mcu relay about using tcp for media");c.onclose=c.onerror=function(){e.disconnect()};c.onmessage=function(){};e.disconnect=function(){p&&(clearTimeout(p),p=null);b.m.I(c)};p=setTimeout(function(){p=null;b.m.I(c);e.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about using tcp for media");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}var e=this;var D=h.ca.Vb;var v=h.ca.port;
b.a.log("trying to notify mcu relay "+D+":"+v+" about using tcp for media");var B=new y.ie(D,v,function(b){new q(b)},function(){b.a.log("MRP_TCPMedia_Notify: cannot connect to mcu relay");e.disconnect=function(){}});this.disconnect=function(){B.disconnect()}};y.Kc=function(h){function q(p){var m=new c.a.g,q=new y.bs(h,p,m,function(){new E(p,m)},function(){b.a.log("NotifyMCURelaySessionIndex: connection with mcu relay proxy fails");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}
function E(c,m){var p=null;var q=new y.Nb(h.xd,h.ed,c,m,function(){b.a.log("successfully notify mcu relay about the session index");c.onclose=c.onerror=function(){e.disconnect()};c.onmessage=function(){};e.disconnect=function(){p&&(clearTimeout(p),p=null);b.m.I(c)};p=setTimeout(function(){p=null;b.m.I(c);e.disconnect=function(){}},3E4)},function(){b.a.log("failed to notify mcu relay about the session index");e.disconnect=function(){}});this.disconnect=function(){q.disconnect()}}var e=this;var D=h.ca.Vb;
var v=h.ca.port;b.a.log("trying to notify mcu relay "+D+":"+v+" about the session index");var B=new y.ie(D,v,function(b){new q(b)},function(){b.a.log("NotifyMCURelaySessionIndex: cannot connect to mcu relay");e.disconnect=function(){}});this.disconnect=function(){B.disconnect()}}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.protocol=b.protocol||{};F.Os=function(c,y,h){var q=this,E=(h.length+499)/500>>0,e=0,D=4E6/(48E3<c.eb?48E3:c.eb)>>0;1E3<D&&(D=1E3);q.fa=new Worker("worker/worker_interval.js");q.fa.onmessage=function(){c.Xk&&(q.fa&&(q.fa.terminate(),q.fa=null),q.disconnect=function(){});var v=b.$.vs(b.b.pj,h.subarray(500*e,500*e+500),y,e|E<<16);b.$.us(v);e++;e==E&&(e=0)};q.fa.postMessage({command:"set",delay:D});q.disconnect=function(){q.fa&&(q.fa.terminate(),q.fa=null);q.disconnect=
function(){}}};F.Ms=function(b,y,h){function c(){D.disconnect=function(){}}function E(m){var p=new H.a.g;if(b.sa){var q=new F.Ns(b,m,p,function(){e(m,p)},function(){c();h()});D.disconnect=function(){q.disconnect();c()}}else e(m,p)}function e(e,p){var m=new H.a.g("S");m.f(b.ta);m.f(b.G);e.send(m.i());var q=new F.Nb(b.cb,b.ea,e,p,function(){c();y(e,p)},function(){c();h()});D.disconnect=function(){q.disconnect();c()}}var D=this;if(b.sa){var v=b.ca.Vb;var B=b.ca.port}else v=b.Z,B=b.ma;var p=new F.ie(v,
B,function(b){E(b)},function(){c();h()});this.disconnect=function(){p.disconnect();c()}};F.Ls=function(c,y,h,q,E,e,D,v){function B(){p.disconnect=function(){}}var p=this,m=null;m=new F.Ms(c,function(m){function A(){t();g=setTimeout(function(){g=null;b.m.I(m);d?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, setTimeout2"):(d=!0,B(),e())},F?1E4:6E4)}function t(){null!=g&&(clearTimeout(g),g=null)}function a(){p.fa&&(p.fa.terminate(),p.fa=null)}p.j=m;var d=!1,F=!1,g=null;
p.fa=null;m.onclose=m.onerror=function(){d?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, onclose"):(d=!0,a(),t(),b.m.I(m),F?(B(),e()):(B(),v&&v()))};var r=new H.a.g;h&&(r.f(-1),r.f(h.length),r.D(b.crypto.M(h,c.ba)));r.H(q);if(1==y)r.f(0),m.send(r.i()),F=!0,A();else{r.f(E.length);m.send(r.i());var z=0;p.fa=new Worker("worker/worker_interval.js");p.fa.onmessage=function(){if(!m.bufferedAmount){var a=b.a.A();500<b.a.A()-Z&&(D(z/E.length),Z=b.a.A());var d;for(d=0;100>
d;d++){var g=512;512>E.length-z&&(g=E.length-z);var e=E.subarray(z,z+g);r.clear();r.D(b.crypto.M(e,c.ba));m.send(r.i());z+=g;if(z>=E.length){F=!0;D(1);A();p.fa&&(p.fa.terminate(),p.fa=null);break}if(20<b.a.A()-a)break}}};p.fa.postMessage({command:"set",delay:10});var Z=b.a.A()-1E3;p.disconnect=function(){d?b.a.log(-1,"alert, jn_sendslide.main_loop, should not occur, need investigation, disconnect"):(d=!0,a(),t(),b.m.I(m),B(),v&&v())}}},function(){B();v&&v()});p.disconnect=function(){m&&m.disconnect();
B()}};F.Js=function(c,y,h,q,E,e){function D(){p.disconnect=function(){}}function v(b){var a=new H.a.g;if(c.sa){var d=new F.Ks(c,y,h,b,a,function(){B(b,a)},function(b){E(b)},function(){D();e()});p.disconnect=function(){d.disconnect();D()}}else B(b,a)}function B(h,a){if(c.sa){if(c.F==b.b.R){var d=new H.a.g("R");d.f(c.ta);d.f(c.G)}else d=new H.a.g("r"),d.f(c.ta),d.f(c.Yf);h.send(d.i());D();q(h,a)}else if(c.F==b.b.R){d=new H.a.g("R");d.f(c.ta);d.f(c.G);h.send(d.i());var m=new F.Nb(c.cb,c.ea,h,a,function(){D();
q(h,a)},function(){D();e()});p.disconnect=function(){m.disconnect();D()}}else c.F==b.b.Fa&&(d=new H.a.g("r"),d.f(c.ta),d.f(c.Yf),h.send(d.i()),m=new F.Nb(c.cb,c.ea,h,a,function(){D();q(h,a)},function(){D();e()}),p.disconnect=function(){m.disconnect();D()})}var p=this;if(c.sa){var m=c.ca.Vb;var I=c.ca.port}else m=c.Z,I=c.ma;var A=new F.ie(m,I,function(b){v(b)},function(){D();e()});this.disconnect=function(){A.disconnect();D()}};F.Is=function(c,y,h,q,E,e){function D(){b.a.log(2,"info, error occurs downloading slide index "+
y);0==C.xa&&(C.xa=-1);B();e&&e()}function v(){b.a.log(5,"info, succeeds downloading slide index "+y);B();q()}function B(){z.disconnect=function(){};z.index=-1;z.V.terminate();b.a.log(5,"info, finish(could be success, failure, stop, etc.) downloading slide index "+y)}function p(){I();if(!c.sa||c.F!=b.b.R||C.Ze||C.lh||C.tm)t();else if(N++,3<N)D();else{b.a.log("the hash of slide "+y+" hasn't been received yet, request the hash and try download again later...");var a=new H.a.g;a.o(c.N);a.f(c.Ag);a.f(1);
a.f(y);c.j.send(a.i());Z=setTimeout(p,2E3);z.disconnect=A}}function m(){z.V.onmessage&&(z.V.onmessage=null,z.V.postMessage({command:"clear"}))}function I(){Z&&(clearTimeout(Z),Z=null)}function A(){I();B()}function t(){I();!C.ra||C.ka<C.ra?(X=new F.Js(c,y,O,g,E,function(){D()}),z.disconnect=a):(T(),z.disconnect=d)}function a(){X&&X.disconnect();B()}function d(){m();B()}function T(){ba=!0;O.ra=C.ra;O.Ba=b.a.A()-1E3;O.pe=0;O.qg=C.ra;G=function(){m();v()};aa=function(){m();D()};z.V.onmessage=r;z.V.postMessage({command:"set",
delay:20})}function g(a,d){function f(){g();p=setTimeout(function(){p=null;b.m.I(a);x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, setTimeout"):(x=!0,e(),m(),z.v.terminate(),D())},6E4)}function g(){null!=p&&(clearTimeout(p),p=null)}function e(){z.v.onmessage&&(z.v.onmessage=null,z.v.postMessage({command:"clear"}))}function n(){x=!0;g();e();m();z.v.terminate();b.m.I(a);v()}function P(){l()}function l(){x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, quit"):
(x=!0,g(),e(),m(),z.v.terminate(),Y=b.m.Y,b.m.I(a),D())}z.j=a;var p=null,x=!1;z.v=new Worker("worker/worker_timeout.js");z.v.onmessage=null;var q=!1;b.a.log(5,"info, connected with MCU downloading slide index "+y);a.onclose=a.onerror=function(){g();q?ba=!0:x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onclose"):(x=!0,e(),m(),z.v.terminate(),Y=b.m.Y,b.m.I(a),D())};a.onmessage=function(a){g();q?a.data.byteLength>C.ra-C.ka?l():(C.data.set(new Uint8Array(a.data),
C.ka),C.ka+=a.data.byteLength,x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage0"):C.ka<C.ra&&f()):(a=new H.a.g(a.data),d.D(a),x?b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, onmessage"):(f(),z.v.onmessage||(b.a.A(),Y())))};var t=new H.a.g;C.ka&&(C.ka&511&&(C.ka&=-512),t.f(-1),t.f(C.ka));t.f(y);a.send(t.i());Y=function(){if(!(4>d.length())){var a=O.ra=C.ra=d.c(0);O.Ba=b.a.A()-1E3;if(0==a)Y=b.m.Y,C.data=new Uint8Array(a),
C.xa=1,n();else if(0>a)C.xa=3,l();else{q=!0;Y=b.m.Y;if(!C.data){if(a>b.$.Rh()){C.xa=4;l();return}if(c.wa+a>b.$.Rh())if(h)b.$.it(y,a);else{l();return}try{C.data=new Uint8Array(a)}catch(ka){C.data=null;C.xa=4;l();return}c.wa+=a;C.ka=C.ka||0;C.ib=C.ib||0}G=n;aa=P;z.V.onmessage=r;z.V.postMessage({command:"set",delay:20});O.vj||(O.pe=0,O.qg=a);d.shift(4);a=d.length();a>C.ra-C.ka?l():a&&(C.data.set(new Uint8Array(d.i()),C.ka),C.ka+=a,d.shift(a))}}};f();0!=d.length()&&(e(),b.a.A(),Y());z.disconnect=function(){x?
b.a.log(-1,"alert, jn_requestslide.main_loop, should not occur, need investigation, disconnect"):(x=!0,g(),e(),m(),z.v.terminate(),b.m.I(a),B())}}function r(){var a=G,d=aa,f=C.ka;C.ka!=C.ra&&(f&=-512);var g=b.a.A(),e;for(e=0;1E6>e;e++){var r=f-C.ib;if(0==r){ba&&d();break}512<r&&(r=512);var h=b.crypto.w(C.data.subarray(C.ib,C.ib+r),c.ba);C.data.set(new Uint8Array(h.i()),C.ib);C.ib+=r;if(C.ib==C.ra){if(c.sa&&!b.m.xt(C.hash,C.data,c.ba)){b.a.log("Alert! mrp slide download index="+y+" has mismatched hash!");
C.xa=2;d();break}C.xa=1;a();break}500<b.a.A()-O.Ba&&(E((C.ib+O.pe)/O.qg),O.Ba=b.a.A());if(20<b.a.A()-g)break}}var z=this,Z=null,G=null,aa=null;z.V=new Worker("worker/worker_interval.js");z.V.onmessage=null;var ba=!1,Y=b.m.Y,X=null,O={},C=c.aa[y];-1==C.xa&&(C.xa=0);b.a.log(5,"info, request to download slide index "+y);this.index=y;var N=0;p()}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){var H=window.W,F=b.protocol=b.protocol||{},c=b.Yb=b.Yb||{};F.Rk=function(b,c,y,e){function h(){B.disconnect=function(){}}function q(m,p){var q=new H.a.g("@");q.f(c);q.H(b.da?b.Qa:b.O);m.send(q.i());var t=new F.Nb(0,b.B,m,p,function(){h();y(m,p)},function(){h();e()});B.disconnect=function(){t.disconnect();h()}}var B=this,p=new F.ie(b.Z,b.port,function(b){var c=new H.a.g;q(b,c)},function(){h();e()});this.disconnect=function(){p.disconnect();h()}};F.Tr=function(h,q,y){function e(){D.disconnect=
function(){}}var D=this,v=null,B=b.m.Y;v=new F.Rk(h,3,function(p,m){function v(){D.v.onmessage&&(D.v.onmessage=null,D.v.postMessage({command:"clear"}))}function A(){var a=b.a.A()-g;20<a||9<=E?(500<a&&b.a.log("info, check_im handler depth="+E+",use "+a+"ms"),D.v.onmessage||(D.v.onmessage=function(){D.v.onmessage=null;if(m.length()){E=0;g=b.a.A();var a=m.length();B();if(d){var c=m.length();c&&c!=a||(m.clear(),p.onclose())}}},D.v.postMessage({command:"set"}))):(E++,B())}function t(){a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, quit"):
(a=!0,v(),D.v.terminate(),B=b.m.Y,b.m.I(p),e(),y&&y())}D.j=p;var a=!1;D.v=new Worker("worker/worker_timeout.js");D.v.onmessage=null;var d=!1,E=0,g=0;p.onclose=p.onerror=function(){if(m.length())if(d=!0,a)b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose,alt");else{if(D.v.onmessage)return;E=0;g=b.a.A();var c=m.length();B();var h=m.length();if(h&&h!=c)return}a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onclose"):(a=!0,v(),D.v.terminate(),
B=b.m.Y,b.m.I(p),e(),y&&y())};p.onmessage=function(d){d=new H.a.g(d.data);m.D(d);a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, onmessage"):D.v.onmessage||(E=0,g=b.a.A(),B())};B=function(){function a(a){if(!(12>a.length||(n=new H.a.g(a),n.L(a.length-1)))){x=n.c(8);C=n.c(0);var f=12;switch(x){case b.b.Zi:f=16;case b.b.aj:var d=a.slice(f).indexOf("\x00");if(-1==d)return;var g=a.slice(f+d+1).indexOf("\x00");if(-1==g)return;var c=a.slice(f+d+g+2).indexOf("\x00");if(f+d+
g+c+3!=a.length||d>=b.b.Ya<<1||500<=g||5E3<=c)return;F=(y==b.b.op?a.substr(f,d)+": ":"")+a.substr(f+d+1,g);break;case b.b.Lg:case b.b.Wi:f=16,x=x==b.b.Lg?b.b.Jg:b.b.Kg;case b.b.Jg:case b.b.Kg:d=a.slice(f).indexOf("\x00");if(f+d+1!=a.length||d>=b.b.Ya<<1)return;F=a.substr(f,d);break;case b.b.Xi:f=16;d=a.slice(f).indexOf("\x00");if(-1==d)return;g=a.slice(f+d+1).indexOf("\x00");if(f+d+g+2!=a.length||d>=b.b.Ya<<1||g>=b.b.Ya<<1)return;F=a.substr(f,d)+": "+a.substr(f+d+1,g);break;case b.b.$i:case b.b.Yi:f=
20;d=a.slice(f).indexOf("\x00");if(f+d+1!=a.length||5E3<=d)return;F=a.substr(f,d);break;default:return}return{ut:C,tt:x,text:F}}}var d=m.length();if(!(1>d))if(!m.L(0))D.disconnect(),e(),q&&q();else if(!(13>d)){var g=m.c(9);if(0>g||g>=b.b.Ya<<2)t();else if(!(d<13+g+4)){var p=m.c(13+g);if(0>p||p>=b.b.Ya<<1)t();else if(!(d<13+g+4+p+4)){var v=m.c(17+g+p);if(0>v||13334<=v)t();else if(!(d<13+g+4+p+4+v)){var y=m.c(1),B=m.c(5)>>>0,E=b.crypto.w(m.h(13,g),h.B).u(),O=b.crypto.w(m.h(13+g+4,p),h.B).u();d=b.crypto.w(m.h(13+
g+4+p+4,v),h.B).u();g=13+g+4+p+4+v;var C=0,F="",x=0;if(35==d.charCodeAt(0)){if(x=b.b.Ig,p=b.a.Ib(d.slice(1)),12<=p.length){var n=new H.a.g(p);C=n.c(0);n.L(p.length-1)||(d=p.slice(12).indexOf("\x00"),12+d+1==p.length&&(F=""+n.c(8)+"("+p.substr(12,d)+")"))}}else d=a(b.a.Ib(d)),C=d.ut,x=d.tt,F=d.text;c.$j&&c.$j(h,D,y,B,E,O,C,x,F);m.shift(g);A()}}}}};0!=m.length()&&(v(),E=0,g=b.a.A(),B());D.disconnect=function(){a?b.a.log(-1,"alert, check_im.main_loop, should not occur, need investigation, disconnect"):
(a=!0,v(),D.v.terminate(),b.m.I(p),e())}},function(){e();y&&y()});D.disconnect=function(){v&&v.disconnect();e()}};F.Sk=function(h,q,y){function e(){v.connected=!1;D();y&&y()}function D(){v.disconnect=function(){}}var v=this;this.connected=!1;this.Hh=this.Gh=0;this.sm=this.Hf=this.Ne=!1;this.ob=this.Da=0;var B=h.da,p=null,m=b.m.Y;p=new F.Rk(h,B?2:1,function(p,q){function t(){v.v.onmessage&&(v.v.onmessage=null,v.v.postMessage({command:"clear"}))}function a(){var a=b.a.A()-A;20<a||9<=z?(500<a&&b.a.log("info, check_msg handler depth="+
z+",use "+a+"ms"),v.v.onmessage||(v.v.onmessage=function(){v.v.onmessage=null;if(q.length()){z=0;A=b.a.A();var a=q.length();m();if(r){var d=q.length();d&&d!=a||(q.clear(),p.onclose())}}},v.v.postMessage({command:"set"}))):(z++,m())}function d(){function g(){if(h.J!=b.b.pa)y();else{var f=q.length();if(!(43>f)){var g=b.crypto.w(q.h(0,43),h.B);var e=g.c(35),r=g.c(39);if(0>e||e>=b.b.Ya||0>r||r>=b.b.Ya)y();else if(!(f<43+e+r+4)){var n=b.crypto.w(q.h(43,e+r+4),h.B);if(c.Vd){var l=g.h(0,23);var p=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(l);
f=g.c(23);var z=4294967296*(n.c(e+r)>>>0)+(g.c(27)>>>0);g=g.c(31);p=p?new Date(p[1],p[2]-1,p[3],p[4],p[5],0)/1E3:0;var t=e?n.h(0,e):"";n=r?n.h(e,r):"";c.Vd(h,v,!1,0,f,z,g,p,t,"",n,l)}q.shift(43+e+r+4);C++;C==A&&(m=d,c.Wb&&c.Wb(h,v),v.ob=0,v.Da=1);a()}}}}function e(){if(h.J!=b.b.pa)y();else{var f=v.fc?32:36;var g=q.length();if(!(g<f)){var e=b.crypto.w(q.h(0,f),h.B);var r=e.c(24),n=e.c(28),l=0;if(0>r||r>=b.b.Ya||0>n||n>=b.b.Qg)y();else{if(!v.fc&&(l=e.c(32),0>l||l>=b.b.Ya)){y();return}if(!(g<f+r+n+l+
4)){var p=b.crypto.w(q.h(f,r+n+l+4),h.B);if(c.Vd){var z=l,t=e.h(8,23);var x=/(\d\d\d\d)(\d\d)(\d\d)(\d\d)(\d\d)/.exec(t);g=e.c(0);var G=4294967296*(p.c(r+n+z)>>>0)+(e.c(4)>>>0);e=e.c(20);x=x?new Date(x[1],x[2]-1,x[3],x[4],x[5],0)/1E3:0;var B=r?p.h(0,r):"";var D=n?p.h(r,n):"";p=z?p.h(r+n,z):"";c.Vd(h,v,!!v.fc,v.fc?A:C,g,G,e,x,B,D,p,t)}q.shift(f+r+n+l+4);C++;if(v.fc||C==A)m=d,c.Wb&&c.Wb(h,v),v.ob=0,v.Da=1;a()}}}}}function r(){if(h.J!=b.b.pa)y();else if(!(q.length()<23+b.b.Ya+16)){var f=b.crypto.w(q.h(0,
23+b.b.Ya+16),h.B);if(c.Vd){var g=f.h(0,23),e=/(\d\d\d\d)_(\d\d)_(\d\d)_(\d\d)_(\d\d)/.exec(g);var r=e?new Date(e[1],e[2]-1,e[3],e[4],e[5],0)/1E3:0;e=b.b.Ya;var n=f.h(23,e);var l=n.indexOf("\x00");var p=f.c(23+e);var z=4294967296*(f.c(23+e+12)>>>0)+(f.c(23+e+4)>>>0);f=f.c(23+e+8);n=-1==l?n:n.slice(0,l);c.Vd(h,v,!0,0,p,z,f,r,n,"","",g)}q.shift(23+b.b.Ya+16);m=d;c.Wb&&c.Wb(h,v);v.ob=0;v.Da=1;a()}}function p(){if(h.J!=b.b.pa)y();else{var f=q.length(),g=Math.min(512,v.ra-v.ka);f<g||(f=b.crypto.w(q.h(0,
g),h.B).i(),v.data.set(new Uint8Array(f),v.ka),v.ka+=g,q.shift(g),v.ka==v.ra?(m=d,c.Bf&&c.Bf(h,v,0),v.Da=1):c.Wd&&(g=b.a.A(),500<g-v.Ba&&(f=v.ka/v.ra*100>>>0,f!=v.V&&(v.V=f,v.ob=f,c.Wd(h,v)),v.Ba=g)),a())}}if(h.J!=b.b.pa)y();else{var z=q.length();if(!(1>z)){switch(q.L(0)){case 122:if(5>z)return;var t=q.c(1);switch(t){case 24:if(13>z)return;v.Gh=q.c(5);v.Hh=q.c(9);q.shift(13);break;case 64:if(9>z)return;t=q.c(5);if(200!=t){b.a.log(3,"checkmessage, unknown JNR password type "+t);y();return}if(17>z)return;
v.Ne=!!q.c(9);v.Hf=!!q.c(13);q.shift(17);break;case 9:var C=0;if(9>z)return;var A=q.c(5);q.shift(9);A?m=g:(c.Wb&&c.Wb(h,v),v.Da=1);break;case 27:C=0;if(9>z)return;A=q.c(5);q.shift(9);A?m=e:(c.Wb&&c.Wb(h,v),v.Da=1);break;case 75:v.sm=!0;q.shift(5);break;default:b.a.log(3,"checkmessage, unknown extension command "+t);y();return}break;case 33:if(5>z)return;t=q.c(1);switch(t){case 12:if(9>z)return;t=q.c(5);if(0>t||1E4<=t){y();return}if(0==t)c.pk&&c.pk();else{if(z<9+t)return;c.Ud&&c.Ud(b.crypto.w(q.h(9,
t),h.B).u())}v.Da=1;q.shift(9+t);break;case 5:if(9>z)return;t=q.c(5);if(0>t||4096<=t){y();return}if(0==t)c.Df&&c.Df(h,v,""),q.shift(9+t);else{if(z<9+t+4)return;var x=q.c(9+t);if(0>x||1E4<=x){y();return}if(z<9+t+4+x)return;z="";t&&(z=b.crypto.w(q.h(9,t),h.B).u());var n="";x&&(n=b.crypto.w(q.h(9+t+4,x),h.B).u());q.shift(9+t+4+x);c.Df&&c.Df(h,v,z,n)}v.Da=1;break;case 10:if(9>z)return;c.rk&&c.rk(h,v,q.c(5));v.Da=1;q.shift(9);break;case 11:if(9>z)return;t=q.c(5);x=B?4096:256E4;if(0>t||t>=x){y();return}x=
"";if(t){if(z<9+t)return;x=b.crypto.w(q.h(9,t),h.B).u()}B&&!x?c.sk&&c.sk():c.Ok&&c.Ok(h,v,x);q.shift(9+t);v.Da=1;break;case 7:case 8:if(9>z)return;(z=7==t?c.Or:c.Nr)&&z(h,v,q.c(5));q.shift(9);v.Da=1;break;case 9:if(9>z)return;v.ob=q.c(5);c.Wd&&c.Wd(h,v);q.shift(9);break;case 13:if(9>z)return;c.lk&&c.lk(h,v,q.c(5));q.shift(9);v.Da=1;break;default:b.a.log(3,"checkmessage, unknown playback command "+t);y();return}break;case 48:switch(v.fc){case 19:if(6>z)return;if(t=q.c(2)){c.Xd&&c.Xd(h,v,t);q.shift(6);
v.ob=0;v.Da=1;break}if(10>z)return;if(t=q.c(6)){c.Xd&&c.Xd(h,v,t);q.shift(10);v.ob=0;v.Da=1;break}if(14>z)return;h.da?(A=q.c(10),q.shift(14),m=e):(q.shift(10),m=r);break;case 18:if(2>z)return;t=q.L(1);if(48!=t){c.Bf&&c.Bf(h,v,t);q.shift(2);v.ob=0;v.Da=1;break}if(14>z)return;v.ra=4294967296*(q.c(10)>>>0)+(q.c(2)>>>0);v.data=new Uint8Array(v.ra);v.ka=0;v.V=0;v.Ba=b.a.A()-1E3;q.shift(14);m=p;break;case 17:if(14>z)return;h.da?(A=q.c(10),q.shift(14),m=e):(q.shift(10),m=r);break;default:b.a.log(3,"checkmessage, quit thread: process init command,unknown request type "+
v.fc);y();return}break;default:b.a.log(3,"checkmessage, quit thread: unknown command "+q.u(1));y();return}a()}}}function y(){g?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, quit"):(v.ob=0,g=!0,t(),v.v.terminate(),m=b.m.Y,b.m.I(p),e())}v.j=p;v.connected=!0;var g=!1;v.v=new Worker("worker/worker_timeout.js");v.v.onmessage=null;var r=!1,z=0,A=0;p.onclose=p.onerror=function(){if(q.length())if(r=!0,g)b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose,alt");
else{if(v.v.onmessage)return;z=0;A=b.a.A();var a=q.length();m();var d=q.length();if(d&&d!=a)return}g?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onclose"):(g=!0,t(),v.v.terminate(),m=b.m.Y,b.m.I(p),e())};p.onmessage=function(a){a=new H.a.g(a.data);q.D(a);g?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, onmessage"):v.v.onmessage||(z=0,A=b.a.A(),m())};m=d;0!=q.length()&&(t(),z=0,A=b.a.A(),m());v.disconnect=function(){g?b.a.log(-1,"alert, check_msg.main_loop, should not occur, need investigation, disconnect"):
(v.ob=0,g=!0,t(),v.v.terminate(),b.m.I(p),v.connected=!1,D())}},function(){e()});v.disconnect=function(){p&&p.disconnect();D()}};var y=F.Sk;y.prototype._thread_status=function(b){if("undefined"===typeof b)return this.Da;this.Da=b};y.prototype._cache_item=function(b){if("undefined"===typeof b)return this.kr;this.kr=b};y.prototype._progress=function(b){if("undefined"===typeof b)return this.ob;this.ob=b};y.prototype._buffer=function(b){if("undefined"===typeof b)return this.buffer;this.buffer=b};y.prototype._buffer_offset=
function(b){if("undefined"===typeof b)return this.kc;this.kc=b};y.prototype._buffer_pointer=function(b){if("undefined"===typeof b)return this.Ia;this.Ia=b};y.prototype._buffer_end=function(b){if("undefined"===typeof b)return this.Sb;this.Sb=b};y.prototype._buffer_busy=function(b){if("undefined"===typeof b)return this.rf;this.rf=b};y.prototype._data=function(b){if("undefined"===typeof b)return this.data;this.data=b};y.prototype._connected=function(){return this.connected};y.prototype._busy=function(){return!this.Da};
y.prototype._diskquota=function(){return this.Gh};y.prototype._diskusage=function(){return this.Hh};y.prototype._jn_bEnableWebOfficeEx=function(){return this.Hf};y.prototype._jn_bEnableJNRPassword=y.prototype.Uq=function(){return this.Ne};y.prototype._m_bToArchive=function(){return this.sm}})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){return""+a.Gb+"."+a.Hb+"."+a.Fe+" built on 08/16/2019"}function F(){a.zd="";a.km="";a.le="";a.F=b.b.R;a.HD=!1;a.We="";a.FF="";a.CD=!1;a.Qe=!1;a.rh={};a.va=a.Rc=a.eb=a.Xf=1E7;a.Se=0;a.Me=0;a.Uc=0;a.FD=!0;a.fe=-1;a.DD=!1;a.wd=!1;a.KD=!1;a.If=!1;a.ks=!1;a.LD=!1;a.Pe=!1;a.ke=null;a.ag=0;a.$f=0;a.he="";a.Fh=[]}function c(){this.Xc=0}function y(){this.gc="";this.gg=[];this.xa=0}function h(){}function q(){}function E(g,c){function r(e){g[e].Bc=null;g[e].Dd?b.a.log(["joinnet connecting to backup mcu ",
g[e].Z,",",g[e].ma,"..."].join("")):c&&0==e?b.a.log(["joinnet connecting to (switched) primary mcu ",g[e].Z,",",g[e].ma,"..."].join("")):b.a.log(["joinnet connecting to primary mcu ",g[e].Z,",",g[e].ma,"..."].join(""));g[e].Ed=new b.protocol.hm(a.Gb,a.Hb,a,g,e,function(){g[e].qd=!0;if(g[e].Ob)a:{var r;for(r=0;r<g.length;r++){if(!g[r].qd||!g[r].Ob)break a;var z=g[r].Us;var x=g[r].Ob}y&&(clearTimeout(y),y=null);b.a.log("joinnet connecting to mcu fails");!z&&a.Pe?(d.Oc&&d.Oc(!1),a.pc=!1):a.sa?(b.a.log("using relay fails, clear relay setting and retry connect......"),
a.sa=!1,E(g,c)):(d.Ka&&d.wb(x),d.Xl&&d.Xl(),a.pc=!1)}else 0==e?(y&&(clearTimeout(y),y=null),m(0),q=0,new b.protocol.Re(a.Gb,a.Hb,g[0],g[0].Z,g[0].ma,p)):y||h()})}function h(){y=null;var d;for(d=0;d<g.length;d++)if(g[d].qd&&!g[d].Ob){m(d);q=d;new b.protocol.Re(a.Gb,a.Hb,g[d],g[d].Z,g[d].ma,p);break}}function m(b){var a;for(a=0;a<g.length;a++)g[a].Bc?(clearTimeout(g[a].Bc),g[a].Bc=null):g[a].qd?a==b||g[a].Ob||g[a].j.close():g[a].Ed&&g[a].Ed.disconnect&&g[a].Ed.disconnect()}function p(r){if(r)1<g.length?
(c=0,b.a.log(["connection to mcu ",g[q].Z,g[q].ma," fails during key exchange, but we'd like to try other entries"].join("")),g.splice(q,1),E(g,c)):(a.pc=!1,3==r?a.Pe&&(d.Oc?d.Oc(!1):d.Ka&&d.wb(b.b.up)):2!=r&&a.Pe&&(d.Oc?d.Oc(!1):d.Ka&&d.wb(b.b.vp)));else{r=q;a.ge=g[r].ge;a.bg=g[r].bg;a.yd=g[r].yd;a.cb=g[r].cb;a.Oe=g[r].Oe;a.xd=g[r].xd;a.Sc=g[r].Sc;a.tc=g[r].tc;a.Dh=g[r].Dh;var h=b.m.kg(a.tc);a.DF=h.mb;a.EF=h.Eb;h=b.m.kg(a.Dh);a.BF=h.mb;a.CF=h.Eb;a.Ye=g[r].Ye;a.Xe=g[r].Xe;a.cg=g[r].cg;a.jd=g[r].jd;
a.ea=g[r].ea;a.ba=g[r].ba;a.ed=g[r].ed;a.zc=g[r].zc;a.j=g[r].j;a.Gd=g[r].Gd;a.Z=g[r].Z;a.ma=g[r].ma;a.nm=g[r].Dd;b.a.log(["joinnet connected with mcu ",a.Z,",",a.ma].join(""));r=a.j;if(a.Oe){h=new t.a.g("4");r.send(h.i());a.F==b.b.R&&12==a.he.length&&(b.a.log("send reconnect name."),h.clear(),h.f(16),h.f(b.protocol.Tm),h.D(b.crypto.M(a.he,a.ea)),r.send(h.i()));a.Pe&&(a.ke&&(b.a.log("send reconnect ticket."),h.clear(),h.f(4+a.Bq),h.f(b.protocol.Um),h.D(b.crypto.M(a.ke.u(),a.ea)),r.send(h.i())),a.F===
b.b.R&&(a.ag||a.$f)&&(b.a.log("send meeting identity info: meeting_type="+a.ag+",random_id="+a.$f),h.clear(),h.f(12),h.f(b.protocol.Rm),h.f(a.ag),h.f(a.$f),r.send(h.i())));a.gm&&(b.a.log("send make recording request."),h.clear(),h.f(4),h.f(b.protocol.Qm),r.send(h.i()));a.sa&&(h.clear(),4==a.ca.Jb.length?(h.f(12),h.f(b.protocol.Vm),h.Cm(a.ca.Jb)):(h.f(24),h.f(b.protocol.ji),h.K(a.ca.Jb)),h.f(a.ca.port),r.send(h.i()));if(a.gi&&a.Z.length){var m=b.a.qb(a.Z);var p=m.length;h.clear();h.f(4+p);h.f(b.protocol.ii);
h.K(m);r.send(h.i())}h.clear();h.f(7);h.f(b.protocol.mf);h.K("WEB");r.send(h.i());b.m.bh&&(h.clear(),h.f(10),h.f(b.protocol.mf),h.K("NCHOME"),r.send(h.i()));b.m.vendor&&20>=b.m.vendor.length&&(h.clear(),h.f(4+b.m.vendor.length),h.f(b.protocol.ki),h.K(b.m.vendor),r.send(h.i()));a.le&&(m=a.le,p=m.length,h.clear(),h.f(4+p),h.f(b.protocol.Sm),h.K(m),r.send(h.i()),b.a.oe("send player_name "+a.le+" to mcu"));h.clear();h.f(0);r.send(h.i())}a.If?(h=new t.a.g("3"),h.jg(a.We),p=0,a.sh=a.Mc,a.th=a.vd,a.Mc&&
(p|=1),a.vd&&(p|=2),a.Nc=!1,p|=8,a.rc&&(p|=16),p|=32,d.ac&&!d.ac()?(a.Zf=1,p|=64):a.Zf=0,h.o(p)):(h=a.F!=b.b.R?15==a.bb?new t.a.g("4"):5==a.bb&&a.dg?new t.a.g("5"):new t.a.g("1"):4==a.bb&&a.je?new t.a.g("6"):new t.a.g("0"),15==a.bb?(h.jg(a.We),h.jg(a.km)):a.F!=b.b.R?(m=b.a.qb(a.Ma),p=m.length,h.f(p),p&&h.D(b.crypto.M(m,a.ea)),a.wd&&(p=b.crypto.ad(a.cc),h.f(20),h.D(b.crypto.M(p,a.ea)),5==a.bb&&a.dg&&(m=b.a.qb(a.dg),p=m.length,h.f(p),p&&h.D(b.crypto.M(m,a.ea))))):(h.o(0),m=b.a.qb(a.Ma),p=m.length,h.f(p),
p&&h.D(b.crypto.M(m,a.ea)),a.wd&&(95==a.Ma.charCodeAt(0)?-2!=a.ge?(p=a.Ve.length,h.f(p),p&&h.D(b.crypto.M(a.Ve,a.ea)),b.a.oe("**, Guest name is "+a.Ve+" (utf branch)")):(p=a.Ue.length,h.f(p),p&&h.D(b.crypto.M(a.Ue,a.ea)),b.a.oe("**, Guest name is "+a.Ue+" (multibyte branch)")):(p=b.crypto.ad(a.cc),h.f(20),h.D(b.crypto.M(p,a.ea)))),p=0,a.sh=a.Mc,a.th=a.vd,a.Mc&&(p|=1),a.vd&&(p|=2),a.Nc=!1,p|=8,a.rc&&(p|=16),p|=32,d.ac&&!d.ac()?(a.Zf=1,p|=64):a.Zf=0,h.o(p),a.wd&&4==a.bb&&a.je&&(m=b.a.qb(a.je),p=m.length,
h.f(p),p&&h.D(b.crypto.M(m,a.ea)))));r.send(h.i());e()}}var q,v;d.Ka&&d.Ka(b.b.pp);for(v=0;v<g.length;v++)g[v].Bc=setTimeout(r,500*v,v),g[v].Ob=b.b.Mg;var y=setTimeout(h,5E3);a.disconnect=function(){m(-1);a.pc=!1}}function e(){function g(){fa=null;var f=b.a.A()-a.ee>>>0,c=f;f&2147483648&&(c=-f>>>0);var l=c/1E3/60>>>0;c-=6E4*l;var e=l/60>>>0;l=("0000"+(l-60*e)).slice(-2);f&2147483648?l=["-",e,":",l].join(""):(l=["",e,":",l].join(""),c=6E4-c);!(f&2147483648||a.fe&2147483648)&&0<a.fe&&864E3>a.fe&&(f=
(a.fe+59)/60>>>0,e=f/60>>>0,l+=" / "+e+":"+("0000"+(f-60*e)).slice(-2));a.wr=l;d.am&&d.am();fa=setTimeout(g,c+200)}function e(){z();la=setTimeout(function(){la=null;if(!a.C||a.pc)ja=0,e();else if(ja++,3<=ja)b.a.log("disconnect, local timeout"),J();else{var f=new t.a.g;f.o(a.yg);f.K("0");P.send(f.i());e()}},2E4)}function z(){null!=la&&(clearTimeout(la),la=null)}function B(){a.v.onmessage&&(a.v.onmessage=null,a.v.postMessage({command:"clear"}))}function G(f){if(l.length()){var d=b.a.A()-pa;20<d||9<=
ka?(500<d&&b.a.log("info, jnkernel handler("+f+") depth="+ka+",use "+d+"ms"),a.v.onmessage||(a.v.onmessage=function(){a.v.onmessage=null;F()},a.v.postMessage({command:"set"}))):(ka++,ha())}}function E(){if(a.Jd||a.kf)b.a.log(a.Jd?"disconnect, remote close":"disconnect, error"),J()}function F(){var a=l.length();if(a){ka=0;pa=b.a.A();ha();var f=l.length();f&&f!=a||E()}else E()}function I(){L=new t.a.g(l);var g=l.L(0);switch(g){case a.N:if(!(5>l.length()))if(g=l.c(1),0<=g&&g<=a.Gp)ua[g]();else b.a.log(["disconnect, unknown command extension[",
g,"]"].join("")),J();break;case a.Kd:C();break;case a.cn:5>l.length()||(x(-2,l.c(1)),l.shift(5),M=L,G("COMMAND_FLIP"));break;case a.zg:5>l.length()||(g=l.c(1),a.za=g,a.F==b.b.R&&a.Uc&&d.Kb(0),g!=a.G?a.Ja&&(a.Ja=!1):(a.vb=!1,a.Ja||(d.$b&&d.$b(),a.Ja=!0)),b.a.log(["data sender change to ",g,"; internal ",a.ua,",",a.za,"; ",a.qa,",",a.Ja].join("")),d.Of&&d.Of(g),l.shift(5),M=L,G("COMMAND_DATA_SENDER"));break;case a.yg:2>l.length()||(48==l.L(1)&&(g=new t.a.g,g.o(a.yg),g.K("1"),a.j.send(g.i())),l.shift(2),
M=L,G("COMMAND_ALIVE_PACKET"));break;case a.Eg:if(!(5>l.length())){g=l.c(1);var c=a.ua,e=a.za;!(0<=c)||a.U[c]&&a.U[c].Ie||(c=-1);!(0<=e)||a.U[e]&&a.U[e].Ie||(e=-1);var h=d.jc();a.ua=g;a.za=g;a.vb=!1;a.F==b.b.R&&a.Uc&&d.Kb(0);var r=d.jc();g==a.G&&-1!=a.G?a.qa||(d.$b&&d.$b(),a.qa=!0,a.Ja=!0,a.vh(h,r)):g!=a.G&&(d.ce&&d.ce(-1),a.qa=!1,a.Ja=!1);b.a.log(["token holder change to ",g,"; internal ",a.ua,",",a.za,"; ",a.qa,",",a.Ja].join(""));d.tl&&d.tl(g,c,e);d.Of&&d.Of(g);l.shift(5);M=L;G("COMMAND_TOKEN_UPDATE")}break;
case a.hn:w();break;case a.bd:if(!(5>l.length()))if(g=l.c(1),0<=g&&g<=a.zq)ta[g]();else b.a.log(["disconnect, unknown playback command [",g,"]"].join("")),J();break;case a.wi:a:if(g=l.length(),!(5>g)){c=l.c(1);if(1==c)d.Gl&&d.Gl(),l.shift(5);else if(2==c){if(13>g)break a;d.Yk&&d.Yk(l.c(5),l.c(9));l.shift(13)}else{b.a.log(["disconnect, unknown tutor command ",c].join(""));J();break a}M=L;G("COMMAND_TUTOR")}break;case a.fn:O();break;case a.Zm:f(0);break;case a.ni:5>l.length()||(g=l.c(1),0<=g&&g<a.aa.length&&
(a.aa[g].Ze=!0,a.aa[g].data&&(a.wa-=a.aa[g].data.length,a.aa[g].data=null),d.Rl&&d.Rl(g)),l.shift(5),M=L,G("COMMAND_DELETE_SLIDE"));break;case a.mi:5>l.length()||(g=l.c(1),0<=g&&g<a.aa.length&&(a.aa[g].gg=[],d.de&&d.de(1,g)),l.shift(5),M=L,G("COMMAND_CLEAR_MARK"));break;case a.an:5>l.length()||(g=l.c(1),d.Ml&&d.Ml(g),l.shift(5),M=L,G("COMMAND_DEFAULT_VIDEO_COMMAND"));break;case a.Ln:a.Zb=!0;l.shift(1);M=L;G("COMMAND_TOKEN_OWNER_NOTIFY");break;case a.ui:a.vb&&(a.vb=!1,d.ls());l.shift(1);M=L;G("COMMAND_SKIP_QUESTION");
break;case a.oi:b.a.log("quitsession: user is disconnected by owner");D();d.Ka&&d.wb(b.b.tp);l.shift(1);M=L;G("COMMAND_DISCONNECT");break;case a.An:c=l.length();9>c||(g=l.c(5),0>g||600<=g?(b.a.log("disconnect, COMMAND_QUESTION_REQUEST invalid len"),J()):c<9+g||(c=l.c(1),c!=a.za&&a.G==d.Ge()&&d.Zk&&d.Zk(c),l.shift(9+g),M=L,G("COMMAND_QUESTION_REQUEST")));break;case a.En:n();break;case a.Nn:N();break;case a.ti:b.a.log("quitsession: meeting is over");D();a.Ch&&d.be&&d.be(a.Ch,"",-1);d.Ka&&d.wb(b.b.yp);
l.shift(1);M=L;G("COMMAND_SESSION_END");break;default:b.a.log(["disconnect, unknown command[",g,"/0x",g.toString(16),"]"].join("")),J()}}function H(){var b=l.length();if(!(9>b)){var f=l.c(1);if(f==a.on||f==a.nn){if(21>b)return;l.shift(21)}else l.shift(9);M=L;G("Command_MulticastStartAddrEx,"+f)}}function O(){var f;var c=l.length();if(!(2>c)){var e=f=l.L(1);if(48==f){if(a.F!=b.b.$o&&a.F!=b.b.Fq){if(a.F==b.b.R){if(102>c)return;a.G=l.c(2);a.ta=l.c(6);b.a.log(["my ssrc is ",a.G,", session_index is ",
a.ta].join(""));a.eb=l.c(10);a.eb>b.b.ej&&(a.eb=b.b.ej);1E4>a.eb&&(a.eb=1E4);b.a.log(["max bandwidth is ",a.eb].join(""));a.va=a.eb;d.Rf&&d.Rf();d.Kb(0);c=l.c(98);f=b.crypto.w(l.h(38,20),a.ea);e=b.crypto.w(l.h(58,40),a.ea);a.Im={ja:f.u(),key:e.u()};a.ba=b.crypto.Yg(a.jd,a.Im);a.ee=b.a.A()-(c>>>0)>>>0;c=(new t.a.g(t.random.ya(4))).Pb();b.a.log(["statistics log anchor ",c].join(""));a.Ca(["==================== ",c," ====================\n\n\n"].join(""));a.Ca(["connected with mcu ",a.Z,",",a.ma].join(""));
a.Ca(["info: meeting session,ssrc=",a.G,",session_index=",a.ta].join(""));c=new t.a.g;c.f(0);c.f(a.G);c.f(a.ta);c.K(a.zc.key);c.K(a.zc.ja);a.ke=c;l.shift(102)}else{if(18>c)return;a.G=-1;a.Yf=l.c(2);a.ta=l.c(6);a.eb=0;c=new t.a.g;c.f(1);c.f(a.Yf);c.f(a.ta);c.K(a.zc.key);c.K(a.zc.ja);a.ke=c;l.shift(18)}a.jF=a.ta;a:{c="hmtg_joinnet_mcu_usage_"+a.Z;f=Date.now();if("undefined"!=typeof b.a.localStorage[c]&&(e=b.a.Yc(b.a.localStorage[c]),"undefined"!==e&&f>e&&108E6>f-e))break a;b.a.localStorage[c]=JSON.stringify(f);
c="homemeeting.com/serverinfo/?version="+a.Gb;c=c+"."+a.Hb;c=c+"."+a.Fe;c=a.If?c+"&type=thirdparty":a.wd?c+"&type=weboffice":c+"&type=wan";c+="&codetype="+a.bb;c+="&mcu_version_string="+a.tc;c+="&mcu_serial="+a.Ye;c+="&mcu_licensesource="+a.Xe;c+="&mcu="+a.Z+","+a.ma;a.eb&&(c+="&bandwidth="+a.eb);c+="&primary_mcu="+(a.nm?"0":"1");c=c+"&sig=web"+("&appurl="+window.location.protocol+"//"+window.location.host+window.location.pathname);b.m.xm(c)}a.F==b.b.R&&a.sa&&(a.Kc&&(a.Kc.disconnect(),a.Kc=null),
a.Kc=new b.protocol.Kc(a));a.ED=!0;a.C=!0;a.pc=!1;a.La=-1;a.ua=-1;a.za=-1;a.xb=-1;a.Te=0;a.Qe=!1;a.ph();a.F==b.b.R&&g();d.$b&&d.$b();d.Ka&&d.Ka(b.b.qp);a.wd&&a.F==b.b.R&&a.Ma&&1<=a.Ma.length&&95!=a.Ma.charCodeAt(0)&&(a.ks=!0)}M=L;G("COMMAND_INITIAL_INFO")}else{f==b.b.kp&&a.F==b.b.R&&a.he&&d.be&&d.be(a.he,"",-1);if(f>b.b.mp||f<b.b.jp)b.a.log("disconnect, COMMAND_INITIAL_INFO return unknown error: "+f),f=b.b.Mg;else if(f==b.b.ap)a.F!=b.b.R?f=b.b.xp:f=b.b.qf+f-256;else{if(f==b.b.Ui){if(10>c)return;f=
l.c(2);c=l.c(6);d.Kf&&d.Kf(b.b.Ui,f,c);Q();d.jb&&d.jb();return}if(f==b.b.Ti){if(10>c)return;f=l.c(2);c=l.c(6);d.Kf&&d.Kf(b.b.Ti,f,c);Q();d.jb&&d.jb();return}if(f==b.b.Vi){if(f=b.b.qf+f-256,4==a.bb||5==a.bb)a.cc=a.Vc=""}else f=b.b.qf+f-256}e!=b.b.lp&&d.Ka&&d.wb(f);Q();d.jb&&d.jb()}}}function C(){var f;var g=l.length();if(!(2>g)){var c=new h,e=l.L(1);if(e==b.b.Dp||e==b.b.Ng){var w=(f=e==b.b.Ng)?8:0;if(26>g)return;var r=l.c(22);if(0>r){b.a.log("disconnect, COMMAND_MARK.stroke invalid size");J();return}if(g<
26+8*r+w)return;c.rm=l.c(2);c.V=l.c(6);c.Ga=l.c(10);c.zm=l.c(14);c.vt=l.c(18);c.Xc=m(c.Ga);c.Gc=e;c.Pj=new Int32Array(r);c.Sj=new Int32Array(r);for(g=0;g<r;g++)c.Pj[g]=l.c(26+8*g),c.Sj[g]=l.c(8*g+30);f?(c.pb=l.c(26+8*r),c.od=l.c(8*r+30),c.rd=c.xf=0):c.pb=100;l.shift(26+8*r+w)}else if(e==b.b.Ep||e==b.b.Og){w=(f=e==b.b.Og)?8:0;if(38>g)return;r=l.c(34);if(0>r||2048<r){b.a.log("disconnect, COMMAND_MARK.text invalid length");J();return}if(g<38+r+w)return;c.rm=l.c(2);c.V=l.c(6);c.Ga=l.c(10);c.zm=l.c(14);
c.Om=l.c(18);c.Yo=l.c(22);c.Pm=l.c(26);c.Nm=l.c(30);c.Xc=m(c.Ga);c.Gc=e;c.np=b.crypto.w(l.h(38,r),a.ba).u();f?(c.pb=l.c(38+r),c.od=l.c(38+r+4),c.rd=c.xf=0):c.pb=100;l.shift(38+r+w)}else if(e==b.b.dj){if(34>g)return;r=l.c(30);if(0>r){b.a.log("disconnect, COMMAND_MARK.move invalid size");J();return}if(g<34+4*r)return;c.V=l.c(2);c.Ga=l.c(6);c.rd=l.c(10);c.xf=l.c(14);c.wt=l.c(18);c.pb=l.c(22);c.od=l.c(26);c.Xc=m(c.Ga);c.Gc=e;c.om=new Int32Array(r);for(g=0;g<r;g++)c.om[g]=l.c(34+4*g);l.shift(34+4*r)}else if(e==
b.b.cj){if(30>g)return;r=l.c(26);if(0>r){b.a.log("disconnect, COMMAND_MARK.customized invalid size");J();return}if(g<30+r+4)return;c.V=l.c(2);c.Ga=l.c(6);c.rd=l.c(10);c.xf=l.c(14);c.pb=l.c(18);c.kt=l.c(22);c.qx=r;c.Xc=m(c.Ga);c.Gc=e;c.yt=l.h(30,r);c.od=l.c(30+r);l.shift(30+r+4)}else{b.a.log("disconnect, COMMAND_MARK invalid mark type");J();return}0<=c.V&&c.V<a.aa.length&&(a.aa[c.V].gg.push(c),d.de&&d.de(0,c.V,c));M=L;G("COMMAND_MARK")}}function N(){var f=l.length();if(!(2>f)){var g=l.L(1);if(65==
g||97==g){if(11>f)return;var e=l.c(7);if(0>e||128<=e){b.a.log("disconnect, COMMAND_USER_UPDATE invalid userid length");J();return}if(f<11+e+4)return;var r=l.c(11+e);if(0>r||128<=r){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username length");J();return}if(f<11+e+4+r+4)return;var w=l.c(11+e+4+r);if(0>w||128<=w){b.a.log("disconnect, COMMAND_USER_UPDATE invalid username(2) length");J();return}var h=!1;97==g&&(h=!0);if(f<11+e+4+r+4+w+(h?8:0))return;f=l.c(3);0<=f&&f<b.b.Ha&&(g=new c,g.hd=l.L(2),
g.od=f,g.rd=l.h(11,e),g.ci=l.h(11+e+4,r),g.Ie=!0,g.V=0,g.pb=0,h&&(g.V=l.c(11+e+4+r+4+w),g.pb=l.c(11+e+4+r+4+w+4)),g.um=0,g.vm=0,g.Xc=0,g.Jh=0,g.fg=0,g.Kh=new Uint8Array(250),g.af=null,g.Gc=0,a.U[f]=g,d.$b&&d.$b(),d.bl&&d.bl(f));l.shift(11+e+4+r+4+w+(h?8:0))}else if(68==g||100==g){if(6>f)return;f=l.c(2);0<=f&&f<b.b.Ha&&(a.U[f]&&(a.U[f].Ie=!1,a.U[f].af=null),d.il&&d.il(f,100==g));l.shift(6)}else{b.a.log("disconnect, COMMAND_USER_UPDATE invalid type");J();return}M=L;G("COMMAND_USER_UPDATE")}}function x(b,
f){-1!=a.Lb&&d.Cb&&d.Cb(1,a.Lb);a.Lb=f;a.G!=d.jc()&&(-1!=a.Lb&&d.Cb&&d.Cb(2,a.Lb),a.G!=b&&d.Cb&&d.Cb(0,a.Lb))}function n(){var f=l.length();if(!(9>f)){var g=l.c(5),c=0;var e=0;if(-1==g){if(13>f)return;e=l.c(9);if(0>=e||4E3<e){b.a.log("disconnect, COMMAND_SLIDE_INFO invalid property len");J();return}if(f<13+e+4)return;g=l.c(13+e);c=4+e+4}if(0>g||g>b.b.hj)b.a.log("disconnect, COMMAND_SLIDE_INFO invalid name len"),J();else if(!(f<9+c+g+4)){f=new y;f.Ga=l.c(1);f.Db=l.h(9+c,g);f.Ze=l.c(9+c+g);if(c)for(f.dc=
b.crypto.w(l.h(13,e),a.ba),f.Cd=f.dc.u(),e=0;e<f.dc.length();e++)if(!f.dc.L(e)){f.Cd=f.dc.h(0,e);f.gc=f.dc.h(e+1);var r;for(r=e+1;r<f.dc.length();r++)if(!f.dc.L(r)){f.gc=f.dc.h(e+1,r-(e+1));break}break}f.gc||(f.gc=b.m.bt(f.Db));b.a.endsWith(f.Db,"blank page")&&(f.lh=!0,f.xa=1);f.V&&(f.Db=b.a.$g("[Deleted]"+b.a.Ab(f.Db),b.b.hj));a.es(f,a.aa.length);f.index=a.aa.length;a.aa.push(f);r=d.jc();a.F==b.b.R&&-1!=r&&r!=a.G&&f.index==a.Lb&&1==f.xa&&(e=new t.a.g,e.o(a.N),e.f(a.Dg),e.f(1),e.f(f.index),e.f(r),
e.f(b.b.oj),a.j.send(e.i()));f.Mh=0;if(f.dc)for(e=a.aa.length-2;0<=e;e--){var w=a.aa[e];if(w.Cd==f.Cd&&w.dc&&w.gc==f.gc&&w.Ga==f.Ga){f.Mh=w.Mh+1;break}}d.$k&&d.$k(f);!a.sa||a.F!=b.b.R||f.Ze||f.lh||f.tm||(e=new t.a.g,e.o(a.N),e.f(a.Ag),e.f(1),e.f(f.index),a.j.send(e.i()));a.G!=r&&a.F==b.b.R||-1!=(d.Mf?d.Mf():-1)||(f=a.Hj(),a.Lb=f,d.Cb&&d.Cb(0,f),a.F==b.b.R&&d.wh(f));l.shift(9+c+g+4);M=L;G("COMMAND_SLIDE_INFO")}}}function f(f){var g=f?4:0,c=f?8:0;2==f&&(c+=12);var e=l.length();if(!(e<9+g)){var r=l.c(1+
g);if(0>r||2048<=r)b.a.log("disconnect, Command_ChatText invalid len"),J();else if(!(e<9+r+c)){e=l.c(5+g);g=b.crypto.w(l.h(9+g,r),a.ba).u();if(d.Aa){var w;b.$.Xq()==b.b.R&&(w=b.a.A()-a.ee>>0);if(f){var h=l.c(13+r);if(2==f){w=l.c(17+r);var n=b.a.nr(l.c(25+r),l.c(21+r))}d.Aa(h,-1,e,g,m(h),w,n)}else d.Aa(-1,-1,e,g,0,w)}l.shift(9+r+c);M=L;G("ChatText,"+f)}}}function w(){var a=l.L(0);b.a.log(["not support command[",a,"/0x",a.toString(16),"]"].join(""));J()}function Q(){z();null!=T&&(clearTimeout(T),T=
null);B();a.v.terminate();fa&&(clearTimeout(fa),fa=null);a.Sa&&(a.Sa.disconnect(),a.Sa=null);a.Jc&&(a.Jc.disconnect(),a.Jc=null);a.Kc&&(a.Kc.disconnect(),a.Kc=null);a.Pa&&(a.Pa.disconnect(),a.Pa=null);a.Ac&&(a.Ac.disconnect(),a.Ac=null);a.$c&&(a.$c.disconnect(),a.$c=null);ha=b.m.Y;b.m.I(P);a.C=!1;a.qa=!1;a.Zb=!1;a.Ja=!1;a.vb=!1;a.La=-1;a.ua=-1;a.za=-1;a.xb=-1;a.Te=0;a.pc=!1;a.Qe=!1;a.rh={};a.Qc=0}function J(){b.m.qm(M,l);Q();d.jb&&d.jb();d.Oc&&d.Oc(!0)}var P=a.j;a.Jd=a.kf=!1;var l=a.Gd,L=new t.a.g,
M=new t.a.g,la=null;a.v=new Worker("worker/worker_timeout.js");a.v.onmessage=null;var ha=b.m.Y,ja=0,ka=0,pa=0,T=null,fa=null,ua=[function(){if(!(9>l.length())){a.Vf=l.c(5);if(a.F==b.b.R){v();var f=new t.a.g;f.o(a.N);f.f(a.si);f.f(a.ae?1:0);a.j.send(f.i());a.sa&&(f=new t.a.g,f.o(a.N),f.f(a.Ag),4==a.ca.Jb.length?(f.f(2),f.Cm(a.ca.Jb)):(f.f(3),f.K(a.ca.Jb)),f.gt(),f.Fd(a.ca.port),f.f(a.Sc),a.j.send(f.i()))}else a.F==b.b.Fa&&(v(),f=new t.a.g,f.o(a.bd),f.f(10),f.f(a.ae?1:0),a.j.send(f.i()));l.shift(9);
M=L;G("COMMAND_EXTENSION_MAX_SUPPORT")}},function(){if(!(9>l.length())){var b=l.c(5);d.dl&&d.dl(b);l.shift(9);M=L;G("COMMAND_END_QUESTION_REQUEST_EX")}},function(){if(!(17>l.length())){var b=l.c(5),f=l.c(9),g=l.c(13);if(0<=f&&f<a.aa.length){var c=a.aa[f].gg;c&&0<=g&&g<c.length&&c[g].Ga==b&&(b=c[g],c.splice(g,1),d.de&&d.de(2,f,b))}l.shift(17);M=L;G("COMMAND_UNDO_MARK_EX")}},w,w,function(){l.shift(5);M=L;G("COMMAND_PROLONG_MEETING_EX")},function(){if(!(6>l.length())){var b=l.L(5);0==b?d.Pc&&d.Pc(a.Bh,
1):1==b?d.Sf&&d.Sf(a.Bh):2==b&&d.Pc&&d.Pc(a.Bh,2);l.shift(6);M=L;G("COMMAND_WAIT_MESSAGE_EX")}},function(){var a=l.length();if(!(9>a)){var f=l.c(5);if(0>f||1E3<=f)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len1"),J();else if(!(a<9+f+4)){var g=l.c(9+f);if(0>g||128<=g)b.a.log("disconnect, COMMAND_SHADOW_JOIN_REQUEST_EX invalid len2"),J();else if(!(a<9+f+4+g)){a=l.h(9,f);var c=l.h(9+f+4,g);d.ml&&d.ml(a,c);l.shift(9+f+4+g);M=L;G("COMMAND_SHADOW_JOIN_REQUEST_EX")}}}},w,w,H,function(){9>
l.length()||(a.fe=l.c(5)>>>0,fa&&clearTimeout(fa),fa=setTimeout(g,0),l.shift(9),M=L,G("COMMAND_FULL_DURATION_EX"))},function(){var b=new t.a.g("Q");b.f(a.G);b.f(3);b.K("Yes");a.j.send(b.i());a.qa||a.vb||a.qc||a.Ja||(a.vb=!0);l.shift(5);M=L;G("COMMAND_FORCE_ASK_QUESTION_EX")},function(){9>l.length()||(l.shift(9),M=L,G("COMMAND_RATE_CONTROL_EX"))},function(){b.a.log("quitsession: user is overwritten by another connection");D();d.Ka&&d.wb(b.b.Cp);l.shift(1);M=L;G("COMMAND_USER_OVERWRITE_EX")},w,w,w,
w,w,function(){if(!(13>l.length())){var a=l.c(9);if(0>a||a>b.b.ij)b.a.log("disconnect, COMMAND_JTBROWSING_EX invalid url len"),J();else{for(var f=l.c(5),g=l.h(13,a),c=0;c<g.length;c++)if(0===g.charCodeAt(c)){g=g.slice(0,c);break}d.nl&&d.nl(f,g);l.shift(13+a);M=L;G("COMMAND_JTBROWSING_EX")}}},function(){9>l.length()||(l.shift(9),M=L,G("COMMAND_TCPMEDIA_EX"))},function(){if(!(9>l.length())){var b=l.c(5);d.ol&&d.ol(b);l.shift(9);M=L;G("COMMAND_JTBROWSING_MODE_EX")}},function(){if(!(33>l.length())){var b=
l.c(5);var a=l.c(9);var f=l.c(13);var g=l.c(17);var c=l.c(21);var e=l.c(25);var r=l.c(29);d.Lf&&d.Lf(b,a,f,g,c,e,r);l.shift(33);M=L;G("COMMAND_FOCUS_POINTER_EX")}},w,function(){if(!(10>l.length())){var b=l.L(5),a=l.c(6);if(0>a||128<=a)J();else{var f=l.h(10,a);0==b?d.Pc&&d.Pc(f,1):1==b?d.Sf&&d.Sf(f):2==b&&d.Pc&&d.Pc(f,2);l.shift(10+a);M=L;G("COMMAND_WAIT_MESSAGE_2_EX")}}},function(){if(!(6>l.length())){var f=l.L(5);1==f?(f=a.F,a.F=b.b.Fa,a.sa?(b.a.log("Warning: mcu relay doesn't support playback, quit this session now..."),
J()):(f!=b.b.Fa&&d.fl&&d.fl(),l.shift(6),M=L,G("COMMAND_THIRDPARTY_MODE_EX"))):3==f?(d.Ka&&d.wb(b.b.sp),Q(),d.jb&&d.jb()):4==f?(d.Ka&&d.wb(b.b.rp),Q(),d.jb&&d.jb()):(b.a.log("disconnect, COMMAND_THIRDPARTY_MODE_EX invalid mode"),J())}},w,function(){9>l.length()||(0==l.c(5)?(b.a.log("prompt the user for sharejnr or thirdparty password"),d.Qf&&d.Qf(15==a.bb?1:0),l.shift(9),M=L,G("COMMAND_USERINFO2_DIRECTAUTH_EX")):(b.a.log("disconnect, COMMAND_USERINFO2_DIRECTAUTH_EX invalid auth type"),J()))},function(){var f=
l.length();if(!(9>f)){var c=l.c(5);if(0==c){if(13>f)return;a.fe=l.c(9)>>>0;fa&&clearTimeout(fa);fa=setTimeout(g,0)}d.Ka&&d.wb(c?b.b.Ap:b.b.Bp);l.shift(0==c?13:9);M=L;G("COMMAND_PREPARATIONMODE_EX")}},function(){9>l.length()||(d.Ka&&d.wb(b.b.zp),l.shift(9),M=L,G("COMMAND_TERMINATION_WARNING_EX"))},w,function(){9>l.length()||(a.dm=l.c(5),d.Il&&d.Il(),l.shift(9),M=L,G("COMMAND_RECORDING_STATUS_EX"))},function(){if(!(13>l.length())){var f=l.c(5),g=l.c(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].um=g,d.Ul&&d.Ul(f));
l.shift(13);M=L;G("COMMAND_VIDEOSENDING_STATUS_EX")}},function(){d.Ka&&d.wb(b.b.wp);l.shift(5);M=L;G("COMMAND_UNKNOWN_RECORDING_EX")},function(){var f=l.length();if(!(17>f)){var g=l.c(5);if(1==g){if(21>f)return;g=l.c(9);var c=l.c(13);f=l.c(17);0<=c&&c<b.b.Ha&&d.Hl&&d.Hl(c,g,f);l.shift(21)}else if(0==g){g=l.c(9);c=l.c(13);f=0>g||g>=a.aa.length?b.b.Eq:1==a.aa[g].xa?b.b.oj:0==a.aa[g].xa&&a.Pa&&a.Pa.index==g?b.b.Cq:b.b.Dq;var e=new t.a.g;e.o(a.N);e.f(a.Dg);e.f(1);e.f(g);e.f(c);e.f(f);a.j.send(e.i());
l.shift(17)}else{b.a.log("disconnect, COMMAND_POLL_SLIDEDOWNLOAD_EX invalid command");J();return}M=L;G("COMMAND_POLL_SLIDEDOWNLOAD_EX")}},w,function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(g==a.sq){if(17>f)return;a.Wf=l.c(9);a.Tc=l.c(13);b.a.log(["Participant Channnel, video ",a.Wf,", audio ",a.Tc].join(""));a.Tc=Math.min(a.Tc,b.b.dd);a.Wf=Math.min(a.Wf,b.b.Qb);l.shift(17)}else if(g==a.nq){if(13>f)return;a.Gf=l.c(9);b.a.log(["discussion mode is now ",a.Gf].join(""));l.shift(13)}else if(g==a.nj||
g==a.xq)if(a.F==b.b.Fa){if(17>f)return;l.shift(17)}else a.uh=g==a.nj?!0:!1,l.shift(9);else if(g==a.wq){if(21>f)return;var c=l.c(9);f=l.c(13);g=l.c(17);-1!=f&&g==b.b.qq&&(0>f||f>=b.b.Qb||(a.kb[f]=c));l.shift(21)}else if(g==a.tq||g==a.yq){if(17>f)return;f=l.c(13);0>f||f>=b.b.Qb||(a.kb[f]=-1);l.shift(17)}else if(g==a.De||g==a.pq){if(17>f)return;c=l.c(9);f=l.c(13);0>f||f>=b.b.dd||(g==a.De?b.a.log("user "+c+" becomes a speaker at channel "+f):b.a.log("speaker channel "+f+" is reset"),a.bc[f]=g==a.De?c:
-1,a.F==b.b.R&&a.Uc&&d.Kb(0),c==a.G&&-1!=a.G&&(a.qc=g==a.De,a.qc&&(a.vb=!1)),d.ul&&d.ul(c,g==a.De,f));l.shift(17)}else if(g==a.uq){if(17>f)return;if(l.c(13)){if(21>f)return;c=l.c(17);if(0>c||c>b.b.Ha){b.a.log("disconnect, PARTICIPANT_VIDEO_QUERY_VIEWER invalid count");J();return}if(f<21+c)return;l.shift(21+c)}else l.shift(17)}else{b.a.log("disconnect, COMMAND_PARTICIPANT_VIDEO_EX invalid command");J();return}M=L;G("COMMAND_PARTICIPANT_VIDEO_EX")}},function(){var a=l.length();if(!(9>a)){var f=l.c(5);
if(1==f)d.Pl&&d.Pl(),l.shift(9);else if(2==f){if(17>a)return;d.al&&d.al(l.c(9),l.c(13));l.shift(17)}else{b.a.log(["disconnect, unknown poll command ",f].join(""));J();return}M=L;G("COMMAND_TOKEN_HOLDER_POLL_EX")}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);1==g?(b.a.log("JoinNet is set to use mcu relay, however the MCU doesn't accept mcu relay"),l.shift(9),a.oh.port=0,setTimeout(function(){d.ps();d.ts()},0)):2==g?33>f||(f=l.c(9),0<=f&&f<a.aa.length&&(a.aa[f].hash=l.h(13,20),a.aa[f].tm=!0),
l.shift(33),M=L,G("COMMAND_MCU_RELAY_EX")):(b.a.log("disconnect, COMMAND_MCU_RELAY_EX invalid command"),J())}},function(){if(!(9>l.length())){a.yd=b.crypto.w(l.h(5,4),a.ea).c(0)>>>0;var f=a.cb;a.cb=b.a.A()-a.yd;(5E3<f-a.cb||-5E3>f-a.cb)&&b.a.log(["got mcu clock sync - server tick = ",a.yd," diff = ",a.cb].join(""));l.shift(9);M=L;G("COMMAND_SYNC_CLOCK_EX")}},w,w,w,function(){var f=l.length();if(!(21>f)){if(1==l.c(13)){if(25>f)return;var g=l.c(17);if(0>g||2048<=g){b.a.log("disconnect, COMMAND_PRIVATE_CHAT_TEXT_EX invalid len");
J();return}if(f<25+g)return;f=b.crypto.w(l.h(25,g),a.ba).u();var c=f.indexOf("__command: dummypassword ");-1!=c&&(f=f.slice(0,c+25)+"*");var e=l.c(5);c=l.c(9);var r=l.c(21),w=b.a.A()-a.ee>>0;d.Aa&&d.Aa(e,c,r,f,m(e),w);l.shift(25+g)}else l.shift(21);M=L;G("COMMAND_PRIVATE_CHAT_TEXT_EX")}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(g==a.vn){if(13>f)return;a.ws=l.c(9);l.shift(13)}else if(g==a.un){if(57>f)return;g=l.c(29);if(0>g||g>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");
J();return}a.P[g]=a.P[g]||new q;a.P[g].active=1;a.P[g].bC=0;a.P[g].type=l.c(9);a.P[g].RF=l.c(21);a.P[g].Ir=l.h(37,4)+l.h(43,2)+l.h(47,2)+l.h(49,8);a.P[g].Oj=b.a.lr(a.P[g].Ir);a.P[g].jt=l.c(33);a.P[g].Am=l.c(25);a.P[g].kd=l.c(13);a.P[g].yj=l.c(17)>>>0;a.P[g].XF=0;a.P[g].Mm=null;a.P[g].Ba=b.a.A();a.P[g].ga=a.Nd;0>=a.P[g].kd&&(a.P[g].kd=1);a.P[g].zb=a.P[g].kd;d.Jf&&d.Jf(g);d.Kb(0);var c=a.P[g].Oj;"E5AF1A56-E29C-4BA6-839A-24C2F30EED02"==c?c="Shared Desktop{"+c+"}":"4FC0606A-DA4A-423F-A830-AC5D9853C201"==
c&&(c="Remote Control{"+c+"}");a.Ca("appdata_new_channel,"+g+","+c+",max_rate="+a.P[g].kd+",ssrc="+a.P[g].Am);d.Pf&&d.Pf(0,a.P[g].jt,g);l.shift(57)}else if(g==a.tn){if(17>f)return;g=l.c(9);b.a.log(-2,"appdata channel errorcode="+g);(g==b.b.hp||g==b.b.gp||g==b.b.fp||g==b.b.ep||g==b.b.cp||g==b.b.bp)&&d.Pf&&d.Pf(g,l.c(13),-1);l.shift(17)}else if(g==a.ri){if(17>f)return;g=l.c(9);if(0>g||g>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");J();return}if(!a.P[g].active){b.a.log("disconnect, COMMAND_PLUGIN_EX inactive channel got static data");
J();return}c=l.c(13);if(0>c||c>a.Pg){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size");J();return}if(f<17+c)return;f=b.crypto.w(l.h(17,c),a.ba).u();a.P[g].Mm=f;d.Fl&&d.Fl(0,g,f);l.shift(17+c)}else if(g==a.pi){if(13>f)return;g=l.c(9);if(0>g||g>=b.b.Fb){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid channel");J();return}if(!a.P[g]||!a.P[g].active){b.a.log("disconnect, COMMAND_PLUGIN_EX channel not active");J();return}a.P[g].active=0;b.a.log(-2,"appdata channel "+g+" close");d.Cl&&d.Cl(0,g);l.shift(13)}else if(g==
a.sn){if(21>f)return;c=l.c(17);if(0>c||c>a.Pg){b.a.log("disconnect, COMMAND_PLUGIN_EX invalid size2");J();return}if(f<21+c)return;l.shift(21+c)}else{b.a.log("disconnect, COMMAND_PLUGIN_EX invalid command");J();return}M=L;G("COMMAND_PLUGIN_EX")}},w,w,w,function(){17>l.length()||(a.yF=l.c(5),a.zF=l.c(9),a.AF=l.c(13),l.shift(17),M=L,G("COMMAND_RECORDING_FILEVERSION_EX"))},function(){a.xb=-1;a.La=a.ua=a.za=-1;d.vl&&d.vl();l.shift(5);M=L;G("COMMAND_END_OF_RECORDINGFILE_EX")},function(){b.a.log("warning: server is going to be shut down!");
d.Ll&&d.Ll();l.shift(5);M=L;G("COMMAND_SERVER_SHUTDOWN_EX")},function(){var f=l.length();if(!(17>f)){var g=l.c(13);if(0>g||g>a.gj)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid size"),J();else if(!(f<17+g))if(f=l.c(5),0>f||f>=b.b.Fb)b.a.log("disconnect, COMMAND_PLUGIN_CONTROL_DATA_EX invalid channel"),J();else{if(a.P[f]&&a.P[f].active){var c=l.c(9),e=b.crypto.w(l.h(17,g),a.ba).u();d.Dl&&d.Dl(e,f,c)}l.shift(17+g);M=L;G("COMMAND_PLUGIN_CONTROL_DATA_EX")}}},function(){9>l.length()||(l.shift(9),
M=L,G("COMMAND_DISABLE_UTF8_EX"))},function(){if(!(9>l.length())){a.js=l.c(5)&1?!0:!1;b.a.log("The network initialization has finished");for(var f=["audio codec preference [count: ",a.$d.length,"] is:"],g=0;g<a.$d.length;g++){var c=a.$d[g];f.push(" 0x",c.toString(16),"(",b.m.Xg(c),")")}b.a.log(f.join(""));f=["video codec preference [count: ",a.me.length,"] is:"];for(g=0;g<a.me.length;g++)c=a.me[g],f.push(" 0x",c.toString(16),"(",b.m.Xg(c),")");b.a.log(f.join(""));a.ne||b.a.log("webrtc, this MCU doesn't support webrtc, or is not correctly configured, or lacks valid license");
d.Nf&&d.Nf();d.ac&&A()&&(c=d.ac(),a.Zf||!c)&&(b.a.log("update audio status upon start of meeting"),p(c?1:0));l.shift(9);M=L;G("COMMAND_SIP_CAP_EX")}},function(){if(!(13>l.length())){var f=l.c(5),g=l.c(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].Xc=g);l.shift(13);M=L;G("COMMAND_TEXT_CODEPAGE_EX")}},function(){f(1)},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(1==g){if(13>f)return;var c=l.c(9);if(0>c||1E3<=c){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len");J();return}if(f<13+c+4)return;
g=l.c(13+c);f=b.crypto.w(l.h(13,c),a.ba).u();b.a.log("ssrc "+g+" request sip client "+f);0<=g&&g<b.b.Ha&&a.U[g]&&d.Jl&&d.Jl(g,a.U[g].ci,f);l.shift(17+c)}else if(3==g){if(13>f)return;c=l.c(9);if(0>c||1E3<=c){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len2");J();return}if(f<13+c+4+4)return;g=l.c(13+c);var e=l.c(17+c);f=b.crypto.w(l.h(13,c),a.ba).u();b.a.log("sip client "+f+" of ssrc "+g+" change status to "+e);d.Zl&&d.Zl(g,f,e);l.shift(21+c)}else if(10==g){if(13>f)return;c=l.c(9);if(0>c||
1E3<=c){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len3");J();return}if(f<13+c+4+4)return;g=l.c(13+c);e=l.c(17+c);if(0>e||1E3<=e){b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid uri len4");J();return}if(f<13+c+4+4+e)return;f=b.crypto.w(l.h(13,c),a.ba).u();var r=b.crypto.w(l.h(21+c,e),a.ba).u();b.a.log("sip client "+f+" of ssrc "+g+" is updated to "+r);d.$l&&d.$l(g,f,r);l.shift(21+c+e)}else{b.a.log("disconnect, COMMAND_SIP_CLIENT_EX invalid command");J();return}M=L;G("COMMAND_SIP_CLIENT_EX")}},
function(){a.Wk=!0;b.a.log("this meeting adopts all questioners mode");l.shift(5);M=L;G("COMMAND_ALL_QUESTIONER_EX")},function(){9>l.length()||(a.em=l.c(5),b.a.log(["this meeting let ",a.em?"token holder":"coordinator"," accept uninvited guest"].join("")),l.shift(9),M=L,G("COMMAND_HOLDER_ACCEPT_GUEST_EX"))},w,function(){if(!(53>l.length())){var b=l.c(5);var a=l.c(9);var f=l.c(13);var g=l.c(17);var c=l.c(21);var e=l.c(25);var r=l.c(29);d.Lf&&d.Lf(b,a,f,g,c,e,r);l.shift(53);M=L;G("COMMAND_NEW_FOCUS_POINTER_EX")}},
w,function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);d.Ol&&d.Ol(b,a);l.shift(13);M=L;G("COMMAND_SYNC_FULL_SCREEN_EX")}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(200==g){if(17>f)return;a.Ne=l.c(9);a.Hf=l.c(13);l.shift(17)}else{if(a.F==b.b.Fa)0==g||1==g?(b.a.log("prompt the user for jnr password"),d.Qf&&d.Qf(2)):(b.a.log("too many tries to provide the correct jnr password"),d.Ka&&d.wb(b.b.qf+b.b.Vi-256));else if(101==g||100==g)d.Tf&&d.Tf(g-100),a.ih=g-100;else if(1==g||0==g)d.Tf&&d.Tf(g),
a.ih=g;l.shift(9)}M=L;G("COMMAND_JNR_PASSWORD_EX")}},H,H,H,w,function(){var a=l.length();if(!(9>a)){var f=l.c(5);0>f||512<=f?(b.a.log("disconnect, COMMAND_JOINNET_AUTO_UPDATE_EX invalid len"),J()):a<9+f||(l.shift(9+f),M=L,G("COMMAND_JOINNET_AUTO_UPDATE_EX"))}},function(){if(!(9>l.length())){var f=l.c(5),g=f&1?1:0;f=f&2?1:0;(g||f)&&b.a.log(["joinnet has restriction ",g&&f?"disable_upload_file,disable_save_slide":g?"disable_upload_file":"disable_save_slide"].join(""));a.cm=g;a.bm=f;l.shift(9);M=L;G("COMMAND_JOINNET_RESTRICTION_EX")}},
function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||32<g)b.a.log("disconnect, COMMAND_AUDIO_PREFERENCE_EX invalid codec count"),J();else if(!(f<9+4*g)){a.fs=g;a.$d=[];for(f=0;f<g;f++)a.$d.push(l.c(9+4*f));l.shift(9+4*g);M=L;G("COMMAND_AUDIO_PREFERENCE_EX")}}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||32<g)b.a.log("disconnect, COMMAND_VIDEO_PREFERENCE_EX invalid codec count"),J();else if(!(f<9+4*g)){a.Qs=g;a.me=[];for(f=0;f<g;f++)a.me.push(l.c(9+4*f));l.shift(9+4*g);M=L;G("COMMAND_VIDEO_PREFERENCE_EX")}}},
function(){a.mm=!0;b.a.log("joinnet token holder video set to TRUE");l.shift(5);M=L;G("COMMAND_HOLDER_VIDEO_EX")},function(){9>l.length()||(a.Uc=l.c(5),b.a.log(["total av bandwidth is set to ",a.Uc].join("")),l.shift(9),M=L,G("COMMAND_TOTAL_AV_BANDWIDTH_EX"))},function(){a.lm=!0;a.F==b.b.R?(b.a.log("The recording file of this meeting will be archived by the system administrator. (Recording is enforced and 'pause recordng' is disabled)"),d.Wl&&d.Wl()):b.a.log("The server turns on archiving");l.shift(5);
M=L;G("COMMAND_ARCHIVE_RECORDING_EX")},function(){var f=l.length();if(!(17>f)){var g=l.c(13);if(0>=g||1E6<g)b.a.log("disconnect, COMMAND_SELF_PICTURE_EX invalid file size"),J();else if(!(f<17+g)){f=l.c(5);var c=l.c(9);if(a.U[f])if(a.U[f].af)b.a.log("download self picture for ssrc "+f+" fails. file already exist");else{var d=b.crypto.w(l.h(17,g),a.ba).i();a.Jm(f,new Uint8Array(d),c)}l.shift(17+g);M=L;G("COMMAND_SELF_PICTURE_EX")}}},function(){if(!(9>l.length())){var f=l.c(5);a.Xk=!0;f?b.a.log("upload self picture abort due to error at server"):
b.a.log("upload self picture completely");l.shift(9);M=L;G("COMMAND_SPIC_NOTIFY_EX")}},function(){if(!(10>l.length())){var f=l.c(5),g=l.L(9);0<=f&&f<b.b.Ha&&a.U[f]&&(a.U[f].hd=g&1?a.U[f].hd|1:a.U[f].hd&254,a.U[f].hd=g&2?a.U[f].hd|2:a.U[f].hd&253,d.el&&d.el(f,g&1,g&2),b.a.log("ssrc["+f+"]'s a/v cap to "+(g&1?1:0)+","+(g&2?1:0)));l.shift(10);M=L;G("COMMAND_CHANGE_CAP_EX")}},function(){b.a.log("the meeting does not request recording");l.shift(5);M=L;G("COMMAND_JOINNET_NO_RECORDING_EX")},function(){if(!(9>
l.length())){var f=l.c(5),g=d.jc();a.La=f;b.a.log(["controller change to ",f].join(""));d.sl&&d.sl();a.vh(g,d.jc());l.shift(9);M=L;G("COMMAND_CONTROLLER_UPDATE_EX")}},function(){if(!(9>l.length())){var f=l.c(5),g=d.jc();a.Mb=f;b.a.log(["control flag change to 0x",f.toString(16),"(",b.m.zj(f),")"].join(""));a.vh(g,d.jc());d.rl&&d.rl(f);l.shift(9);M=L;G("COMMAND_MEETING_CONTROL_EX")}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0==g){if(13>f)return;a.xh=l.c(9);a.xh&&b.a.log("The server support file conversion");
l.shift(13)}else if(1==g){if(13>f)return;f=a.Qc;a.Qc=l.c(9);b.a.log(["The JoinNet has ",a.Qc," conversion ongoing at the server"].join(""));f!=a.Qc&&d.gl&&d.gl();l.shift(13)}else if(2==g){if(21>f)return;f=l.c(17);if(0>f||1E3<=f){b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid len");J();return}a.Qc=l.c(9);g=l.c(13);var c=l.h(21,f);b.a.log(["The JoinNet has ",a.Qc," conversion ongoing at the server"].join(""));b.a.log(["The conversion of file ",c," has error ",g].join(""));d.hl&&d.hl(c,g);l.shift(21+
f)}else{b.a.log("disconnect, COMMAND_FILE_CONVERSION_EX invalid command");J();return}M=L;G("COMMAND_FILE_CONVERSION_EX")}},function(){5>l.length()||(d.ll&&d.ll(),l.shift(5),M=L,G("COMMAND_FORCE_SYNC_EX"))},function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);d.Nl&&d.Nl(b,a);l.shift(13);M=L;G("COMMAND_SWAP_SLIDE_EX")}},function(){if(!(13>l.length())){var b=l.c(5),a=l.c(9);d.pl&&d.pl(b,a);l.shift(13);M=L;G("COMMAND_MOVE_SLIDE_EX")}},function(){9>l.length()||(a.fm=l.c(5),b.a.log(["this meeting let ",
a.fm?"token holder":"coordinator"," end meeting"].join("")),l.shift(9),M=L,G("COMMAND_HOLDER_END_MEETING_EX"))},function(){if(!(13>l.length())){var a=l.c(5),f=l.c(9);-1==f?b.a.log("ssrc "+a+" stops ForceSingleAudio"):b.a.log("ssrc "+a+" starts ForceSingleAudio of ssrc "+f);l.shift(13);M=L;G("COMMAND_FORCE_SINGLE_AUDIO_EX")}},function(){13>l.length()||(a.ag=l.c(5),a.$f=l.c(9),l.shift(13),M=L,G("COMMAND_MEETING_INFO_EX"))},function(){9>l.length()||(a.xb=l.c(5),b.a.log(["assistant change to ",a.xb].join("")),
d.ql&&d.ql(),l.shift(9),M=L,G("COMMAND_ASSIGN_ASSISTANT_EX"))},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||30<=g)b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len"),J();else if(!(f<9+g+4)){var c=l.c(9+g);0>c||128<=c?(b.a.log("disconnect, COMMAND_RECONNECT_NAME_EX invalid len2"),J()):f<9+g+4+c||(a.he=a.Ch=l.h(9,g),a.Ps=l.h(9+g+4,c),d.be&&d.be(a.Ch,a.Ps,a.G),l.shift(9+g+4+c),M=L,G("COMMAND_RECONNECT_NAME_EX"))}}},function(){13>l.length()||(x(l.c(5),l.c(9)),l.shift(13),M=L,G("COMMAND_FLIP_SLIDE_EX"))},
function(){9>l.length()||(a.Te=l.c(5),b.a.log(["opus preferred bitrate is ",a.Te].join("")),l.shift(9),M=L,G("COMMAND_OPUS_EX"))},function(){f(2)},w,function(){var f=l.length();if(!(9>f)){var g=l.c(5);0>g||1E3<=g?(b.a.log("disconnect, COMMAND_WEBRTC_SIGNAL_SERVER_EX invalid length"),J()):f<9+g||(a.ne=b.crypto.w(l.h(9,g),a.ba).u(),b.a.log(["webrtc, signal server url is ",a.ne].join("")),l.shift(9+g),M=L,G("COMMAND_WEBRTC_SIGNAL_SERVER_EX"))}},function(){if(!(10>l.length())){var f=l.c(5),g=l.L(9);0<=
f&&f<b.b.Ha&&a.U[f]&&(a.U[f].vm=g,d.Vl&&d.Vl(f));b.a.log(5,["webrtc, ssrc ",f," change status to ",g].join(""));l.shift(10);M=L;G("COMMAND_WEBRTC_NOTIFICATION_EX")}},function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||1E4<=g)b.a.log("disconnect, COMMAND_WEBRTC_TURN_SERVER_EX invalid length"),J();else if(!(f<9+g)){f=b.crypto.w(l.h(9,g),a.ba).u();try{var c=JSON.parse(f);b.a.isArray(c)&&(10<c.length&&(c.length=10),a.Eh=c)}catch(xa){}a.Eh.length?b.a.log("joinnet received turn server information from MCU"):
b.a.log("joinnet received turn server information from MCU, but no valid entry found");l.shift(9+g);M=L;G("COMMAND_WEBRTC_TURN_SERVER_EX")}}},w,w],ta=[function(){a.ds();a.qh();d.ac&&!d.ac()&&A()&&(b.a.log("update audio status upon restart of playback"),p(0));l.shift(5);M=L;G("PLAYBACK_NOTIFICATION_RESTART")},function(){function f(){if(!(412>l.length())){var b=l.h(20,128),f=b.indexOf("\x00");a.Fh.push(-1==f?b:b.slice(0,f));l.shift(412);h++;h==g&&(ha=I);M=L;G("PLAYBACK_NOTIFICATION_MEETING_INFO,2")}}
if(!(83>l.length())){var g=l.lc(79);if(0>g||g>=b.b.Ha)b.a.log("disconnect, PLAYBACK_NOTIFICATION_MEETING_INFO invalid usernum"),J();else{a.rc=!0;a.Nc=!0;var c=l.lc(23),e=l.lc(27),r=l.lc(19),w=[("0000"+l.lc(43)).slice(-2),":",("0000"+l.lc(47)).slice(-2)," ",l.lc(35),"/",l.lc(39),"/",l.lc(31)].join("");d.wl&&d.wl(c,e,r,w);d.Nf&&d.Nf();d.ac&&!d.ac()&&A()&&(b.a.log("update audio status upon start of playback"),p(0));l.shift(83);a.Fh=[];var h=0;0!=g?ha=f:M=L;G("PLAYBACK_NOTIFICATION_MEETING_INFO")}}},
function(){if(!(9>l.length())){var b=l.c(5);d.Bl&&d.Bl(b);l.shift(9);M=L;G("PLAYBACK_NOTIFICATION_TICK")}},function(){if(!(9>l.length())){var a=l.c(5);0==a?b.a.log("the server start to decrypt the recording file"):1==a?b.a.log("the server finish decrypting the recording file"):b.a.log("the server encounter error during decrypting the recording file");d.yl&&d.yl(a);l.shift(9);M=L;G("PLAYBACK_NOTIFICATION_DECRYPTION_STATUS")}},function(){if(!(9>l.length())){var b=l.c(5);d.xl&&d.xl(b);l.shift(9);M=L;
G("PLAYBACK_NOTIFICATION_DECRYPTION_PROGRESS")}},w,function(){var f=l.length();if(!(9>f)){var g=l.c(5);if(0>g||1E6<=g)b.a.log("disconnect, PLAYBACK_NOTIFICATION_PROPERTY invalid size"),J();else if(!(f<9+g)){f=b.crypto.w(l.h(9,g),a.ba).u();if(window.DOMParser){var c=new DOMParser;try{var e=c.parseFromString(f,"text/xml");d.zl&&d.zl(e)}catch(K){}}l.shift(9+g);M=L;G("PLAYBACK_NOTIFICATION_PROPERTY")}}},w,w,w,w];P.onclose=function(){z();a.Jd=!0;a.v.onmessage||F()};P.onerror=function(){z();a.kf=!0;a.v.onmessage||
F()};P.onmessage=function(f){ja=0;z();f=new t.a.g(f.data);l.D(f);T||e();a.v.onmessage||(ka=0,pa=b.a.A(),ha())};ja=0;(function(){T=setTimeout(function(){T=null;null==la&&e()},6E4)})();ha=I;l.length()&&(B(),ka=0,pa=b.a.A(),ha());a.disconnect=Q}function D(){a.disconnect&&(a.disconnect(),d.jb&&d.jb(),a.disconnect=null)}function v(){a.Qe=!0;if(a.sa)a.Jc&&(a.Jc.disconnect(),a.Jc=null),a.Jc=new b.protocol.Jc(a);else{var g=new t.a.g;g.o(a.N);g.f(a.In);g.f(1);a.j.send(g.i())}a.Sa&&(a.Sa.disconnect(),a.Sa=
null);a.Sa=new b.protocol.Sa(a)}function B(g,c,d,e,h){if(a.Pa){if(a.Pa.index==g)return;a.Pa.disconnect();a.Pa=null}a.C?a.Pa=new b.protocol.Is(a,g,c,d,e,h):setTimeout(function(){h&&h()},0)}function p(g){if(!a.C||!A())return 1;var c=new t.a.g;c.o(a.N);c.f(a.li);c.f(g?1:0);a.j.send(c.i());b.a.log("request audio "+(g?"On":"Off"))}function m(g){return 0<=g&&g<b.b.Ha&&a.U[g]?a.U[g].Xc:0}function I(){return a.qa||a.Ja||a.qc}function A(){return a.Vf>=a.li?!0:!1}var t=window.W,a={Gb:1,Hb:39,Fe:1,wa:0};b.a.log("hmtg jnkernel version "+
H());var d=b.jnkernel=b.$=b.$||{};d.version=d.version=H;a.bc=new Int32Array(b.b.dd);a.kb=new Int32Array(b.b.Qb);a.P=[];F();a.disconnect=null;a.Ma="";a.pc=!1;a.xF=2;a.Em=5E3;a.ng=2E4;a.Dm=2E5;a.rc=!0;a.ae=!1;a.Nc=!1;a.G=-1;a.Bq=72;a.fn=48;a.cn=65;a.Zm=67;a.zg=68;a.ni=69;a.mi=71;a.Ln=73;a.ui=74;a.oi=75;a.Kd=77;a.An=81;a.En=83;a.Eg=84;a.Nn=85;a.ti=88;a.an=70;a.yg=66;a.wi=116;a.bd=33;a.yo=86;a.hn=118;a.N=122;a.Mt=0;a.bn=1;a.Mn=2;a.yn=3;a.eu=4;a.lu=5;a.bw=6;a.ru=7;a.pn=8;a.su=9;a.du=10;a.Rt=11;a.Pt=12;
a.mu=13;a.Ou=14;a.qn=15;a.Pu=16;a.Iu=17;a.Xm=18;a.Gt=19;a.jn=20;a.In=21;a.kn=22;a.dn=23;a.Kt=24;a.aw=25;a.Ju=26;a.Nu=27;a.Mu=28;a.ku=29;a.Gu=30;a.si=31;a.Bn=32;a.xo=33;a.Lu=34;a.Dg=35;a.hu=36;a.nf=37;a.vi=38;a.Ag=39;a.Fu=40;a.It=42;a.Ht=43;a.zn=44;a.Cg=45;a.$t=46;a.iu=47;a.Bg=48;a.ou=49;a.Lt=50;a.qu=51;a.rn=52;a.Jt=53;a.tu=54;a.Kn=55;a.Hu=56;a.Cn=57;a.Dt=58;a.St=59;a.Zt=60;a.fu=61;a.Yt=62;a.Hn=63;a.gn=64;a.on=65;a.cu=66;a.nn=67;a.bu=68;a.Vt=69;a.Xt=70;a.Ft=71;a.$v=72;a.Ut=73;a.Ku=74;a.Et=75;a.pu=
76;a.Fn=77;a.Ym=78;a.Wt=79;a.$m=80;a.ln=81;a.Nt=82;a.en=83;a.Gn=84;a.mn=85;a.Tt=86;a.Qt=87;a.au=88;a.Wm=89;a.nu=90;a.Ot=91;a.gu=92;a.Jn=93;a.li=94;a.cw=95;a.zo=96;a.dw=97;a.Ji=98;a.Gp=98;a.sq=0;a.iz=1;a.nj=2;a.xq=3;a.vq=4;a.wq=5;a.tq=6;a.rq=7;a.yq=8;a.hz=9;a.mq=10;a.oq=11;a.De=12;a.pq=13;a.gz=14;a.fz=15;a.nq=16;a.uq=17;a.xn=1;a.ri=2;a.pi=3;a.un=4;a.tn=5;a.wn=6;a.sn=7;a.vn=8;a.ju=9;a.vz=0;a.sz=1;a.xz=2;a.qz=3;a.pz=4;a.wz=5;a.uz=6;a.rz=7;a.oz=8;a.nz=9;a.zq=10;a.Pg=65536;a.gj=8192;a.Bu=1;a.Dn=2;a.Cu=
3;a.uu=4;a.wu=5;a.vu=6;a.zu=7;a.Au=8;a.xu=9;a.Du=10;a.yu=11;a.Eu=12;a.cs=function(b){b=b.split(",");if(2!=b.length)return{};var a=parseInt(b[1].trim());if(!a)return{};b[0]=b[0].trim();if(0==b[0].length)return{};var g=t.a.fr(b[0]);null==g&&(g="");return{Vb:b[0],Jb:g,port:a}};a.Ca=function(g){if(a.F==b.b.R){var c=(new Date).toString().replace(/(GMT.*)/,""),d=b.a.A()-a.ee,e=d>>>0;d>>=0;var h=e;e&2147483648&&(h=-e>>>0);var m=h/1E3/60>>>0;h=m/60>>>0;m=("0000"+(m-60*h)).slice(-2);b.a.sj("hmtg_log_stat",
"hmtg_log_stat_first_idx","hmtg_log_stat_count","hmtg_log_stat_size","hmtg_log_stat_item_",b.a.Hp,b.a.Ip,b.a.cr+":"+c+(e&2147483648?["(-",h,":",m,",",d,") "].join(""):["(",h,":",m,",",d,") "].join(""))+g)}};a.GF=function(g){a.Ca(b.a.Ab(g))};a.Hj=function(){var b;for(b=0;b<a.aa.length;b++)if(!a.aa[b].Ze)return b;return-1};a.vh=function(b,c){c!=b&&d.ce&&d.ce(-1);c==a.G&&-1!=a.G&&b!=c&&(b=d.Mf?d.Mf():-1,-1!=a.Lb&&d.Cb&&d.Cb(1,a.Lb),-1==b?(b=a.Hj(),d.Cb&&d.Cb(0,b),d.wh(b)):d.wh(b))};a.ph=function(){var b;
for(b=0;b<a.aa.length;b++){var c=a.Lc[b];c&&c.data&&(a.wa-=c.data.length);a.Lc[b]=a.aa[b]}a.aa=[]};a.Vk=function(){var b;for(b=0;b<a.Lc.length;b++){var c=a.Lc[b];c.data&&(a.wa-=c.data.length)}a.Lc=[]};a.es=function(b,c){if(!(b.xa||a.Lc.length<=c)){var g=!1;c=a.Lc[c];c.data&&(c.Ga==b.Ga?c.Db==b.Db||c.Db&&0==c.Db.indexOf("[Deleted]")&&c.Db.slice(9)==b.Db?(b.data=c.data,b.ka=c.ib,b.ib=c.ib,b.ra=c.ra,b.xa=c.xa,b.hash=c.hash,b.Ts=c.Ts,c.data=null):g=!0:g=!0,g&&a.Vk())}};a.ds=function(){d.qs();a.La=-1;
a.ua=-1;a.za=-1;a.xb=-1;b.a.log("reset participant video channel status in jn_PlaybackRestart");var g;for(g=0;g<b.b.dd;g++)a.bc[g]=-1;for(g=0;g<b.b.Qb;g++)a.kb[g]=-1;a.xb=-1;a.La=-1;b.a.log("init controller to -1 (playback restart)");a.rc=!0;a.Nc=!0;g=a.U;for(var c in g)g.hasOwnProperty(c)&&(g[c].Ie=!1,g[c].af=null);a.ph();d.Al&&d.Al()};a.qh=function(){a.kF=b.a.A()};a.Jm=function(g,c,d){function e(a,c){function d(){b.a.log("download self picture for ssrc "+g+" fails. error in loading image")}try{if(5E7<
a.length){d();return}var e=new Blob([a],{type:c});var r=window.URL.createObjectURL(e)}catch(x){d();return}var m=new Image;m.addEventListener("load",function(){window.URL.revokeObjectURL(r);m.width&&m.height?(h&&(h.af=m),b.$.Kl&&b.$.Kl(g),b.a.log("download self picture for ssrc "+g+" completely")):b.a.log("download self picture for ssrc "+g+" fails. zero image size")},!1);m.addEventListener("error",function(){window.URL.revokeObjectURL(r);d()},!1);m.src=r}var h=a.U[g],r="";1==d?(r="image/bmp",(d=b.$.ms())?
new d("unzip",c,function(b){e(b,r)},function(){b.a.log("download self picture for ssrc "+g+" fails. error in unzipping")}):b.a.log("download self picture for ssrc "+g+" fails. cannot unzip")):(2==d?r="image/gif":3==d?r="image/jpeg":4==d&&(r="image/png"),e(c,r))};a.U={};a.Zb=!1;a.qa=!1;a.Ja=!1;a.uh=!1;a.qc=!1;a.Gf=!1;a.vb=!1;a.G=-1;a.ua=-1;a.za=-1;a.La=-1;a.Mb=0;a.xb=-1;a.Uh=[];for(var T=0;T<b.b.Fb;T++)a.Uh.push({});a.aa=[];a.Lc=[];a.wa=0;a.Qe=!1;for(T=0;T<b.b.dd;T++)a.bc[T]=-1;for(T=0;T<b.b.Qb;T++)a.kb[T]=
-1;c.prototype._m_jn_major=function(){return this.V};c.prototype._m_jn_minor=function(){return this.pb};c.prototype._szRealName=function(){return this.ci};c.prototype._cap=function(){return this.hd};c.prototype._bLogged=function(){return this.Ie};c.prototype._m_spic_img=function(){return this.af};c.prototype._m_iVideoSendingStatus=function(){return this.um};c.prototype._m_iWebRTCStatus=function(){return this.vm};y.prototype._m_iSource=function(){return this.Ga};y.prototype._index=function(){return this.index};
y.prototype._m_szName=function(){return this.Db};y.prototype._is_blank_page=function(){return this.lh};y.prototype._m_bDeleted=function(){return this.Ze};y.prototype._downloaded=function(){return this.xa};y.prototype._data=function(){return this.data};y.prototype._mark_array=function(){return this.gg};y.prototype._m_szGroup=function(){return this.Cd};y.prototype._m_iGroupIndex=function(){return this.Mh};y.prototype._m_szOwnerName=function(){return this.gc};y.prototype._group_id=function(){return""+
this.Cd+this.gc+this.Ga};y.prototype._is_active=function(){return a.G==d.jc()&&a.F==b.b.R?!1:this.index==a.Lb};h.prototype._m_iColor=function(){return this.rm};h.prototype._m_iIndex=function(){return this.V};h.prototype._m_iSource=function(){return this.Ga};h.prototype._m_nPenWidth=function(){return this.zm};h.prototype._m_iShape=function(){return this.vt};h.prototype._m_codepage=function(){return this.Xc};h.prototype._m_byMarkType=function(){return this.Gc};h.prototype._ax=function(){return this.Pj};
h.prototype._ay=function(){return this.Sj};h.prototype._m_zoom=function(){return this.pb};h.prototype._m_iID=function(){return this.od};h.prototype._m_offset_x=function(){return this.rd};h.prototype._m_offset_y=function(){return this.xf};h.prototype._m_rect_left=function(){return this.Om};h.prototype._m_rect_top=function(){return this.Yo};h.prototype._m_rect_right=function(){return this.Pm};h.prototype._m_rect_bottom=function(){return this.Nm};h.prototype._m_szContent=function(){return this.np};h.prototype._m_move_type=
function(){return this.wt};h.prototype._id_array=function(){return this.om};h.prototype._m_iCustomizedMarkType=function(){return this.kt};h.prototype._m_pCustomizedMarkData=function(){return this.yt};q.prototype._guid_str=function(){return this.Oj};q.prototype._active=function(){return this.active};q.prototype._static_data=function(){return this.Mm};q.prototype._stat=function(){return this.stat};q.prototype._data_rate_threshold=function(){return this.kd};q.prototype._jn_tokens=q.prototype.Yq=function(){if(0<
this.ga)return this.ga;var a=b.a.A();this.ga+=(a-this.Ba)*this.zb/8E3;this.Ba=a;return this.ga};q.prototype._data_rate=function(b){if("undefined"===typeof b)return this.zb;a.C&&(this.zb=b,d.Kb(0))};d.it=function(g,c){function e(g,c){var e=a.aa[g];!e.data||c&&!b.a.endsWith(e.Db,".jzf")||(a.wa-=e.data.length,e.data=null,e.ka=0,e.ib=0,e.xa=0,e.ra=0,d.Sl&&d.Sl(g))}var h=b.$.Rh();if(!(a.wa+c<=h)){var r,m=a.aa.length,p=Math.max(m-1-g,g);for(r=p;0<r;r--){var q=g-r;if(0<=q&&(e(q,!0),a.wa+c<=h))return;q=g+
r;if(q<m&&(e(q,!0),a.wa+c<=h))return}for(r=p;0<r;r--){q=g-r;if(0<=q&&(e(q,!1),a.wa+c<=h))break;q=g+r;if(q<m&&(e(q,!1),a.wa+c<=h))break}}};d.Rh=function(){return d.Yl?1048576*d.Yl():536870912};d._memory_usage=d.KB=function(){return a.wa};d._cipher_name=d.Sq=function(){return a.jd};d._duration_str=d.LA=function(){return a.wr};d._jn_bConnected=d.rj=function(){return a.C};d._jn_bConnecting=d.VA=function(){return a.pc};d._jn_UserArray=d.PA=function(){return a.U};d._jn_ssrc_index=d.AB=function(){return a.G};
d._jn_iSessionIndex=d.tB=function(){return a.ta};d._jn_dwSessionStartTick=d.gB=function(){return a.ee};d._jn_iWorkMode=d.Xq=function(){return a.F};d._jn_szUserID=d.BB=function(){return a.Ma};d._jn_codetype=d.bB=function(){return a.bb};d._jn_opus_preferred_bitrate=d.yB=function(){return a.Te};d._jn_audio_codec_array=d.QA=function(){return a.$d};d._jn_video_codec_array=d.GB=function(){return a.me};d._jn_SlideArray=d.OA=function(){return a.aa};d._jn_iActiveSlideIndex=d.hB=function(){return a.Lb};d._jn_bTokenOwner=
d.aB=function(){return a.Zb};d._jn_bTokenHolder=d.$A=function(){return a.qa};d._jn_bDataSender=d.WA=function(){return a.Ja};d._jn_iSize_w=d.vB=function(){return a.zh};d._jn_iSize_h=d.uB=function(){return a.yh};d._jn_bPreferenceQuestioner=d.Vq=function(){return a.rc};d._jn_iAssistant=d.jB=function(){return a.xb};d._jn_iTokenHolder=d.wB=function(){return a.ua};d._jn_iController=d.kB=function(){return a.La};d._jn_iControlFlag=d.Wq=function(){return a.Mb};d._jn_iDataSender=d.lB=function(){return a.za};
d.is_talker=d.gC=function(b){if(0>b)return!1;if(b==a.ua||b==a.za)return!0;for(var g=0;g<a.Tc;g++)if(b==a.bc[g])return!0;return!1};d.is_questioner=d.eC=function(b){if(0>b||b==a.ua)return!1;if(b==a.za)return!0;for(var g=0;g<a.Tc;g++)if(b==a.bc[g])return!0;return!1};d.is_speaker=d.fC=function(b){if(0>b)return!1;for(var g=0;g<a.Tc;g++)if(b==a.bc[g])return!0;return!1};d._jn_iParticipantVideoSsrc=d.rB=function(){return a.kb};d._jn_iParticipantAudioSsrc=d.qB=function(){return a.bc};d._jn_iAdjustedMaxBandwidth=
d.iB=function(){return a.Rc};d._jn_iMaxBandwidth=d.nB=function(){return a.eb};d._jn_tokens=d.Yq=function(){if(0<a.ga)return a.ga;var g=b.a.A();a.ga+=(g-a.Ba)*a.va/8E3;a.Ba=g;return a.ga};d._jn_auto_download_all=d.SA=function(){return a.gs};d._jn_auto_download_next=d.TA=function(){return a.hs};d._jnj_opus_preferred_bitrate=d.JB=function(){return a.Rs};d._stat_video=d.NB=function(){return a.Lm};d._stat_audio=d.MB=function(){return a.Km};d._codec2str=d.KA=function(){return b.m.Xg};d._jn_bPreferenceQuestioner=
d.Vq=function(){return a.rc};d._jn_bPreferenceBothVideo=d.XA=function(){return a.ae};d._jn_bRecvVideo=d.ZA=function(){return a.Nc};d._jn_iMaxParticipantAudio=d.oB=function(){return a.Tc};d._jn_bQuestionRequest=d.YA=function(){return a.vb};d._jn_iControlFlag=d.Wq=function(){return a.Mb};d._jn_conversion_support=d.dB=function(){return a.xh};d._jn_conversion_count=d.cB=function(){return a.Qc};d._jn_disable_upload_file=d.fB=function(){return a.cm};d._jn_disable_save_slide=d.eB=function(){return a.bm};
d._sync_ssrc=d.jc=function(){return a.Mb&b.b.Hg?a.La:a.ua};d._is_sync_ssrc=d.qj=function(){var g=a.Mb&b.b.Hg?a.La:a.ua;return-1!=a.G&&a.G==g};d._q_ssrc=d.Ge=function(){return a.Mb&b.b.Pi?a.La:a.ua};d._fullscreen_ssrc=d.MA=function(){return a.Mb&b.b.Ri?a.La:a.ua};d._tab_ssrc=d.Zq=function(){return a.Mb&b.b.Si?a.La:a.ua};d._poll_ssrc=d.LB=function(){return a.Mb&b.b.tw?a.La:a.ua};d._jn_iRecordingStatus=d.sB=function(){return a.dm};d._jn_to_archive=d.DB=function(){return a.lm};d._jn_plugin_data=d.zB=
function(){return a.P};d._has_jnr_password=d.NA=function(){return a.ih};d._jn_bEnableJNRPassword=d.Uq=function(){return a.Ne};d._jn_user_record=d.FB=function(){return a.Fh};d._jn_bAudioCap=d.UA=function(){return a.Mc};d._jn_webrtc_signal_server_url=d.IB=function(){if(!a.ne)return"";var g=b.crypto.ad(a.zc.ja.slice(0,16));g=g.Pb().slice(0,32);var c=b.crypto.ad(a.Im.ja.slice(0,16));c=(""+a.ta+"a"+c.Pb()).slice(0,36);return a.ne+"?peerName="+a.G+"&roomId="+c+"&hash="+g};d._jn_webrtc_check_auth=d.HB=function(g){var c=
b.crypto.ad(a.zc.key.slice(0,16));c=c.Pb().slice(0,32);return c==g};d._jn_is_webrtc_supported=d.xB=function(){return!!a.ne};d._jn_turn_server_array=d.EB=function(){return a.Eh};d._jn_audio_rate=d.RA=function(b){if("undefined"===typeof b)return a.Me;a.C&&(a.Me=b,d.Kb(0))};d._jn_iMaxVideoBitrate=d.pB=function(b){if("undefined"===typeof b)return a.Xf;a.C&&(a.Xf=b,d.Kb(0))};d._jn_iMaxAppdataBitrate=d.mB=function(b){if("undefined"===typeof b)return a.Se;a.C&&(a.Se=b,d.Kb(0))};d._jn_targetrate=d.CB=function(g){if("undefined"===
typeof g)return a.va;a.va!=g&&a.C&&(b.a.log("JoinNet set target rate "+a.va+" -> "+g),a.va=g,d.Kb(0))};d.jn_command_Reset=d.yE=function(){a.F=b.b.R;a.aa=[];a.Lc=[];a.wa=0};d.jn_command_CallbackReady=d.QD=function(){var a=b.$;a.jl=a.jn_callback_ErrorReport;a.ms=a.jn_callback_decompress;a.Yl=a.jn_callback_memory_threshold;a.Xl=a.jn_callback_fail_to_connect;a.Ka=a.jn_callback_UpdateStatus;a.wb=a.jn_callback_UpdateStatus_MessageBox;a.Kf=a.jn_callback_ErrorWrongVersion;a.Oc=a.jn_callback_DisconnectFromMCU;
a.bl=a.jn_callback_AddUser;a.il=a.jn_callback_DeleteUser;a.jb=a.jn_callback_EventQuitSession;a.kl=a.jn_callback_EventStartSession;a.$k=a.jn_callback_AddSlideTitle;a.Aa=a.jn_callback_ChatText;a.Nf=a.jn_callback_NetInitFinish;a.nl=a.jn_callback_JointBrowsing;a.am=a.jn_callback_update_duration_str;a.wl=a.jn_callback_PlaybackInitStat;a.Bl=a.jn_callback_PlaybackTickUpdate;a.Al=a.jn_callback_PlaybackRestart;a.fl=a.jn_callback_ChangeWorkMode;a.cl=a.jn_callback_AudioPacketRecved;a.Tl=a.jn_callback_VideoPacketRecved;
a.Ql=a.jn_callback_UnknownMediaAlert;a.Mf=a.jn_callback_GetSelectedSlideIndex;a.Cb=a.jn_callback_FlipSlide;a.de=a.jn_callback_mark_event;a.Lf=a.jn_callback_FocusPointer;a.Rl=a.jn_callback_UpdateDeletedSlideTitle;a.Sl=a.jn_callback_UpdateReleasedSlideTitle;a.tl=a.jn_callback_NewTokenHolder;a.Of=a.jn_callback_NewDataSender;a.ql=a.jn_callback_NewAssistant;a.sl=a.jn_callback_NewController;a.rl=a.jn_callback_NewControlFlag;a.ul=a.jn_callback_ParticipantVideoSpeakerStatus;a.Rf=a.jn_callback_VideoBitrateChanged;
a.Jf=a.jn_callback_AppdataBitrateChanged;a.Zk=a.jn_callback_AddQuestion;a.dl=a.jn_callback_CancelQuestion;a.ml=a.jn_callback_JoinRequest;a.Jl=a.jn_callback_SIPJoinRequest;a.Zl=a.jn_callback_sipclient_status_update;a.$l=a.jn_callback_sipclient_transfer_update;a.ls=a.jn_callbackQuestionSkipped;a.gl=a.jn_callback_ConversionCount;a.hl=a.jn_callback_ConversionResult;a.el=a.jn_callback_ChangeCapability;a.Gl=a.jn_callback_PollRequest;a.Yk=a.jn_callback_AddPollResult;a.Pl=a.jn_callback_TokenHolderPollRequest;
a.al=a.jn_callback_AddTokenHolderPollResult;a.Pc=a.jn_callback_LeaveMessage;a.Sf=a.jn_callback_WaitForResponse;a.ol=a.jn_callback_JointBrowsingMode;a.Ol=a.jn_callback_SyncFullScreen;a.Ll=a.jn_callback_ServerShutdown;a.Qf=a.jn_callback_PromptPassword;a.be=a.jn_callback_ReconnectName;a.Kl=a.jn_callback_SelfPictureReady;a.ll=a.jn_callback_ForceSync;a.Nl=a.jn_callback_SwapSlide;a.pl=a.jn_callback_MoveSlide;a.ce=a.jn_callback_ResetSlidePolling;a.Hl=a.jn_callback_PollSlideDownloadResult;a.Il=a.jn_callback_RecordingStatusNotification;
a.Wl=a.jn_callback_archive_recording;a.Tf=a.jn_callback_jnr_password_status;a.Pf=a.jn_callback_PlugInRequestChannelResponse;a.Cl=a.jn_callback_PlugInCloseChannelResponse;a.Fl=a.jn_callback_PlugInSetStaticDataResponse;a.Dl=a.jn_callback_PlugInControlChannelData;a.El=a.jn_callback_PlugInPacketRecved;a.Ul=a.jn_callback_VideoSendingStatusNotification;a.yl=a.jn_callback_PlaybackJNRDecryptionStatus;a.xl=a.jn_callback_PlaybackJNRDecryptionProgress;a.Ml=a.jn_callback_SetDefaultPlaybackVideo;a.$b=a.jn_callback_ForceIFrame;
a.zl=a.jn_callback_PlaybackJNRPropertyReady;a.ac=a.jn_callback_IsRecvingAudio;a.Vl=a.jn_callback_WebRTCStatusNotification;a.vl=a.jn_callback_PlaybackEndOfFile};d.jn_command_read_jnj=d.cF=function(c){a.ph();a.Vk();a.qh();var d=c.entries;F();a.Bs=d.portm>>>0;a.Cs=(d.portm2||0)>>>0;a.im=d.ip;a.jm=d.backupip||"";a.zh=d.size_w||320;a.yh=d.size_h||240;8>a.zh&&(a.zh=8);8>a.yh&&(a.yh=8);a.gs=d.auto_download_all;a.hs="undefined"===typeof d.auto_download_next?!0:d.auto_download_next>>0;a.Rs="undefined"===typeof d.opus_preferred_bitrate?
0:d.opus_preferred_bitrate>>0;a.We=d.userinfo||"";a.im=d.ip;a.jm=d.backupip||"";var g=a.bb=d.codetype||0;a.oh=a.cs(d.use_relay||"");a.gm=d.make_recording||0;if(0==g)b.a.log("no code type found in .jnj file");else{if(4==g||5==g){a.Ma=a.sc=(d.userid||"").slice(0,127);if(!a.sc)return b.a.log("no userid is specified in .jnj file"),!1;if((c=d.owner_passwd||"")&&b.a.localStorage[c]){var e=b.a.Yc(b.a.localStorage[c]);"undefined"!==e&&e.time&&"string"===typeof e.value&&(e=b.crypto.w(e.value,b.crypto.jf).u(),
a.zd=e.slice(0,99),b.a.td||b.a.localStorage.removeItem(c))}a.Bh=(d.username||"").slice(0,127);a.dg=(d.playback_filename||"").slice(0,23);a.je=(d.invite_ticket||"").slice(0,255);a.wd=!0;a.cc=a.Vc="";if(5!=g||a.dg)4==g?(a.je?(a.Ma=("_"+a.sc).slice(0,127),a.Ue=a.Ve="Invited Guest"):a.zd?(a.Ma=a.sc,a.Vc=b.a.hf(a.zd,b.b.fj),a.cc=a.Vc,a.zd=""):(a.Ma=("_"+a.sc).slice(0,127),a.Ue=a.Ve="Guest"),a.F=b.b.R):(a.zd&&(a.Ma=a.sc,a.Vc=b.a.hf(a.zd,b.b.fj),a.cc=a.Vc,a.zd=""),a.F=b.b.Fa);else return b.a.log("no jnr is specified in playback jnj file"),
!1;return!0}if(13==g||15==g){a.We=b.a.hf(d.userinfo||"",b.b.Lp);a.Ma=a.sc=(d.userid||"").slice(0,127);if(0==a.We.length)return b.a.log("no userinfo is specified in .jnj file"),!1;a.le=b.a.hf(d.player_name||"",128);a.le.length&&b.a.oe(["found player_name ",a.le," in jnj"].join(""));15==g?((c=d.owner_passwd||"")&&b.a.localStorage[c]&&(e=b.a.Yc(b.a.localStorage[c]),"undefined"!==e&&e.time&&"string"===typeof e.value&&(e=b.crypto.w(e.value,b.crypto.jf).u(),a.km=e.slice(0,99),b.a.td||b.a.localStorage.removeItem(c))),
a.wd=!0,a.If=!1,a.F=b.b.Fa):(a.If=!0,a.F=d.action?b.b.Fa:b.b.R);a.cc=a.Vc="";return!0}}return!1};d.jn_command_initconnectmedia=d.ts=function(c){a.nm=!1;a.C=!1;a.GD=!1;a.Xk=!1;a.Zb=!1;a.qa=!1;a.Ja=!1;a.uh=!1;a.qc=!1;a.Gf=!1;a.vb=!1;a.ee=b.a.A();a.va=a.Rc=a.eb=a.Xf=1E7;a.Se=0;a.Me=0;a.Uc=0;a.G=-1;a.ua=-1;a.za=-1;a.La=-1;a.Mb=0;a.xb=-1;a.Uh=[];for(var g=0;g<b.b.Fb;g++)a.Uh.push({});a.Qe=!1;for(g=0;g<b.b.dd;g++)a.bc[g]=-1;for(g=0;g<b.b.Qb;g++)a.kb[g]=-1;a.U={};a.Gh=-1;a.Hh=-1;a.Te=0;a.Wf=-1;a.Tc=-1;a.ge=
-3;a.Oe=!1;a.ws=-1;a.iF=-2;a.js=!1;a.Wk=!1;a.em=0;a.fm=0;a.Ne=!1;a.Hf=!1;a.mm=!1;a.cm=a.bm=0;a.fs=0;a.$d=[];a.Qs=0;a.me=[];a.lm=!1;a.ih=!1;a.xh=0;a.Qc=0;a.dm=1;a.$c&&(a.$c.disconnect(),a.$c=null);a.ne="";a.Eh=[];a.Mc=a.vd=!1;d.kl&&d.kl();a.Pe=c||!1;a.JD=!1;a.pc=!0;a.sa=!1;a.oh.port?a.F==b.b.Fa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):(a.ca=a.oh,a.sa=!0,b.a.log(["using one time mcu relay ",a.ca.Vb,",",a.ca.port].join(""))):
a.ID&&a.ca.port&&(a.F==b.b.Fa?b.a.log("Warning: mcu relay doesn't support playback, one time mcu relay setting is overruled for this connection"):b.a.log(["using mcu relay ",a.ca.Vb,",",a.ca.port].join("")));a.Vf=0;a.bg=0;g=b.m.Wh(a.im,a.jm,a.Bs,a.Cs);c=g.Ph;g=g.bi;a.gm&&a.sa&&(b.a.log("make recording cannot use relay, clear relay setting and try to directly connect......"),a.sa=!1);E(c,g)};d.jn_command_QuitConnection=d.ps=function(){a.disconnect&&(b.a.log("disconnect, user(or a reconnection) quit connection"),
D())};d.jn_command_OwnerResponse=d.fE=function(b,c){var d=new t.a.g;d.o(a.N);d.f(a.pn);d.H(b);d.f(c);a.j.send(d.i());return 0};d.jn_command_SendChatText=d.zE=function(c,e){if(!a.C)return 1;if(b.a.startsWith(e,"__command:")){if(b.a.startsWith(e,"__command: swap ")){c=e.slice(16);e=c.indexOf(" ");if(-1==e)return d.Aa&&d.Aa(-1,-1,1,"syntax:",0),d.Aa&&d.Aa(-1,-1,1,"__command: swap m n",0),0;d.rs(parseInt(c),parseInt(c.slice(e+1)))}else if(b.a.startsWith(e,"__command: move ")){c=e.slice(16);e=c.indexOf(" ");
if(-1==e)return d.Aa&&d.Aa(-1,-1,1,"syntax:",0),d.Aa&&d.Aa(-1,-1,1,"__command: move index target_pos",0),0;d.ns(parseInt(c),parseInt(c.slice(e+1)))}else d.Aa&&d.Aa(-1,-1,1,"list of commands:",0),d.Aa&&d.Aa(-1,-1,1,"__command: swap m n",0),d.Aa&&d.Aa(-1,-1,1,"__command: move index target_pos",0);return 0}if(e.length>=b.b.Jp)return 1;if(-1==c)return a.C?(c=new t.a.g("C"),c.f(e.length),e.length&&c.D(b.crypto.M(e,a.ba)),a.j.send(c.i()),e=0):e=1,e;var g=new t.a.g;g.o(a.N);g.f(a.zn);g.f(c);g.f(e.length);
e.length&&g.D(b.crypto.M(e,a.ba));a.j.send(g.i());return 0};d.jn_command_UpdateTextCodePage=d.SE=function(c){if(!a.C||a.F!=b.b.R)return 1;var d=new t.a.g;d.o(a.N);d.f(a.Kn);d.f(c);a.j.send(d.i());return 0};d.jn_command_WebOfficeSetVisitorName=d.$E=function(b){a.Ue=a.Ve=b};d.jn_command_WebOfficeSetOwnerPassword=d.ZE=function(b){a.Ma=a.sc;a.Vc=b;a.cc=a.Vc};d.jn_command_PlaybackPlay=d.lE=function(){if(!a.C||a.F!=b.b.Fa)return 1;var c=new t.a.g;c.o(a.bd);c.f(9);a.j.send(c.i());return 0};d.jn_command_PlaybackPause=
d.kE=function(){if(!a.C||a.F!=b.b.Fa)return 1;var c=new t.a.g;c.o(a.bd);c.f(7);a.j.send(c.i());return 0};d.jn_command_PlaybackRandomAccess=d.mE=function(c){if(!a.C||a.F!=b.b.Fa)return 1;var d=new t.a.g;d.o(a.bd);d.f(8);d.f(c);a.j.send(d.i());a.qh();return 0};d.jn_command_PlaybackRequestRepeat=d.nE=function(c){if(!a.C||a.F!=b.b.Fa)return 1;var d=new t.a.g;d.o(a.bd);d.f(c?6:5);a.j.send(d.i());return 0};d.jn_command_TCPMedia=d.ME=v;d.jn_command_UnknownMedia=d.ss=function(c,e,h){h=h?h:"";if(!a.rh[c+h]){a.rh[c+
h]=!0;b.a.log("unknown media type "+c+h+" from ssrc "+e+", alert user");var g;a.U[e]?g=a.U[e].ci:g="ssrc"+e;d.Ql&&d.Ql(c,g,h)}};d.jn_command_write_timestamp_given=d.vs=function(b,c,d,e){var g=new t.a.g;g.o(b);g.f(e);g.f(d);g.f(a.G);g.f(a.ta);g.f(0);g.D(new t.a.g(c));return g};d.jn_command_generate_auth_data=d.Uf=function(c){var d=b.a.A()-a.cb,g=new t.a.g;g.f(d);d=""+String.fromCharCode(g.L(0)^c.L(4));d+=String.fromCharCode(g.L(1)^c.L(8));d+=String.fromCharCode(g.L(2)^c.L(12));d+=String.fromCharCode(g.L(3)^
c.L(16));return d=b.crypto.M(d,a.ea).u()};d.jn_command_send_audio_pkt=d.dF=function(b){return a.Sa&&d.xs()?a.Sa.mt(b):!0};d.jn_command_send_video_pkt=d.fF=function(b){return a.Sa&&d.ys()?a.Sa.pt(b):!0};d.jn_command_send_plugin_pkt=d.eF=function(b,c,d,e,h,m){return a.Sa?a.Sa.nt(b,c,d,e,h,m):!0};d.jn_command_send_spic_pkt=d.us=function(b){return a.Sa?a.Sa.ot(b):!0};d.jn_command_AskQuestion=d.ND=function(){if(a.C&&!(a.qa||a.vb||a.qc||a.Ja)){var b=new t.a.g("Q");b.f(a.G);b.f(3);b.K("Yes");a.j.send(b.i());
a.vb=!0}};d.jn_command_simulate_disconnect=d.gF=function(){b.a.log("simulate network disconnection");var c=new t.a.g("H");a.j.send(c.i())};d.jn_command_RefreshSlide=d.uE=function(b){a.C&&(a.Pa&&(a.Pa.disconnect(),a.Pa=null),b=a.aa[b],b.data&&(a.wa-=b.data.length),b.data=null,b.ka=0,b.ib=0,b.xa=0,b.ra=0)};d.jn_command_DownloadSlide=d.VD=function(b,a,c,d){B(b,!1,a,c,d)};d.jn_command_DownloadSlideEx=d.WD=function(b,a,c,d){B(b,!0,a,c,d)};d.jn_command_StopSlideDownload=d.qs=function(){a.Pa&&(a.Pa.disconnect(),
a.Pa=null)};d.jn_command_UploadSlide=d.VE=function(c,d,e,h,m,p,q){a.Ac&&(a.Ac.disconnect(),a.Ac=null);a.C?a.Ac=new b.protocol.Ls(a,c,d,e,h,m,p,q):setTimeout(function(){q&&q()},0)};d.jn_command_StopSlideUpload=d.KE=function(){a.Ac&&(a.Ac.disconnect(),a.Ac=null)};d.jn_command_UploadSelfPicture=d.UE=function(c,d){a.$c||1E6<d.length||(a.$c=new b.protocol.Os(a,c,d))};d.jn_command_FlipSlide=d.wh=function(b){if(a.C){var c=new t.a.g("A");c.f(b);a.j.send(c.i());-1!=b&&d.os(b)}};d.jn_command_PollSlideDownload=
d.os=function(b){d.ce&&setTimeout(function(){d.ce(b)},0);a.Vh&&clearTimeout(a.Vh);a.Vh=setTimeout(function(){a.Vh=null;if(a.C){var c=new t.a.g;c.o(a.N);c.f(a.Dg);c.f(0);c.f(b);a.j.send(c.i())}},1E3)};d.jn_command_FocusPointer=d.ZD=function(b,c,d,e,h,m,p){var g=new t.a.g;g.o(a.N);g.f(a.dn);g.f(b);g.f(c);g.f(d);g.f(e);g.f(h);g.f(m);g.f(p);a.j.send(g.i())};d.jn_command_SendNewStroke=d.DE=function(c,d,e,h,m,p){if(a.C){var g=new t.a.g;g.o(a.Kd);g.o(b.b.Ng);g.f(d);g.f(c);g.f(a.G);g.f(e);g.f(h);g.f(m.length);
for(c=0;c<m.length;c++)g.f(m[c]),g.f(p[c]);g.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):a.j.send(g.i())}};d.jn_command_SendNewText=d.EE=function(c,d,e,h,m,p,q,v){if(a.C&&!(2048<=v.length)){var g=new t.a.g;g.o(a.Kd);g.o(b.b.Og);g.f(d);g.f(c);g.f(a.G);g.f(e);g.f(h);g.f(m);g.f(h+p);g.f(m+q);g.f(v.length);v.length&&g.D(b.crypto.M(v,a.ba));g.f(100);b.a.debug_mark_delay?setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):a.j.send(g.i())}};d.jn_command_SendMarkMove=
d.CE=function(c,d,e,h,m){if(a.C){var g=new t.a.g;g.o(a.Kd);g.o(b.b.dj);g.f(c);g.f(d);g.f(e);g.f(h);g.f(100);g.f(m.length);for(c=0;c<m.length;c++)g.f(m[c]);b.a.debug_mark_delay?setTimeout(function(){a.j.send(g.i())},1E3*b.a.debug_mark_delay):a.j.send(g.i())}};d.jn_command_SendImageMark=d.BE=function(c,d,e,h,m,p,q,v,y){if(a.C){var g=1==d?8:4;if(5E5<g+v.length)return 1;var r=new t.a.g;r.o(a.Kd);r.o(b.b.cj);r.f(c);r.f(e);r.f(h);r.f(q);r.f(d);r.f(g+v.length);4!=d&&(r.Fd(e+m),r.Fd(h+p));5!=d&&r.Zc(y);r.D(new t.a.g(v));
b.a.debug_mark_delay?setTimeout(function(){a.j.send(r.i())},1E3*b.a.debug_mark_delay):a.j.send(r.i())}};d.jn_command_ConvertCustomizedData=d.SD=function(b,a,c,d,e,h,m){var g=new t.a.g;4!=b&&(g.Fd(a+d),g.Fd(c+e));5!=b&&g.Zc(m);g.D(new t.a.g(h));return g.h(0)};d.jn_command_ChangeCapability=d.RD=function(b,c){!a.C||!!a.sh==!!b&&!!a.th==!!c||(a.Mc=b,a.vd=c,b=new t.a.g,b.o(a.N),b.f(a.Ym),c=0,a.sh=a.Mc,a.th=a.vd,a.Mc&&(c|=1),a.vd&&(c|=2),b.o(c),a.j.send(b.i()))};d.jn_command_AdjustVideoBitrate=d.Kb=function(c){var e,
g=a.va,h=a.Rc,m=a.eb;if(a.Uc){var p=1;a.za!=a.ua&&p++;for(e=0;e<b.b.dd;e++)-1!=a.bc[e]&&p++;m=Math.min(a.Uc/p,m)}m=Math.min(a.Xf+a.Me,m)>>0;a.Rc=m>>0;p=a.va;if(c){g=p;var q=a.va/20;q=Math.max(3E3,q);q+=500*Math.random();p+=q*c>>0;p=Math.max(g>>1,p);p=Math.min(g<<1,p)}p=Math.min(m-a.Me,p);p=Math.max(b.b.Mp,p);a.va=p;if(g!=a.va||h!=a.Rc)g!=a.va&&a.C&&(a.Ca("rate control, targetrate "+g+" -> "+a.va),a.F==b.b.R&&b.a.log("rate control, targetrate "+g+" -> "+a.va)),h!=a.Rc&&a.C&&(a.Ca("max bandwidth "+
h+" -> "+a.Rc),a.F==b.b.R&&b.a.log("max bandwidth "+h+" -> "+a.Rc)),d.Rf&&d.Rf();for(e=0;e<b.b.Fb;e++)a.P[e]&&a.P[e].active&&(q=a.P[e].kd/20,q=Math.max(3E3,q),q+=500*Math.random(),p=a.P[e].zb,p+=q*c>>0,g=a.P[e].kd,a.Se&&(g=Math.min(a.Se,g)>>0),p=Math.min(g,p),p=Math.max(1E3,p),p=Math.max(a.P[e].zb>>1,p),p=Math.min(a.P[e].zb<<1,p),a.P[e].zb!=p&&(a.C&&a.Ca("appdata channel "+e+", data rate "+a.P[e].zb+" -> "+p),a.P[e].zb=p,d.Jf&&d.Jf(e)))};d.jn_command_UpdatePreference=d.RE=function(b){if(a.C&&(!b||
!a.rc)&&(b||a.rc)){a.rc=b;var c=new t.a.g;c.o(a.N);c.f(a.yn);c.f(a.G);c.f(b?1:0);a.j.send(c.i())}};d.jn_command_UpdateBothVideoPreference=d.QE=function(c){if(a.C&&(!c||!a.ae)&&(c||a.ae)){a.ae=c;var d=new t.a.g;a.F==b.b.R?(d.o(a.N),d.f(a.si)):(d.o(a.bd),d.f(10));d.f(c?1:0);a.j.send(d.i())}};d.jn_command_RequestVideo=d.xE=function(b){if(a.C&&(!b||!a.Nc)&&(b||a.Nc)){a.Nc=b;var c=new t.a.g;c.o(a.yo);c.f(b?1:0);a.j.send(c.i())}};d.jn_command_ParticipantVideoRequest=d.hE=function(c){for(var d,e=d=-1,g=
0;g<b.b.Qb;g++){if(a.kb[g]==c){d=g;break}-1==a.kb[g]&&(e=g)}if(a.F==b.b.R){if(!a.C)return 1;if(-1!=d)return 0;d=new t.a.g;d.o(a.N);d.f(a.nf);d.f(a.vq);d.f(c);a.j.send(d.i())}else if(a.F==b.b.Fa){if(!a.C)return 1;if(-1!=d)return 0;-1==e&&(d=new t.a.g,d.o(a.N),d.f(a.Bg),d.f(a.kb[0]),d.f(0),a.j.send(d.i()),e=0);d=new t.a.g;d.o(a.N);d.f(a.Bg);d.f(c);d.f(1);a.j.send(d.i());0<=c&&c<b.b.Ha&&(a.kb[e]=c)}return 0};d.jn_command_ParticipantVideoStop=d.iE=function(c){var d;if(!a.C)return 1;var e=-1;for(d=0;d<
b.b.Qb;d++)if(a.kb[d]==c){e=d;break}if(-1==e)return 0;a.F==b.b.R?(d=new t.a.g,d.o(a.N),d.f(a.nf),d.f(a.rq),d.f(c),a.j.send(d.i()),a.kb[e]=-1):a.F==b.b.Fa&&(a.kb[e]=-1,d=new t.a.g,d.o(a.N),d.f(a.Bg),d.f(c),d.f(0),a.j.send(d.i()));return 0};d.jn_command_ParticipantVideoAssignSpeaker=d.gE=function(c){if(!a.C)return 1;if(a.G!=d.Ge())return 0;if(a.F==b.b.R){b.a.log("assign speaker to ssrc "+c);var e=new t.a.g;e.o(a.N);e.f(a.nf);e.f(a.mq);e.f(c);a.j.send(e.i())}return 0};d.jn_command_ParticipantVideoStopSpeaker=
d.jE=function(c){if(!a.C)return 1;var e=d.Ge();if(c!=a.G&&a.G!=e)return 0;a.F==b.b.R&&(b.a.log("stop speaker ssrc "+c),e=new t.a.g,e.o(a.N),e.f(a.nf),e.f(a.oq),e.f(c),a.j.send(e.i()));return 0};d.jn_command_GiveoutToken=d.aE=function(c){if(!a.C)return 1;if(c!=a.G&&!a.qa)return 0;b.a.log("change token to "+c+" - giveout token");var d=new t.a.g;d.o(a.Eg);d.f(c);a.j.send(d.i());return 0};d.jn_command_GiveoutToken2=d.bE=function(c,d){var e;if(!a.C)return 1;if(c!=a.G&&a.qa||!a.qa&&0==a.G&&c==a.G||!a.qa&&
a.G==a.xb&&c==a.G||a.Mb&b.b.Qi&&!a.qa&&a.G==a.La&&c==a.G){if("undefined"==typeof d){d=[];var g={};g[c]=1;a.za==a.ua||g[a.za]||(g[a.za]=1,d.push(a.za));var h=a.bc;for(e=0;e<h.length;e++)-1==h[e]||g[h[e]]||(g[h[e]]=1,d.push(h[e]));a.qa&&!g[a.G]&&d.push(a.G)}g=new t.a.g;if(d.length)for(g.o(a.N),g.f(a.qn),g.f(c),g.f(d.length),e=0;e<d.length;e++)g.f(d[e]);else g.o(a.Eg),g.f(c);a.j.send(g.i());b.a.log("change token to "+c+" - "+(a.qa?"holder":0==a.G?"owner":a.G==a.xb?"assistant":"controller")+" GiveoutToken2"+
(d.length?" with question ["+d.toString()+"]":""))}return 0};d.jn_command_AllowQuestion=d.MD=function(c){if(!a.C)return 1;if(a.G==d.Ge()){var e=new t.a.g;e.o(a.zg);e.f(c);a.j.send(e.i());b.a.log("set datasender to "+c)}return 0};d.jn_command_SkipQuestion=d.JE=function(b){if(!a.C)return 1;if(a.G==d.Ge()){var c=new t.a.g;c.o(a.ui);c.f(b);a.j.send(c.i())}return 0};d.jn_command_EndQuestion=d.XD=function(){if(!a.C)return 1;var b=new t.a.g;b.o(a.zg);b.f(-1);a.j.send(b.i());return 0};d.jn_command_EndQuestionRequest=
d.YD=function(){if(!a.C)return 1;var b=new t.a.g;b.o(a.N);b.f(a.bn);b.f(a.G);a.j.send(b.i());a.vb=!1;return 0};d.jn_command_Disconnect=d.UD=function(b){if(!a.C)return 1;var c=new t.a.g;c.o(a.oi);c.f(b);a.j.send(c.i());return 0};d.jn_command_BanUserID=d.PD=function(b){if(!a.C||!a.Zb&&a.G!=a.xb)return 1;var c=new t.a.g;c.o(a.N);c.f(a.Xm);c.f(b);a.j.send(c.i());return 0};d.jn_command_SetController=d.GE=function(c){if(!a.C||!a.Zb&&!a.qa&&a.G!=a.La)return 1;var d=new t.a.g;d.o(a.N);d.f(a.$m);d.f(c);a.j.send(d.i());
b.a.log((a.Zb?"owner":a.qa?"holder":"controller")+" change controller to "+c);return 0};d.jn_command_AssignAssistant=d.OD=function(b){if(!a.C||!a.Zb&&a.G!=a.xb)return 1;var c=new t.a.g;c.o(a.N);c.f(a.Wm);c.f(b);a.j.send(c.i());return 0};d.jn_command_TerminateSession=d.NE=function(){if(!a.C)return 1;var b=new t.a.g;b.o(a.ti);a.j.send(b.i());return 0};d.jn_command_SetControlFlag=d.FE=function(c){if(!a.C||!a.Zb&&!a.qa&&a.G!=a.La)return 1;var d=new t.a.g;d.o(a.N);d.f(a.ln);d.f(c);a.j.send(d.i());b.a.log([a.Zb?
"owner":a.qa?"holder":"controller"," change control flag to 0x",c.toString(16),"(",b.m.zj(c),")"].join(""));return 0};d.jn_command_DeleteSlide=d.TD=function(b){if(!a.C)return 1;var c=new t.a.g;c.o(a.ni);c.f(b);a.j.send(c.i());return 0};d.jn_command_SendClearMarking=d.AE=function(c){if(!a.C)return 1;var d=new t.a.g;d.o(a.mi);d.f(c);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i());return 0};d.jn_command_UndoMark=d.PE=function(c){if(!a.C)return 1;
var d=new t.a.g;d.o(a.N);d.f(a.Mn);d.f(a.G);d.f(c);b.a.debug_mark_delay?setTimeout(function(){a.j.send(d.i())},1E3*b.a.debug_mark_delay):a.j.send(d.i());return 0};d.jn_command_GlobalUndoMark=d.cE=function(c,d){if(!a.C)return 1;var e=new t.a.g;e.o(a.Kd);e.K("u");e.f(c);e.f(d);b.a.debug_mark_delay?setTimeout(function(){a.j.send(e.i())},1E3*b.a.debug_mark_delay):a.j.send(e.i());return 0};d.jn_command_PollResult=d.sE=function(b,c){if(!a.C)return 1;var d=new t.a.g;1==b?d.o(a.wi):(d.o(a.N),d.f(a.vi));d.f(2);
d.f(c);a.j.send(d.i());return 0};d.jn_command_TokenHolderPoll=d.OE=function(){if(!a.C)return 1;var b=new t.a.g;b.o(a.N);b.f(a.vi);b.f(1);a.j.send(b.i());return 0};d.jn_command_UserContinue=d.YE=function(){var b=new t.a.g;b.f(1);a.j.send(b.i())};d.jn_command_UserCancel=d.XE=function(){var c=new t.a.g;c.f(0);a.j.send(c.i());b.a.log("user choose not to continue");setTimeout(function(){D()},1E3)};d.jn_command_JointBrowsingMode=d.eE=function(b){if(!a.C)return 1;var c=new t.a.g;c.o(a.N);c.f(a.kn);c.f(b);
a.j.send(c.i());return 0};d.jn_command_SyncFullScreen=d.LE=function(b,c){if(!a.C)return 1;var d=new t.a.g;d.o(a.N);d.f(a.Hn);d.f(b);d.f(c);a.j.send(d.i());return 0};d.jn_command_ProvidePassword=d.tE=function(c){c=b.crypto.ad(c);var d=new t.a.g;d.f(20);d.D(b.crypto.M(c,a.ea));a.j.send(d.i())};d.jn_command_JointBrowsing=d.dE=function(c,d){if(!(d.length>=b.b.ij)){var e=new t.a.g;e.o(a.N);e.f(a.jn);e.f(c);e.H(d);a.j.send(e.i())}};d.jn_command_ForceSync=d.$D=function(){if(!a.C)return 1;var b=new t.a.g;
b.o(a.N);b.f(a.en);a.j.send(b.i())};d.jn_command_SetRecordingStatus=d.IE=function(b){if(!a.C)return 1;var c=new t.a.g;c.o(a.N);c.f(a.Bn);c.f(b);a.j.send(c.i())};d.jn_command_PlugInSetRecvingPrio=d.qE=function(c,d){if(0>c||c>b.b.Fb||!a.C)return 1;var e=new t.a.g;e.o(a.N);e.f(a.Cg);e.f(a.wn);e.f(c);e.f(d);a.j.send(e.i());a.Ca("appdata_set_recv_prio(channel "+c+") "+d)};d.jn_command_SwapSlide=d.rs=function(b,c){if(!a.C)return 1;var d=new t.a.g;d.o(a.N);d.f(a.Gn);d.f(b);d.f(c);a.j.send(d.i())};d.jn_command_MoveSlide=
d.ns=function(b,c){if(!a.C)return 1;var d=new t.a.g;d.o(a.N);d.f(a.mn);d.f(b);d.f(c);a.j.send(d.i())};d.jn_command_RequestPlugInChannel=d.wE=function(c,e,h,m){if(!a.C||a.F!=b.b.R||d.Zq()!=a.G)return 1;var g=new t.a.g;g.o(a.N);g.f(a.Cg);g.f(a.xn);g.f(h);g.f(c);g.f(0);g.f(0);g.f(m);g.K(e);a.j.send(g.i())};d.jn_command_PlugInSetStaticData=d.rE=function(c,d){if(0>c||c>b.b.Fb||!a.C||a.F!=b.b.R||d.length>a.Pg)return 1;var e=new t.a.g;e.o(a.N);e.f(a.Cg);e.f(a.ri);e.f(c);e.f(d.length);d.length&&e.D(b.crypto.M(d,
a.ba));a.j.send(e.i())};d.jn_command_PlugInCloseChannel=d.oE=function(c){if(0>c||c>b.b.Fb||!a.C||a.F!=b.b.R||a.P[c].Am!=a.G)return 1;var d=new t.a.g;d.o(a.N);d.f(a.pi);d.f(c);a.j.send(d.i())};d.jn_command_PlugInControlChannelSend=d.pE=function(c,d,e,h,m){if(0>c||c>b.b.Fb||!a.C||m.length>a.gj)return 1;var g=new t.a.g;g.o(a.N);g.f(a.rn);g.f(c);g.f(d);g.f(h);g.f(m.length);m.length&&g.D(b.crypto.M(m,a.ba));g.f(e);a.j.send(g.i())};d.jn_command_SetJNRPassword=d.HE=function(c){if(!a.C||27<c.length)return 1;
var d=new t.a.g;d.o(a.N);d.f(a.gn);d.f(c.length);c.length&&d.D(b.crypto.M(c,a.ba));a.j.send(d.i())};d.jn_command_UpdateVideoSendingStatus=d.TE=function(c){if(!a.C||a.F!=b.b.R)return 1;var d=new t.a.g;d.o(a.N);d.f(a.xo);d.f(c?1:2);a.j.send(d.i())};d.jn_command_UseReconnectName=d.WE=function(b){a.he=b&&12==b.length?b:""};d.jn_command_sipclient_response=d.hF=function(c,d,e){if(!a.C||a.F!=b.b.R)return 1;var g=new t.a.g;g.o(a.N);g.f(a.Cn);g.f(a.Dn);g.f(d.length);d.length&&g.D(b.crypto.M(d,a.ba));g.f(c);
g.f(e);a.j.send(g.i())};d.jn_command_RequestAudio=d.vE=p;d.jn_command_WebRTCStatusNotification=d.bF=function(b){if(!a.C)return 1;var c=new t.a.g;c.o(a.N);c.f(a.zo);c.o(b);a.j.send(c.i())};d.jn_command_WebRTCMediaStatusNotification=d.aF=function(b,c,d){if(!(a.C&&a.Vf>=a.Ji))return 1;var e=new t.a.g;e.o(a.N);e.f(a.Ji);e.o(b);e.f(c);e.o(d);a.j.send(e.i())};d.jn_info_GetUserTextCodePage=d.mF=m;d.jn_info_GetWebOfficeVisitorTargetID=d.oF=function(){return 4!=a.bb||a.je||95!=a.Ma.charCodeAt(0)?"":a.sc};
d.jn_info_GetWebOfficeOwnerTargetID=d.nF=function(){return 5!=a.bb||a.cc?"":a.sc};d.jn_info_IsWOOwnerWrongPassword=d.vF=function(){var b=!a.ke&&5==a.bb&&!a.cc;return!a.ke&&4==a.bb&&!a.je&&95!=a.Ma.charCodeAt(0)&&!a.cc||b?a.Ma:""};d.jn_info_IsSlideSameGroup=d.tF=function(b,c){b=a.aa[b];c=a.aa[c];return b.Cd==c.Cd&&b.gc==c.gc&&b.Ga==c.Ga?!0:!1};d.jn_info_IsSlideDownloading=d.sF=function(){return a.Pa&&-1!=a.Pa.index};d.jn_info_CanSendAudio=d.xs=function(){return a.qa||a.Ja||a.qc||a.Gf};d.jn_info_CanSendVideo=
d.ys=function(){return a.qa||a.Ja||a.qc&&a.uh};d.jn_info_IsTalker=d.uF=I;d.jn_info_CanAddMark=d.lF=function(){return a.Vf>=a.Jn?I()||b.$.qj():a.Ja||a.qc||b.$.qj()};d.jn_info_HasMyPicture=d.pF=function(){return!!a.$c};d.jn_info_joinnet_token_holder_video=d.wF=function(){return!!a.mm};d.jn_info_IsAllQuestionerMeeting=d.qF=function(){return a.Wk};d.jn_info_IsNoAudioSupportedByMCU=d.rF=A})(window.hmtg);"undefined"===typeof window.hmtg&&(window.hmtg={});
(function(b){function H(){return""+x.Gb+"."+x.Hb+"."+x.Fe+" built on 02/05/2019"}function F(){if(!b.a.td){var a=Date.now(),c;for(c in b.a.localStorage)if(b.a.localStorage.hasOwnProperty(c)&&0==c.indexOf("hmtg_temp_autodelete_")){var d=b.a.Yc(b.a.localStorage[c]);("undefined"===d||!d.time||!d.value||6E4<a-d.time)&&b.a.localStorage.removeItem(c)}}}function c(a){y(a);a.J=b.b.Uo;n.S&&n.S(a);a.we=setTimeout(function(){a.we=null;36E3>a.pd&&(a.pd+=a.pd+1);G(a)},1E3*a.pd);b.a.log(6,["schedule to retry connecting ",
a.pd," seconds later for ",a.l].join(""))}function y(b){null!=b.we&&(clearTimeout(b.we),b.we=null)}function h(a,c,d,e){if(!a.fb[c]){var f=b.a.A(),g=new B;g.hh=c;g.V=d;g.se="";g.nb={};g.nb[d]=f-6E4;g.count=1;"undefined"===typeof g.nb[e]&&(g.count++,g.nb[e]=f-6E4);q(a,g);a.fb[c]=g;a.Ad++;n.Ra&&n.Ra(a,c)}}function q(b,a){if(128<=a.se.length+(" - "+a.count+"()").length)a.$a=a.se;else{a.$a=a.se+" - "+a.count+"(";if(!(128<=a.$a.length+4)){var f=1,c;for(c in a.nb)if(a.nb.hasOwnProperty(c)){var d=n.Uk(b,
c);if(f)if(f=0,128<=a.$a.length+d.length+(1==a.count?1:5)){a.$a+="...";break}else a.$a+=d;else if(128<=a.$a.length+1+d.length+(1==a.count?1:5)){a.$a+=",...";break}else a.$a+=","+d}}a.$a+=")"}}function E(){}function e(){this.kh=function(){this.Bd={};this.lb={};this.oa=[];this.$e=[];this.ec=[];this.fb={};this.Ad=0;this.hg=[];this.Sh=[];this.jh=this.Ua="";this.di=[]};this.pd=0;this.we=null;this.kh();this.Gc=this.pb=this.Oa="";this.V={};this.od={};this.rd={}}function D(){}function v(){}function B(){}
function p(){for(var a=[],c=0;c<x.la.length;c++){var d=x.la[c],e={};e.office_name=d.Oa;e.homepage=d.ia;e.visitor_folded=d.ye;e.share_file_folded=d.ff;e.event_folded=d.Qd;e.publish_file_folded=d.df;e.pgc_folded=d.re;e.noncontact_folded=d.qe;e.guest=d.T;d.T||(e.last_status=d.eg,e.userid=d.O,(e.saved_password=d.Hd)&&(e.password=b.crypto.M(d.password,b.crypto.jf).u()));a.push(e)}b.a.localStorage.hmtg_wbl=JSON.stringify(a)}function m(b,a,c,d){var f;for(f=0;f<x.la.length;f++){var e=x.la[f];if(e.T==b&&e.ia==
c&&(b||a==e.O)){e.eg=d;break}}}function I(a){a.T&&(a.Tb=1);a.J=b.b.Ao;var f=N.a.at(a.ia),c=a.Mj=""+b.a.A()+Date.now()+(new N.a.g(N.random.ya(8))).Pb();f&&f.path&&"/raw/"==f.path.toLowerCase()?A(c,a,f.host,"",f.port,0):(n.Wj&&n.Wj(c,a,a.ia,A),a.disconnect=function(){a.Mj=""+b.a.A()+Date.now()+(new N.a.g(N.random.ya(8))).Pb();a.J=b.b.ze;n.S&&n.S(a);b.a.log("sign out for "+a.l)})}function A(a,c,d,e,g,l){a==c.Mj&&(c.disconnect=function(){},"undefined"===typeof d?(c.Ej?n.s&&n.s(c,b.b.Tp):n.s&&n.s(c,b.b.Rp),
c.J=b.b.Eo,n.S&&n.S(c),b.a.log(["download jnj fail for ",c.l].join(""))):d&&g?(b.a.log(2,["getmcuinfo for ",c.ia,": ip=",d,",backupip=",e,",port=",g,",port2=",l].join("")),c.Jb=d,c.dr=e,c.port=g,c.port2=l,d=b.m.Wh(d,e,g,l),a=d.Ph,d=d.bi,c.J=b.b.Ki,n.S&&n.S(c),t(c,a,d)):(n.s&&n.s(c,b.b.fq),c.J=b.b.Mo,n.S&&n.S(c),b.a.log(["download jnj invalid for ",c.l].join(""))))}function t(f,d,e){function g(a){d[a].Bc=null;d[a].Dd?b.a.log(["msgr connecting to backup mcu ",d[a].Z,",",d[a].ma,"..."].join("")):e&&
0==a?b.a.log(["msgr connecting to (switched) primary mcu ",d[a].Z,",",d[a].ma,"..."].join("")):b.a.log(["msgr connecting to primary mcu ",d[a].Z,",",d[a].ma,"..."].join(""));d[a].Ed=new b.protocol.hm(x.Gb,x.Hb,null,d,a,function(){d[a].qd=!0;d[a].Ob?l():0==a?(r&&(clearTimeout(r),r=null),w(0),p=0,f.J=b.b.Oi,n.S&&n.S(f),new b.protocol.Re(x.Gb,x.Hb,d[0],d[0].Z,d[0].ma,m)):r||h()})}function h(){r=null;var a;for(a=0;a<d.length;a++)if(d[a].qd&&!d[a].Ob){w(a);p=a;f.J=b.b.Oi;n.S&&n.S(f);new b.protocol.Re(x.Gb,
x.Hb,d[a],d[a].Z,d[a].ma,m);break}}function l(){var a;for(a=0;a<d.length;a++)if(!d[a].qd||!d[a].Ob)return;r&&(clearTimeout(r),r=null);f.Je&&n.s&&n.s(f,b.b.Sp);f.J=b.b.Fo;n.S&&n.S(f);f.Fj&&(f.Je=0,c(f),f.disconnect=function(){y(f)})}function w(b){var a;for(a=0;a<d.length;a++)d[a].Bc?(clearTimeout(d[a].Bc),d[a].Bc=null):d[a].qd?a==b||d[a].Ob||d[a].j.close():d[a].Ed&&d[a].Ed.disconnect&&d[a].Ed.disconnect()}function m(c){if(c)1<d.length?(e=0,b.a.log(["connection to mcu ",d[p].Z,",",d[p].ma," fails during key exchange, but we'd like to try other entries"].join("")),
d.splice(p,1),t(f,d,e)):(f.Je&&n.s&&n.s(f,b.b.jj),f.J=b.b.Li,n.S&&n.S(f));else{c=p;var g=d[c].Oe;f.wm=d[c].tc;var l=b.m.kg(f.wm);f.ef=l.mb;f.$h=l.Eb;f.qt=l.gf;f.Ws=d[c].Ye;f.Vs=d[c].Xe;f.jd=d[c].jd;f.B=d[c].ea;f.j=d[c].j;f.Gd=d[c].Gd;f.Z=d[c].Z;f.port=d[c].ma;f.gi=d[c].Dd;c=f.j;if(g){g=new N.a.g("4");c.send(g.i());if(f.gi&&d[0].Z.length){l=b.a.qb(d[0].Z);var h=l.length;g.clear();g.f(4+h);g.f(b.protocol.ii);g.K(l);c.send(g.i())}g.clear();g.f(7);g.f(b.protocol.mf);g.K("WEB");c.send(g.i());b.m.bh&&(g.clear(),
g.f(10),g.f(b.protocol.mf),g.K("NCHOME"),c.send(g.i()));b.m.vendor&&20>=b.m.vendor.length&&(g.clear(),g.f(4+b.m.vendor.length),g.f(b.protocol.ki),g.K(b.m.vendor),c.send(g.i()));g.clear();g.f(0);c.send(g.i())}a(f)}}var p,q;for(q=0;q<d.length;q++)d[q].Bc=setTimeout(g,500*q,q),d[q].Ob=b.b.Mg;var r=setTimeout(h,5E3);f.disconnect=function(){w(-1);f.J=b.b.ze;n.S&&n.S(f);b.a.log("sign out for "+f.l)}}function a(a){function f(){a.v.onmessage||(a.v.onmessage=function(){a.v.onmessage=null;v()},a.v.postMessage({command:"set"}))}
function e(){m();na=setTimeout(function(){na=null;a.j!=ea&&(b.a.log("!!!Info, need take care of this(3)!!!"),n.s&&n.s(a,99993));qa++;if(3<=qa)b.m.I(ea),b.a.log(["time out(try again) for ",a.l].join("")),a.Je=0,a.we||c(a);else{var d=new N.a.g;d.o(x.xi);d.K("0");ea.send(d.i());e()}},2E4)}function m(){null!=na&&(clearTimeout(na),na=null)}function p(){a.v.onmessage&&(a.v.onmessage=null,a.v.postMessage({command:"clear"}))}function l(c){if(u.length()&&!a.Fc){var d=b.a.A()-ra;20<d||9<=ma?(500<d&&b.a.log("info, jmkernel handler("+
c+") depth="+ma+",use "+d+"ms"),f()):(ma++,da())}}function t(){a.Hc||!a.Jd&&!a.kf||(b.a.log([a.Jd?"peer close for ":"recv error(try again) for ",a.l].join("")),a.Je=0,K(),c(a))}function v(){if(!a.Fc){var c=u.length();if(c){ma=0;ra=b.a.A();da();var d=u.length();d&&d!=c||t()}else t()}}function A(){R=new N.a.g(u);var c=u.L(0);if(0<=c&&c<=x.Fp)return va[c]();b.a.log(["unknown command[",c,"/0x",c.toString(16),"] for ",a.l].join(""));K(b.b.Mi)}function z(){var c=u.L(0);n.s&&n.s(a,b.b.lj);b.a.log(["unknown(unsupported) command[",
c,"/0x",c.toString(16),"] for ",a.l].join(""));K(b.b.Mi)}function C(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[OFFICE_JNJ?,200] for "+a.l),K(b.b.cd);else if(!(c<5+d)){var f=u.L(0),e="",g=0;if(f==x.Hi||f==x.Fg){if(c<5+d+4)return;g=u.c(5+d);if(0>g||128<=g){n.s&&n.s(a,b.b.Ea);b.a.log("wrong jnj len[OFFICE_JNJ?,500] for "+a.l);K(b.b.hb);return}if(c<5+d+4+g)return;e=u.h(5+d+4,g);g=4+g}c=b.crypto.w(u.h(5,d),a.B).u();f==x.Fg&&(a.Bm=0);a.da||f==x.Bi||
(c=n.Ur(c,a.password));f==x.Fg?n.ek&&n.ek(a,e):f==x.Rn?(b.a.log("exceed diskquota, "+a.l),n.ck&&n.ck(a)):f==x.Hi?n.hk&&n.hk(a,c,e):f==x.Bi?n.Ud&&n.Ud(c,!0):n.Ud&&n.Ud(c);u.shift(5+d+g);S=R;l("COMMAND_US_OFFICE_JNJ_PLUS")}}}function E(){var c=u.length();if(!(6>c)){var d=u.c(2);if(0>d||128<=d)n.s&&n.s(a,b.b.Ce),b.a.log("recv error[JOIN_REQUEST_ERROR,200] for "+a.l),K(b.b.Cc);else if(!(c<6+d+4)){var f=u.c(6+d);if(0>f||128<=f)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[JOIN_REQUEST_ERROR,500] for "+
a.l),K(b.b.hb);else{var e=u.L(1),g=u.h(6,d),h=u.h(6+d+4,f);if(u.L(0)==x.fo){if(c<6+d+4+f+4)return;c=u.c(6+d+4+f)>>>0;n.Qr&&n.Qr(a,g,h,e,c);u.shift(6+d+4+f+4)}else{if(c<6+d+4+f)return;e!=b.b.Mq&&n.Pr&&n.Pr(a,g,h,e);u.shift(6+d+4+f)}S=R;l("COMMAND_US_JOIN_REQUEST_ERROR_PLUS")}}}}function F(){var c=u.length();if(!(17>c)){var d=u.c(13);if(0>d||128<=d)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[VISITOR_SESSION,200] for "+a.l),K(b.b.hb);else if(!(c<17+d)){var f=u.c(1);c=u.c(5);var e=u.c(9),g=u.h(17,
d);if(u.L(0)==x.Gi)f?(1==f||2==f)&&n.Ik&&n.Ik(a,g,f):n.Vr(a);else{var h=!1;if(f)h={},h.visitor_name=g,h.start_tick=e,h.iSessionIndex=c,a.$e.push(h),h=!0,n.Pk&&n.Pk(a,g);else for(g=0;g<a.$e.length;g++)if(f=a.$e[g],f.iSessionIndex==c&&f.start_tick==e){a.$e.splice(g,1);h=!0;break}h&&n.Mk&&n.Mk(a)}u.shift(17+d);S=R;l("COMMAND_US_VISITOR_SESSION")}}}function G(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(b.a.log("wrong peer id len[ShortTyping 500] for "+a.l),K()):c<5+d||(c=u.h(5,d),n.Jk&&n.Jk(a,
c),u.shift(5+d),S=R,l("COMMAND_US_SHORT_TYPING"))}}function I(){var c="",d=0;var f=u.length();if(!(5>f)){var e=u.c(1);if(0>e||128<=e)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[WEBRTC_SIGNAL,200] for "+a.l),K(b.b.hb);else if(!(f<5+e+4)){var g=u.c(5+e);if(0>g||1E4<=g)n.s&&n.s(a,b.b.Ea),b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,300] for "+a.l),K(b.b.pf);else if(!(f<5+e+4+g)){var h=u.L(0);if(h==x.Ii){if(f<5+e+4+g+4)return;var w=u.c(9+e+g);if(0>w||128<=w){n.s&&n.s(a,b.b.Ea);b.a.log("wrong webrtc signal len[WEBRTC_SIGNAL,400] for "+
a.l);K(b.b.pf);return}if(f<5+e+4+g+4+w+4)return}f=u.h(5,e);if(h==x.Ii)h=u.c(13+e+g+w),d=8+w,c=u.h(13+e+g,w),n.Le(a,h,f,c);else{if(w=ba(a,f))c=w.username;c||(c=f)}w=b.crypto.w(u.h(5+e+4,g),a.B).u();n.Qk&&n.Qk(a,w,f,c);u.shift(9+e+g+d);S=R;l("COMMAND_US_WEBRTC_SIGNAL")}}}}function H(){var c="",d="",f="",e=0;var g=u.length();if(!(5>g)){var h=u.c(1);if(0>h||128<=h)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[SHORT_MESSAGE?,200] for "+a.l),K(b.b.hb);else if(!(g<5+h+4)){var w=u.c(5+h);if(0>w||500<=w)n.s&&
n.s(a,b.b.Be),b.a.log("wrong short message len[SHORT_MESSAGE?,500] for "+a.l),K(b.b.Ae);else if(!(g<5+h+4+w+4)){var m=u.c(5+h+4+w);if(0>m||100<=m)n.s&&n.s(a,b.b.Op),b.a.log("wrong homepage len[SHORT_MESSAGE?,800] for "+a.l),K(b.b.Gg);else{var p=u.L(0),q=5+h+4+w+4+m;if(p!=x.qo){if(g<q+4)return;var r=u.c(q);if(0>r||5E3<=r){n.s&&n.s(a,b.b.Be);b.a.log("wrong short message2 len[SHORT_MESSAGE?,1100] for "+a.l);K(b.b.Ae);return}c=b.crypto.w(u.h(q+4,r),a.B).u();q+=4+r;if(p==x.Fi||p==x.Di||p==x.Ci){if(g<q+
4)return;r=u.c(q);if(0>r||128<=r){n.s&&n.s(a,b.b.Be);b.a.log("wrong param->guest user name len[SHORT_MESSAGE?,1400] for "+a.l);K(b.b.Ae);return}d=u.h(q+4,r);q+=4+r;if(p==x.Di||p==x.Ci){if(g<q+4)return;e=u.c(q);q+=4}}}g=u.h(5,h);r=b.crypto.w(u.h(5+h+4,w),a.B).u();h=u.h(5+h+4+w+4,m);if(w=ba(a,g))f=w.username;f||(f=g);n.Gk&&n.Gk(a,p,r,c,g,h,d,e,f);u.shift(q);S=R;l("COMMAND_US_SHORT_MESSAGE_PLUS")}}}}}function O(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)n.s&&n.s(a,b.b.Ce),b.a.log("wrong target userid len in short message failure[MESSAGE_FAILURE?,200] for "+
a.l),K(b.b.Cc);else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||500<=f)n.s&&n.s(a,b.b.Be),b.a.log("wrong short message len[MESSAGE_FAILURE?,500] for "+a.l),K(b.b.Ae);else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||5E3<=e)n.s&&n.s(a,b.b.Be),b.a.log("wrong short message2 len[MESSAGE_FAILURE?,800] for "+a.l),K(b.b.Ae);else if(!(c<5+d+4+f+4+e)){c=u.h(5,d);var g=b.crypto.w(u.h(5+d+4,f),a.B).u();var h=b.crypto.w(u.h(5+d+4+f+4,e),a.B).u();n.Hk&&n.Hk(a,c,g,h,u.L(0));u.shift(5+d+4+f+4+e);S=R;l("COMMAND_US_SHORT_MESSAGE_FAILURE_PLUS")}}}}}
function T(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[JoinGroup2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[JoinGroup2 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||500<=e)b.a.log("wrong user name len[JoinGroup2 800] for "+a.l),K();else if(!(c<5+d+4+f+4+e+8)){if(c=u.h(5,d))if(61!=c.charCodeAt(0))n.ud(a,c);else{var g=u.h(5+d+4,f),h=u.c(5+d+4+f+4+e+4)>>>0,w=a.fb[c];if(w&&w.count==
h&&"undefined"===typeof w.nb[g]){h=u.h(5+d+4+f+4,e);var m=u.c(5+d+4+f+4+e);w.nb[g]=b.a.A()-6E4;w.count++;q(a,w);a.da&&n.Le(a,m,g,h);n.Bb&&n.Bb(a,c,g,h)}else n.ud(a,c),n.Yd&&n.Yd(a,c),w&&(delete a.fb[c],a.Ad--);n.Ra&&n.Ra(a,c)}u.shift(5+d+4+f+4+e+8);S=R;l("COMMAND_US_JOIN_GROUP2_PLUS")}}}}}function X(){var c=u.length();if(!(13>c)){var d=u.c(9);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[MMC_JOIN_REQUEST_JNJ?,200] for "+a.l),K(b.b.cd);else if(!(c<13+d)){c=u.c(1)>>>0;var f=u.c(5),e=u.h(13,
d);0==f&&d&&(e=b.crypto.w(e,a.B).u());n.kk&&n.kk(a,c,f,e);u.shift(13+d);S=R;l("COMMAND_US_MMC_JOIN_REQUEST_JNJ_PLUS")}}}function Y(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[SHARE_FILE,200] for "+a.l),K(b.b.cd);else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||100<=f)n.s&&n.s(a,b.b.kj),b.a.log("wrong homepage len[SHARE_FILE,500] for "+a.l),K(b.b.Gg);else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||128<=e)n.s&&n.s(a,b.b.Ea),b.a.log("wrong owner name len[SHARE_FILE,800] for "+
a.l),K(b.b.hb);else if(!(c<5+d+4+f+4+e+4)){var h=u.c(5+d+4+f+4+e);if(0>h||128<=h)n.s&&n.s(a,b.b.Ea),b.a.log("wrong title len[SHARE_FILE,1100] for "+a.l),K(b.b.hb);else{var w=u.L(0)==x.jo?4:0;if(!(c<5+d+4+f+4+e+4+h+8+w+4)){var m=u.c(5+d+4+f+4+e+4+h+8+w);if(0>m||128<=m)n.s&&n.s(a,b.b.Ea),b.a.log("wrong subject len[SHARE_FILE,1600] for "+a.l),K(b.b.hb);else if(!(c<5+d+4+f+4+e+4+h+8+w+4+m)){c={};c.jnj=u.h(5,d);c.owner_homepage=u.h(5+d+4,f);c.owner_name=u.h(5+d+4+f+4,e);c.title=u.h(5+d+4+f+4+e+4,h);c.duration=
u.c(5+d+4+f+4+e+4+h);c.share_type=u.c(5+d+4+f+4+e+4+h+4);var p=0;w&&(p=u.c(5+d+4+f+4+e+4+h+8));c.recv_tick=b.a.time()-p;c.subject=u.h(5+d+4+f+4+e+4+h+8+w+4,m);c.read=0;g(a,c);n.Xb(a);n.gk&&n.gk(a,c);u.shift(5+d+4+f+4+e+4+h+8+w+4+m);S=R;l("COMMAND_US_SHARE_FILE_PLUS")}}}}}}}}function Z(a){a.Fc&&(a.xj&&a.xj(),a.Fc=!1,a.ei=null);a.Th&&(a.Th.stop(),a.Th=null);a.Wa&&(clearTimeout(a.Wa),a.Wa=null);a.xc&&(a.xc.stop(),a.xc=null);a.Hc&&(clearTimeout(a.Hc),a.Hc=null,b.a.log("quit() stop delayed disconnect for "+
a.l))}function K(c){b.m.qm(S,u);m();y(a);p();a.v.terminate();da=b.m.Y;Z(a);a.J=c||b.b.Co;n.S&&n.S(a);b.m.I(a.j);n.zf&&n.zf(a)}function aa(c){if(a.Hc)b.a.log("disconnect() found delayed disconnect in progress for "+a.l);else if(a.Wa||a.xc)b.a.log("disconnect() start delayed disconnect for "+a.l),a.Hc=setTimeout(function(){a.Hc=null;b.a.log("disconnect() execute delayed disconnect for "+a.l);aa(c)},1E3),a.Wa&&(clearTimeout(a.Wa),a.Wa=null,r(a));else return m(),y(a),p(),a.v.terminate(),da=b.m.Y,Z(a),
a.J=c||b.b.ze,n.S&&n.S(a),b.m.I(a.j),b.a.log("sign out for "+a.l),n.zf&&n.zf(a),!0}var ea=a.j;a.Jd=a.kf=!1;var u=a.Gd,R=new N.a.g,S=new N.a.g,na=null;a.v=new Worker("worker/worker_timeout.js");a.v.onmessage=null;var da=b.m.Y,qa=0,sa=0,ma=0,ra=0;a.ei=function(){f()};var va=[function(){var c=u.length();if(!(2>c)){switch(u.L(1)){case b.b.Oq:n.s&&n.s(a,b.b.Yp);a.J=b.b.pf;break;case b.b.Hq:n.s&&n.s(a,b.b.Pp);a.J=b.b.Do;break;case b.b.Qq:n.s&&n.s(a,b.b.aq);a.J=b.b.Ho;break;case b.b.Pq:a.T||(a.cf=1);n.s&&
n.s(a,b.b.Zp);a.J=b.b.Go;break;case b.b.Iq:n.s&&n.s(a,b.b.bq);a.J=b.b.Io;break;case b.b.Gq:n.s&&n.s(a,b.b.Qp);a.J=b.b.Bo;break;case b.b.Jq:a.T||(a.cf=1);if(10>c)return;var d=u.c(2),f=u.c(6);if(0>f||1E4<=f){n.s&&n.s(a,b.b.jj);b.a.log("recv error[INIT_INFO,300] for for "+a.l);K(b.b.Li);return}if(c<10+f)return;c=u.h(10,f);n.Ff&&n.Ff(a,d,c);a.J=b.b.Jo;u.shift(8+f);break;case b.b.Nq:n.s&&n.s(a,b.b.eq);a.J=b.b.Ko;break;case b.b.Lq:n.s&&n.s(a,b.b.cq);a.J=b.b.No;break;case b.b.Kq:n.s&&n.s(a,b.b.gq);a.J=b.b.Lo;
break;default:n.s&&n.s(a,b.b.Wy),a.J=b.b.Po}u.shift(2);b.a.log("init info quit for for "+a.l);K(a.J)}},z,function(){n.s&&n.s(a,b.b.hq);u.shift(1);S=R;b.a.log("being overwritten for "+a.l);aa(b.b.Oo)},function(){n.s&&n.s(a,b.b.iq);u.shift(1);S=R;b.a.log("being removed for "+a.l);aa(b.b.Qo)},C,C,C,E,z,z,z,C,C,function(){function c(a,b,c,d){if(a.T||!a.Tb||b==(a.da?a.Qa:a.O))return!1;var f,e=!1;for(f=0;f<a.oa.length;f++){var g=a.oa[f],l;for(l=0;l<g.m_pContactArray.length;l++){var h=g.m_pContactArray[l];
if(h.id==b){h.name!=c&&(h.name=c,e=!0);h.pm!=d&&(h.pm=d,e=!0);break}}}e&&n.Xb(a)}var d,f,e=u.length();if(!(13>e)){var g=u.c(1);var h=u.c(5),w=u.c(9);if(0>w||128<=w)n.s&&n.s(a,b.b.Ce),b.a.log("wrong userid len[STATUS_CHANGE,200] for "+a.l),K(b.b.Cc);else if(!(e<13+w+4)){var m=u.c(13+w);if(0>m||128<=m)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[STATUS_CHANGE,500] for "+a.l),K(b.b.Cc);else if(!(e<13+w+4+m+16)){e=u.c(13+w+4+m);var p=u.c(13+w+4+m+4),q=u.c(13+w+4+m+8),r=u.c(13+w+4+m+12);if(0>r||128<=
r)n.s&&n.s(a,b.b.Ea),b.a.log("wrong personal_info len[STATUS_CHANGE,900] for "+a.l),K(b.b.Cc);else{var t=u.h(13,w),Q=u.h(13+w+4,m),v=u.h(13+w+4+m+16,r);Q||(b.a.log(1,"office "+a.ia+", username is empty for userid "+t+", reset it using userid"),Q="EmptyName_status("+t+")".slice(0,127));var P=0,J;if(a.da){g=d=f=0;if(J=a.Bd[t]){if(d=J.status,g=J.Ta,Q!=J.username&&(f=1),Q!=J.username||v!=J.Ua)P=1}else J=new D,P=1,a.Bd[t]=J;J.status=h;J.Ta=e;J.mb=p;J.Eb=q;J.O=t;J.username=Q;J.Ua=v;P&&(P=c(a,t,Q,v));f&&
n.nh(a,t);n.Zd&&n.Zd(a,J);a.rg&&a.Qa!=t&&(d==b.b.Rb||!d&&!g)&&h!=b.b.Rb&&(h||e)&&n.nk&&n.nk(a,t)}else{J=a.lb[g];J||(J=new D,a.lb[g]=J,P=1);f=0;d=J.status;g=J.Ta;Q!=J.username&&(f=1);if(Q!=J.username||v!=J.Ua)P=1;J.status=h;J.Ta=e;J.mb=p;J.Eb=q;J.O=t;J.username=Q;J.Ua=v;P&&(P=c(a,t,Q,v));f&&n.nh(a,t);n.Zd&&n.Zd(a,J);a.rg&&a.O!=t&&(d==b.b.Rb||!d&&!g)&&h!=b.b.Rb&&(h||e)&&n.mk&&n.mk(a,t)}n.Cf&&n.Cf(a,J);u.shift(13+w+4+m+16+r);S=R;l("COMMAND_US_STATUS_CHANGE")}}}}},function(){if(!(5>u.length())){var c=
u.c(1);0<=c&&c<b.b.Ha&&a.lb&&a.lb[c]&&(a.lb[c].status=0,a.lb[c].Ta=0,a.lb[c].O&&(n.Zd&&n.Zd(a,a.lb[c]),n.Cf&&n.Cf(a,a.lb[c])));u.shift(5);S=R;l("COMMAND_US_STATUS_REMOVE")}},z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[INVITE,200] for "+a.l),K(b.b.cd);else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||100<=f)n.s&&n.s(a,b.b.kj),b.a.log("wrong homepage len[INVITE,500] for "+a.l),K(b.b.Gg);else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||128<=
e)n.s&&n.s(a,b.b.Ce),b.a.log("wrong userid len[INVITE,800] for "+a.l),K(b.b.Cc);else if(!(c<5+d+4+f+4+e)){c=b.crypto.w(u.h(5,d),a.B).u();var g=u.h(5+d+4,f),h=u.h(5+d+4+f+4,e);n.dk&&n.dk(a,c,h,g);u.shift(5+d+4+f+4+e);S=R;l("COMMAND_US_INVITE")}}}}},C,function(){var c=u.length();if(!(5>c)){var d=u.c(1);a.pg&&!a.T&&3==a.Ta&&a.Ta!=d&&(a.Xa==b.b.Rb&&n.Xr(a.pg,a),a.pg=0);a.Ta=d;if(!a.da&&a.Ta){if(9>c)return;d=u.c(5);if(0>d||1E4<=d){n.s&&n.s(a,b.b.fd);b.a.log("wrong jnj len[OFFICE_STATUS,300] for "+a.l);
K(b.b.cd);return}if(c<9+d)return;a.NF=b.crypto.w(u.h(9,d),a.B).u();u.shift(4+d)}n.S&&n.S(a);u.shift(5);S=R;l("COMMAND_US_OFFICE_STATUS")}},function(){n.$r(a,!1);u.shift(1);S=R;l("COMMAND_US_UPDATE_PROFILE")},function(){var c=u.length();if(!(33>c)){a.Xs=u.c(1);a.ur=u.c(5);a.vr=u.c(9);a.KF=u.c(13);a.ym=u.c(17);a.JF=u.c(21);a.MF=u.c(25);var d=u.c(29);if(0>d||128<=d)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[VIEW_PROFILE,200] for "+a.l),K(b.b.hb);else if(!(c<33+d+4)){var f=a.username;a.username=u.h(33,
d);var e=u.c(33+d);if(0>e||e>=b.b.gy)n.s&&n.s(a,b.b.Vp),b.a.log("wrong email len[VIEW_PROFILE,500] for "+a.l),K(b.b.So);else if(!(c<33+d+4+e+8)){a.Zg=u.h(33+d+4,e);var g=u.c(33+d+4+e+4);if(0>g||1E4<=g)n.s&&n.s(a,b.b.fd),b.a.log("recv error[VIEW_PROFILE,900] for "+a.l),K(b.b.cd);else if(!(c<33+d+4+e+8+g)){b.crypto.w(u.h(33+d+4+e+8,g),a.B).u();if(a.da)a.uf=0;else{if(c<33+d+4+e+8+g+4)return;a.uf=u.c(33+d+4+e+8+g);u.shift(4)}a.Bm=1;a.fi||a.ym&&n.fk&&n.fk(a,a.ym);a.fi=1;f!=a.username&&b.Yb.nh(a,a.da?a.Qa:
a.O);n.Nk&&n.Nk(a);u.shift(33+d+4+e+8+g);S=R;l("COMMAND_US_VIEW_PROFILE")}}}}},function(){b.a.log("server shutdown, "+a.l);n.Ek&&n.Ek(a);a.Wa&&(clearTimeout(a.Wa),a.Wa=null,r(a));u.shift(1);S=R;l("COMMAND_US_SERVER_SHUTDOWN")},function(){if(!sa){a:{var c="hmtg_msgr_mcu_usage_"+a.Z,d=Date.now();if("undefined"!=typeof b.a.localStorage[c]){var f=b.a.Yc(b.a.localStorage[c]);if("undefined"!==f&&d>f&&108E6>d-f)break a}b.a.localStorage[c]=JSON.stringify(d);c="homemeeting.com/serverinfo2/?version="+x.Gb;
c=c+"."+x.Hb;c=c+"."+x.Fe;c+=a.da?"&type=thirdparty":"&type=weboffice";c+="&mcu_version_string="+a.wm;c+="&mcu_serial="+a.Ws;c+="&mcu_licensesource="+a.Vs;c+="&mcu="+a.Z+","+a.port;c+="&primary_mcu="+(a.gi?"0":"1");c=c+"&sig=web"+("&appurl="+window.location.protocol+"//"+window.location.host+window.location.pathname);b.m.xm(c)}sa=1}a.rg=1;n.S&&n.S(a);n.yk&&n.yk(a);u.shift(1);S=R;l("COMMAND_US_STATUS_INITED")},z,F,F,function(){5>u.length()||(a.rt=u.c(1),a.T||(a.cf=0),u.shift(5),S=R,l("COMMAND_US_SIP_CAP"))},
function(){if(!(2>u.length())){if(48==u.L(1)){var a=new N.a.g;a.o(x.xi);a.K("1");ea.send(a.i())}u.shift(2);S=R;l("COMMAND_US_ALIVE")}},function(){a.da=1;n.S&&n.S(a);u.shift(1);S=R;l("COMMAND_US_MMC_FLAG")},function(){var c=u.length();if(!(9>c)){var d=u.c(5);0>d||1E4<=d?(n.s&&n.s(a,b.b.Xp),b.a.log("wrong len[MMC_INTERNAL_ERROR,200] for "+a.l),K(b.b.pf)):c<9+d||((c=u.c(1))&&n.Ff&&n.Ff(a,c,u.h(9,d)),u.shift(9+d),S=R,l("COMMAND_US_MMC_INTERNAL_ERROR"))}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);
0>d||128<=d?(n.s&&n.s(a,b.b.Wp),b.a.log("wrong userid len[MMC_INTERNAL_ID,200] for "+a.l),K(b.b.Cc)):c<5+d+4||(c=u.c(5+d),0>c||128<=c?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong mmc username len[MMC_INTERNAL_ID,500] for "+a.l),K(b.b.hb)):(a.Qa=b.crypto.w(u.h(5,d),a.B).u(),a.LF=b.crypto.w(u.h(5+d+4,c),a.B).u(),u.shift(5+d+4+c),S=R,l("COMMAND_US_MMC_INTERNAL_ID")))}},z,function(){var c=u.length();if(!(13>c)){var d=u.c(9);if(0>d||1E4<=d)n.s&&n.s(a,b.b.fd),b.a.log("wrong jnj len[INVITE_JNJ_GENERATION,200] for "+
a.l),K(b.b.cd);else if(!(c<13+d)){c=u.c(1)>>>0;var f=u.c(5),e=u.h(13,d);!f&&e.length&&(e=b.crypto.w(e,a.B).u());n.bk&&n.bk(a,c,f,e);u.shift(13+d);S=R;l("COMMAND_US_INVITE_JNJ_GENERATION")}}},E,X,function(){var c=u.length();if(!(13>c)){var d=u.c(9);if(0>d||500<=d)n.s&&n.s(a,b.b.$p),b.a.log("wrong jnj len[QUERY_URL_MMC,200] for "+a.l),K(b.b.To);else if(!(c<13+d)){c=u.c(1)>>>0;var f=u.c(5),e=u.h(13,d);0==f&&d&&(e=b.crypto.w(e,a.B).u());n.xk&&n.xk(a,c,f,e);u.shift(13+d);S=R;l("COMMAND_US_QUERY_URL_MMC")}}},
H,z,z,z,H,H,function(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(n.s&&n.s(a,b.b.Ce),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+a.l),K(b.b.Cc)):c<5+d||(a.wf=b.crypto.w(u.h(5,d),a.B).u(),u.shift(5+d),S=R,l("COMMAND_US_GUEST_USER_ID"))}},O,z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong user name len in invite failure[INVITE_FAILURE,200] for "+a.l),K(b.b.hb)):c<5+d||(n.ak&&n.ak(a,u.h(5,d)),u.shift(5+d),S=R,l("COMMAND_US_INVITE_FAILURE"))}},
z,z,function(){function c(){var c=u.length();if(!(16>c)){var d=u.c(12);if(0>d||d>b.b.Kp)b.a.log("wrong meeting id len in update event list[UpdateEventList,300] for "+a.l),K();else if(!(c<16+d+4)){var g=u.c(16+d);if(0>g||g>=b.b.Qg)b.a.log("wrong title len in update event list[UpdateEventList,600] for "+a.l),K();else if(!(c<16+d+4+g+4)){var h=u.c(16+d+4+g);if(0>h||128<=h)b.a.log("wrong owner id len in update event list[UpdateEventList,900] for "+a.l),K();else if(!(c<16+d+4+g+4+h+4)){var w=u.c(16+d+
4+g+4+h);if(0>w||128<=w)b.a.log("wrong owner name len in update event list[UpdateEventList,1200] for "+a.l),K();else if(!(c<16+d+4+g+4+h+4+w+4)){c={};c.start_time=u.c(0);c.duration=u.c(4);c.advance_time=u.c(8);c.meeting_id=b.crypto.w(u.h(16,d),a.B).u();c.title=b.crypto.w(u.h(16+d+4,g),a.B).u();c.owner_id=b.crypto.w(u.h(16+d+4+g+4,h),a.B).u();c.owner_name=b.crypto.w(u.h(16+d+4+g+4+h+4,w),a.B).u();c.invited=u.c(16+d+4+g+4+h+4+w);a:{var m,p=a.hg;for(m=0;m<p.length;m++)if(c.start_time<p[m].start_time){p.splice(m,
0,c);break a}p.splice(m,0,c)}u.shift(16+d+4+g+4+h+4+w+4);e++;e==f&&(da=A,x.Cr||(a.hg=[]),n.Kk&&n.Kk(a));S=R;l("COMMAND_US_UPDATE_EVENT_LIST,2")}}}}}}if(!(9>u.length())){var d=b.crypto.w(u.h(1,8),a.B),f=d.c(0);if(0>f||200<f)b.a.log("too many events in the event list for "+a.l),K();else{a.Ys=d.c(4);a.Ss=b.a.time();u.shift(9);a.hg=[];var e=0;f?da=c:S=R;l("COMMAND_US_UPDATE_EVENT_LIST")}}},z,O,function(){var c=u.length();if(!(5>c)){var f=u.c(1);if(0>f||5E8<=f)n.s&&n.s(a,b.b.Up),b.a.log("wrong param->guest user id len[GUEST_USER_ID,200] for "+
a.l),K(b.b.Ro);else if(!(c<5+f)){if(0==f)b.a.log("receive client_info for "+a.l+": [Empty]"),a.Tb=1;else{c=b.crypto.w(u.h(5,f),a.B);var e=c.u();b.a.log("receive client_info for "+a.l+": "+f+","+b.a.Ab(c.u()));a.Th=new d(a,e)}u.shift(5+f);S=R;l("COMMAND_US_CLIENT_INFO")}}},function(){if(!(5>u.length())){var b=a.Zh;a.Zh=u.c(1);b!=a.Zh&&n.qk&&n.qk(a);u.shift(5);S=R;l("COMMAND_US_IM_LOG")}},z,C,Y,function(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong user name len in share file failure[SHARE_FILE_FAILURE,200] for "+
a.l),K(b.b.hb)):c<5+d||(n.Fk&&n.Fk(a,u.h(5,d)),u.shift(5+d),S=R,l("COMMAND_US_SHARE_FILE_FAILURE"))}},function(){function c(){var c=u.length();if(!(8>c)){var g=u.c(4);if(0>g||4096<=g)b.a.log("wrong blackbox data len in update publish_file list[UpdatePublishFileList,300] for "+a.l),K();else if(!(c<8+g+4)){var h=u.c(8+g);if(0>h||h>=b.b.Qg)b.a.log("wrong title len in update publish_file list[UpdatePublishFileList,600] for "+a.l),K();else if(!(c<8+g+4+h+4)){var w=u.c(8+g+4+h);if(0>w||128<=w)b.a.log("wrong owner name len in update publish_file list[UpdatePublishFileList,900] for "+
a.l),K();else if(!(c<8+g+4+h+4+w)){c={};c.duration=u.c(0);c.blackbox_data=b.crypto.w(u.h(8,g),a.B).u();c.title=b.a.Ab(b.crypto.w(u.h(8+g+4,h),a.B).u());c.owner_name=b.a.Ab(b.crypto.w(u.h(8+g+4+h+4,w),a.B).u());var m=/(.+)\/([^\/]+)/.exec(c.title);m&&(c.title=m[2],c.group=m[1]);d(c);u.shift(8+g+4+h+4+w);e++;e==f&&(da=A,n.Lk&&n.Lk(a));S=R;l("COMMAND_US_UPDATE_PUBLISH_FILE_LIST,2")}}}}}function d(b){var c,d=a.Sh;for(c=0;c<d.length;c++)if(d[c].group){if(b.group){if(b.group.toLowerCase()<d[c].group.toLowerCase()){d.splice(c,
0,b);return}if(!(b.group.toLowerCase()>d[c].group.toLowerCase())&&b.title.toLowerCase()<d[c].title.toLowerCase()){d.splice(c,0,b);return}}}else{if(b.group){d.splice(c,0,b);return}if(b.title.toLowerCase()<d[c].title.toLowerCase()){d.splice(c,0,b);return}}d.splice(c,0,b)}if(!(5>u.length())){var f=b.crypto.w(u.h(1,4),a.B).c(0);if(0>f||200<f)b.a.log("too many publish_files in the publish_file list for "+a.l),K();else{u.shift(5);a.Sh=[];var e=0;f?da=c:S=R;l("COMMAND_US_UPDATE_PUBLISH_FILE_LIST")}}},z,
X,O,H,H,z,function(){if(!(5>u.length())){var b=u.c(1);a.Nj=b&1?1:0;a.zt=b&2?1:0;a.zr=b&4?1:0;a.OB=b&8?0:1;a.tj=b&16?1:0;u.shift(5);S=R;l("COMMAND_US_INIT_INFO")}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[CreateGroup 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroup 500] for "+a.l),K();else if(!(c<5+d+4+f)){if(c=u.h(5,d))if(61!=c.charCodeAt(0))n.ud(a,c);else{var e=u.h(5+d+4,f),g=a.da?a.Qa:
a.O;h(a,c,g,e);n.Bb&&n.Bb(a,c,g,a.username);e!=g&&n.Bb&&n.Bb(a,c,e,n.Uk(a,e));n.Af&&n.Af(a,c,e)}u.shift(5+d+4+f);S=R;l("COMMAND_US_CREATE_GROUP")}}}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[CreateGroup2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroup2 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||128<=e)b.a.log("wrong user name len[CreateGroup2 800] for "+a.l),
K();else if(!(c<5+d+4+f+4+e+4)){if(c=u.h(5,d))if(61!=c.charCodeAt(0))n.ud(a,c);else{var g=u.h(5+d+4,f),w=u.h(5+d+4+f+4,e);n.Le(a,u.c(5+d+4+f+4+e),g,w);var m=a.da?a.Qa:a.O;h(a,c,g,m);n.Bb&&n.Bb(a,c,m,a.username);g!=m&&n.Bb&&n.Bb(a,c,g,w);n.Af&&n.Af(a,c,g)}u.shift(5+d+4+f+4+e+4);S=R;l("COMMAND_US_CREATE_GROUP2")}}}}},z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[GroupMessage2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[GroupMessage2 500] for "+
a.l),K();else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||500<=e)b.a.log("wrong short message len[GroupMessage2 800] for "+a.l),K();else if(!(c<5+d+4+f+4+e+4)){var g=u.c(5+d+4+f+4+e);if(0>g||5E3<=g)b.a.log("wrong short message2 len[GroupMessage2 1100] for "+a.l),K();else if(!(c<5+d+4+f+4+e+4+g+4)){if(c=u.h(5,d)){var h=u.h(5+d+4,f),w=u.c(5+d+4+f+4+e+4+g)>>>0,m=a.fb[c];m&&m.count==w&&"undefined"!==typeof m.nb[h]?(w=b.crypto.w(u.h(5+d+4+f+4,e),a.B).u(),m=b.crypto.w(u.h(5+d+4+f+4+e+4,g),a.B).u(),n.Xj&&
n.Xj(a,c,w,m,h)):(n.ud(a,c),n.Yd&&n.Yd(a,c),m&&(delete a.fb[c],a.Ad--,n.Ra&&n.Ra(a,c)))}u.shift(5+d+4+f+4+e+4+g+4);S=R;l("COMMAND_US_GROUP_MESSAGE2")}}}}}},z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[LeaveGroup2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[LeaveGroup2 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){if(c=u.h(5,d)){var e=a.fb[c];if(e){var g=u.h(5+d+4,f),h=u.c(5+d+4+f)>>>0;1234567890==
h||h!=e.count||"undefined"===typeof e.nb[g]?(1234567890!=h&&n.ud(a,c),n.Yd&&n.Yd(a,c),delete a.fb[c],a.Ad--):(delete e.nb[g],e.count--,q(a,e),n.jk&&n.jk(a,c,g));n.Ra&&n.Ra(a,c)}}u.shift(5+d+4+f+4);S=R;l("COMMAND_US_LEAVE_GROUP2")}}}},z,T,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong peer id len[CreateGroupFail 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[CreateGroupFail 500] for "+a.l),K();else if(!(c<5+d+4+f+
4)){c=u.h(5,d);var e=u.h(5+d+4,f),g=u.c(5+d+4+f);n.Uj&&n.Uj(a,c,e,g);u.shift(5+d+4+f+4);S=R;l("COMMAND_US_CREATE_GROUP_FAIL")}}}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[JoinGroupFail 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[JoinGroupFail 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){if(c=u.h(5,d)){var e=u.h(5+d+4,f),g=u.c(5+d+4+f);n.ik&&n.ik(a,c,e,g)}u.shift(5+d+4+f+4);S=R;l("COMMAND_US_JOIN_GROUP_FAIL")}}}},
function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[GroupMessageFail 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||500<=f)b.a.log("wrong user name len[GroupMessageFail 800] for "+a.l),K();else if(!(c<5+d+4+f+4)){var e=u.c(5+d+4+f);if(0>e||5E3<=e)b.a.log("wrong user name len[GroupMessageFail 1100] for "+a.l),K();else if(!(c<5+d+4+f+4+e+4)){var g=3<a.ef||3==a.ef&&23<=a.$h;c=u.h(5+d+4,f);var h=u.h(5+d+4+f+4,e);g&&(c&&(c=b.crypto.w(c,a.B).u()),
h&&(h=b.crypto.w(h,a.B).u()));g=u.c(5+d+4+f+4+e);n.Yj&&n.Yj(a,"",c,h,g);u.shift(5+d+4+f+4+e);S=R;l("COMMAND_US_GROUP_MESSAGE_FAIL")}}}}},z,z,C,function(){var c=u.length();if(!(17>c)){var d=u.c(13);if(0>d||128<=d)b.a.log("wrong peer id len[SendFileRequest 200] for "+a.l),K();else if(!(c<17+d+4)){var f=u.c(17+d);if(0>f||1E3<=f)b.a.log("wrong file name len[SendFileRequest 500] for "+a.l),K();else{var e=17+d+4+f,g=u.c(5),h;var w=h="";if(2==g||1==g){if(c<e+4)return;h=u.c(e);if(0>h||128<=h){b.a.log("wrong len[SendFileRequest 800] for "+
a.l);K();return}e+=4+h;if(c<e+4)return;h=u.h(e-h,h);w=u.c(e);if(0>w||100<=w){b.a.log("wrong len[SendFileRequest 1100] for "+a.l);K();return}e+=4+w;if(c<e)return;w=u.h(e-w,w)}var m="";var p=0;if(0==g||1==g){if(c<e+4)return;m=u.c(e);if(0>m||128<=m){b.a.log("wrong len[SendFileRequest 1400] for "+a.l);K();return}e+=4+m+4;if(c<e)return;m=u.h(e-m-4,m);p=u.c(e-4)}c=u.c(1)>>>0;var q=u.c(9)>>>0,r=u.h(17,d);d=u.h(17+d+4,f);2!=g&&n.Le(a,p,r,m);n.Bk&&n.Bk(a,c,g,q,r,m,d,h,w,p);u.shift(e);S=R;l("COMMAND_US_SENDFILE_REQUEST")}}}},
function(){var c=u.length();if(!(25>c)){var d=u.c(21);if(0>d||128<=d)b.a.log("wrong peer id len[SendFileAction 200] for "+a.l),K();else if(!(c<25+d)){c=u.c(1)>>>0;var f=u.c(5),e=u.c(9),g=u.c(13),h=u.c(17),w=u.h(25,d);n.Ak&&n.Ak(a,g,h,e,c,f,w);u.shift(25+d);S=R;l("COMMAND_US_SENDFILE_ACTION")}}},function(){var c=u.length();if(!(17>c)){var d=u.c(13);if(0>d||128<=d)b.a.log("wrong peer id len[SendFileSend 200] for "+a.l),K();else if(!(c<17+d)){var f=u.c(5)>>>0,e=f>>>30,g=f&536870911;if(0>=g||4096<g||
3==e)b.a.log("wrong peer id len[SendFileSend 400] for "+a.l),K();else if(!(c<17+d+g)){c=u.c(1)>>>0;var h=u.c(9),w=u.h(17,d),m=b.crypto.w(u.h(17+d,g),a.B).u();n.Ck&&n.Ck(a,f,h,m,c,e,w);u.shift(17+d+g);S=R;l("COMMAND_US_SENDFILE_SEND")}}}},z,Y,z,function(){var c=u.length();if(!(5>c)){var d=u.c(1);0>d||128<=d?(n.s&&n.s(a,b.b.Ea),b.a.log("wrong userid len[USERNAME,200] for "+a.l),K(b.b.hb)):c<5+d||(a.username=b.crypto.w(u.h(5,d),a.B).u(),u.shift(5+d),S=R,l("COMMAND_US_USERNAME"))}},z,z,function(){var c=
u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[GroupTyping2 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong peer id len[GroupTyping2 500] for "+a.l),K();else if(!(c<5+d+4+f+4)){if(c=u.h(5,d)){var e=u.h(5+d+4,f),g=u.c(5+d+4+f)>>>0;n.Zj&&n.Zj(a,c,e,g)}u.shift(5+d+4+f+4);S=R;l("COMMAND_US_GROUP_TYPING2")}}}},G,G,z,T,z,z,z,z,function(){var c=u.length();if(!(9>c)){var d=u.c(5);0>d||512<=d?(b.a.log("wrong peer id len[ServerLogError 200] for "+
a.l),K()):c<9+d||(c=u.c(1),n.Ef&&n.Ef(a,c,u.h(9,d)),u.shift(9+d),S=R,l("COMMAND_US_SERVER_LOG_ERROR"))}},function(){var c=u.length();if(!(17>c)){var d=u.c(5);if(0>d||512<=d)b.a.log("wrong peer id len[ServerLogData 200] for "+a.l),K();else if(!(c<17+d)){var f=u.c(13);if(0>f||1E4<=f)b.a.log("wrong peer id len[ServerLogData 400] for "+a.l),K();else if(!(c<17+d+f)){c=u.c(1);var e=u.c(9),g=u.h(17,d),h=b.crypto.w(u.h(17+d,f),a.B).u();-1!=h.indexOf("\x00")?n.Ef&&n.Ef(a,c,g):n.Dk&&n.Dk(a,c,g,e,h);u.shift(17+
d+f);S=R;l("COMMAND_US_SERVER_LOG_DATA")}}}},z,function(){function c(){var c=u.length();if(!(8>c)){var d=u.c(0),f=u.c(4);if(0>f||128<=f)b.a.log("wrong id len[PGCAnnounce 1300] for "+a.l),K();else if(!(c<8+f+4)){var g=u.h(8,f),w=u.c(8+f);if(0>w||128<=w)b.a.log("wrong name len[PGCAnnounce 1600] for "+a.l),K();else if(!(c<8+f+4+w)){n.Le(a,d,g,u.h(8+f+4,w));J[g]||(Q++,J[g]=t-6E4);u.shift(8+f+4+w);v++;if(v==r&&(da=A,e&&!a.fb[e])){c=new B;c.hh=e;c.V=h;c.se=m;c.nb=J;c.count=Q;if(p){var P=a.da?a.Qa:a.O;c.nb[P]=
t-6E4;c.count++}q(a,c);a.fb[e]=c;a.Ad++;p&&n.Bb&&n.Bb(a,e,P,a.username);n.Ra&&n.Ra(a,e)}S=R;l("COMMAND_US_PGC_ANNOUNCE,2")}}}}var d=u.length();if(!(5>d)){var f=u.c(1);if(0>f||128<=f)b.a.log("wrong group id len[PGCAnnounce 200] for "+a.l),K();else if(!(d<5+f+4)){var e=u.h(5,f),g=u.c(5+f);if(0>g||128<=g)b.a.log("wrong owner id len[PGCAnnounce 500] for "+a.l),K();else if(!(d<5+f+4+g+4)){var h=u.h(5+f+4,g),w=u.c(5+f+4+g);if(0>w||128<=w)b.a.log("wrong pgc name len[PGCAnnounce 800] for "+a.l),K();else if(!(d<
5+f+4+g+4+w+8)){var m=u.h(5+f+4+g+4,w),p=u.c(5+f+4+g+4+w),r=u.c(5+f+4+g+4+w+4)>>>0;u.shift(5+f+4+g+4+w+8);if(0>r||1E5<=r)b.a.log("wrong size[PGCAnnounce 1100] for "+a.l),K();else{var t=b.a.A(),J={},Q=0,v=0;0!=r?da=c:S=R;l("COMMAND_US_PGC_ANNOUNCE")}}}}}},function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||128<=d)b.a.log("wrong group id len[RenamePgc 200] for "+a.l),K();else if(!(c<5+d+4)){var f=u.c(5+d);if(0>f||128<=f)b.a.log("wrong name len[RenamePgc 500] for "+a.l),K();else if(!(c<5+d+4+
f+4)){var e=u.c(5+d+4+f);if(0>e||128<=e)b.a.log("wrong srcid len[RenamePgc 800] for "+a.l),K();else if(!(c<5+d+4+f+4+e)){if(c=u.h(5,d)){var g=u.h(5+d+4,f),h=u.h(5+d+4+f+4,e),w=a.fb[c];w?(w.se=g,q(a,w),n.zk&&n.zk(a,c,g,h),n.Ra&&n.Ra(a,c)):n.ud(a,c)}u.shift(5+d+4+f+4+e);S=R;l("COMMAND_US_PGC_RENAME")}}}}},function(){var c=u.length();if(!(9>c)){var d=u.c(5);if(0>d||128<=d)b.a.log("wrong group id len[OfflineJoin 200] for "+a.l),K();else if(!(c<9+d+4)){var f=u.c(9+d);if(0>f||128<=f)b.a.log("wrong name len[OfflineJoin 500] for "+
a.l),K();else if(!(c<9+d+4+f)){if(c=u.h(9,d)){var e=u.c(1),g=u.h(9+d+4,f);n.uk&&n.uk(a,e,c,g)}u.shift(9+d+4+f);S=R;l("COMMAND_US_OFFLINE_JOIN_GROUP2")}}}},function(){var c=u.length();if(!(9>c)){var d=u.c(5);if(0>d||128<=d)b.a.log("wrong group id len[OfflineLeave 200] for "+a.l),K();else if(!(c<9+d+4)){var f=u.c(9+d);if(0>f||128<=f)b.a.log("wrong name len[OfflineLeave 500] for "+a.l),K();else if(!(c<9+d+4+f)){if(c=u.h(9,d)){var e=u.c(1),g=u.h(9+d+4,f);n.vk&&n.vk(a,e,c,g)}u.shift(9+d+4+f);S=R;l("COMMAND_US_OFFLINE_LEAVE_GROUP2")}}}},
function(){var c=u.length();if(!(9>c)){var d=u.c(5);if(0>d||128<=d)b.a.log("wrong group id len[OfflineGroupMessage 200] for "+a.l),K();else if(!(c<9+d+4)){var f=u.c(9+d);if(0>f||128<=f)b.a.log("wrong name len[OfflineGroupMessage 500] for "+a.l),K();else if(!(c<9+d+4+f+4)){var e=u.c(9+d+4+f);if(0>e||500<=e)b.a.log("wrong name len[OfflineGroupMessage 800] for "+a.l),K();else if(!(c<9+d+4+f+4+e+4)){var g=u.c(9+d+4+f+4+e);if(0>g||5E3<=g)b.a.log("wrong name len[OfflineGroupMessage 1100] for "+a.l),K();
else if(!(c<9+d+4+f+4+e+4+g)){if(c=u.h(9,d)){var h=u.c(1),w=u.h(9+d+4,f),m=u.h(9+d+4+f+4,e),p=u.h(9+d+4+f+4+e+4,g);if(3<a.ef||3==a.ef&&23<=a.$h)m&&(m=b.crypto.w(m,a.B).u()),p&&(p=b.crypto.w(p,a.B).u());n.tk&&n.tk(a,h,c,w,m,p)}u.shift(9+d+4+f+4+e+4+g);S=R;l("COMMAND_US_OFFLINE_GROUP_MESSAGE2")}}}}}},function(){var c=u.length();if(!(9>c)){var d=u.c(5);if(0>d||128<=d)b.a.log("wrong group id len[OfflinePgcRename 200] for "+a.l),K();else if(!(c<9+d+4)){var f=u.c(9+d);if(0>f||128<=f)b.a.log("wrong name len[OfflinePgcRename 500] for "+
a.l),K();else if(!(c<9+d+4+f+4)){var e=u.c(9+d+4+f);if(0>e||128<=e)b.a.log("wrong name len[OfflinePgcRename 800] for "+a.l),K();else if(!(c<9+d+4+f+4+e)){if(c=u.h(9,d)){var g=u.c(1),h=u.h(9+d+4,f),w=u.h(9+d+4+f+4,e);n.wk&&n.wk(a,g,c,h,w)}u.shift(9+d+4+f+4+e);S=R;l("COMMAND_US_OFFLINE_PGC_RENAME")}}}}},z,I,I,function(){var c=u.length();if(!(5>c)){var d=u.c(1);if(0>d||1E4<=d)n.s&&n.s(a,b.b.Ea),b.a.log("wrong username len[TURN_SERVER,100] for "+a.l),K(b.b.hb);else if(!(c<5+d)){c=b.crypto.w(u.h(5,d),
a.B).u();try{var f=JSON.parse(c);b.a.isArray(f)&&(10<f.length&&(f.length=10),a.di=f)}catch(ya){}a.di.length?b.a.log("msgr received turn server information from MCU for "+a.l):b.a.log("msgr received turn server information from MCU, but no valid entry found, for "+a.l);u.shift(5+d);S=R;l("COMMAND_US_TURN_SERVER")}}},z];ea.onclose=function(){a.j!=ea&&(b.a.log("!!!Info, need take care of this(1)!!!"),n.s&&n.s(a,99991));m();a.Jd=!0;a.v.onmessage||v()};ea.onerror=function(){a.j!=ea&&(b.a.log("!!!Info, need take care of this(2)!!!"),
n.s&&n.s(a,99992));m();a.kf=!0;a.v.onmessage||v()};ea.onmessage=function(c){qa=0;m();c=new N.a.g(c.data);u.D(c);e();a.v.onmessage||a.Fc||(ma=0,ra=b.a.A(),da())};var ca=new N.a.g("U");ea.send(ca.i());if(a.T){ca.clear();ca.f(0);var ia=a.wf?a.wf.length:0;ca.f(ia);ia&&ca.D(b.crypto.M(a.wf,a.B))}else ca.clear(),ia=a.O?a.O.length:0,ca.f(ia),ia&&ca.D(b.crypto.M(a.O,a.B)),ia=a.password?a.password.length:0,ca.f(ia),ia&&ca.D(b.crypto.M(a.password,a.B));ea.send(ca.i());a.pd=0;a.T||(a.Xa?a.ah?x.Jj||(a.ah=0,a.Xa=
b.b.Md):a.Xa==b.b.Md&&x.Jj&&(a.ah=1,a.Xa=b.b.mj):a.Xa=x.ab,ca.clear(),ca.o(x.Ei),ca.f(a.Xa),ca.o(x.bo),ca.f(b.a.time()),ea.send(ca.i()));a.Fj=1;a.disconnect=aa;b.a.log(1,["msgr connection is established for ",a.l].join(""));b.a.log(2,["msgr connection param for ",a.l,": param->addr=[",a.Z,"],port=",a.port].join(""));a.Ej=!0;a.J=b.b.pa;n.S&&n.S(a);qa=sa=a.rg=0;e();da=A;u.length()&&(p(),ma=0,ra=b.a.A(),da())}function d(a,c){var d=this;a.Tb=1;d.stop=function(){};if(window.DOMParser){var f=new DOMParser;
try{var e=f.parseFromString(c.replace(/\n/g,"&#10;"),"text/xml")}catch(ja){return}try{var g=e.getElementsByTagName("ci")[0];if(g)if(g.getAttribute("compression")){var h=g.getAttribute("size");if(!(h&&1E9<h)){var w=b.Yb.Sr;if(w){var m=b.a.Ib(g.childNodes[0].nodeValue);w=w();var n=new w("zlib_decompress",b.a.ai(m),function(c){d.stop=function(){};var f=new DOMParser;try{var e=f.parseFromString(b.a.uj(c).replace(/\n/g,"&#10;"),"text/xml")}catch(wa){return}T(a,e)},function(){d.stop=function(){}});a.Tb=
0;d.stop=function(){a.Tb=1;n.stop();d.stop=function(){}}}else a.Tb=0}}else T(a,e)}catch(ja){}}}function T(a,b){var c=!1;a.Tb=1;try{var d=b.getElementsByTagName("ci")[0];if(!d)return;var f;(f=d.getAttribute("office_name"))&&100>f.length&&(a.Oa=f);(f=d.getAttribute("personal_info"))&&128>f.length&&(a.Ua=f);(f=d.getAttribute("im_font"))&&256>f.length&&(a.jh=f);f=d.getAttribute("im_style");a.yf=f?f>>>0:0;var e,h,w=d.getElementsByTagName("contactgroup");for(e=0;e<(w?w.length:0);e++)if(b={},f=w[e].getAttribute("groupname")){var m=
!1;for(h=0;h<a.oa.length;h++){var p=a.oa[h];if(p.m_szGroupName==f){m=!0;break}else if(f.toLowerCase()<p.m_szGroupName.toLowerCase())break}if(!m){a.oa.splice(h,0,b);b.m_szGroupName=f;f=w[e].getAttribute("contact_folded");b.contact_folded=f?f>>>0:0;b.m_pContactArray=[];var q,r=w[e].getElementsByTagName("contact");for(q=0;q<(r?r.length:0);q++)if((f=r[q].getAttribute("userid"))&&128>f.length&&(a.T||!C(a,f))){var t={};m=!1;for(h=0;h<b.m_pContactArray.length;h++)if(f==b.m_pContactArray[h].id){m=!0;break}else if(f<
b.m_pContactArray[h].id)break;if(!m){b.m_pContactArray.splice(h,0,t);t.id=f;var v=ba(a,f);f=r[q].getAttribute("username");t.name=f&&128>f.length?f:t.id;f=r[q].getAttribute("pm");t.pm=f&&128>f.length?f:"";v&&(v.username&&v.username!=t.name&&(t.name=v.username,c=!0),v.Ua&&v.Ua!=t.pm&&(t.pm=v.Ua,c=!0))}}}}if((f=d.getElementsByTagName("share_file"))&&f.length){var x=f[0].getElementsByTagName("file");for(e=0;e<(x?x.length:0);e++){var y=x[e];d={};if((f=y.getAttribute("jnj"))&&1E4>f.length&&(d.jnj=f,(f=
y.getAttribute("username"))&&128>f.length&&(d.owner_name=f,(f=y.getAttribute("homepage"))&&100>f.length&&(d.owner_homepage=f,(f=y.getAttribute("title"))&&128>f.length)))){d.title=f;if(f=y.getAttribute("subject")){if(!(128>f.length))continue;d.subject=f}else d.subject="";f=y.getAttribute("duration");null!=f&&(d.duration=f>>>0,f=y.getAttribute("share_type"),null==f||0>f||2<f||(d.share_type=f>>>0,f=y.getAttribute("tick"),null!=f&&(d.recv_tick=f>>>0,f=y.getAttribute("read"),d.read=null==f?1:f>>>0,g(a,
d))))}}}}catch(ta){return}n.Zr(a);n.Tk();n.Yr(a);c&&n.Xb(a);n.S&&n.S(a);n.Tj&&n.Tj(a)}function g(a,b){var c=b.owner_name,d=b.subject||b.title,f=/(.+)\/([^\/]+)$/.exec(d);f?(b.name=f[2],b.group=c+" - "+f[1],b.group2=b.owner_name+" - "+f[1]):(b.name=d,b.group=c+" ",b.group2=b.owner_name+" ");c=a.ec;for(a=0;a<c.length;a++){if(b.group<c[a].group){c.splice(a,0,b);return}if(!(b.group.toLowerCase()>c[a].group.toLowerCase())&&b.name.toLowerCase()<c[a].name.toLowerCase()){c.splice(a,0,b);return}}c.splice(a,
0,b)}function r(a){function c(c){var d=this,f=new n("zlib_compress",b.a.ai(c),0,function(f){d.stop=function(){};f='<ci size="'+c.length+'" compression="1">'+b.a.oc(b.a.uj(f))+"</ci>";var e=f.length,g=new N.a.g;g.o(x.yi);g.f(e);e&&g.D(b.crypto.M(f,a.B));a.j.send(g.i());b.a.log("save client_info for "+a.l+": "+e+","+f);a.xc=null},function(){a.xc=null});d.stop=function(){f.stop();d.stop=function(){}}}a.xc&&(a.xc.stop(),a.xc=null);var d="<ci",f=b.a.At;a.Oa&&(d+=' office_name="'+f(a.Oa)+'"');a.Ua&&(d+=
' personal_info="'+f(a.Ua)+'"');a.jh&&(d+=' im_font="'+f(a.jh)+'"');a.yf&&(d+=' im_style="'+a.yf+'"');d+=">\n";var e;if(a.oa.length)for(e=0;e<a.oa.length;e++){d+="<contactgroup";var g=a.oa[e];d+=' groupname="'+f(g.m_szGroupName)+'" contact_folded="'+(g.contact_folded?1:0)+'">\n';var h;for(h=0;h<g.m_pContactArray.length;h++){var m=g.m_pContactArray[h];d+='<contact userid="'+f(m.id)+'" username="'+f(m.name);m.pm&&(d+='" pm="'+f(m.pm));d+='"/>\n'}d+="</contactgroup>\n"}if(a.ec.length){d+="<share_file>\n";
for(e=0;e<a.ec.length;e++)g=a.ec[e],d+='<file duration="'+g.duration+'" share_type="'+g.share_type+'" tick="'+g.recv_tick+'" jnj="'+f(g.jnj)+'" username="'+f(g.owner_name)+'" homepage="'+f(g.owner_homepage)+'" title="'+f(g.title),g.read||(d+='" read="'+g.read),g.subject&&(d+='" subject="'+g.subject),d+='"/>\n';d+="</share_file>\n"}d+="</ci>";f=d.length;var n=b.Yb.Rr();500<f&&n?a.xc=new c(d):(e=new N.a.g,e.o(x.yi),e.f(f),f&&e.D(b.crypto.M(d,a.B)),a.j.send(e.i()),b.a.log("save client_info for "+a.l+
": "+f+","+b.a.Ab(d)))}function z(a){a&&a.disconnect&&a.disconnect()}function Z(a){a.kh();a.yr=0;a.ft=0;a.Tb=a.T?1:0;a.TB=0;a.fi=0;a.da=0;a.Nj=0;a.zt=0;a.rt=0;a.tj=0}function G(a){if(!a.Hc)if(b.a.log("just in case that the existing connection is still alive, prepare to sign out existing connection before reconnection for "+a.l),z(a),Z(a),a.Fj){b.a.log("start quick reconnection for "+a.l);a.disconnect=function(){};var c=b.m.Wh(a.Jb,a.dr,a.port,a.port2),d=c.Ph;c=c.bi;a.J=b.b.Ki;n.S&&n.S(a);t(a,d,c)}else b.a.log("start complete reconnection for "+
a.l),a.disconnect=function(){},I(a)}function aa(a,c){b.a.localStorage.hmtg_msgr_g_us_status=JSON.stringify(a);x.ab=a;for(var d=0,f=0;f<x.Ub.length;f++){var e=x.Ub[f];if(!(c&&c!=e||e.T)&&e.Xa!=a&&(d=1,m(e.T,e.O,e.ia,a),e.ah=0,e.Xa=a,e.mh=1,c||(e.pg=0),e.J==b.b.pa)){n.S&&n.S(e);var g=new N.a.g;g.o(x.Ei);g.f(e.Xa);e.j.send(g.i())}}d&&p()}function ba(a,b){if(a.da)return a.Bd[b];a=a.lb;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(d.O==b)return d}return null}function Y(a,c,d,e,g,h,m){a.f(c);d.da?
a.f(h):(a.f(23),a.D(b.crypto.M(g,d.B)));m||e.j.send(a.i())}function X(a,b){return b.T!=a.T||a.ia!=b.ia||!a.T&&a.O!=b.O?!1:!0}function O(a,b){if(!a.T&&b==(a.da?a.Qa:a.O))return!1;for(var c=0;c<a.oa.length;c++)for(var d=a.oa[c],f=0;f<d.m_pContactArray.length;f++)if(b==d.m_pContactArray[f].id)return!0;return!1}function C(a,b){return b==(a.da?a.Qa:a.O)}var N=window.W,x={Gb:1,Hb:25,Fe:0};b.a.log("hmtg jmkernel version "+H());var n=b.jmkernel=b.Yb=b.Yb||{};n.version=n.version=H;x.gv=0;x.Fv=1;x.zv=2;x.Dv=
3;x.Hi=4;x.Fg=5;x.Bi=6;x.lv=7;x.Zn=8;x.Ei=9;x.$n=10;x.tv=11;x.Uu=12;x.Qv=13;x.Sv=14;x.Tu=15;x.Vn=16;x.Rn=17;x.uv=18;x.Wv=19;x.vo=20;x.Jv=21;x.Rv=22;x.zi=23;x.Zv=24;x.Gi=25;x.Nv=26;x.xi=27;x.ov=28;x.pv=29;x.qv=30;x.eo=31;x.Ai=32;x.fo=33;x.rv=34;x.Cv=35;x.qo=36;x.Xn=37;x.Qu=38;x.Ev=39;x.ro=40;x.Fi=41;x.dv=42;x.Lv=43;x.Wn=44;x.hv=45;x.ev=46;x.$u=47;x.Vv=48;x.co=49;x.Ru=50;x.yi=51;x.fv=52;x.lo=53;x.Bv=54;x.po=55;x.Kv=56;x.Xv=57;x.ho=58;x.sv=59;x.Mv=60;x.Ci=61;x.Di=62;x.Gv=63;x.Su=64;x.Vu=65;x.Wu=66;x.Tn=
67;x.av=68;x.ao=69;x.nv=70;x.Yn=71;x.iv=72;x.Xu=73;x.kv=74;x.bv=75;x.Zu=76;x.Ov=77;x.Pv=78;x.no=79;x.mo=80;x.oo=81;x.Tv=82;x.jo=83;x.uo=84;x.Yv=85;x.Yu=86;x.Un=87;x.cv=88;x.so=89;x.to=90;x.Sn=91;x.jv=92;x.io=93;x.bo=94;x.Qn=95;x.Pn=96;x.Iv=97;x.Hv=98;x.On=99;x.Av=100;x.ko=101;x.wv=102;x.xv=103;x.vv=104;x.yv=105;x.mv=106;x.wo=107;x.Ii=108;x.Uv=109;x.Fp=109;x.Ub=[];x.la=[];x.ab=b.a.Yc(b.a.localStorage.hmtg_msgr_g_us_status);"undefined"===x.ab&&(x.ab=b.b.Md);x.ab!=b.b.Md&&x.ab!=b.b.jq&&x.ab!=b.b.kq&&
x.ab!=b.b.mj&&x.ab!=b.b.Rb&&(x.ab=b.b.Md);x.Jj=0;x.Cr=!0;x.Y=function(){};E.prototype._g_us_status=function(a){if("undefined"===typeof a)return x.ab;x.ab=a};x.Br=new E;e.prototype._blocking=function(a){this.Fc&&b.a.log(-1,"alert, _blocking, should not occur, need investigation for "+this.l);this.Fc=!0;this.xj=a};e.prototype._unblocking=function(){this.Fc||b.a.log(-1,"alert, _unblocking, should not occur, need investigation for "+this.l);this.Fc=!1;this.ei&&this.ei()};e.prototype._homepage=function(){return this.ia};
e.prototype._guest=function(){return this.T};e.prototype._userid=function(){return this.O};e.prototype._my_id=function(){return this.da?this.Qa:this.O};e.prototype._connection_status=function(){return this.J};e.prototype._us_status=function(a){if("undefined"===typeof a)return this.Xa;this.Xa=a};e.prototype._office_status=function(){return this.Ta};e.prototype._mmc_messenger=function(){return this.da};e.prototype._server_version_major=function(){return this.ef};e.prototype._server_version_minor=function(){return this.$h};
e.prototype._server_version_subminor=function(){return this.qt};e.prototype._personal_info=function(a){if("undefined"===typeof a)return this.Ua;this.Ua=a};e.prototype._office_name=function(a){if("undefined"===typeof a)return this.Oa;this.Oa=a};e.prototype._name_or_homepage=function(){return this.Oa?this.Oa:this.ia};e.prototype._name_or_homepage2=function(){return this.Oa?this.Oa:(this.T?"guest":this.username)+" @ "+this.ia};e.prototype._name_or_homepage3=function(){return this.Oa?this.Oa:"["+(this.T?
"guest":this.username)+" @ "+this.ia+"]"};e.prototype._quit=function(){return this.Va};e.prototype._internal_id=function(){return this.Qa};e.prototype._m_pContactGroupArray=function(){return this.oa};e.prototype._client_info_loaded=function(){return this.Tb};e.prototype._noncontact_folded=function(a){if("undefined"===typeof a)return this.qe;this.qe=a};e.prototype._m_p_mmc_user_hash=function(){return this.Bd};e.prototype._m_User=function(){return this.lb};e.prototype._user_status_inited=function(){return this.rg};
e.prototype._user_info_ever_recvd=function(){return this.fi};e.prototype._disk_usage=function(){return this.vr};e.prototype._username=function(a){if("undefined"===typeof a)return this.username;this.username=a};e.prototype._to_restore_status=function(){return this.pg};e.prototype._im_style_flag=function(a){if("undefined"===typeof a)return this.yf;this.yf=a};e.prototype._ngclass=function(a){if("undefined"===typeof a)return this.pb;this.pb=a};e.prototype._ngstyle=function(a){if("undefined"===typeof a)return this.Gc;
this.Gc=a};e.prototype._imstyle=function(a){if("undefined"===typeof a)return this.V;this.V=a};e.prototype._file_transfer_cap=function(){return this.zr};e.prototype._group_im_cap=function(){return this.Nj};e.prototype._password=function(a){if("undefined"===typeof a)return this.password;this.password=a};e.prototype._password_error=function(a){if("undefined"===typeof a)return this.cf;this.cf=a};e.prototype._ever_connected=function(){return this.Ej};e.prototype._server_im_log=function(){return this.Zh};
e.prototype._share_file_folded=function(){return this.ff};e.prototype._old_psf_folded=function(){return this.od};e.prototype._m_pShareFileArray=function(){return this.ec};e.prototype._publish_file_count=function(){return this.ft};e.prototype._publish_file_folded=function(){return this.df};e.prototype._old_publish_folded=function(){return this.rd};e.prototype._mmc_publish_file_array=function(){return this.Sh};e.prototype._visitor_folded=function(a){if("undefined"===typeof a)return this.ye;this.ye=
a};e.prototype._m_pVisitorArray=function(){return this.$e};e.prototype._event_count=function(){return this.yr};e.prototype._event_folded=function(a){if("undefined"===typeof a)return this.Qd;this.Qd=a};e.prototype._mmc_event_array=function(){return this.hg};e.prototype._mcu_tick=function(){return this.Ys};e.prototype._local_tick=function(){return this.Ss};e.prototype._allow_group_im_force_leave=function(){return this.tj};e.prototype._email=function(a){if("undefined"===typeof a)return this.Zg;this.Zg=
a};e.prototype._deny_message=function(a){if("undefined"===typeof a)return this.uf;this.uf=a};e.prototype._jnj_ip=function(){return this.Z};e.prototype._port=function(){return this.port};e.prototype._profile_up_to_date=function(){return this.Bm};e.prototype._max_outconnection=function(){return this.Xs};e.prototype._disk_quota=function(){return this.ur};e.prototype._pgc_folded=function(a){if("undefined"===typeof a)return this.re;this.re=a};e.prototype._m_pPgcHash=function(){return this.fb};e.prototype._m_PgcCount=
function(){return this.Ad};e.prototype._cipher_name=e.prototype.Sq=function(){return this.jd};e.prototype._turn_server_array=function(){return this.di};D.prototype._status=function(a){if("undefined"===typeof a)return this.status;this.status=a};D.prototype._office_status=function(){return this.Ta};D.prototype._username=function(){return this.username};D.prototype._personal_info=function(){return this.Ua};D.prototype._userid=function(){return this.O};D.prototype._major=function(){return this.mb};D.prototype._minor=
function(){return this.Eb};D.prototype._is_offline=function(){return 0==this.status&&0==this.Ta||this.status==b.b.Rb};v.prototype._saved_password=function(){return this.Hd};B.prototype._pgc_name=function(){return this.se};B.prototype._full_name=function(){return this.$a};B.prototype._group_id=function(){return this.hh};B.prototype._owner_id=function(){return this.V};B.prototype._count=function(){return this.count};B.prototype._member_hash=function(){return this.nb};n.jm_command_CallbackReady=n.oC=
function(){var a=b.Yb;a.Rr=a.jm_callback_compress;a.Sr=a.jm_callback_decompress;a.Wj=a.jm_callback_GetMcuInfo;a.S=a.jm_callback_UpdateConnectionStatus;a.s=a.jm_callback_ShowError;a.Zd=a.jm_callback_UpdateUser;a.Vj=a.jm_callback_DeleteConnectionParam;a.Ud=a.jm_callback_LaunchJoinNet;a.Ek=a.jm_callback_ServerShutdown;a.ck=a.jm_callback_JnjExceedDiskQuota;a.Ff=a.jm_callback_ShowMMCError;a.Gk=a.jm_callback_ShortMessage;a.dk=a.jm_callback_JnjInvite;a.hk=a.jm_callback_JnjVisit;a.ek=a.jm_callback_JnjNewMessage;
a.fk=a.jm_callback_JnjNewMessageCount;a.Nk=a.jm_callback_UserInfoUpdated;a.bk=a.jm_callback_InviteJnjGeneration;a.kk=a.jm_callback_MMCJnjGeneration;a.xk=a.jm_callback_QueryURLMMC;a.Bk=a.jm_callback_SendFileRequest;a.tk=a.jm_callback_OfflineGroupMessage;a.Xj=a.jm_callback_GroupMessage;a.gk=a.jm_callback_JnjShareFile;a.Hk=a.jm_callback_ShortMessageFailure;a.ak=a.jm_callback_InviteFailure;a.Fk=a.jm_callback_ShareFileFailure;a.Yj=a.jm_callback_GroupMessageFail;a.Cf=a.jm_callback_NotifyIMStatusChange;
a.Ef=a.jm_callback_ServerLogError;a.Dk=a.jm_callback_ServerLogData;a.zf=a.jm_callback_DisconnectGroupConversationWindow;a.yk=a.jm_callback_ReconnectGroupConversationWindow;a.$j=a.jm_callback_IMNewItem;a.Vd=a.jm_callback_MsgNewItem;a.Wb=a.jm_callback_MessageEndOfFile;a.pk=a.jm_callback_NotifyPlaybackResult;a.Df=a.jm_callback_NotifyShareResult;a.rk=a.jm_callback_NotifyUnshareResult;a.sk=a.jm_callback_NotifyViewRecordResult;a.Or=a.jm_callback_NotifyJnrPasswordResult;a.Nr=a.jm_callback_NotifyChangeTitleResult;
a.Wd=a.jm_callback_NotifyChangeFileProgress;a.lk=a.jm_callback_NotifyJeditorResult;a.Bf=a.jm_callback_NotifyDownloadResult;a.Xd=a.jm_callback_NotifyUploadResult;a.Ok=a.jm_callback_ViewRecord;a.Kk=a.jm_callback_UpdateEventList;a.Lk=a.jm_callback_UpdatePublishFileList;a.Tj=a.jm_callback_ClientInfoLoaded;a.Ra=a.jm_callback_UpdatePgc;a.Mk=a.jm_callback_UpdateVisitor;a.Ik=a.jm_callback_ShowTalkToError;a.Pk=a.jm_callback_VisitorSessionAlert;a.Ak=a.jm_callback_SendFileAction;a.Ck=a.jm_callback_SendFileSend;
a.Zj=a.jm_callback_GroupTyping;a.Jk=a.jm_callback_TypingIn;a.nk=a.jm_callback_NotifyOnlineAlertMMC;a.mk=a.jm_callback_NotifyOnlineAlert;a.Bb=a.jm_callback_JoinGroup;a.jk=a.jm_callback_LeaveGroup;a.Yd=a.jm_callback_StopPgc;a.Af=a.jm_callback_InitPgc;a.uk=a.jm_callback_OfflineJoin;a.vk=a.jm_callback_OfflineLeave;a.wk=a.jm_callback_OfflinePgcRename;a.zk=a.jm_callback_RenamePgc;a.Uj=a.jm_callback_CreateGroupFail;a.ik=a.jm_callback_JoinGroupFail;a.qk=a.jm_callback_NotifyServerIMLogChange;a.Qk=a.jm_callback_WebRTCSignal};
n.jm_command_ReadWBL=n.TC=function(){F();x.la=[];var a=[];b.a.localStorage.hmtg_wbl&&"string"===typeof b.a.localStorage.hmtg_wbl&&b.a.localStorage.hmtg_wbl.length&&(a=b.a.Yc(b.a.localStorage.hmtg_wbl),"undefined"===a?a=[]:b.a.isArray(a)||(a=[]));for(var c=0;c<a.length;c++){var d=a[c],e=new v;e.Oa="string"===typeof d.office_name?d.office_name:"";e.ia="string"===typeof d.homepage?d.homepage:"";e.ye=!!d.visitor_folded;e.ff=!!d.share_file_folded;e.Qd=!!d.event_folded;e.df=!!d.publish_file_folded;e.re=
!!d.pgc_folded;e.qe=!!d.noncontact_folded;e.T=!!d.guest;d.guest||(e.eg=d.last_status,e.O="string"===typeof d.userid?d.userid:"",e.Hd=!!d.saved_password,d.saved_password&&(d.password&&"string"===typeof d.password||(d.password=""),e.password=b.crypto.w(d.password,b.crypto.jf).u()));x.la.push(e)}};n.jm_command_WriteWBL=n.Tk=p;n.jm_command_ReorderWBL=n.$C=function(a){var b=[],c,d=!1;for(c=0;c<a.length;c++){var f;a:{for(f=0;f<x.la.length;f++)if(X(a[c].pointer,x.la[f]))break a;f=-1}-1!=f&&(f!=c&&(d=!0),
b.push(x.la[f]))}d&&(x.la=b,n.Tk())};n.jm_command_AddWebOffice=n.lC=function(a,c,d,e,g){var f=0,h;for(h=0;h<x.la.length;h++){var m=x.la[h];if(m.T==c&&m.ia==a&&(c||e==m.O)){f=1;m.mr=1;m.T=c;m.Hd=d;c||(m.O=e,d&&(m.password=g));break}}f||(m=new v,m.mr=1,m.eg=b.b.Md,m.ia=a,m.T=c,!c&&(m.O=e,m.Hd=d)&&(m.password=g),x.la.push(m))};n.jm_command_UpdateWebOfficeLastStatus=n.pD=m;n.jm_command_SignInOffice=n.iD=function(a,c,d,g,h){for(var f=0,m=null,w=0;w<x.Ub.length;w++)if(m=x.Ub[w],m.ia==d&&(a&&m.T||!m.T&&
!a&&m.O==g)){f=1;break}if(f){f=m;if(1E4>f.J){if(f.T)return;if(f.password==h){x.ab=c;f.Xa!=c&&(f.J==b.b.pa?aa(c,f):(f.Xa=c,f.mh=1));return}b.a.log("add office and force existing connection to sign out for "+f.l)}z(f);f.T||(x.ab=f.Xa=c,f.mh=1,f.password=h);f.J=b.b.ze;G(f)}else f=new e,f.Je=!0,f.J=b.b.Ni,f.T=a,f.T||(x.ab=f.Xa=c,f.mh=1,f.O=g,f.password=h,f.username=g),f.ia=d,x.Ub.push(f),f.l=(f.T?"guest":f.O)+" @ homepage "+f.ia,b.a.log(1,["signin, start thread for ",f.l].join("")),n.S&&n.S(f),I(f)};
n.jm_command_SignOutOffice=n.jD=z;n.jm_command_ReconnectOffice=n.UC=G;n.jm_command_RemoveOffice=n.WC=function(a){a&&a.disconnect&&a.disconnect();a&&(a.Va=!0);var b=x.Ub.indexOf(a);-1!=b&&x.Ub.splice(b,1);n.Vj&&n.Vj(a)};n.jm_command_ConnectAllOffice=n.tC=function(a){for(var c=0;c<x.la.length;c++){var d=x.la[c],f=new e;f.J=b.b.Ni;f.T=d.T;f.ye=d.ye;f.ff=d.ff;f.Qd=d.Qd;f.df=d.df;f.re=d.re;f.qe=d.qe;f.Xa=d.eg;f.Oa=d.Oa;f.ia=d.ia;d.T||(f.O=d.O,d.Hd?f.password=d.password:(f.password="",f.cf=1),f.username=
f.O);x.Ub.push(f);f.l=(f.T?"guest":f.O)+" @ homepage "+f.ia;a&&(d.T||d.Hd)?(b.a.log(1,"init, start thread for "+f.l),I(f)):f.J=b.b.ze;n.S&&n.S(f)}};n.jm_command_FindWebOffice=n.CC=function(a){for(var b,c=0;c<x.la.length;c++)if(b=x.la[c],X(a,b))return b;return null};n.jm_command_RemoveWebOffice=n.YC=function(a){a=x.la.indexOf(a);-1!=a&&x.la.splice(a,1)};n.jm_command_UpdateWebOfficeFoldStatus=n.oD=function(a,b,c){var d;for(d=0;d<x.la.length;d++){var f=x.la[d];if(X(a,f)){0==b?f.ye=c:2==b?f.qe=c:3==b?
f.Qd=c:4==b?f.ff=c:5==b?f.df=c:6==b&&(f.re=c);break}}};n.jm_command_UpdateWebOfficeName=n.Zr=function(a){var b;for(b=0;b<x.la.length;b++){var c=x.la[b];if(X(a,c)){c.Oa=a.Oa;break}}};n.jm_command_UpdateWebOfficeProfile=n.qD=function(a){var b;for(b=0;b<x.la.length;b++){var c=x.la[b];if(X(a,c)){c.password=a.password;break}}};n.jm_command_LaunchOffice=n.Vr=function(a){var b=new N.a.g;b.o(x.$n);a.j.send(b.i())};n.jm_command_AppendDefaultPassword=n.Ur=function(a,c){if(!c)return a;F();var d="hmtg_temp_autodelete_"+
(new N.a.g(N.random.ya(20))).Pb();c={time:Date.now(),value:b.crypto.M(c,b.crypto.jf).u()};b.a.localStorage[d]=JSON.stringify(c);a+="\nowner_passwd="+d+"\n";b.a.td||setTimeout(function(){b.a.localStorage.removeItem(d)},6E4);return a};n.jm_command_AppendPlayerName=n.mC=function(a,c){if(c.T)return a;var d=c.username;d?(d+=" @ "+c.ia,d=b.a.hf(d,128)):d="Guest";return a+("\nplayer_name="+d+"\n")};n.jm_command_Base64HashPassword=n.nC=function(a){var c=b.crypto.ad(a.password);a=b.crypto.M(c,a.B);return b.a.oc(a)};
n.jm_command_Visit=n.tD=function(a,c){if(!a.Va&&a.J==b.b.pa){var d=new N.a.g;d.o(x.Zn);d.H(c);a.j.send(d.i());return!0}};n.jm_command_SetStatus=n.Xr=aa;n.jm_command_MMCVisit=n.LC=function(a,c,d,e,g){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.eo);f.f(c);f.H(d);c=g?1:0;f.f(c);c||f.H(e);a.j.send(f.i());return!0}};n.jm_command_MMCRequestInviteUserJnj=n.KC=function(a,b,c,d,e){var f=new N.a.g;f.o(a==b?x.Xn:x.Ai);f.f(c);f.H(a==b?d:e);a.j.send(f.i())};n.jm_command_RequestInviteUserJnj=n.aD=function(a,b,
c,d){b=new N.a.g;b.o(x.Ai);b.f(c);b.H(d);a.j.send(b.i())};n.jm_command_InviteUser=n.FC=function(a,c,d,e,g){a.Va||!a.Ta&&!a.da||(b.a.oe("inviting user '"+e+"'(name: '"+g+"') @ '"+c.ia+"', invitor '"+(a.da?a.Qa:a.O)+"'(name: '"+a.username+"') @ '"+a.ia+"'"),g=new N.a.g,g.o(x.Vn),g.H(e),g.H(a.ia),g.H(a.da?a.username:a.O),a=d.length,g.f(a),a&&g.D(b.crypto.M(d,c.B)),c.j.send(g.i()))};n.jm_command_InviteGuest=n.EC=function(a,c,d,e,g){if(!a.Va&&(a.Ta||a.da)){b.a.oe("inviting guest "+g+" @ '"+c.ia+"', invitor '"+
(a.da?a.Qa:a.O)+"'(name: '"+a.username+"') @ '"+a.ia+"'");var f=new N.a.g;f.o(x.Wn);f.H(e);f.H(a.ia);f.H(a.da?a.username:a.O);a=d.length;f.f(a);a&&f.D(b.crypto.M(d,c.B));f.H(g);c.j.send(f.i())}};n.jm_command_SendMessage=n.dD=function(a,c,d,e,g,h,m,n){var f=new N.a.g;c?(f.o(x.Tn),f.H(c),m=d.length,f.f(m),m&&f.D(b.crypto.M(d,a.B)),m=e.length,f.f(m),m&&f.D(b.crypto.M(e,a.B))):(c=g||a.T,f.o(c?x.Fi:x.ro),f.H(m),m=d.length,f.f(m),m&&f.D(b.crypto.M(d,a.B)),m=e.length,f.f(m),m&&f.D(b.crypto.M(e,a.B)),f.H(a.T?
a.wf:a.da?a.Qa:a.O),f.H(n),c&&f.H(h));a.j.send(f.i())};n.jm_command_SendWebRTCSignal=n.eD=function(a,c,d){var f=new N.a.g;f.o(x.wo);f.H(d);d=c.length;f.f(d);d&&f.D(b.crypto.M(c,a.B));a.j.send(f.i())};n.jm_command_ParamFindUser=n.Wr=ba;n.jm_command_DownloadServerLog=n.AC=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.Qn);f.f(c);f.f(e);f.f(g);f.K(h);f.f(m);f.H(d);a.j.send(f.i());return!0}};n.jm_command_DeleteServerLog=n.yC=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;
f.o(x.Pn);f.f(c);f.f(e);f.H(d);a.j.send(f.i());return!0}};n.jm_command_DecodeServerLogLine=n.uC=function(a){var c={};if(35==a.charCodeAt(0)){c.text_type=b.b.Ig;a=b.a.Ib(a.slice(1));var d=new N.a.g(a)}else a=b.a.Ib(a),d=new N.a.g(a),c.text_type=d.c(8);if(d.L(a.length-1))return null;c.tick=d.c(0);var e=12;switch(c.text_type){case b.b.Zi:c.delay=d.c(12),e=16;case b.b.aj:var f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");if(-1==d)return null;var g=a.slice(e+f+d+2).indexOf("\x00");
if(e+f+d+g+3!=a.length||256<=f||500<=d||5E3<=g)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);c.s3=a.substr(e+f+d+2,g);break;case b.b.Lg:case b.b.Wi:c.delay=d.c(12),e=16;case b.b.Jg:case b.b.Kg:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||256<=f)return null;c.s1=a.substr(e,f);break;case b.b.Xi:c.delay=d.c(12);e=16;f=a.slice(e).indexOf("\x00");if(-1==f)return null;d=a.slice(e+f+1).indexOf("\x00");if(e+f+d+2!=a.length||256<=f||256<=d)return null;c.s1=a.substr(e,f);c.s2=a.substr(e+f+1,d);
break;case b.b.$i:case b.b.Yi:c.delay=d.c(12);c.size=d.c(16)>>>0;e=20;f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||5E3<=f)return null;c.s3=a.substr(e,f);break;case b.b.Ig:f=a.slice(e).indexOf("\x00");if(e+f+1!=a.length||500<=f)return null;c.s3=""+d.c(8)+" ("+a.substr(e,f)+")";break;default:return null}return c};n.jm_command_CheckIM=n.rC=function(a,c,d){return new b.protocol.Tr(a,c,d)};n.jm_command_CheckMsg=n.sC=function(a,c,d){return new b.protocol.Sk(a,0,d)};n.jm_command_Playback=n.SC=function(a,
c,d,e){var f=new N.a.g;a.da?(f.f(1),f.f(e),c.Da=0,c.j.send(f.i())):(f.o(x.lo),f.D(b.crypto.M(d,a.B)),a.j.send(f.i()))};n.jm_command_Delete=n.vC=function(a,b,c,d){var e=new N.a.g;Y(e,2,a,b,c,d)};n.jm_command_MarkRead=n.MC=function(a,b,c,d){var e=new N.a.g;Y(e,6,a,b,c,d)};n.jm_command_MarkUnread=n.NC=function(a,b,c,d){var e=new N.a.g;Y(e,7,a,b,c,d)};n.jm_command_MMCPlaybackSharedFile=n.JC=function(a,c,d){if(!a.Va&&a.J==b.b.pa){var e=new N.a.g;e.o(x.ho);e.f(c);e.H(d);a.j.send(e.i());return!0}};n.jm_command_MMCEditProfile=
n.IC=function(a,c){if(!a.Va&&a.J==b.b.pa){var d=new N.a.g;d.o(x.zi);d.f(c);a.j.send(d.i());return!0}};n.jm_command_JoinEvent=n.HC=function(a,c,d,e,g,h){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.co);f.f(c);f.H(d);f.H(e);f.f(g?1:0);g||f.H(h);a.j.send(f.i());return!0}};n.jm_command_UpdatePersonalInfo=n.Yr=function(a){var b=new N.a.g;b.o(x.uo);b.H(a.Ua);a.j.send(b.i())};n.jm_command_SpeedupClientInfo=n.kD=function(){var a;for(a=0;a<x.Ub.length;a++){var b=x.Ub[a];!b.T&&b.Wa&&(clearTimeout(b.Wa),b.Wa=
null,r(b))}};n.jm_command_TouchClientInfo=n.Xb=function(a){a.Tb&&!a.Hc&&(a.Wa&&clearTimeout(a.Wa),a.Wa=setTimeout(function(){a.Wa=null;r(a)},6E4))};n.jm_command_RemoveShareFile=n.XC=function(a,b){b=a.ec.indexOf(b);-1!=b&&(a.ec.splice(b,1),n.Xb(a))};n.jm_command_RemoveAllShareFile=n.VC=function(a,b){var c;for(c=a.ec.length-1;0<=c;c--)a.ec[c].group==b&&a.ec.splice(c,1);n.Xb(a)};n.jm_command_UpdateUserInfo=n.Le=function(a,b,c,d){var e;if(a.da){if(e=a.Bd[c])return;e=new D;a.Bd[c]=e}else{if(e=a.lb[b])return;
e=new D;a.lb[b]=e}e.status=0;e.Ta=0;e.mb=0;e.Eb=0;e.O=c;e.username=d;e.Ua=""};n.jm_command_TalkToVisitor=n.lD=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.Gi);f.f(c);f.f(d);f.H(e);a.j.send(f.i());return!0}};n.jm_command_SendFileAction=n.cD=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.mo);f.f(c);f.f(d);f.f(e);f.f(g);f.f(h);f.H(m);a.j.send(f.i());return!0}};n.jm_command_NotifyFileTransfer=n.OC=function(a,c,d,e,g,h,m,n,p){if(!a.Va&&a.J==b.b.pa){m&&(c|=2147483648);
var f=new N.a.g;f.o(x.io);f.f(c);f.f(d);f.f(g);f.H(h);f.H(e);m&&(f.H(n),f.H(p));a.j.send(f.i());return!0}};n.jm_command_Typing=n.mD=function(a,c,d,e){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;c?(f.o(x.Un),f.H(c)):(f.o(e?x.to:x.so),f.H(d));a.j.send(f.i());return!0}};n.jm_command_PgcUsernameChange=n.nh=function(a,b){var c=a.fb,d={},e;for(e in c)if(c.hasOwnProperty(e)){var f=a.fb[e];"undefined"!==typeof f.nb[b]&&(q(a,f),d[e]||(n.Ra&&n.Ra(a,e),d[e]=1))}};n.jm_command_RequestSendFile=n.bD=function(a,c,d,
e,g,h,m,n,p){if(!a.Va&&a.J==b.b.pa){var f=new N.a.g;f.o(x.no);f.f(c);f.f(d);f.f(e);f.H(g);f.H(h);m&&(f.H(n),f.H(p));a.j.send(f.i());return!0}};n.jm_command_FileSend=n.BC=function(a,c,d,e,g,h,m){if(!a.Va&&a.J==b.b.pa){var f=d.length;f=f|e<<30|(c?1:0)<<29;c=new N.a.g;c.o(x.oo);c.f(g);c.f(f);c.f(h);c.H(m);c.D(b.crypto.M(d,a.B));a.j.send(c.i());return!0}};n.jm_command_AddPerson=n.kC=function(a,b,c,d){var e=new N.a.g;e.o(b?x.Yn:x.On);e.H(b?b:c);e.H(d);a.j.send(e.i())};n.jm_command_LeaveGroup=n.ud=function(a,
b){var c=new N.a.g;c.o(x.ao);c.H(b);a.j.send(c.i())};n.jm_command_PgcRemove=n.QC=function(a,b){b=b.hh;delete a.fb[b];a.Ad--;n.Ra&&n.Ra(a,b)};n.jm_command_PgcRename=n.RC=function(a,b,c){var d=new N.a.g;d.o(x.ko);d.H(b);d.H(c);a.j.send(d.i())};n.jm_command_ForceLeaveGroup=n.DC=function(a,b,c){var d=new N.a.g;d.o(x.Sn);d.H(b);d.H(c);a.j.send(d.i())};n.jm_command_ViewProfile=n.$r=function(a){var b=new N.a.g;b.o(x.vo);b.f(0);a.j.send(b.i())};n.jm_command_Share=n.gD=function(a,c,d,e,g,h,m,n,p,q){var f=
new N.a.g;Y(f,9,a,c,d,e,!0);d=new N.a.g;d.f(m?n:0);m=21;p&&(p=b.crypto.ad(b.a.qb(q)),d.D(p),m=1);for(p=0;p<m;p++)d.o(0);f.D(b.crypto.M(d,a.B));g==a&&h?f.H(h):f.f(0);c.j.send(f.i())};n.jm_command_Unshare=n.nD=function(a,b,c,d){var e=new N.a.g;Y(e,12,a,b,c,d)};n.jm_command_ViewRecord=n.sD=function(a,b,c,d){var e=new N.a.g;Y(e,15,a,b,c,d)};n.jm_command_ChangeTitle=n.qC=function(a,c,d,e,g){var f=new N.a.g;Y(f,11,a,c,d,e,!0);f.f(g.length);g.length&&f.D(b.crypto.M(g,a.B));c.j.send(f.i())};n.jm_command_ChangeJNRPassword=
n.pC=function(a,c,d,e,g,h){var f=new N.a.g;Y(f,10,a,c,d,e,!0);f.f(g.length);g.length&&f.D(b.crypto.M(g,a.B));f.f(h.length);h.length&&f.D(b.crypto.M(h,a.B));c.j.send(f.i())};n.jm_command_ShareFileToUser=n.hD=function(a,c,d,e,g,h,m,n,p,q,r){if(c.J==b.b.pa)return a=new N.a.g,a.o(x.po),a.H(d),a.H(h),a.H(g),a.H(q),a.H(e),a.H(m),a.f(p),a.f(r),a.H(n),c.j.send(a.i()),!0};n.jm_command_ParseViewRecord=n.PC=function(a){var b=new N.a.g(a),c=b.c(12);return 0>c||128<=c||c+16>a.length?null:[c,b.h(16,c),b.c(0),b.c(8),
b.c(4)]};n.jm_command_AddContactGroup=n.jC=function(a,b){var c={},d,e=!1;for(d=0;d<a.oa.length;d++){var f=a.oa[d];if(f.m_szGroupName==b){e=!0;break}else if(b.toLowerCase()<f.m_szGroupName.toLowerCase())break}e||(a.oa.splice(d,0,c),c.m_szGroupName=b,c.contact_folded=0,c.m_pContactArray=[],n.Xb(a))};n.jm_command_RenameContactGroup=n.ZC=function(a,b,c){var d,e=!1;for(d=0;d<a.oa.length;d++){var f=a.oa[d];if(f==b){a.oa.splice(d,1);e=!0;break}}if(e){b.m_szGroupName=c;e=!1;for(d=0;d<a.oa.length;d++)if(f=
a.oa[d],f.m_szGroupName==c){e=!0;break}else if(c.toLowerCase()<f.m_szGroupName.toLowerCase())break;e||(a.oa.splice(d,0,b),n.Xb(a))}};n.jm_command_DeleteContactGroup=n.xC=function(a,b){var c,d=!1;for(c=0;c<a.oa.length;c++)if(a.oa[c]==b){a.oa.splice(c,1);d=!0;break}d&&n.Xb(a)};n.jm_command_AddContact=n.iC=function(a,b,c,d){var e={},f,g=!1;for(f=0;f<b.m_pContactArray.length;f++)if(c==b.m_pContactArray[f].id){g=!0;break}else if(c<b.m_pContactArray[f].id)break;g||(b.m_pContactArray.splice(f,0,e),e.id=
c,(b=ba(a,c))?(e.name=b.username||d,e.pm=b.Ua):(e.name=d,e.pm=""),n.Xb(a))};n.jm_command_DeleteContact=n.wC=function(a,b,c){var d,e=!1;for(d=0;d<b.m_pContactArray.length;d++)if(c==b.m_pContactArray[d].id){b.m_pContactArray.splice(d,1);e=!0;break}else if(c<b.m_pContactArray[d].id)break;e&&n.Xb(a)};n.jm_command_SetGroup=n.fD=function(a,b,c,d,e){var f=new N.a.g;Y(f,16,a,b,c,d,!0);f.H(e);b.j.send(f.i())};n.jm_command_Jeditor=n.GC=function(a,b,c,d,e){b.fc=17;var f=new N.a.g;Y(f,17,a,b,c,d,!0);f.H(e);b.j.send(f.i())};
n.jm_command_Download=n.zC=function(a,b,c,d){b.fc=18;var e=new N.a.g;Y(e,18,a,b,c,d,!0);b.j.send(e.i())};n.jm_command_Upload=n.rD=function(a,c,d){function e(){if(1E4<c.Ia&&!c.rf&&c.kc+c.Sb<d.size){var e=Math.min(d.size,c.kc+c.Ia+2E4),f=new FileReader;f.onload=function(a){c.buffer&&(c.buffer.set(c.buffer.slice(c.Ia,c.Sb)),c.buffer.set(new Uint8Array(a.target.result),c.Sb-c.Ia),c.Sb=c.Sb-c.Ia+a.target.result.byteLength,c.kc+=c.Ia,c.Ia=0,c.rf=!1)};f.onerror=function(){c.buffer&&(c.buffer=null,c.fa&&
(c.fa.terminate(),c.fa=null),n.Xd&&n.Xd(a,c,b.b.Rq))};f.readAsArrayBuffer(d.slice(c.kc+c.Sb,e));c.rf=!0}}c.fc=19;var f=new N.a.g;f.f(c.fc);f.f(d.size>>>0);f.f(d.size/4294967296>>>0);f.D(b.crypto.M(c.buffer.slice(0,74),a.B));c.Ia=74;c.j.send(f.i());c.fa=new Worker("worker/worker_interval.js");c.fa.onmessage=function(){if(a.J!=b.b.pa||!c.connected||1!=c.j.readyState)c.connected&&1==c.j.readyState&&c.j.close(),c.ob=0,c.buffer=null,c.fa&&(c.fa.terminate(),c.fa=null);else if(!c.j.bufferedAmount){var l=
b.a.A();if(n.Wd&&500<l-g){var m=(c.kc+c.Ia)/d.size*100>>>0;m!=h&&(h=m,c.ob=m,n.Wd(a,c));g=l}for(m=0;100>m;m++){if(512>c.Sb-c.Ia&&c.Sb+c.kc!=d.size){e();break}var p=Math.min(512,c.Sb-c.Ia);var q=c.buffer.subarray(c.Ia,c.Ia+p);c.Ia+=p;f.clear();f.D(b.crypto.M(q,a.B));c.j.send(f.i());if(c.Ia+c.kc==d.size){c.buffer=null;c.fa&&(c.fa.terminate(),c.fa=null);break}if(20<b.a.A()-l){e();break}}}};c.fa.postMessage({command:"set",delay:10});var g=b.a.A()-1E3,h=0};n.jm_command_WriteUserProfile=n.uD=function(a){if(a.J==
b.b.pa){var c=new N.a.g;c.o(x.zi);c.H(a.username);c.H(a.Zg);var d=a.password?a.password.length:0;c.f(d);d&&c.D(b.crypto.M(a.password,a.B));c.f(a.uf);a.j.send(c.i());return!0}};n.jm_info_GlobalPointer=n.yD=function(){return x.Br};n.jm_info_TestSameOffice=n.BD=X;n.jm_info_HaveNonContact=n.zD=function(a){if(a.da){var c=a.Bd;for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if((e.status||e.Ta)&&(e.status!=b.b.Rb||e.O==a.Qa)&&a.Qa!=e.O&&!O(a,e.O))return!0}}else for(d in c=a.lb,c)if(c.hasOwnProperty(d)&&
(e=c[d],(e.status||e.Ta)&&(e.status!=b.b.Rb||e.O==a.O)&&a.O!=e.O&&!O(a,e.O)))return!0;return!1};n.jm_info_IsContact=n.AD=O;n.jm_info_CanTargetUserAcceptInvitation=n.vD=function(a,c){return(a=ba(a,c))&&a.status!=b.b.Rb&&0!=a.status&&1<=a.mb?!0:!1};n.jm_info_CheckSelf=n.wD=C;n.jm_info_GetUserName=n.Uk=function(a,b){if(C(a,b))return a.username;var c=n.Wr(a,b);if(c)return c.username;for(c=0;c<a.oa.length;c++){var d=a.oa[c],e;for(e=0;e<d.m_pContactArray.length;e++){var f=d.m_pContactArray[e];if(f.id==
b)return f.name}}return b};n.jm_info_GetOfficeCount=n.xD=function(){return x.la.length}})(window.hmtg);
